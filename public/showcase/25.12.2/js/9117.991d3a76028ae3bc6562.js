/*! For license information please see 9117.991d3a76028ae3bc6562.js.LICENSE.txt */
"use strict";(self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[]).push([[9117],{35535:(t,e,s)=>{s.r(e),s.d(e,{OBB:()=>b});var a=s(68909);const i={c:null,u:[new a.Vector3,new a.Vector3,new a.Vector3],e:[]},r={c:null,u:[new a.Vector3,new a.Vector3,new a.Vector3],e:[]},n=[[],[],[]],o=[[],[],[]],h=[],c=new a.Vector3,l=new a.Vector3,u=new a.Vector3,f=new a.Vector3,m=new a.Vector3,S=new a.Vector3,z=new a.Matrix3,M=new a.Box3,d=new a.Matrix4,p=new a.Matrix4,y=new a.Ray;class b{constructor(t=new a.Vector3,e=new a.Vector3,s=new a.Matrix3){this.center=t,this.halfSize=e,this.rotation=s}set(t,e,s){return this.center=t,this.halfSize=e,this.rotation=s,this}copy(t){return this.center.copy(t.center),this.halfSize.copy(t.halfSize),this.rotation.copy(t.rotation),this}clone(){return(new this.constructor).copy(this)}getSize(t){return t.copy(this.halfSize).multiplyScalar(2)}clampPoint(t,e){const s=this.halfSize;f.subVectors(t,this.center),this.rotation.extractBasis(c,l,u),e.copy(this.center);const i=a.MathUtils.clamp(f.dot(c),-s.x,s.x);e.add(c.multiplyScalar(i));const r=a.MathUtils.clamp(f.dot(l),-s.y,s.y);e.add(l.multiplyScalar(r));const n=a.MathUtils.clamp(f.dot(u),-s.z,s.z);return e.add(u.multiplyScalar(n)),e}containsPoint(t){return f.subVectors(t,this.center),this.rotation.extractBasis(c,l,u),Math.abs(f.dot(c))<=this.halfSize.x&&Math.abs(f.dot(l))<=this.halfSize.y&&Math.abs(f.dot(u))<=this.halfSize.z}intersectsBox3(t){return this.intersectsOBB(x.fromBox3(t))}intersectsSphere(t){return this.clampPoint(t.center,S),S.distanceToSquared(t.center)<=t.radius*t.radius}intersectsOBB(t,e=Number.EPSILON){i.c=this.center,i.e[0]=this.halfSize.x,i.e[1]=this.halfSize.y,i.e[2]=this.halfSize.z,this.rotation.extractBasis(i.u[0],i.u[1],i.u[2]),r.c=t.center,r.e[0]=t.halfSize.x,r.e[1]=t.halfSize.y,r.e[2]=t.halfSize.z,t.rotation.extractBasis(r.u[0],r.u[1],r.u[2]);for(let t=0;t<3;t++)for(let e=0;e<3;e++)n[t][e]=i.u[t].dot(r.u[e]);f.subVectors(r.c,i.c),h[0]=f.dot(i.u[0]),h[1]=f.dot(i.u[1]),h[2]=f.dot(i.u[2]);for(let t=0;t<3;t++)for(let s=0;s<3;s++)o[t][s]=Math.abs(n[t][s])+e;let s,a;for(let t=0;t<3;t++)if(s=i.e[t],a=r.e[0]*o[t][0]+r.e[1]*o[t][1]+r.e[2]*o[t][2],Math.abs(h[t])>s+a)return!1;for(let t=0;t<3;t++)if(s=i.e[0]*o[0][t]+i.e[1]*o[1][t]+i.e[2]*o[2][t],a=r.e[t],Math.abs(h[0]*n[0][t]+h[1]*n[1][t]+h[2]*n[2][t])>s+a)return!1;return s=i.e[1]*o[2][0]+i.e[2]*o[1][0],a=r.e[1]*o[0][2]+r.e[2]*o[0][1],!(Math.abs(h[2]*n[1][0]-h[1]*n[2][0])>s+a)&&(s=i.e[1]*o[2][1]+i.e[2]*o[1][1],a=r.e[0]*o[0][2]+r.e[2]*o[0][0],!(Math.abs(h[2]*n[1][1]-h[1]*n[2][1])>s+a)&&(s=i.e[1]*o[2][2]+i.e[2]*o[1][2],a=r.e[0]*o[0][1]+r.e[1]*o[0][0],!(Math.abs(h[2]*n[1][2]-h[1]*n[2][2])>s+a)&&(s=i.e[0]*o[2][0]+i.e[2]*o[0][0],a=r.e[1]*o[1][2]+r.e[2]*o[1][1],!(Math.abs(h[0]*n[2][0]-h[2]*n[0][0])>s+a)&&(s=i.e[0]*o[2][1]+i.e[2]*o[0][1],a=r.e[0]*o[1][2]+r.e[2]*o[1][0],!(Math.abs(h[0]*n[2][1]-h[2]*n[0][1])>s+a)&&(s=i.e[0]*o[2][2]+i.e[2]*o[0][2],a=r.e[0]*o[1][1]+r.e[1]*o[1][0],!(Math.abs(h[0]*n[2][2]-h[2]*n[0][2])>s+a)&&(s=i.e[0]*o[1][0]+i.e[1]*o[0][0],a=r.e[1]*o[2][2]+r.e[2]*o[2][1],!(Math.abs(h[1]*n[0][0]-h[0]*n[1][0])>s+a)&&(s=i.e[0]*o[1][1]+i.e[1]*o[0][1],a=r.e[0]*o[2][2]+r.e[2]*o[2][0],!(Math.abs(h[1]*n[0][1]-h[0]*n[1][1])>s+a)&&(s=i.e[0]*o[1][2]+i.e[1]*o[0][2],a=r.e[0]*o[2][1]+r.e[1]*o[2][0],!(Math.abs(h[1]*n[0][2]-h[0]*n[1][2])>s+a)))))))))}intersectsPlane(t){this.rotation.extractBasis(c,l,u);const e=this.halfSize.x*Math.abs(t.normal.dot(c))+this.halfSize.y*Math.abs(t.normal.dot(l))+this.halfSize.z*Math.abs(t.normal.dot(u)),s=t.normal.dot(this.center)-t.constant;return Math.abs(s)<=e}intersectRay(t,e){return this.getSize(m),M.setFromCenterAndSize(f.set(0,0,0),m),d.setFromMatrix3(this.rotation),d.setPosition(this.center),p.copy(d).invert(),y.copy(t).applyMatrix4(p),y.intersectBox(M,e)?e.applyMatrix4(d):null}intersectsRay(t){return null!==this.intersectRay(t,f)}fromBox3(t){return t.getCenter(this.center),t.getSize(this.halfSize).multiplyScalar(.5),this.rotation.identity(),this}equals(t){return t.center.equals(this.center)&&t.halfSize.equals(this.halfSize)&&t.rotation.equals(this.rotation)}applyMatrix4(t){const e=t.elements;let s=f.set(e[0],e[1],e[2]).length();const a=f.set(e[4],e[5],e[6]).length(),i=f.set(e[8],e[9],e[10]).length();t.determinant()<0&&(s=-s),z.setFromMatrix4(t);const r=1/s,n=1/a,o=1/i;return z.elements[0]*=r,z.elements[1]*=r,z.elements[2]*=r,z.elements[3]*=n,z.elements[4]*=n,z.elements[5]*=n,z.elements[6]*=o,z.elements[7]*=o,z.elements[8]*=o,this.rotation.multiply(z),this.halfSize.x*=s,this.halfSize.y*=a,this.halfSize.z*=i,f.setFromMatrixPosition(t),this.center.add(f),this}}const x=new b},98823:(t,e,s)=>{s.d(e,{YR:()=>a});Math.PI,Math.PI;function a(t,e){return t+Math.random()*(e-t)}}}]);