/*! For license information please see showcase.js.LICENSE.txt */
(()=>{var e,t,n,i,r={86970:(e,t,n)=>{var i={"./showcase_de.yaml":[73694,3694],"./showcase_en-US.yaml":[18539,8539],"./showcase_es.yaml":[1273,1273],"./showcase_fr.yaml":[89457,9457],"./showcase_it.yaml":[556,556],"./showcase_ja.yaml":[27456,7456],"./showcase_ko.yaml":[56911,6911],"./showcase_nl.yaml":[76995,6995],"./showcase_pt.yaml":[70821,821],"./showcase_qa.yaml":[31459,1459],"./showcase_ru.yaml":[84396,4396],"./showcase_zh-CN.yaml":[10261,261],"./showcase_zh-TW.yaml":[94593,4593]};function r(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(i),r.id=86970,e.exports=r},44821:(e,t,n)=>{var i={"./cwf_de.yaml":[8645,8645],"./cwf_en-US.yaml":[42622,2622],"./cwf_es.yaml":[16078,6078],"./cwf_fr.yaml":[23446,3446],"./cwf_it.yaml":[49487,9487],"./cwf_ja.yaml":[34339,4339],"./cwf_ko.yaml":[53376,3376],"./cwf_nl.yaml":[85952,5952],"./cwf_pt.yaml":[70806,806],"./cwf_qa.yaml":[14176,4176],"./cwf_ru.yaml":[4847,4847],"./cwf_zh-CN.yaml":[51052,1052],"./cwf_zh-TW.yaml":[99300,9300]};function r(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(i),r.id=44821,e.exports=r},65380:e=>{"use strict";function t(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}e.exports=t,t.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=r/o}var s=0,a=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?s=n:a=n,n=.5*(a-s)+s;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}}},14018:(e,t)=>{"use strict";function n(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:n(o,s),time:n(l,c),"date-time":n((function(e){const t=e.split(u);return 2===t.length&&o(t[0])&&l(t[1],!0)}),d),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return h.test(e)&&p.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return f.lastIndex=0,f.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=g&&e>=m}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:v},double:{type:"number",validate:v},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(e){const t=i.exec(e);if(!t)return!1;const n=+t[1],o=+t[2],s=+t[3];return o>=1&&o<=12&&s>=1&&s<=(2===o&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:r[o])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(e,t){const n=a.exec(e);if(!n)return!1;const i=+n[1],r=+n[2],o=+n[3],s=n[5];return(i<=23&&r<=59&&o<=59||23===i&&59===r&&60===o)&&(!t||""!==s)}function c(e,t){if(!e||!t)return;const n=a.exec(e),i=a.exec(t);return n&&i?(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=i[1]+i[2]+i[3]+(i[4]||""))?1:e<t?-1:0:void 0}const u=/t|\s/i;function d(e,t){if(!e||!t)return;const[n,i]=e.split(u),[r,o]=t.split(u),a=s(n,r);return void 0!==a?a||c(i,o):void 0}const h=/\/|:/,p=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const f=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;const m=-(2**31),g=2**31-1;function v(){return!0}const y=/[^\\]\\Z/},68182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(14018),r=n(26461),o=n(99029),s=new o.Name("fullFormats"),a=new o.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return c(e,t,i.fullFormats,s),e;const[n,o]="fast"===t.mode?[i.fastFormats,a]:[i.fullFormats,s];return c(e,t.formats||i.formatNames,n,o),t.keywords&&r.default(e),e};function c(e,t,n,i){var r,s;null!==(r=(s=e.opts.code).formats)&&void 0!==r||(s.formats=o._`require("ajv-formats/dist/formats").${i}`);for(const i of t)e.addFormat(i,n[i])}l.get=(e,t="full")=>{const n=("fast"===t?i.fastFormats:i.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},26461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const i=n(63282),r=n(99029),o=r.operators,s={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},a={message:({keyword:e,schemaCode:t})=>r.str`should be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${s[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){const{gen:t,data:n,schemaCode:o,keyword:a,it:l}=e,{opts:c,self:u}=l;if(!c.validateFormats)return;const d=new i.KeywordCxt(l,u.RULES.all.format.definition,"format");function h(e){return r._`${e}.compare(${n}, ${o}) ${s[a].fail} 0`}d.$data?function(){const n=t.scopeValue("formats",{ref:u.formats,code:c.code.formats}),i=t.const("fmt",r._`${n}[${d.schemaCode}]`);e.fail$data(r.or(r._`typeof ${i} != "object"`,r._`${i} instanceof RegExp`,r._`typeof ${i}.compare != "function"`,h(i)))}():function(){const n=d.schema,i=u.formats[n];if(!i||!0===i)return;if("object"!=typeof i||i instanceof RegExp||"function"!=typeof i.compare)throw new Error(`"${a}": format "${n}" does not define "compare" function`);const o=t.scopeValue("formats",{key:n,ref:i,code:c.code.formats?r._`${c.code.formats}${r.getProperty(n)}`:void 0});e.fail$data(h(o))}()},dependencies:["format"]};t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},63282:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const i=n(4042),r=n(86144),o=n(36653),s=n(72079),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends i.default{_addVocabularies(){super._addVocabularies(),r.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=n(13558);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var p=n(34551);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},41520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class i extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=i;class r extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof i&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const n=[e[0]];let i=0;for(;i<t.length;)l(n,t[i]),n.push(e[++i]);return new r(n)}t._Code=r,t.nil=new r(""),t._=o;const s=new r("+");function a(e,...t){const n=[u(e[0])];let i=0;for(;i<t.length;)n.push(s),l(n,t[i]),n.push(s,u(e[++i]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=c(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new r(n)}function l(e,t){var n;t instanceof r?e.push(...t._items):t instanceof i?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof i||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof i?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new r(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new r(`.${e}`):o`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new r(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new r(e.toString())}},99029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const i=n(41520),r=n(57845);var o=n(41520);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=n(57845);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new i._Code(">"),GTE:new i._Code(">="),LT:new i._Code("<"),LTE:new i._Code("<="),EQ:new i._Code("==="),NEQ:new i._Code("!=="),NOT:new i._Code("!"),OR:new i._Code("||"),AND:new i._Code("&&"),ADD:new i._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?r.varKinds.var:this.varKind,i=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,e,t)),this}get names(){return this.rhs instanceof i._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof i.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=L(this.rhs,e,t),this}get names(){return k(this.lhs instanceof i.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,i){super(e,n,i),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class p extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=L(this.code,e,t),this}get names(){return this.code instanceof i._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let i=n.length;for(;i--;){const r=n[i];r.optimizeNames(e,t)||(P(e,r.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>R(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends m{}class y extends g{}y.kind="else";class E extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof E?t:t.nodes:this.nodes.length?this:new E(D(e),t instanceof E?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=L(this.condition,e,t),this}get names(){const e=super.names;return k(e,this.condition),this.else&&R(e,this.else.names),e}}E.kind="if";class S extends g{}S.kind="for";class b extends S{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=L(this.iteration,e,t),this}get names(){return R(super.names,this.iteration.names)}}class _ extends S{constructor(e,t,n,i){super(),this.varKind=e,this.name=t,this.from=n,this.to=i}render(e){const t=e.es5?r.varKinds.var:this.varKind,{name:n,from:i,to:o}=this;return`for(${t} ${n}=${i}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){const e=k(super.names,this.from);return k(e,this.to)}}class O extends S{constructor(e,t,n,i){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=L(this.iterable,e,t),this}get names(){return R(super.names,this.iterable.names)}}class T extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}T.kind="func";class A extends m{render(e){return"return "+super.render(e)}}A.kind="return";class w extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,i;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(i=this.finally)||void 0===i||i.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&R(e,this.catch.names),this.finally&&R(e,this.finally.names),e}}class N extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}N.kind="catch";class I extends g{render(e){return"finally"+super.render(e)}}I.kind="finally";function R(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function k(e,t){return t instanceof i._CodeOrName?R(e,t.names):e}function L(e,t,n){return e instanceof i.Name?o(e):(r=e)instanceof i._Code&&r._items.some((e=>e instanceof i.Name&&1===t[e.str]&&void 0!==n[e.str]))?new i._Code(e._items.reduce(((e,t)=>(t instanceof i.Name&&(t=o(t)),t instanceof i._Code?e.push(...t._items):e.push(t),e)),[])):e;var r;function o(e){const i=n[e.str];return void 0===i||1!==t[e.str]?e:(delete t[e.str],i)}}function P(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function D(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:i._`!${U(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new r.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,i){const r=this._scope.toName(t);return void 0!==n&&i&&(this._constants[r.str]=n),this._leafNode(new l(e,r,n)),r}const(e,t,n){return this._def(r.varKinds.const,e,t,n)}let(e,t,n){return this._def(r.varKinds.let,e,t,n)}var(e,t,n){return this._def(r.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==i.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[n,r]of e)t.length>1&&t.push(","),t.push(n),(n!==r||this.opts.es5)&&(t.push(":"),(0,i.addCodeArg)(t,r));return t.push("}"),new i._Code(t)}if(e,t,n){if(this._blockNode(new E(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new E(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(E,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new b(e),t)}forRange(e,t,n,i,o=(this.opts.es5?r.varKinds.var:r.varKinds.let)){const s=this._scope.toName(e);return this._for(new _(o,s,t,n),(()=>i(s)))}forOf(e,t,n,o=r.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof i.Name?t:this.var("_arr",t);return this.forRange("_i",0,i._`${e}.length`,(t=>{this.var(s,i._`${e}[${t}]`),n(s)}))}return this._for(new O("of",o,s,t),(()=>n(s)))}forIn(e,t,n,o=(this.opts.es5?r.varKinds.var:r.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,i._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new O("in",o,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(S)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new A;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(A)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const i=new w;if(this._blockNode(i),this.code(e),t){const e=this.name("e");this._currNode=i.catch=new N(e),t(e)}return n&&(this._currNode=i.finally=new I,this.code(n)),this._endBlockNode(N,I)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=i.nil,n,r){return this._blockNode(new T(e,t,n)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof E))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=D;const M=x(t.operators.AND);t.and=function(...e){return e.reduce(M)};const C=x(t.operators.OR);function x(e){return(t,n)=>t===i.nil?n:n===i.nil?t:i._`${U(t)} ${e} ${U(n)}`}function U(e){return e instanceof i.Name?e:i._`(${e})`}t.or=function(...e){return e.reduce(C)}},57845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const i=n(41520);class r extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof i.Name?e:this.name(e)}name(e){return new i.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends i.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=i._`.${new i.Name(t)}[${n}]`}}t.ValueScopeName=a;const l=i._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:i.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const i=this.toName(e),{prefix:r}=i,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[r];if(s){const e=s.get(o);if(e)return e}else s=this._values[r]=new Map;s.set(o,i);const a=this._scope[r]||(this._scope[r]=[]),l=a.length;return a[l]=t.ref,i.setValue(t,{property:r,itemIndex:l}),i}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return i._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},a){let l=i.nil;for(const c in e){const u=e[c];if(!u)continue;const d=s[c]=s[c]||new Map;u.forEach((e=>{if(d.has(e))return;d.set(e,o.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;l=i._`${l}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new r(e);l=i._`${l}${s}${this.opts._n}`}d.set(e,o.Completed)}))}return l}}},48708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const i=n(99029),r=n(94227),o=n(42023);function s(e,t){const n=e.const("err",t);e.if(i._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,i._`[${n}]`)),i._`${o.default.vErrors}.push(${n})`),e.code(i._`${o.default.errors}++`)}function a(e,t){const{gen:n,validateName:r,schemaEnv:o}=e;o.$async?n.throw(i._`new ${e.ValidationError}(${t})`):(n.assign(i._`${r}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>i.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?i.str`"${e}" keyword must be ${t} ($data)`:i.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,r,o){const{it:l}=e,{gen:u,compositeRule:d,allErrors:h}=l,p=c(e,n,r);(null!=o?o:d||h)?s(u,p):a(l,i._`[${p}]`)},t.reportExtraError=function(e,n=t.keywordError,i){const{it:r}=e,{gen:l,compositeRule:u,allErrors:d}=r;s(l,c(e,n,i)),u||d||a(r,o.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(i._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(i._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:r,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",s,o.default.errors,(s=>{e.const(l,i._`${o.default.vErrors}[${s}]`),e.if(i._`${l}.instancePath === undefined`,(()=>e.assign(i._`${l}.instancePath`,(0,i.strConcat)(o.default.instancePath,a.errorPath)))),e.assign(i._`${l}.schemaPath`,i.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(i._`${l}.schema`,n),e.assign(i._`${l}.data`,r))}))};const l={keyword:new i.Name("keyword"),schemaPath:new i.Name("schemaPath"),params:new i.Name("params"),propertyName:new i.Name("propertyName"),message:new i.Name("message"),schema:new i.Name("schema"),parentSchema:new i.Name("parentSchema")};function c(e,t,n){const{createErrors:r}=e.it;return!1===r?i._`{}`:function(e,t,n={}){const{gen:r,it:s}=e,a=[u(s,n),d(e,n)];return function(e,{params:t,message:n},r){const{keyword:s,data:a,schemaValue:c,it:u}=e,{opts:d,propertyName:h,topSchemaRef:p,schemaPath:f}=u;r.push([l.keyword,s],[l.params,"function"==typeof t?t(e):t||i._`{}`]),d.messages&&r.push([l.message,"function"==typeof n?n(e):n]);d.verbose&&r.push([l.schema,c],[l.parentSchema,i._`${p}${f}`],[o.default.data,a]);h&&r.push([l.propertyName,h])}(e,t,a),r.object(...a)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?i.str`${e}${(0,r.getErrorPath)(t,r.Type.Str)}`:e;return[o.default.instancePath,(0,i.strConcat)(o.default.instancePath,n)]}function d({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:o}){let s=o?t:i.str`${t}/${e}`;return n&&(s=i.str`${s}${(0,r.getErrorPath)(n,r.Type.Str)}`),[l.schemaPath,s]}},73835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const i=n(99029),r=n(13558),o=n(42023),s=n(66939),a=n(94227),l=n(62586);class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=h.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,d=new i.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let p;e.$async&&(p=d.scopeValue("Error",{ref:r.default,code:i._`require("ajv/dist/runtime/validation_error").default`}));const f=d.scopeName("validate");e.validateName=f;const m={gen:d,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[i.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,i.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:i.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:i._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,l.validateFunctionCode)(m),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${o.default.self}`,`${o.default.scope}`,g)(this,this.scope.get());if(this.scope.value(f,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:f,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof i.Name?void 0:e,items:t instanceof i.Name?void 0:t,dynamicProps:e instanceof i.Name,dynamicItems:t instanceof i.Name},n.source&&(n.source.evaluated=(0,i.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function d(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function h(e){for(const i of this._compilations)if(n=e,(t=i).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return i;var t,n}function p(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||f.call(this,e,t)}function f(e,t){const n=this.opts.uriResolver.parse(t),i=(0,s._getFullPath)(this.opts.uriResolver,n);let r=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&i===r)return g.call(this,n,e);const o=(0,s.normalizeId)(i),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=f.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||u.call(this,a),o===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,i=t[n];return i&&(r=(0,s.resolveUrl)(this.opts.uriResolver,r,i)),new c({schema:t,schemaId:n,root:e,baseId:r})}return g.call(this,n,a)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,n){var i;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const r=e.refs[n];if(r)return r;let o=p.call(this,e,n);if(void 0===o){const r=null===(i=e.localRefs)||void 0===i?void 0:i[n],{schemaId:s}=this.opts;r&&(o=new c({schema:r,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[n]=d.call(this,o):void 0},t.getCompilingSchema=h,t.resolveSchema=f;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:i}){var r;if("/"!==(null===(r=e.fragment)||void 0===r?void 0:r[0]))return;for(const i of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,a.unescapeFragment)(i)];if(void 0===e)return;const r="object"==typeof(n=e)&&n[this.opts.schemaId];!m.has(i)&&r&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,r))}let o;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=f.call(this,i,e)}const{schemaId:l}=this.opts;return o=o||new c({schema:n,schemaId:l,root:i,baseId:t}),o.schema!==o.root.schema?o:void 0}},42023:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={data:new i.Name("data"),valCxt:new i.Name("valCxt"),instancePath:new i.Name("instancePath"),parentData:new i.Name("parentData"),parentDataProperty:new i.Name("parentDataProperty"),rootData:new i.Name("rootData"),dynamicAnchors:new i.Name("dynamicAnchors"),vErrors:new i.Name("vErrors"),errors:new i.Name("errors"),this:new i.Name("this"),self:new i.Name("self"),scope:new i.Name("scope"),json:new i.Name("json"),jsonPos:new i.Name("jsonPos"),jsonLen:new i.Name("jsonLen"),jsonPart:new i.Name("jsonPart")};t.default=r},34551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(66939);class r extends Error{constructor(e,t,n,r){super(r||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,i.resolveUrl)(e,t,n),this.missingSchema=(0,i.normalizeId)((0,i.getFullPath)(e,this.missingRef))}}t.default=r},66939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const i=n(94227),r=n(32017),o=n(7106),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,i.eachItem)(e[n],(e=>t+=c(e))),t===1/0))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=p(t));const i=e.parse(t);return d(e,i)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const h=/#\/?$/;function p(e){return e?e.replace(h,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,n){return n=p(n),e.resolve(t,n)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:i}=this.opts,s=p(e[n]||t),a={"":s},l=u(i,s,!1),c={},d=new Set;return o(e,{allKeys:!0},((e,t,i,r)=>{if(void 0===r)return;const o=l+t;let s=a[r];function u(t){const n=this.opts.uriResolver.resolve;if(t=p(s?n(s,t):t),d.has(t))throw m(t);d.add(t);let i=this.refs[t];return"string"==typeof i&&(i=this.refs[i]),"object"==typeof i?h(e,i.schema,t):t!==p(o)&&("#"===t[0]?(h(e,c[t],t),c[t]=e):this.refs[t]=o),t}function g(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=s})),c;function h(e,t,n){if(void 0!==t&&!r(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},10396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},94227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const i=n(99029),r=n(41520);function o(e,t=e.schema){const{opts:n,self:i}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const r=i.RULES.keywords;for(const n in t)r[n]||f(e,`unknown keyword: "${n}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(o,s,a,l)=>{const c=void 0===a?s:a instanceof i.Name?(s instanceof i.Name?e(o,s,a):t(o,s,a),a):s instanceof i.Name?(t(o,a,s),s):n(s,a);return l!==i.Name||c instanceof i.Name?c:r(o,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",i._`{}`);return void 0!==t&&d(e,n,t),n}function d(e,t,n){Object.keys(n).forEach((n=>e.assign(i._`${t}${(0,i.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,r,o){if(!o){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return i._`${n}`}return i._`${e}${t}${(0,i.getProperty)(r)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(i._`${n} !== true && ${t} !== undefined`,(()=>{e.if(i._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,i._`${n} || {}`).code(i._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(i._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,i._`${n} || {}`),d(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(i._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,i._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(i._`${n} !== true`,(()=>e.assign(n,!0===t||i._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d;const h={};var p;function f(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new r._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(p=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof i.Name){const r=t===p.Num;return n?r?i._`"[" + ${e} + "]"`:i._`"['" + ${e} + "']"`:r?i._`"/" + ${e}`:i._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,i.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=f},7887:(e,t)=>{"use strict";function n(e,t){return t.rules.some((t=>i(e,t)))}function i(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},i){const r=t.RULES.types[i];return r&&!0!==r&&n(e,r)},t.shouldUseGroup=n,t.shouldUseRule=i},28727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const i=n(48708),r=n(99029),o=n(42023),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:r}=e,o={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,i.reportError)(o,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:i}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(o.default.data):(t.assign(r._`${i}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:i}=e;!1===i?(n.var(t,!1),a(e)):n.var(t,!0)}},10208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const i=n(10396),r=n(7887),o=n(48708),s=n(99029),a=n(94227);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(i.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:i,opts:o}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&(0,r.schemaHasRulesForType)(e,t[0]));if(c){const r=h(t,i,o.strictNumbers,l.Wrong);n.if(r,(()=>{a.length?function(e,t,n){const{gen:i,data:r,opts:o}=e,a=i.let("dataType",s._`typeof ${r}`),l=i.let("coerced",s._`undefined`);"array"===o.coerceTypes&&i.if(s._`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,(()=>i.assign(r,s._`${r}[0]`).assign(a,s._`typeof ${r}`).if(h(t,r,o.strictNumbers),(()=>i.assign(l,r)))));i.if(s._`${l} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===o.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void i.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(l,s._`"" + ${r}`).elseIf(s._`${r} === null`).assign(l,s._`""`);case"number":return void i.elseIf(s._`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(l,s._`+${r}`);case"integer":return void i.elseIf(s._`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(l,s._`+${r}`);case"boolean":return void i.elseIf(s._`${r} === "false" || ${r} === 0 || ${r} === null`).assign(l,!1).elseIf(s._`${r} === "true" || ${r} === 1`).assign(l,!0);case"null":return i.elseIf(s._`${r} === "" || ${r} === 0 || ${r} === false`),void i.assign(l,null);case"array":i.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(l,s._`[${r}]`)}}i.else(),f(e),i.endIf(),i.if(s._`${l} !== undefined`,(()=>{i.assign(r,l),function({gen:e,parentData:t,parentDataProperty:n},i){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,i)))}(e,l)}))}(e,t,a):f(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n,i=l.Correct){const r=i===l.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${r} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${r} ${e}`}return i===l.Correct?o:(0,s.not)(o);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function h(e,t,n,i){if(1===e.length)return d(e[0],t,n,i);let r;const o=(0,a.toHash)(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;r=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else r=s.nil;o.number&&delete o.integer;for(const e in o)r=(0,s.and)(r,d(e,t,n,i));return r}t.checkDataType=d,t.checkDataTypes=h;const p={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:n,schema:i}=e,r=(0,a.schemaRefOrVal)(e,i,"type");return{gen:t,keyword:"type",data:n,schema:i.type,schemaCode:r,schemaValue:r,parentSchema:i,params:{},it:e}}(e);(0,o.reportError)(t,p)}t.reportTypeError=f},7870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const i=n(99029),r=n(94227);function o(e,t,n){const{gen:o,compositeRule:s,data:a,opts:l}=e;if(void 0===n)return;const c=i._`${a}${(0,i.getProperty)(t)}`;if(s)return void(0,r.checkStrictMode)(e,`default is ignored for: ${c}`);let u=i._`${c} === undefined`;"empty"===l.useDefaults&&(u=i._`${u} || ${c} === null || ${c} === ""`),o.if(u,i._`${c} = ${(0,i.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:i}=e.schema;if("object"===t&&n)for(const t in n)o(e,t,n[t].default);else"array"===t&&Array.isArray(i)&&i.forEach(((t,n)=>o(e,n,t.default)))}},62586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const i=n(28727),r=n(10208),o=n(7887),s=n(10208),a=n(7870),l=n(33673),c=n(24495),u=n(99029),d=n(42023),h=n(66939),p=n(94227),f=n(48708);function m({gen:e,validateName:t,schema:n,schemaEnv:i,opts:r},o){r.code.es5?e.func(t,u._`${d.default.data}, ${d.default.valCxt}`,i.$async,(()=>{e.code(u._`"use strict"; ${g(n,r)}`),function(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,u._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,u._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,u._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,u._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,u._`""`),e.var(d.default.parentData,u._`undefined`),e.var(d.default.parentDataProperty,u._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`{}`)}))}(e,r),e.code(o)})):e.func(t,u._`${d.default.data}, ${function(e){return u._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?u._`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`}(r)}`,i.$async,(()=>e.code(g(n,r)).code(o)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function v(e,t){E(e)&&(S(e),y(e))?function(e,t){const{schema:n,gen:i,opts:r}=e;r.$comment&&n.$comment&&_(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=i.const("_errs",d.default.errors);b(e,o),i.var(t,u._`${o} === ${d.default.errors}`)}(e,t):(0,i.boolOrEmptySchema)(e,t)}function y({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function E(e){return"boolean"!=typeof e.schema}function S(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:i,self:r}=e;t.$ref&&i.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function b(e,t){if(e.opts.jtd)return O(e,[],!1,t);const n=(0,r.getSchemaTypes)(e.schema);O(e,n,!(0,r.coerceAndCheckDataType)(e,n),t)}function _({gen:e,schemaEnv:t,schema:n,errSchemaPath:i,opts:r}){const o=n.$comment;if(!0===r.$comment)e.code(u._`${d.default.self}.logger.log(${o})`);else if("function"==typeof r.$comment){const n=u.str`${i}/$comment`,r=e.scopeValue("root",{ref:t.root});e.code(u._`${d.default.self}.opts.$comment(${o}, ${n}, ${r}.schema)`)}}function O(e,t,n,i){const{gen:r,schema:a,data:l,allErrors:c,opts:h,self:f}=e,{RULES:m}=f;function g(p){(0,o.shouldUseGroup)(a,p)&&(p.type?(r.if((0,s.checkDataType)(p.type,l,h.strictNumbers)),T(e,p),1===t.length&&t[0]===p.type&&n&&(r.else(),(0,s.reportTypeError)(e)),r.endIf()):T(e,p),c||r.if(u._`${d.default.errors} === ${i||0}`))}!a.$ref||!h.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(a,m)?(h.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{w(e.dataTypes,t)||N(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const i of e.dataTypes)w(t,i)?n.push(i):t.includes("integer")&&"number"===i&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&N(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const i in n){const r=n[i];if("object"==typeof r&&(0,o.shouldUseRule)(e.schema,r)){const{type:n}=r.definition;n.length&&!n.some((e=>A(t,e)))&&N(e,`missing type "${n.join(",")}" for keyword "${i}"`)}}}(e,e.dataTypes)}(e,t),r.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):r.block((()=>R(e,"$ref",m.all.$ref.definition)))}function T(e,t){const{gen:n,schema:i,opts:{useDefaults:r}}=e;r&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,o.shouldUseRule)(i,n)&&R(e,n.keyword,n.definition,t.type)}))}function A(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function w(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function N(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){E(e)&&(S(e),y(e))?function(e){const{schema:t,opts:n,gen:i}=e;m(e,(()=>{n.$comment&&t.$comment&&_(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}(e),i.let(d.default.vErrors,null),i.let(d.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),b(e),function(e){const{gen:t,schemaEnv:n,validateName:i,ValidationError:r,opts:o}=e;n.$async?t.if(u._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(u._`new ${r}(${d.default.vErrors})`))):(t.assign(u._`${i}.errors`,d.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:n,items:i}){n instanceof u.Name&&e.assign(u._`${t}.props`,n);i instanceof u.Name&&e.assign(u._`${t}.items`,i)}(e),t.return(u._`${d.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,i.topBoolOrEmptySchema)(e)))};class I{constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",P(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:r,def:o}=this;n.if((0,u.or)(u._`${i} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(r.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:i,it:r}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,s.checkDataTypes)(e,t,r.opts.strictNumbers,s.DataType.Wrong)}`}return u.nil}(),function(){if(i.validateSchema){const n=e.scopeValue("validate$data",{ref:i.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const i={...this.it,...n,items:void 0,props:void 0};return v(i,t),i}mergeEvaluated(e,t){const{it:n,gen:i}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=p.mergeEvaluated.props(i,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=p.mergeEvaluated.items(i,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return i.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function R(e,t,n,i){const r=new I(e,n,t);"code"in n?n.code(r,i):r.$data&&n.validate?(0,l.funcKeywordCode)(r,n):"macro"in n?(0,l.macroKeywordCode)(r,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(r,n)}t.KeywordCxt=I;const k=/^\/(?:[^~]|~0|~1)*$/,L=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function P(e,{dataLevel:t,dataNames:n,dataPathArr:i}){let r,o;if(""===e)return d.default.rootData;if("/"===e[0]){if(!k.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);r=e,o=d.default.rootData}else{const s=L.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(r=s[2],"#"===r){if(a>=t)throw new Error(l("property/index",a));return i[t-a]}if(a>t)throw new Error(l("data",a));if(o=n[t-a],!r)return o}let s=o;const a=r.split("/");for(const e of a)e&&(o=u._`${o}${(0,u.getProperty)((0,p.unescapeJsonPointer)(e))}`,s=u._`${s} && ${o}`);return s;function l(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=P},33673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const i=n(99029),r=n(42023),o=n(15765),s=n(48708);function a(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,(()=>t.assign(n,i._`${r.parentData}[${r.parentDataProperty}]`)))}function l(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,i.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:r,schema:o,parentSchema:s,it:a}=e,c=t.macro.call(a.self,o,s,a),u=l(n,r,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const d=n.name("valid");e.subschema({schema:c,schemaPath:i.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:u,schema:d,parentSchema:h,$data:p,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(f,t);const m=!p&&t.compile?t.compile.call(f.self,d,h,f):t.validate,g=l(c,u,m),v=c.let("valid");function y(n=(t.async?i._`await `:i.nil)){const s=f.opts.passContext?r.default.this:r.default.self,a=!("compile"in t&&!p||!1===t.schema);c.assign(v,i._`${n}${(0,o.callValidateCode)(e,g,s,a)}`,t.modifying)}function E(e){var n;c.if((0,i.not)(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,(function(){if(!1===t.errors)y(),t.modifying&&a(e),E((()=>e.error()));else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>y(i._`await `)),(t=>c.assign(v,!1).if(i._`${t} instanceof ${f.ValidationError}`,(()=>c.assign(e,i._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=i._`${g}.errors`;return c.assign(e,null),y(i.nil),e}();t.modifying&&a(e),E((()=>function(e,t){const{gen:n}=e;n.if(i._`Array.isArray(${t})`,(()=>{n.assign(r.default.vErrors,i._`${r.default.vErrors} === null ? ${t} : ${r.default.vErrors}.concat(${t})`).assign(r.default.errors,i._`${r.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:i},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");const s=r.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(r.validateSchema){if(!r.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${i}": `+n.errorsText(r.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}},24495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const i=n(99029),r=n(94227);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:o,schemaPath:s,errSchemaPath:a,topSchemaRef:l}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===n?{schema:o,schemaPath:i._`${e.schemaPath}${(0,i.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[n],schemaPath:i._`${e.schemaPath}${(0,i.getProperty)(t)}${(0,i.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,r.escapeFragment)(n)}`}}if(void 0!==o){if(void 0===s||void 0===a||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:l,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:o,data:s,dataTypes:a,propertyName:l}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:l}=t;u(c.let("data",i._`${t.data}${(0,i.getProperty)(n)}`,!0)),e.errorPath=i.str`${s}${(0,r.getErrorPath)(n,o,l.jsPropertySyntax)}`,e.parentDataProperty=i._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==s){u(s instanceof i.Name?s:c.let("data",s,!0)),void 0!==l&&(e.propertyName=l)}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:i,createErrors:r,allErrors:o}){void 0!==i&&(e.compositeRule=i),void 0!==r&&(e.createErrors=r),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}},4042:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var i=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return i.KeywordCxt}});var r=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const o=n(13558),s=n(34551),a=n(10396),l=n(73835),c=n(99029),u=n(66939),d=n(10208),h=n(94227),p=n(63837),f=n(55944),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},E={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function S(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,g,v,y,E,S,b,_,O,T,A,w,N;const I=e.strict,R=null===(t=e.code)||void 0===t?void 0:t.optimize,k=!0===R||void 0===R?1:R||0,L=null!==(i=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==i?i:m,P=null!==(r=e.uriResolver)&&void 0!==r?r:f.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:I)||void 0===s||s,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:I)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:I)&&void 0!==u?u:"log",strictTuples:null!==(h=null!==(d=e.strictTuples)&&void 0!==d?d:I)&&void 0!==h?h:"log",strictRequired:null!==(g=null!==(p=e.strictRequired)&&void 0!==p?p:I)&&void 0!==g&&g,code:e.code?{...e.code,optimize:k,regExp:L}:{optimize:k,regExp:L},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(E=e.meta)||void 0===E||E,messages:null===(S=e.messages)||void 0===S||S,inlineRefs:null===(b=e.inlineRefs)||void 0===b||b,schemaId:null!==(_=e.schemaId)&&void 0!==_?_:"$id",addUsedSchema:null===(O=e.addUsedSchema)||void 0===O||O,validateSchema:null===(T=e.validateSchema)||void 0===T||T,validateFormats:null===(A=e.validateFormats)||void 0===A||A,unicodeRegExp:null===(w=e.unicodeRegExp)||void 0===w||w,int32range:null===(N=e.int32range)||void 0===N||N,uriResolver:P}}class b{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...S(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:t,lines:n}),this.logger=function(e){if(!1===e)return I;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),_.call(this,y,e,"NOT SUPPORTED"),_.call(this,E,e,"DEPRECATED","warn"),this._metaOpts=N.call(this),e.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&w.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),T.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let i=p;"id"===n&&(i={...p},i.id=i.$id,delete i.$id),t&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const i=n(t);return"$async"in n||(this.errors=n.errors),i}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return i.call(this,e,t);async function i(e,t){await r.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||o.call(this,n)}async function r(e){e&&!this.getSchema(e)&&await i.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),o.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await r.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,i);return this}let r;if("object"==typeof e){const{schemaId:t}=this.opts;if(r=e[t],void 0!==r&&"string"!=typeof r)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,i,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(n,e);if(!i&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return i}getSchema(e){let t;for(;"string"==typeof(t=O.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,i=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,i,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=O.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(k.call(this,n,t),!t)return(0,h.eachItem)(n,(e=>L.call(this,e))),this;D.call(this,t);const i={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,h.eachItem)(n,0===i.type.length?e=>L.call(this,e,i):e=>i.type.forEach((t=>L.call(this,e,i,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const i of t){const t=i.split("/").slice(1);let r=e;for(const e of t)r=r[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:i}=t.definition,o=r[e];i&&o&&(r[e]=C(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const i=e[n];t&&!t.test(n)||("string"==typeof i?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,t,n,i=this.opts.validateSchema,r=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,u.normalizeId)(o||n);const c=u.getSchemaRefs.call(this,e,n);return a=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:c}),this._cache.set(a.schema,a),r&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),i&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,n,i="error"){for(const r in e){const o=r;o in t&&this.logger[i](`${n}: option ${r}. ${e[o]}`)}}function O(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function T(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function A(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function w(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function N(){const e={...this.opts};for(const t of g)delete e[t];return e}t.default=b,b.ValidationError=o.default,b.MissingRefError=s.default;const I={log(){},warn(){},error(){}};const R=/^[a-z_$][a-z0-9_$:-]*$/i;function k(e,t){const{RULES:n}=this;if((0,h.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!R.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function L(e,t,n){var i;const r=null==t?void 0:t.post;if(n&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=r?o.post:o.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?P.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(i=t.implements)||void 0===i||i.forEach((e=>this.addKeyword(e)))}function P(e,t,n){const i=e.rules.findIndex((e=>e.keyword===n));i>=0?e.rules.splice(i,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function D(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=C(t)),e.validateSchema=this.compile(t,!0))}const M={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function C(e){return{anyOf:[e,M]}}},76250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(32017);i.code='require("ajv/dist/runtime/equal").default',t.default=i},53853:(e,t)=>{"use strict";function n(e){const t=e.length;let n,i=0,r=0;for(;r<t;)i++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<t&&(n=e.charCodeAt(r),56320==(64512&n)&&r++);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},55944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(46579);i.code='require("ajv/dist/runtime/uri").default',t.default=i},13558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},15457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const i=n(99029),r=n(94227),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>i.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>i._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:i}=t;Array.isArray(i)?s(e,i):(0,r.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:o,data:s,keyword:a,it:l}=e;l.items=!0;const c=n.const("len",i._`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(i._`${c} <= ${t.length}`);else if("object"==typeof o&&!(0,r.alwaysValidSchema)(l,o)){const o=n.var("valid",i._`${c} <= ${t.length}`);n.if((0,i.not)(o),(()=>function(o){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:r.Type.Num},o),l.allErrors||n.if((0,i.not)(o),(()=>n.break()))}))}(o))),e.ok(o)}}t.validateAdditionalItems=s,t.default=o},38660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(42023),s=n(94227),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>r._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:d,opts:h}=u;if(u.props=!0,"all"!==h.removeAdditional&&(0,s.alwaysValidSchema)(u,n))return;const p=(0,i.allSchemaProperties)(a.properties),f=(0,i.allSchemaProperties)(a.patternProperties);function m(e){t.code(r._`delete ${l}[${e}]`)}function g(i){if("all"===h.removeAdditional||h.removeAdditional&&!1===n)m(i);else{if(!1===n)return e.setParams({additionalProperty:i}),e.error(),void(d||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===h.removeAdditional?(v(i,n,!1),t.if((0,r.not)(n),(()=>{e.reset(),m(i)}))):(v(i,n),d||t.if((0,r.not)(n),(()=>t.break())))}}}function v(t,n,i){const r={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===i&&Object.assign(r,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(r,n)}t.forIn("key",l,(n=>{p.length||f.length?t.if(function(n){let o;if(p.length>8){const e=(0,s.schemaRefOrVal)(u,a.properties,"properties");o=(0,i.isOwnProperty)(t,e,n)}else o=p.length?(0,r.or)(...p.map((e=>r._`${n} === ${e}`))):r.nil;return f.length&&(o=(0,r.or)(o,...f.map((t=>r._`${(0,i.usePattern)(e,t)}.test(${n})`)))),(0,r.not)(o)}(n),(()=>g(n))):g(n)})),e.ok(r._`${c} === ${o.default.errors}`)}};t.default=a},15844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=t.name("valid");n.forEach(((t,n)=>{if((0,i.alwaysValidSchema)(r,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=r},16505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(15765).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=i},12661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?i.str`must contain at least ${e} valid item(s)`:i.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?i._`{minContains: ${e}}`:i._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:o,data:s,it:a}=e;let l,c;const{minContains:u,maxContains:d}=o;a.opts.next?(l=void 0===u?1:u,c=d):l=1;const h=t.const("len",i._`${s}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,r.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,r.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,r.alwaysValidSchema)(a,n)){let t=i._`${h} >= ${l}`;return void 0!==c&&(t=i._`${t} && ${h} <= ${c}`),void e.pass(t)}a.items=!0;const p=t.name("valid");function f(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(i._`${e}++`),void 0===c?t.if(i._`${e} >= ${l}`,(()=>t.assign(p,!0).break())):(t.if(i._`${e} > ${c}`,(()=>t.assign(p,!1).break())),1===l?t.assign(p,!0):t.if(i._`${e} >= ${l}`,(()=>t.assign(p,!0))))}(n)))))}function m(n,i){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:r.Type.Num,compositeRule:!0},n),i()}))}void 0===c&&1===l?m(p,(()=>t.if(p,(()=>t.break())))):0===l?(t.let(p,!0),void 0!==c&&t.if(i._`${s}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,(()=>e.reset()))}};t.default=o},83025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const i=n(99029),r=n(94227),o=n(15765);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const r=1===t?"property":"properties";return i.str`must have ${r} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:r}})=>i._`{property: ${e},
    missingProperty: ${r},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const i in e){if("__proto__"===i)continue;(Array.isArray(e[i])?t:n)[i]=e[i]}return[t,n]}(e);a(e,t),l(e,n)}};function a(e,t=e.schema){const{gen:n,data:r,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,o.propertyInData)(n,r,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?n.if(u,(()=>{for(const t of c)(0,o.checkReportMissingProp)(e,t)})):(n.if(i._`${u} && (${(0,o.checkMissingProp)(e,c,a)})`),(0,o.reportMissingProp)(e,a),n.else())}}function l(e,t=e.schema){const{gen:n,data:i,keyword:s,it:a}=e,l=n.name("valid");for(const c in t)(0,r.alwaysValidSchema)(a,t[c])||(n.if((0,o.propertyInData)(n,i,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}t.validatePropertyDeps=a,t.validateSchemaDeps=l,t.default=s},1239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>i.str`must match "${e.ifClause}" schema`,params:({params:e})=>i._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:o}=e;void 0===n.then&&void 0===n.else&&(0,r.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=s(o,"then"),l=s(o,"else");if(!a&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else a?t.if(u,d("then")):t.if((0,i.not)(u),d("else"));function d(n,r){return()=>{const o=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(o,c),r?t.assign(r,i._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,r.alwaysValidSchema)(e,n)}t.default=o},56378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15457),r=n(65354),o=n(20494),s=n(93966),a=n(12661),l=n(83025),c=n(19713),u=n(38660),d=n(40117),h=n(45333),p=n(57923),f=n(16505),m=n(96163),g=n(15844),v=n(1239),y=n(14426);t.default=function(e=!1){const t=[p.default,f.default,m.default,g.default,v.default,y.default,c.default,u.default,l.default,d.default,h.default];return e?t.push(r.default,s.default):t.push(i.default,o.default),t.push(a.default),t}},20494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const i=n(99029),r=n(94227),o=n(15765),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,r.alwaysValidSchema)(n,t)||e.ok((0,o.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:o,parentSchema:s,data:a,keyword:l,it:c}=e;!function(e){const{opts:i,errSchemaPath:o}=c,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(i.strictTuples&&!a){const e=`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,r.checkStrictMode)(c,e,i.strictTuples)}}(s),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=r.mergeEvaluated.items(o,n.length,c.items));const u=o.name("valid"),d=o.const("len",i._`${a}.length`);n.forEach(((t,n)=>{(0,r.alwaysValidSchema)(c,t)||(o.if(i._`${d} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}t.validateTuple=a,t.default=s},93966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(15765),s=n(15457),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>i.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>i._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:i}=e,{prefixItems:a}=n;i.items=!0,(0,r.alwaysValidSchema)(i,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}};t.default=a},57923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,i.alwaysValidSchema)(r,n))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=r},96163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>i._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;const a=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){a.forEach(((n,o)=>{let a;(0,r.alwaysValidSchema)(s,n)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},u),o>0&&t.if(i._`${u} && ${l}`).assign(l,!1).assign(c,i._`[${c}, ${o}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,o),a&&e.mergeEvaluated(a,i.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},45333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(94227),s=n(94227),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:l,it:c}=e,{opts:u}=c,d=(0,i.allSchemaProperties)(n),h=d.filter((e=>(0,o.alwaysValidSchema)(c,n[e])));if(0===d.length||h.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;const p=u.strictSchema&&!u.allowMatchingProperties&&l.properties,f=t.name("valid");!0===c.props||c.props instanceof r.Name||(c.props=(0,s.evaluatedPropsToName)(t,c.props));const{props:m}=c;function g(e){for(const t in p)new RegExp(e).test(t)&&(0,o.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",a,(o=>{t.if(r._`${(0,i.usePattern)(e,n)}.test(${o})`,(()=>{const i=h.includes(n);i||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:o,dataPropType:s.Type.Str},f),c.opts.unevaluated&&!0!==m?t.assign(r._`${m}[${o}]`,!0):i||c.allErrors||t.if((0,r.not)(f),(()=>t.break()))}))}))}!function(){for(const e of d)p&&g(e),c.allErrors?v(e):(t.var(f,!0),v(e),t.if(f))}()}};t.default=a},65354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(20494),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,i.validateTuple)(e,"items")};t.default=r},40117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(62586),r=n(15765),o=n(94227),s=n(38660),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new i.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,r.allSchemaProperties)(n);for(const e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,(0,o.toHash)(u),c.props));const d=u.filter((e=>!(0,o.alwaysValidSchema)(c,n[e])));if(0===d.length)return;const h=t.name("valid");for(const n of d)p(n)?f(n):(t.if((0,r.propertyInData)(t,l,n,c.opts.ownProperties)),f(n),c.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(h);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=a},19713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>i._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:o,it:s}=e;if((0,r.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",o,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,i.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},14426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,i.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=r},15765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const i=n(99029),r=n(94227),o=n(42023),s=n(94227);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:i._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return i._`${a(e)}.call(${t}, ${n})`}function c(e,t,n,r){const o=i._`${t}${(0,i.getProperty)(n)} === undefined`;return r?(0,i.or)(o,(0,i.not)(l(e,t,n))):o}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:r,it:o}=e;n.if(c(n,r,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:i._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},r,o){return(0,i.or)(...r.map((r=>(0,i.and)(c(e,t,r,n.ownProperties),i._`${o} = ${r}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=l,t.propertyInData=function(e,t,n,r){const o=i._`${t}${(0,i.getProperty)(n)} !== undefined`;return r?i._`${o} && ${l(e,t,n)}`:o},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((n=>!(0,r.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:s,errorPath:a},it:l},c,u,d){const h=d?i._`${e}, ${t}, ${r}${s}`:t,p=[[o.default.instancePath,(0,i.strConcat)(o.default.instancePath,a)],[o.default.parentData,l.parentData],[o.default.parentDataProperty,l.parentDataProperty],[o.default.rootData,o.default.rootData]];l.opts.dynamicRef&&p.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const f=i._`${h}, ${n.object(...p)}`;return u!==i.nil?i._`${c}.call(${u}, ${f})`:i._`${c}(${f})`};const d=i._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(n,r);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:i._`${"new RegExp"===o.code?d:(0,s.useFunc)(e,o)}(${n}, ${r})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(s){const l=t.const("len",i._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:o,dataProp:n,dataPropType:r.Type.Num},a),t.if((0,i.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,r.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,r)=>{const s=e.subschema({keyword:o,schemaProp:r,compositeRule:!0},l);t.assign(a,i._`${a} || ${l}`);e.mergeValidEvaluated(s,l)||t.if((0,i.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},83463:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},72128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(83463),r=n(13693),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",i.default,r.default];t.default=o},13693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const i=n(34551),r=n(15765),o=n(99029),s=n(42023),a=n(73835),l=n(94227),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:s,schemaEnv:l,validateName:c,opts:h,self:p}=r,{root:f}=l;if(("#"===n||"#/"===n)&&s===f.baseId)return function(){if(l===f)return d(e,c,l,l.$async);const n=t.scopeValue("root",{ref:f});return d(e,o._`${n}.validate`,f,f.$async)}();const m=a.resolveRef.call(p,f,s,n);if(void 0===m)throw new i.default(r.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=u(e,t);d(e,n,t,t.$async)}(m):function(i){const r=t.scopeValue("schema",!0===h.code.source?{ref:i,code:(0,o.stringify)(i)}:{ref:i}),s=t.name("valid"),a=e.subschema({schema:i,dataTypes:[],schemaPath:o.nil,topSchemaRef:r,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):o._`${n.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,n,i){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:d,opts:h}=c,p=h.passContext?s.default.this:o.nil;function f(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const i=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(i&&!i.dynamicProps)void 0!==i.props&&(c.props=l.mergeEvaluated.props(a,i.props,c.props));else{const t=a.var("props",o._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,o.Name)}if(!0!==c.items)if(i&&!i.dynamicItems)void 0!==i.items&&(c.items=l.mergeEvaluated.items(a,i.items,c.items));else{const t=a.var("items",o._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,o.Name)}}i?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(o._`await ${(0,r.callValidateCode)(e,t,p)}`),m(t),u||a.assign(n,!0)}),(e=>{a.if(o._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),f(e),u||a.assign(n,!1)})),e.ok(n)}():e.result((0,r.callValidateCode)(e,t,p),(()=>m(t)),(()=>f(t)))}t.getValidate=u,t.callRef=d,t.default=c},36653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(97652),o=n(73835),s=n(94227),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===r.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>i._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:l,it:c}=e,{oneOf:u}=l;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=a.propertyName;if("string"!=typeof d)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),p=t.const("tag",i._`${n}${(0,i.getProperty)(d)}`);function f(n){const r=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:n},r);return e.mergeEvaluated(o,i.Name),r}t.if(i._`typeof ${p} == "string"`,(()=>function(){const n=function(){var e;const t={},n=r(l);let i=!0;for(let t=0;t<u.length;t++){let l=u[t];(null==l?void 0:l.$ref)&&!(0,s.schemaHasRulesButRef)(l,c.self.RULES)&&(l=o.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null==l?void 0:l.$ref),l instanceof o.SchemaEnv&&(l=l.schema));const h=null===(e=null==l?void 0:l.properties)||void 0===e?void 0:e[d];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);i=i&&(n||r(l)),a(h,t)}if(!i)throw new Error(`discriminator: "${d}" must be required`);return t;function r({required:e}){return Array.isArray(e)&&e.includes(d)}function a(e,t){if(e.const)h(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(const n of e.enum)h(n,t)}}function h(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${d}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(i._`${p} === ${e}`),t.assign(h,f(n[e]));t.else(),e.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:d}),t.endIf()}()),(()=>e.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:d}))),e.ok(h)}};t.default=a},97652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},86144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(72128),r=n(67060),o=n(56378),s=n(97532),a=n(69857),l=[i.default,r.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=l},94737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match format "${e}"`,params:({schemaCode:e})=>i._`{format: ${e}}`},code(e,t){const{gen:n,data:r,$data:o,schema:s,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:h}=l;c.validateFormats&&(o?function(){const o=n.scopeValue("formats",{ref:h.formats,code:c.code.formats}),s=n.const("fDef",i._`${o}[${a}]`),l=n.let("fType"),u=n.let("format");n.if(i._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(l,i._`${s}.type || "string"`).assign(u,i._`${s}.validate`)),(()=>n.assign(l,i._`"string"`).assign(u,s))),e.fail$data((0,i.or)(!1===c.strictSchema?i.nil:i._`${a} && !${u}`,function(){const e=d.$async?i._`(${s}.async ? await ${u}(${r}) : ${u}(${r}))`:i._`${u}(${r})`,n=i._`(typeof ${u} == "function" ? ${e} : ${u}.test(${r}))`;return i._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const o=h.formats[s];if(!o)return void function(){if(!1===c.strictSchema)return void h.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}}();if(!0===o)return;const[a,l,p]=function(e){const t=e instanceof RegExp?(0,i.regexpCode)(e):c.code.formats?i._`${c.code.formats}${(0,i.getProperty)(s)}`:void 0,r=n.scopeValue("formats",{key:s,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,i._`${r}.validate`];return["string",e,r]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!d.$async)throw new Error("async format in sync schema");return i._`await ${p}(${r})`}return"function"==typeof l?i._`${p}(${r})`:i._`${p}.test(${r})`}())}())}};t.default=r},97532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=[n(94737).default];t.default=i},69857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},27935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(76250),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>i._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:l}=e;s||l&&"object"==typeof l?e.fail$data(i._`!${(0,r.useFunc)(t,o.default)}(${n}, ${a})`):e.fail(i._`${l} !== ${n}`)}};t.default=s},28643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(76250),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>i._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:l,it:c}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const u=a.length>=c.opts.loopEnum;let d;const h=()=>null!=d?d:d=(0,r.useFunc)(t,o.default);let p;if(u||s)p=t.let("valid"),e.block$data(p,(function(){t.assign(p,!1),t.forOf("v",l,(e=>t.if(i._`${h()}(${n}, ${e})`,(()=>t.assign(p,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",l);p=(0,i.or)(...a.map(((t,r)=>function(e,t){const r=a[t];return"object"==typeof r&&null!==r?i._`${h()}(${n}, ${e}[${t}])`:i._`${n} === ${r}`}(e,r))))}e.pass(p)}};t.default=s},67060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(75882),r=n(63439),o=n(77307),s=n(90422),a=n(34486),l=n(34003),c=n(61163),u=n(60617),d=n(27935),h=n(28643),p=[i.default,r.default,o.default,s.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,h.default];t.default=p},61163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,o="maxItems"===t?i.operators.GT:i.operators.LT;e.fail$data(i._`${n}.length ${o} ${r}`)}};t.default=r},77307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(53853),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,l="maxLength"===t?i.operators.GT:i.operators.LT,c=!1===a.opts.unicode?i._`${n}.length`:i._`${(0,r.useFunc)(e.gen,o.default)}(${n})`;e.fail$data(i._`${c} ${l} ${s}`)}};t.default=s},75882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=i.operators,o={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},s={message:({keyword:e,schemaCode:t})=>i.str`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>i._`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data(i._`${n} ${o[t].fail} ${r} || isNaN(${n})`)}};t.default=a},34486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,o="maxProperties"===t?i.operators.GT:i.operators.LT;e.fail$data(i._`Object.keys(${n}).length ${o} ${r}`)}};t.default=r},63439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>i.str`must be multiple of ${e}`,params:({schemaCode:e})=>i._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:r,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),l=s?i._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:i._`${a} !== parseInt(${a})`;e.fail$data(i._`(${r} === 0 || (${a} = ${n}/${r}, ${l}))`)}};t.default=r},90422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match pattern "${e}"`,params:({schemaCode:e})=>r._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:o,schemaCode:s,it:a}=e,l=a.opts.unicodeRegExp?"u":"",c=n?r._`(new RegExp(${s}, ${l}))`:(0,i.usePattern)(e,o);e.fail$data(r._`!${c}.test(${t})`)}};t.default=o},34003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(94227),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>r.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>r._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const d=n.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(r.nil,h);else for(const t of n)(0,i.checkReportMissingProp)(e,t)}():function(){const o=t.let("missing");if(d||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(o,(0,i.propertyInData)(t,a,n,u.ownProperties)),t.if((0,r.not)(o),(()=>{e.error(),t.break()}))}),r.nil)}(o,n))),e.ok(n)}else t.if((0,i.checkMissingProp)(e,n,o)),(0,i.reportMissingProp)(e,o),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:i}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!i.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,o.checkStrictMode)(c,t,c.opts.strictRequired)}}function h(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,i.noPropertyInData)(t,a,n,u.ownProperties),(()=>e.error()))}))}}};t.default=s},60617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(10208),r=n(99029),o=n(94227),s=n(76250),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>r.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>r._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:l,parentSchema:c,schemaCode:u,it:d}=e;if(!a&&!l)return;const h=t.let("valid"),p=c.items?(0,i.getSchemaTypes)(c.items):[];function f(o,s){const a=t.name("item"),l=(0,i.checkDataTypes)(p,a,d.opts.strictNumbers,i.DataType.Wrong),c=t.const("indices",r._`{}`);t.for(r._`;${o}--;`,(()=>{t.let(a,r._`${n}[${o}]`),t.if(l,r._`continue`),p.length>1&&t.if(r._`typeof ${a} == "string"`,r._`${a} += "_"`),t.if(r._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(s,r._`${c}[${a}]`),e.error(),t.assign(h,!1).break()})).code(r._`${c}[${a}] = ${o}`)}))}function m(i,a){const l=(0,o.useFunc)(t,s.default),c=t.name("outer");t.label(c).for(r._`;${i}--;`,(()=>t.for(r._`${a} = ${i}; ${a}--;`,(()=>t.if(r._`${l}(${n}[${i}], ${n}[${a}])`,(()=>{e.error(),t.assign(h,!1).break(c)}))))))}e.block$data(h,(function(){const i=t.let("i",r._`${n}.length`),o=t.let("j");e.setParams({i,j:o}),t.assign(h,!0),t.if(r._`${i} > 1`,(()=>(p.length>0&&!p.some((e=>"object"===e||"array"===e))?f:m)(i,o)))}),r._`${u} === false`),e.ok(h)}};t.default=a},81519:(e,t,n)=>{"use strict";n.d(t,{u:()=>v});var i=n(96540),r=n(92637),o=n(32485),s=n.n(o),a=n(9139),l=n(7478);class c extends l.QB{constructor(e){super(),this.open=e}}var u=n(28422),d=n(77570),h=n(8647),p=n(74848);const f=new a.Vy("alert-notification");class m extends i.Component{static contextType=(()=>d.B)();alertTimer;throttledMessages=(()=>new Map)();static defaultProps=(()=>({type:h.v.INFO,show:!1,timeout:5,throttle:0}))();constructor(e){super(e),this.state={open:!1}}componentDidMount(){this.update()}componentWillUnmount(){this.state.open&&this.props.messageBus.broadcast(new c(!1))}UNSAFE_componentWillReceiveProps(e){this.update(e)}componentDidUpdate(e,t){this.state.open!==t.open&&this.props.messageBus.broadcast(new c(this.state.open))}onClose=()=>{window.clearTimeout(this.alertTimer),this.setState({open:!1})};update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;const{show:t,timeout:n,message:i,throttle:r,type:o}=e,{analytics:s}=this.context;if(t){if(r>0){if(this.throttledMessages.has(i)&&this.throttledMessages.get(i)>Date.now())return void f.debug(`Suppressed alert dialog due to message throttling: ${i}`);this.throttledMessages.set(i,Date.now()+1e3*r)}window.clearTimeout(this.alertTimer),this.setState({open:!0}),n>0&&(this.alertTimer=window.setTimeout(this.onClose,1e3*n)),s&&s.track("alert_gui",{alert_action:"show",alert_type:o,alert_message:i})}}render(){const{title:e,message:t,type:n}=this.props,{open:i}=this.state,r={active:i,[`notification-${n}`]:!0};return(0,p.jsxs)("aside",{className:s()("alert-notification",r),children:[(0,p.jsxs)("div",{className:"notification-body",children:[e&&(0,p.jsx)("h3",{className:"notification-title",children:e}),(0,p.jsx)("p",{className:"notification-text",children:t})]}),i&&(0,p.jsx)(u.J,{theme:"dark",tooltip:"",onClose:this.onClose})]})}}var g=n(80610);class v extends i.Component{static contextType=(()=>d.B)();bindings=[];constructor(e){super(e),this.state={guiError:!1,errorMessagePhraseKey:""}}componentDidMount(){const{commandBinder:e}=this.context;this.bindings.push(e.addBinding(r.P,(async e=>{this.showErrorMessage(e.messagePhraseKey,e.options)})))}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}componentDidUpdate(e,t){const{guiError:n}=this.state;n&&this.setState({guiError:!1})}showErrorMessage(e,t){this.setState({guiError:!0,errorMessagePhraseKey:e,errorOptions:t})}render(){const{messageBus:e,locale:t}=this.context,{guiError:n,errorMessagePhraseKey:i,errorOptions:r}=this.state;let o=i&&t.t(i);const{error:s}=r||{};return s&&(0,g.Ue)(s)&&(o=`${o} (${s.code})`),(0,p.jsx)("div",{className:"error-bar",children:(0,p.jsx)(m,{messageBus:e,show:n,message:o,...r})})}}},23863:(e,t,n)=>{"use strict";n.d(t,{E:()=>d});var i=n(96540),r=n(32485),o=n.n(r),s=n(40936),a=n(74848);const l=55,c=40,u=10;function d(e){let{className:t,outerLeft:n,children:r,outerRight:d,small:h=!1,wrapperClassName:p}=e;const f=(0,i.useRef)(null);(0,s.A)({ref:f});let m=!!n!=!!d;if(m&&f.current){const e=f.current.offsetWidth,t=f.current.children[1],n=h?c:l;t.offsetWidth+2*n+(2+u)>e&&(m=!1)}const g=o()("action-bar",t,{"fill-outer-space":m}),v=o()("action-bar-outer","action-bar-outer-left",{"action-bar-outer-large":!h}),y=o()("action-bar-outer","action-bar-outer-right",{"action-bar-outer-large":!h});return(0,a.jsx)("div",{className:o()("overlay-action-bar",p),children:(0,a.jsxs)("div",{ref:f,className:g,children:[(0,a.jsx)("div",{className:v,children:n}),(0,a.jsx)("div",{className:"action-bar-cta",children:r}),(0,a.jsx)("div",{className:y,children:d})]})})}},37887:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var i=n(96556),r=n(74848);function o(){const{setFullViewOverlayContainer:e}=(0,i.OB)();return(0,r.jsx)("div",{className:"full-view-tool-portal-container",id:i.Cz.FULL_VIEW_OVERLAY_PORTAL,ref:e})}},96556:(e,t,n)=>{"use strict";n.d(t,{Cz:()=>a,EG:()=>h,OB:()=>d,s6:()=>u});var i=n(96540),r=n(40961),o=n(84021),s=n(74848);let a=function(e){return e.BAR_PORTAL="tools-portal-bar",e.VIEW_OVERLAY_PORTAL="tools-portal-view-overlay",e.FULL_VIEW_OVERLAY_PORTAL="tools-portal-full-view-overlay",e.RIGHT_PANEL_PORTAL="tools-portal-right-panel",e.LEFT_PANEL_PORTAL="tools-portal-left-panel",e}({});const l=(0,i.createContext)(null),c=(0,i.createContext)(null);function u(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[a,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[f,m]=(0,i.useState)(null),[g,v]=(0,i.useState)(null),[y,E]=(0,i.useState)(null),S=(0,o.Q)(null),b={setBarContainer:r,setRightPanelContainer:u,setLeftPanelContainer:h,setTopUIContainer:m,setViewOverlayContainer:v,setFullViewOverlayContainer:E},_={createBar:(0,i.useCallback)(((e,t)=>p(n,e,t)),[n]),createPageOverlay:(0,i.useCallback)(((e,t)=>p(S,e,t)),[S]),createRightPanel:(0,i.useCallback)(((e,t)=>p(a,e,t)),[a]),createLeftPanel:(0,i.useCallback)(((e,t)=>p(d,e,t)),[d]),createTopUI:(0,i.useCallback)(((e,t)=>p(f,e,t)),[f]),createViewOverlay:(0,i.useCallback)(((e,t)=>p(g,e,t)),[g]),createFullViewOverlay:(0,i.useCallback)(((e,t)=>p(y,e,t)),[y])};return(0,s.jsx)(l.Provider,{value:b,children:(0,s.jsx)(c.Provider,{value:_,children:t})})}function d(){const e=(0,i.useContext)(l);if(!e)throw new Error("Use ToolsPortalsProvider to create an IToolsPortalSetup Context ");return e}function h(){const e=(0,i.useContext)(c);if(!e)throw new Error("Use ToolsPortalsProvider to create an IToolsPortals Context ");return e}function p(e,t,n){return e?(0,r.createPortal)((0,s.jsx)(i.Suspense,{name:n||void 0,children:t}),e,n):null}},2964:(e,t,n)=>{"use strict";n.d(t,{o:()=>De});var i=n(96540),r=n(90087),o=n(87635),s=n(5262),a=n(50098),l=n(87965),c=n(27200),u=n(81088),d=n(22213),h=n(41535),p=n(14614),f=n(86e3),m=n(56208);function g(){const e=(0,s.i)(m.Q$.Measurements,!0);return(0,f.F)()!==p.lg.SHOWCASE||e}var v=n(52030),y=n(43718),E=n(99325);var S=n(87805),b=n(28454);const _=(0,S.u)(b.s,"phase",h.hb.CLOSED);var O=n(89395),T=n(95846);function A(){const e=(0,O.E)();return(0,T.B)(e||"")}var w=n(95221);const N=(0,S.u)(b.s,"pressProgress",-1);var I=n(23339),R=n(26348);var k=n(31201);const L={addEnabled:{[h.hb.CREATING]:!0,[h.hb.CONFIRMING_POINT]:!0},deleteVisible:{[h.hb.IDLE]:!0,[h.hb.CREATING]:!0,[h.hb.CREATING_NEXT_POINT]:!0}},P=(h.hb.CREATING,h.hb.CONFIRMING_POINT,{[h.hb.IDLE]:!0,[h.hb.CREATING]:!0,[h.hb.CREATING_NEXT_POINT]:!0});var D=n(32485),M=n.n(D),C=n(74848);function x(e){let{title:t,content:n,classNames:i,onContainerRef:r}=e;const o=M()("mp-nova-card",i);return(0,C.jsxs)("div",{className:o,ref:r,children:[(0,C.jsx)("div",{className:"mp-nova-card-title",children:t}),(0,C.jsx)("div",{className:"mp-nova-card-content",children:n})]})}var U=n(56147),F=n(80855),H=n(39869);function G(e){let{narrowLayout:t,...n}=e;return t?(0,C.jsx)(W,{...n}):(0,C.jsx)(j,{...n})}const{MEASUREMENTS:B}=U.A.WORKSHOP,V={size:"medium",placement:"bottom-start",className:"gross-area-tooltip"};function j(e){let{target:t}=e;const n=(0,H.Y)().t(B.GROSS_AREA_TOOLTIP_MESSAGE);return(0,C.jsx)(F.m,{title:n,offset:[-14,34],target:t,trigger:"hover",...V})}function W(e){let{target:t}=e;const n=(0,H.Y)(),[r,o]=(0,i.useState)(!1),s=n.t(B.GROSS_AREA_TOOLTIP_MESSAGE);return(0,i.useEffect)((()=>{if(!t)return;const e=new AbortController;return t.addEventListener("click",(()=>o((e=>!e))),{signal:e.signal}),()=>e.abort()}),[t]),r?(0,C.jsx)(F.m,{sticky:!0,title:s,offset:[-6,24],target:t,trigger:"static",...V}):null}var z=n(95541);function $(e){let{grossArea:t,noTooltip:n=!1}=e;const r=(0,z.H)(),o=(0,i.useRef)(null);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{ref:o,className:M()("gross-area-info",{clickable:!n}),children:t}),n?null:(0,C.jsx)(G,{target:o.current,narrowLayout:r})]})}var K=n(51469);const{UNITS_DISPLAY:Y}=U.A;var q=n(98236),Q=n(8694);const X=(0,q.v_)(Q.y);var J=n(39833),Z=n(2993),ee=n(11180),te=n(30169);const{TRIM:ne}=U.A.WORKSHOP;function ie(){const e=(0,H.Y)(),t=(0,J.X)(),n=(0,K.N)(),r=(0,ee.x)(),s=function(){const e=X(),[t,n]=(0,i.useState)((null==e?void 0:e.currentRoom)||null);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.currentRoom)}const i=e.makeCurrentRoomChangeSubscription(t);return t(),()=>i.cancel()}),[e]),t}(),a={formatAreaValue:!0,floorId:t?t.id:null};(0,Z.vy)(r)&&s&&(a.roomId=s.id);const l=function({floorId:e,roomId:t,formatAreaValue:n=!1}){var i;const r=(0,H.Y)(),s=(0,o.J)(),a=(0,K.N)(),l={[I.t.METRIC]:e=>`${e} ${r.t(Y.SQUARE_METERS)}`,[I.t.IMPERIAL]:e=>`${e} ${r.t(Y.SQUARE_FEET)}`}[s],c=null!==(i=t?null==a?void 0:a.getRoomArea(t,s):null==a?void 0:a.getGrossFloorArea(e,s))&&void 0!==i?i:0;return n?l(c):c.toString()}(a);let c=e.t(ne.ALL_FLOORS);return(0,Z.vy)(r)&&s?c=(0,te.Ay)(s.id,e,n):t&&(c=t.name),(0,C.jsx)("div",{className:"measurements-gross-area",children:(0,C.jsx)(x,{title:c,content:(0,C.jsx)($,{grossArea:l,noTooltip:(0,Z.vy)(r)&&!!s})})})}var re=n(98159),oe=n(8774),se=n(5320),ae=n(19389),le=n(48270),ce=n(24478),ue=n(82208),de=n(23863);const he="Measurement-Help",pe="measurement-mode-help";var fe=n(38731);function me(e){let{touchDevice:t,unaligned:n,phase:o,confirming:s,selectedGroup:a}=e;const l=(0,fe.B)(),c=(0,r.L)(),u=(0,i.useRef)(null),d=(0,H.Y)();function p(){u.current&&u.current.dismissNudge()}const f=o===h.hb.CREATING&&(!a||0===a.count),m=o===h.hb.CREATING_NEXT_POINT&&!!a&&2===a.count,g=!s&&(f||m),v=o===h.hb.EDITING,y=g||s,E=n||v;let S=ce.R.ADD,b=d.t(U.A.MEASUREMENT_ADD_LABEL);s?(S=ce.R.CONFIRM,b=d.t(U.A.MEASUREMENT_SAVE_LABEL)):g&&(S=ce.R.CANCEL,b=d.t(U.A.MEASUREMENT_CANCEL_LABEL));const _=a&&S!==ce.R.CANCEL&&(t?!!L.deleteVisible[o]:!!P[o]),O=d.t(U.A.MEASUREMENT_START_ADDING),T=l,A=_?(0,C.jsx)(ae.$,{className:"action-button-outer",icon:"delete",variant:le.A.FAB,theme:"overlay",onClick:e=>{p(),e.stopPropagation(),c.issueCommand(new re.SH)}}):void 0;return(0,C.jsx)(de.E,{outerRight:A,children:(0,C.jsx)(ue.A,{ref:u,disabled:E,addIcon:S,ariaLabel:b,ariaDescribedBy:he,allowLayerChange:y,onChangeLayer:()=>{p()},nudgeDisabled:T,nudgeMessage:O,nudgeSessionKey:"measurement-mode-add-tooltip",onClick:e=>{p(),e.stopPropagation(),o===h.hb.IDLE?c.issueCommand(new oe.X):c.issueCommand(new se.R)}})})}var ge=n(50747);const ve=n(8241);function ye(e){const{touchDevice:t,phase:n,groupCount:r}=e,o=(0,ge.F)(),a=(0,H.Y)(),l=(0,s.i)(pe,!1),[c,u]=(0,i.useState)(!1);if((0,i.useEffect)((()=>()=>{c&&o.setSetting(pe,!0)}),[c,o]),l)return null;const d=a.t(U.A.MEASUREMENT_HELP_CLICK_ANYWHERE),p=a.t(U.A.MEASUREMENT_HELP_ESCAPE),f=a.t(U.A.MEASUREMENT_HELP_PRESS_START),m=a.t(U.A.MEASUREMENT_HELP_DRAG_EDIT),g=a.t(U.A.MEASUREMENT_HELP_PRESS_END);let v,y,E;if(t)switch(n){case h.hb.CREATING:v=(0,C.jsx)("div",{className:"icon icon-press-hold"}),y=f;break;case h.hb.CREATING_NEXT_POINT:v=(0,C.jsx)("div",{className:"icon icon-drag-edit"}),y=g,c||u(!0);break;case h.hb.EDITING:case h.hb.POINT_PLACED:v=(0,C.jsx)("div",{className:"icon icon-finger-drag"}),y=m;break;default:return null}else switch(n){case h.hb.CREATING:v=(0,C.jsx)("div",{className:"icon icon-draw-lines"}),y=d;break;case h.hb.CREATING_NEXT_POINT:r>=3&&(v=(0,C.jsx)("div",{className:"escape-key",children:(0,C.jsx)("img",{src:ve})}),y=p,E="escape-message",c||u(!0));break;default:return null}return(0,C.jsxs)("div",{className:"overlay-message",children:[v,y&&(0,C.jsx)("span",{id:he,className:M()("message",E),children:y})]})}var Ee=n(53137);function Se(){const e=(0,r.L)(),t=(0,o.J)(),n=(0,s.i)(l.Y.MeasurementContinuousLines,!1),m=g(),S=function(){const e=(0,f.F)(),t=(0,y.v)(),{roomDimensionsVisible:n}=(0,E.W)(),i=(0,s.i)(v.AU,!1);return e===p.lg.SHOWCASE&&i&&n&&t}(),b=_(),O=A(),T=(0,i.useMemo)((()=>(0,c.C8)()),[]),P=function(){var e;const t=(0,w.g)(),[n,r]=(0,i.useState)(null!==(e=null==t?void 0:t.pointPosition)&&void 0!==e?e:null);return(0,i.useEffect)((()=>{if(!t)return()=>{};function e(){t&&r(t.pointPosition)}const n=t.onPointPositionChanged(e);return e(),()=>n.cancel()}),[t]),n}(),D=N(),M=function(){const e=A(),t=(0,s.i)(l.Y.MeasurementContinuousLines,!1),n=(null==e?void 0:e.count)||0;return t?n>2:2===n}(),x=(0,a.f)(),U=!!O&&(M&&(n?b===h.hb.CREATING_NEXT_POINT:b===h.hb.CREATING));(0,i.useEffect)((()=>(b===h.hb.CLOSED&&e.issueCommand(new u.X6(d.a.MEASUREMENT_HELP,!1)),()=>{})),[e,b]);const F=L.addEnabled[b],H=O?.info.text?` ${O.info.text}`:"",G=O?`${((e,t)=>{if(t===I.t.METRIC)return`${e.toFixed(2)}m`;const{feet:n,inches:i}=(0,R.A4)(e);return n>0?`${n}' ${i}"`:`${i}"`})(O.length,t)} ${H}`:void 0;return(0,C.jsxs)("div",{className:"overlay grid-overlay measurements-overlay",children:[O&&(0,C.jsx)(Ee.L,{children:G}),(0,C.jsx)(ye,{phase:b,touchDevice:T,groupCount:O?.count??0}),F&&(0,C.jsx)(k.z,{progress:D,screenPosition:P}),S?(0,C.jsx)(ie,{}):null,m&&(0,C.jsx)(me,{unaligned:x,phase:b,touchDevice:T,selectedGroup:O,confirming:U})]})}var be=n(68419),_e=n(17084),Oe=n(73566),Te=n(68375);function Ae(){const e=(0,Te.s)(),t=(0,r.L)(),n=(0,H.Y)(),o=(0,be.t)(),s=_(),a=o===d.a.MEASUREMENT_HELP,l=(0,i.useCallback)((()=>{t.issueCommand(new u.X6(d.a.MEASUREMENT_HELP,!1))}),[t]);(0,i.useEffect)((()=>(s===h.hb.CLOSED&&l(),()=>{})),[l,s]);const c=n.t(U.A.HELP),p=n.t(U.A.CLOSE),f=(0,C.jsx)(ae.$,{className:"measurement-top-ui-button",variant:le.A.FAB,theme:"overlay",icon:"help",active:a,onClick:n=>{n.stopPropagation(),a||e.trackToolGuiEvent("measurements","measure_mode_help_clicked"),t.issueCommand(new u.X6(d.a.MEASUREMENT_HELP,!a))},ariaLabel:c,tooltip:!a&&c||void 0,tooltipOptions:{placement:"bottom"}},"measurement-help"),m=(0,C.jsx)(ae.$,{className:"measurement-top-ui-button",icon:"close",variant:le.A.FAB,theme:"overlay",tooltip:p,tooltipOptions:{placement:"bottom"},onClick:async e=>{e&&e.stopPropagation(),l(),await t.issueCommand(new _e.yU(Oe.S0.MEASUREMENTS,!1))}},"measurement-close");return(0,C.jsxs)("div",{className:"measurement-top-ui-button-container",children:[f,m]})}var we=n(4933),Ne=n(78835),Ie=n(28479);const Re=e=>{let{id:t,name:n,value:i,checked:r,enabled:o,onChange:s,children:a}=e;const l=!o;return(0,C.jsxs)("div",{className:M()("radio-element","radio-button",{disabled:l}),children:[(0,C.jsx)("input",{type:"radio",id:t,name:n,value:i,checked:r,onChange:e=>{s(e)}}),(0,C.jsx)("label",{className:"radio-button-label",htmlFor:t,children:a})]})};function ke(){const e=(0,ge.F)(),t=(0,Te.s)(),n=(0,H.Y)(),i=(0,o.J)(),r=(0,Ie.L)(),s=n=>{n.stopPropagation();const o=i===I.t.IMPERIAL?I.t.METRIC:I.t.IMPERIAL;t.trackGuiEvent(`units_click_${o}`,{tool:r}),e.setLocalStorageSetting(l.Y.UnitType,o)},a=n.t(U.A.MEASUREMENT_UNITS),c=n.t(U.A.MEASUREMENT_IMPERIAL),u=n.t(U.A.MEASUREMENT_METRIC),d=i===I.t.METRIC;return(0,C.jsxs)("div",{className:"settings-toggle units-setting",children:[(0,C.jsx)("div",{className:"settings-label",children:a}),(0,C.jsxs)("div",{className:"radio-group radio-buttons",children:[(0,C.jsx)(Re,{name:"unit",value:I.t.IMPERIAL,id:"unit-imperial",enabled:!0,checked:!d,onChange:s,children:c}),(0,C.jsx)(Re,{name:"unit",value:I.t.METRIC,id:"unit-metric",enabled:!0,checked:d,onChange:s,children:u})]})]})}function Le(){const e=(0,ge.F)(),t=(0,H.Y)(),n=(0,s.i)(l.Y.MeasurementSnapping,!1),r=(0,s.i)(l.Y.MeasurementContinuousLines,!1),o=g(),a=(0,i.useCallback)((()=>{e.setLocalStorageSetting(l.Y.MeasurementSnapping,!n)}),[e,n]),c=(0,i.useCallback)((()=>{e.setLocalStorageSetting(l.Y.MeasurementContinuousLines,!r)}),[e,r]),u=t.t(U.A.MEASUREMENT_CONTINUOUS_LINES),d=t.t(U.A.MEASUREMENT_SNAPPING),h=t.t(U.A.TOOLS.MEASUREMENTS_SETTINGS);return(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"floorplan-overlay-title",children:h}),(0,C.jsxs)(we.t,{className:"floorplan-overlay-tooltip",children:[o&&(0,C.jsx)(Ne.A,{label:d,onToggle:a,enabled:!0,toggled:n})," ",o&&(0,C.jsx)(Ne.A,{label:u,onToggle:c,enabled:!0,toggled:r}),(0,C.jsx)(ke,{})]})]})}var Pe=n(16700);class De{renderShowcaseSettingsPanel=()=>(0,C.jsx)(Le,{});renderActive=e=>{let{createViewOverlay:t,createTopUI:n}=e;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(Pe.y,{theme:Pe.cD.NOVA,children:[t((0,C.jsx)(Se,{})),n((0,C.jsx)(Ae,{}))]})})}}},53137:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var i=n(32485),r=n.n(i),o=n(74848);function s(e){let{children:t,className:n}=e;return(0,o.jsx)("div",{className:r()("overlay-top-center",n),children:(0,o.jsx)("div",{className:"overlay-info",children:t})})}},68965:(e,t,n)=>{"use strict";n.d(t,{t:()=>F});var i=n(39869),r=n(5262),o=n(56147),s=n(96540),a=n(49812);var l=n(35404),c=n(73566),u=n(56208),d=n(26482),h=n(77570),p=n(77897),f=n(69485),m=n(12103),g=n(68375),v=n(3645),y=n(41616),E=n(74848);const{SUBSCRIBER_PROMPT:S}=o.A.SHOWCASE,b=e=>{e.preventDefault()},_=()=>{const e=(0,g.s)(),t=(0,i.Y)(),[n,r]=(0,s.useState)(!0),o=(0,y.J)(),a=o?.logoBlack,l=(0,s.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_b_banner_click"),window.open(v.oZ,"_blank")}),[e]);return(0,s.useEffect)((()=>(n&&(e.trackGuiEvent("subscriber_prompt_b_banner_viewed"),r(!1)),()=>{})),[e,n]),(0,E.jsxs)("div",{className:"subscriber-prompt-banner",onClick:l,children:[(0,E.jsx)("img",{className:"matterport-logo",alt:"Matterport",src:a}),(0,E.jsx)("a",{className:"link",target:"_blank",onClick:b,href:v.oZ,children:t.t(S.BANNER_CTA_LINK_TEXT)})]})};var O=n(38064),T=n(69340),A=n(8323);const w=(0,O.c)("isSubscriberBannerVisible",(()=>{const e=(0,T.l)();return(0,A.E)().bannerEnabled&&e}));var N=n(87399),I=n(95143),R=n(39905);const{SUMMARY:k}=o.A.SHOWCASE,L=m._8/1.6,P=new R.r({});class D extends s.Component{static contextType=(()=>h.B)();constructor(e){super(e),this.state={thumbnail:void 0}}componentDidMount(){const{market:e}=this.context.engine;e.waitForData(d.G).then((e=>{e.thumb&&e.thumb.get().then((e=>{try{this.setState({thumbnail:this.getImageURL(e)})}catch{this.setState({thumbnail:void 0})}}))}))}getImageURL=e=>{const t=new URL(e);return t.searchParams.set("width",String(m._8)),t.searchParams.delete("height"),t.searchParams.delete("fit"),t.searchParams.set("crop","16:10"),t.searchParams.set("dpr",String(window.devicePixelRatio)),t.href};onExternalLinkClicked=e=>{this.context.analytics.track("showcase_share_origin_link_clicked")};getFilteredValue(e,t,n,i){return!this.context.settings.tryGetSetting(t,n)||i&&!this.props.brandingEnabled?"":e}render(){const{modelDetails:e,showExternalUrl:t,isSubscriberBannerVisible:n}=this.props,{thumbnail:i}=this.state,{locale:r}=this.context,{name:s,presentedBy:a,summary:l,description:c,formattedAddress:d,contact:h,externalUrl:g}=e,v=t?g:"",y=this.getFilteredValue(s,u.Q$.DetailsModelName,!0,!1),S=this.getFilteredValue(d,u.Q$.DetailsAddress,!1,!1),b=this.getFilteredValue(l,u.Q$.DetailsSummary,!1,!1),O=this.getFilteredValue(c,u.Q$.DetailsSummary,!1,!1),T=this.getFilteredValue(a,u.Q$.PresentedBy,!1,!0),A=this.getFilteredValue(h.name,u.Q$.DetailsName,!1,!0),w=this.getFilteredValue(h.email,u.Q$.DetailsEmail,!1,!0),R=this.getFilteredValue(h.phone,u.Q$.DetailsPhone,!1,!0),D=this.getFilteredValue(h.formattedPhone,u.Q$.DetailsPhone,!1,!0),M=D||R;return(0,E.jsx)("div",{className:"summary-content",children:(0,E.jsxs)(f.A,{thumbScrollingOnly:!0,direction:p.OP.vertical,children:[i?(0,E.jsx)("img",{className:"summary-image",width:m._8,height:L,src:i,alt:`Photo of "${y}"`}):null,n&&(0,E.jsx)(_,{}),(0,E.jsxs)("div",{className:"summary-text-content",children:[y&&(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"section-header",children:r.t(k.LABEL_LOCATION)}),(0,E.jsx)("div",{className:"location",children:y})]}),S&&(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"section-header",children:r.t(k.LABEL_ADDRESS)}),(0,E.jsx)("div",{className:"section-body",children:S})]}),T&&(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"section-header",children:this.context.locale.t(o.A.PRESENTED_BY)}),(0,E.jsx)("div",{className:"section-body",children:T})]}),(A||R||w)&&(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"section-header",children:r.t(k.LABEL_CONTACT)}),(0,E.jsxs)("div",{className:"section-body",children:[A&&(0,E.jsx)("div",{children:A}),w&&(0,E.jsx)("div",{children:(0,E.jsx)("a",{className:"link",href:"mailto:"+w,children:w})}),M&&(0,E.jsx)("div",{children:M})]})]}),v&&(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"section-header",children:r.t(k.LABEL_LEARN_MORE)}),(0,E.jsxs)("div",{className:"external-link-wrapper",children:[(0,E.jsx)("i",{className:"icon-ext-link",children:" "}),(0,E.jsx)("a",{className:"section-body link",onClick:this.onExternalLinkClicked,href:v,target:"_blank",rel:"noopener",children:v})]})]}),b&&!O&&(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"section-header",children:r.t(k.LABEL_INFORMATION)}),(0,E.jsx)("div",{className:"section-body",children:b})]}),O&&(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"section-header",children:r.t(k.LABEL_DESCRIPTION)}),(0,E.jsx)(N.L,{text:O,textParser:P,markers:I.S8,linksActive:!1,className:"section-body"})]})]})]})})}}const M=w(D);var C=n(39949);const{SUMMARY:x}=o.A.SHOWCASE;function U(){const e=(0,i.Y)(),t=function(){const e=(0,a.h)(),[t,n]=(0,s.useState)((null==e?void 0:e.model.details)||null);return(0,s.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.model.details)}const i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}(),n=(0,r.i)(l.Lj,!0),o=(0,r.i)(l.qu,!1),u=n&&!o,d=n&&!o;return t?(0,E.jsx)(C.h,{toolId:c.S0.SUMMARY,title:e.t(x.HEADING),children:(0,E.jsx)(M,{modelDetails:t,brandingEnabled:u,showExternalUrl:d})}):null}class F{constructor(){}renderActive=e=>{let{createLeftPanel:t}=e;return(0,E.jsx)(E.Fragment,{children:t((0,E.jsx)(U,{}))})}}},39949:(e,t,n)=>{"use strict";n.d(t,{h:()=>M});var i=n(96540),r=n(32485),o=n.n(r),s=n(20246),a=n(17084),l=n(73566),c=n(16700),u=n(16876),d=n(64057),h=n(78956),p=n(91406),f=n(12103),m=n(39869),g=n(56147),v=n(80490),y=n(48270),E=n(74848);function S(e){let{analytic:t,children:n,className:i}=e;const r=(0,m.Y)().t(g.A.REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE);return(0,E.jsx)(v.Q,{icon:"help",tooltip:r,popupSize:"medium",analytic:`${t}_help_click`,className:o()("help-button",i),variant:y.A.TERTIARY,children:n})}var b=n(23635);const{EDIT_BAR:_}=g.A.WORKSHOP;function O(e){let{tool:t}=e;const{helpHref:n,helpMessagePhraseKey:i}=t,r=(0,m.Y)(),o=r.t(_.HELP_LINK);return(0,E.jsxs)("div",{className:"tool-help",children:[i&&r.t(i),n&&(0,E.jsx)(b.N,{href:n,children:o})]})}function T(e){let{tool:t}=e;const{analytic:n,helpMessagePhraseKey:i}=t;return i?(0,E.jsx)(S,{analytic:n,className:"tool-help-button",children:(0,E.jsx)(O,{tool:t})}):null}var A=n(19389),w=n(91977),N=n(28422);const I=e=>{let{children:t,className:n}=e;if(!t)return null;const i=o()("panel-title",n);return(0,E.jsx)("div",{className:i,children:t})};var R=n(90087);const{COLLAPSE_PANEL:k,EXPAND_PANEL:L}=g.A.PANELS;function P(e){const{tool:t,title:n,titleNode:r,children:s,expandable:l,hideHelp:u,hideBadge:h,onTogglePanel:p}=e,f=(0,m.Y)(),g=(0,d.J)(),v=(0,R.L)(),S=(0,c.bt)("panel-header"),b=!u,_=(0,i.useCallback)((()=>{t&&v.issueCommand(new a.u3(t.id))}),[v,t]),O=(0,i.useCallback)((e=>{e&&e.stopPropagation();const t=!g;p&&p(t),v.issueCommand(new a.li(t))}),[v,g,p]),P=g?"dpad-up":"dpad-down",D=g?f.t(L):f.t(k),M=o()("panel-header",S);return(0,E.jsxs)("div",{className:M,onClick:l?O:void 0,children:[(0,E.jsxs)(I,{children:[(0,E.jsxs)("div",{className:"panel-name",children:[l&&(0,E.jsx)(A.$,{icon:P,label:n,tooltip:D,tooltipOptions:{placement:"bottom-start"},variant:y.A.TERTIARY,onClick:O}),!l&&n]}),t&&t.badgePhraseKey&&!h&&(0,E.jsx)("span",{className:"word-badge",children:f.t(t.badgePhraseKey)}),r||null]}),(0,E.jsxs)(w.e,{className:"panel-header-controls",children:[s,b&&t&&(0,E.jsx)(T,{tool:t}),(0,E.jsx)(N.J,{tooltipOptions:{placement:"bottom"},onClose:_})]})]})}var D=n(53289);function M(e){const{closed:t,toolId:n,children:r,className:m,filmstrip:g,title:v,titleNode:y,subheader:S,hideHelp:b,hideBadge:_,footer:O,controls:T,subheaderCollapsedHeight:A,hideHeader:w}=e,N=(0,R.L)(),I=(0,d.J)(),k=(0,h.O)(),L=(0,p.M)(n),[M,C]=(0,i.useState)(I),[x,U]=(0,i.useState)(!1),F=(0,i.useRef)(void 0),H=(0,c.bt)("list-panel"),G=(0,i.useCallback)((e=>{if(e){if(x||M)return;window.clearTimeout(F.current),U(!0),F.current=window.setTimeout((()=>{U(!1),C(!0)}),f.zu)}else C(!1),window.clearTimeout(F.current)}),[U,C,x,M,F]);(0,i.useEffect)((()=>{!I&&M&&G(I)}),[G,I,M]),(0,i.useEffect)((()=>()=>{window.clearTimeout(F.current)}),[]),(0,D.J)(s.rP,(e=>{let{collapsed:t}=e;return G(t)}));const B=!!L&&!t,V=k===l.L$.BOTTOM_PANEL,j=!(M&&!x),W={closed:t,collapsed:M,collapsing:x,"filmstrip-panel":g},z=A&&(V&&M)?{height:A+f.Zn}:void 0,$=S&&(A||!M),K=g||V;return(0,E.jsxs)(u.w,{open:B,className:o()("list-panel",H,W,m),style:z,onKeyDown:function(e){"Escape"===e.code&&(e.stopPropagation(),N.issueCommand(new a.u3(n)))},focus:!0,children:[L&&!w&&(0,E.jsx)(P,{tool:L,title:v,titleNode:y,hideHelp:b,hideBadge:_,expandable:K,onTogglePanel:G,children:(0,E.jsx)(i.Suspense,{children:T})}),(0,E.jsxs)(i.Suspense,{children:[$&&S,j&&r,j&&O||null]})]})}},61767:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var i=n(47712),r=n(4106),o=n(74771),s=n(74848);function a(e){let{value:t,children:n}=e;return(0,s.jsx)(o.U6.Provider,{value:t,children:(0,s.jsx)(r.CY,{i18n:i.Ru,children:n})})}},38064:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var i=n(74848);function r(e,t){return n=>function(r){let{ref:o,...s}=r;const a=t(),l={...s,[e]:a};return(0,i.jsx)(n,{...l,ref:o})}}},24478:(e,t,n)=>{"use strict";n.d(t,{M:()=>u,R:()=>c});var i=n(96540),r=n(32485),o=n.n(r),s=n(48270),a=n(2254),l=(n(34940),n(74848));let c=function(e){return e.ADD="plus",e.CANCEL="cancel",e.CONFIRM="checkmark",e}({});function u(e){let{addIcon:t,className:n,ref:r,...u}=e;const d=(0,i.useRef)(null);(0,i.useImperativeHandle)(r,(()=>({dismissNudge:()=>{d.current&&d.current.dismissNudge()}})),[]);const h=t===c.CANCEL,p=h?c.ADD:t,f=o()("add-button",n,{"add-cancel":h});return(0,l.jsx)(a.Y,{...u,ref:d,className:f,variant:s.A.FAB,icon:p,theme:"dark",featured:!0})}},82208:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var i=n(96540),r=n(32485),o=n.n(r),s=n(56147),a=n(39869),l=n(38731),c=n(94799),u=n(78379),d=n(58024),h=n(2716),p=n(47613);var f=n(93877);const m=()=>{const e=function(){const e=(0,p._)(),[t,n]=(0,i.useState)((null==e?void 0:e.currentLayers())||[]);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){n((null==e?void 0:e.currentLayers())||[])}const i=e.onCurrentLayersChanged(t);return t(),()=>i.cancel()}),[e]),t}();for(const t of e)if(t.layerType===f.ku.VIEW_DATA_LAYER)return t;return null};var g=n(90683),v=n(12621),y=n(4717),E=n(19389),S=n(48270),b=n(74848);function _(e){let{layer:t,active:n,onClick:i}=e;const{id:r}=t,o=(0,y.G)(),s=(0,v._)(r,o),a=n?"checkmark":void 0;return(0,b.jsx)(E.$,{className:"layer-item",label:s,icon:a,active:n,variant:S.A.TERTIARY,size:S.M.SMALL,onClick:()=>{i(r)}})}var O=n(24478),T=n(39066),A=n(71687);n(34940);const{LAYERS:w}=s.A.WORKSHOP;function N(e){let{allowLayerChange:t,onChangeLayer:n,ref:r,...s}=e;const p=(0,i.useRef)(null),f=(0,i.useRef)(null),y=(0,l.B)(),N=(0,u.S)(),I=(0,d.z0)(),R=(0,h.z)(),k=(0,a.Y)(),L=m(),P=(0,g.e)(),D=(0,c.j)(A.az),M=I&&!P(I.id)?I:L;(0,i.useImperativeHandle)(r,(()=>({dismissNudge:()=>{p.current&&p.current.dismissNudge()}})),[]);const C=(0,b.jsx)(O.M,{ref:p,...s});if(!N||!y||R.length<2)return C;const x=e=>{e!==M?.id&&(D.selectLayer(e,!0),n&&n(e))},U=M?(0,v.H)(k,M):k.t(w.UNLAYERED_LAYER_LABEL),F=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"button-menu-label",children:k.t(w.LAYER_ADDING_TO_LABEL)}),(0,b.jsx)("div",{className:"active-layer-name",children:U})]}),H=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"menu-title",onClick:e=>e.stopPropagation(),children:k.t(w.LAYER_ADDING_TO_CHOICE_LABEL)}),(0,b.jsx)(E.$,{icon:"close",variant:S.A.TERTIARY,size:S.M.SMALL,onClick:()=>{f.current&&f.current.closeMenu()}})]});return(0,b.jsxs)("div",{className:o()("layered-add-button",{"with-layer-menu":t}),children:[C,(0,b.jsxs)(T.y,{ref:f,label:F,className:"add-menu-button",menuClassName:"add-button-layer-menu",menuPlacement:"top",variant:S.A.FAB,size:S.M.SMALL,theme:"dark",caret:!0,children:[H,R.map((e=>{const{id:t}=e,n=I?.id===t;return P(e.id)?null:(0,b.jsx)(_,{layer:e,onClick:x,active:n},t)}))]})]})}},94380:(e,t,n)=>{"use strict";n.d(t,{S:()=>h,x:()=>d});var i,r,o,s=n(96540),a=n(32485),l=n.n(a),c=n(72909),u=n(74848);let d=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.FILTER=1]="FILTER",e}({}),h=(i=Reflect.metadata("design:type",Function),r=Reflect.metadata("design:paramtypes",["undefined"==typeof CheckboxProps?Object:CheckboxProps]),(0,c.A)(o=i(o=r(o=class extends s.Component{static defaultProps={enabled:!0,error:!1};checkboxElement;constructor(e){super(e),this.state={checkedValue:e.checked}}UNSAFE_componentWillReceiveProps(e){this.setState({checkedValue:e.checked})}onChange=e=>{this.props.stopPropagation&&e.stopPropagation(),this.setState((e=>({checkedValue:!e.checkedValue})),(()=>{this.props.onChange&&this.props.onChange(this.checkboxElement,...this.props.onChangeArgs||[])}))};setCheckboxRef=e=>{this.checkboxElement=e};render(){const{checkboxStyle:e=d.DEFAULT,className:t,dataValue:n,enabled:i,error:r,helpText:o,id:s,label:a}=this.props,{checkedValue:c}=this.state,h=!i;return(0,u.jsxs)("div",{ref:this.setCheckboxRef,id:s,role:"checkbox","aria-checked":c?"true":"false","aria-disabled":h,"data-value":n,className:l()("checkbox-element",`checkbox-style-${d[e].toLowerCase()}`,{checked:c,disabled:h,error:r},t),onClick:this.onChange,tabIndex:0,children:[e!==d.FILTER&&(0,u.jsx)("div",{className:"checkbox icon-checkmark"}),(0,u.jsx)("div",{className:"checkbox-text",children:a}),o&&(0,u.jsx)("span",{className:"help-text",children:o})]})}})||o)||o)||o)},14804:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var i=n(96540),r=n(32485),o=n.n(r),s=n(6336),a=n(95300),l=n(86866),c=n(74848);function u(e){let{resource:t,className:n,children:r,onClick:u,aspectRatio:d}=e;const[h]=(0,s.i)(t),p=(0,i.useMemo)((()=>{if(!h)return{};if(d){const e=h.startsWith("blob:")?h:(0,a.s1)(h,d);return{minWidth:"fit-content",aspectRatio:`${(0,l.QX)(d,2)} / 1`,backgroundImage:`url('${e.toString()}')`}}return{backgroundImage:`url('${h}')`}}),[h,d]);return(0,c.jsx)("div",{className:o()(n),style:p,onClick:u,children:r})}},94448:(e,t,n)=>{"use strict";n.d(t,{Df:()=>p,K0:()=>g,Tp:()=>f,zt:()=>m});var i,r,o,s=n(96540),a=n(32485),l=n.n(a),c=n(72909),u=n(27200),d=n(77570),h=n(74848);let p=function(e){return e.ENABLED="enabled",e.DISABLED="disabled",e.DECORATIVE="decorative",e.DIMMED="dimmed",e.ACTIVE="active",e.BUSY="busy",e}({}),f=function(e){return e[e.STANDARD=0]="STANDARD",e[e.MINI=1]="MINI",e[e.SMALL=2]="SMALL",e[e.LARGE=3]="LARGE",e}({}),m=function(e){return e.CLEAR="clear",e.PLAIN="plain",e.OVERLAY="overlay",e.PRIMARY="primary",e.SOCIAL="social",e.TOOLBAR="toolbar",e}({}),g=(i=Reflect.metadata("design:type",Function),r=Reflect.metadata("design:paramtypes",["undefined"==typeof IconButtonProps?Object:IconButtonProps]),(0,c.A)(o=i(o=r(o=class e extends s.Component{static contextType=(()=>d.B)();static iMobile=(()=>(0,u.OF)()||(0,u.J0)())();constructor(e){super(e)}onClick=e=>{const t=this.props.buttonState;t!==p.BUSY&&t!==p.DISABLED&&this.props.onClick&&this.props.onClick(e)};onMouseDown=t=>{const{onMouseDown:n,onClick:i,buttonState:r}=this.props;if(n)n(t);else if(e.iMobile&&i&&r!==p.BUSY&&r!==p.DISABLED){const e=this.context.mainDiv.getRootNode().activeElement;e&&t.cancelable&&(e.blur(),t.preventDefault())}};render(){const{ariaLabel:e,breakoutTooltip:t,buttonSize:n,buttonState:i,buttonStyle:r,children:o,className:s,dataValue:a,iconClass:c,id:u,onClick:d,onMouseUp:g,tooltipMsg:v,tooltipPersist:y,tooltipPreformatted:E}=this.props,S=i===p.DISABLED,b=i===p.BUSY,_=i===p.DECORATIVE,O=!S&&!b&&!_,T=v?!!E:void 0,A={"button-small":n===f.SMALL,"button-large":n===f.LARGE,"button-disabled":S,"button-dimmed":i===p.DIMMED,"button-active":i===p.ACTIVE,"button-busy":b,"button-interactive":O,"icon-button-primary":r===m.PRIMARY,"icon-button-overlay":r===m.OVERLAY,"icon-button-plain":r===m.PLAIN,"icon-button-social":r===m.SOCIAL,"icon-button-toolbar":r===m.TOOLBAR,"icon-button-breakout-tooltip":t},w={id:u,role:"button","aria-label":e||v,"aria-disabled":S,"data-value":a,className:l()("icon-button",A,s),onClick:d?this.onClick:void 0,onMouseUp:g,onMouseDown:this.onMouseDown},N={"data-balloon-pre":T,"data-balloon-persist":y};return t||Object.assign(w,N),(0,h.jsxs)("div",{...w,children:[t&&(0,h.jsx)("div",{className:"icon-button-breakout-tooltip-container",children:(0,h.jsx)("div",{className:"icon-button-breakout-tooltip-trigger",...N})}),c&&(0,h.jsx)("span",{className:`icon ${c}`}),o]})}})||o)||o)||o)},31201:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var i=n(96540),r=n(27200),o=n(81923),s=n(74848);const a=132,l=8;function c(e){let{progress:t,screenPosition:n}=e;if(!(0,i.useMemo)((()=>(0,r.C8)()),[])||!n||0===t)return null;const c={left:n.x-a/2+"px",top:n.y-a/2+"px"};return(0,s.jsx)("div",{className:"point-button-wrapper",style:c,children:(0,s.jsx)(o.A,{progress:100*t,innerRadius:a,barWidth:l,children:(0,s.jsx)("circle",{className:"point",cx:"0",cy:"0",r:"22",transform:"rotate(-90)",fill:"#fff"})})})}},2254:(e,t,n)=>{"use strict";n.d(t,{Y:()=>g});var i=n(96540),r=n(32485),o=n.n(r),s=n(55285),a=n(5262),l=n(19389),c=n(28422),u=n(48270),d=n(74848);function h(e){let{title:t,message:n,children:i,closeButton:r=!1,className:s,onClose:a}=e;return(0,d.jsxs)("div",{className:o()("nudge",s),children:[(0,d.jsxs)("div",{className:o()("nudge-header",{"nudge-with-title":!!t}),children:[t&&(0,d.jsx)("div",{className:"nudge-title",children:t}),r&&(0,d.jsx)(c.J,{className:"nudge-close-button",size:u.M.SMALL,onClose:a})]}),n&&(0,d.jsx)("div",{className:o()("nudge-message",{"nudge-message-with-title":t}),children:n}),i]})}var p=n(73943),f=n(14614),m=n(50747);function g(e){let{className:t,tooltip:n,children:r,onClick:c,closeButton:u,nudgeTitle:g,nudgeMessage:v,nudgeSize:y="medium",nudgeDisabled:E=!1,showTimeout:S=5e3,dismissTimeout:b=5e3,nudgeFeatureKey:_="",nudgeLocalStorage:O="",nudgeSessionKey:T="",onNudgeDismissed:A,featured:w=!1,tooltipOptions:N={},nudgeClassName:I,ref:R,...k}=e;const L=(0,m.F)(),[P,D]=(0,i.useState)(!1),[M,C]=(0,s.Mj)(O,!1),x=(0,a.i)(T,!1),U=(0,a.i)(_,!1),F=(0,i.useRef)(0),H=(0,i.useRef)(0),G=!(!g&&!v),B=(0,i.useCallback)((()=>{if(!G||P||E)return!1;return(!_||U)&&!(!!O&&M)&&!(!!T&&x)}),[G,P,E,_,U,O,M,T,x]),[V,j]=(0,s.Lh)(),W=(0,p.a)(),z=(0,i.useCallback)((()=>{window.clearTimeout(F.current),F.current=0,window.clearTimeout(H.current),H.current=0}),[]),$=(0,i.useCallback)((()=>{z(),P&&(O&&C(!0),T&&L.setSetting(T,!0),A&&A(),D(!1))}),[z,P,O,T,A,C,L]),K=(0,i.useCallback)((()=>{if(!G)return;const e=F.current||H.current;B()&&!e&&(F.current=window.setTimeout((()=>{F.current=0,B()&&D(!0)}),S))}),[S,G,B]);(0,i.useImperativeHandle)(R,(()=>({dismissNudge:()=>{$()}})),[$]),(0,i.useEffect)((()=>(E||W!==f.Jj.PLAYING||0===j.height||0===j.width?z():K(),()=>{z()})),[E,j,K,z,W]),(0,i.useEffect)((()=>(P&&(H.current=window.setTimeout($,b)),()=>{z()})),[P,$,b,z]);let Y;if(G){const e=void 0!==u?u:!!g;Y=(0,d.jsx)(h,{title:g,message:v,closeButton:e,className:w?"nudge-featured":void 0})}const q=P?Y:n,Q={...N,trigger:P?"static":"hover",onToggle:e=>{G&&(e||$())},theme:P?"light":"dark",size:P?y:"small",className:P&&I?I:"nudge-button-tooltip"},X=o()("nudge-button",t);return(0,i.createElement)(l.$,{...k,key:`nudge-button-${n}`,onClick:e=>{$(),c&&c(e)},className:X,tooltip:q,tooltipOptions:Q,ref:V},r)}},69485:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var i=n(96540),r=n(32485),o=n.n(r),s=n(43591),a=n(56147),l=n(3249),c=n(82769),u=n(77897),d=n(76057),h=n(76191),p=n(97191),f=n(94814),m=n(19389),g=n(48270),v=n(77570),y=n(74848);class E extends i.Component{static contextType=(()=>v.B)();resizeObserver;outerWrapperRef=(()=>(0,i.createRef)())();innerWrapperRef=(()=>(0,i.createRef)())();contentContainerRef=(()=>(0,i.createRef)())();inputFilter;dragStartScroll=0;listening=!1;animation=null;handlingPaused=!1;mouseInterval;isDragging=!1;isUnmounting=!1;rAFHandle;constructor(e,t){super(e,t),this.state={scrollCenter:null,scrollOffset:0,innerSize:0,contentSize:0},this.resizeObserver=new s.A(this.handleResize),this.inputFilter=new p.A({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick})}componentDidMount(){this.outerWrapperRef.current&&this.resizeObserver.observe(this.outerWrapperRef.current),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick):this.toggleDownEventListening(!0),this.toggleDragHandling(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("wheel",this.handleWheelEvent),this.inputFilter.setEnabled(!this.props.suppressDrag),this.handleExternalChange(!0)}componentWillUnmount(){this.isUnmounting=!0,this.resizeObserver.disconnect(),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("wheel",this.handleWheelEvent),this.toggleDragHandling(!1),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick):this.toggleDownEventListening(!1)}UNSAFE_componentWillReceiveProps(e){e.thumbScrollingOnly&&!this.props.thumbScrollingOnly?(this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick),this.toggleDownEventListening(!1)):!e.thumbScrollingOnly&&this.props.thumbScrollingOnly&&(this.toggleDownEventListening(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick)),e.suppressDrag!==this.props.suppressDrag&&this.inputFilter.setEnabled(!e.suppressDrag)}componentDidUpdate(e,t){this.props.waitToUpdate||this.handleExternalChange();const n=this.animation;if(n)if(n.isAnimating){const e=n.getUpdatedValue();window.requestAnimationFrame((()=>{this.innerWrapperRef.current&&this.scrollTo(e)}))}else this.animation=null;t.scrollOffset!==this.state.scrollOffset&&this.props.onScrolled&&this.props.onScrolled()}toggleDownEventListening(e){const t=this.handleEvent;this.innerWrapperRef.current&&(e?window.PointerEvent?this.innerWrapperRef.current.addEventListener("pointerdown",t):(this.innerWrapperRef.current.addEventListener("mousedown",t),this.innerWrapperRef.current.addEventListener("touchstart",t)):window.PointerEvent?this.innerWrapperRef.current.removeEventListener("pointerdown",t):(this.innerWrapperRef.current.removeEventListener("mousedown",t),this.innerWrapperRef.current.removeEventListener("touchstart",t)))}toggleDragHandling(e){const t=this.handleEvent;!this.listening&&e?(this.listening=!0,window.PointerEvent?(window.addEventListener("pointermove",t),window.addEventListener("pointerup",t)):(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t))):this.listening&&!e&&(this.listening=!1,window.PointerEvent?(window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",t)):(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t)))}handleEvent=e=>{"mousedown"!==e.type&&"pointerdown"!==e.type&&"touchstart"!==e.type||(this.handlingPaused=!1),this.props.suppressDrag||this.handlingPaused||this.inputFilter.handleEvent(e)};getScrolledOffset=()=>{if(!this.innerWrapperRef.current||0===this.state.contentSize)return 0;const e=this.props.direction===u.OP.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]/this.state.contentSize};getScrollPosition(){if(!this.innerWrapperRef.current)return 0;const e=this.props.direction===u.OP.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]}setScrollPosition(e){if(!this.innerWrapperRef.current)return;const t=this.props.direction===u.OP.vertical?"scrollTop":"scrollLeft";this.innerWrapperRef.current[t]=e}getAxis(){return this.props.direction===u.OP.vertical?"y":"x"}getScrollableContainer=()=>this.innerWrapperRef.current||void 0;pauseScrollHandling=()=>{this.handlingPaused=!0,this.toggleDownEventListening(!1)};scrollWithScrollBar=e=>{if(!this.props.suppressDrag){const t=this.getAxis();e.hasOwnProperty(t)&&this.scrollTo(e[t])}};scrollTo=e=>{void 0===e||isNaN(e)||(this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentSize,0)),this.setState({scrollOffset:this.getScrollPosition()}))};scrollToPercentage(e,t){this.animation=new h.A({duration:t,startValue:this.getScrolledOffset(),endValue:Math.max(0,Math.min(1,e))})}scrollToElement(e){const t=this.innerWrapperRef.current,n=this.outerWrapperRef.current;if(!e||!t||!n)return;if(!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINS))return;const i=n.parentElement;if(!i)return;const r=this.props.direction===u.OP.vertical;this.setState({scrollCenter:e});const o=r?"offsetTop":"offsetLeft",s=r?"offsetHeight":"offsetWidth";let a=e[o]+e[s]/2,l=e,c=l.parentElement;for(;c&&l!==t;)l=c,c=l.parentElement,a+=l[o];const d=(a-i[s]/2)/this.state.contentSize;this.animation=new h.A({duration:u.RL,startValue:this.getScrollPosition()/this.state.contentSize,endValue:Math.max(0,Math.min(1,d))})}handleDragStart=()=>{this.setState({scrollCenter:null}),this.isDragging=!0};handlePressStart=()=>{this.dragStartScroll=this.getScrollPosition()};handlePressMove=e=>{if(!this.props.suppressDrag){const t=(e[this.getAxis()]+this.dragStartScroll)/this.state.contentSize;this.scrollTo(t)}};handleWheelEvent=e=>{if(this.props.suppressDrag)return void e.preventDefault();this.props.direction===u.OP.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.setState({scrollCenter:null}),this.handleExternalChange())};handleClick=e=>{this.props.handleClick&&this.props.handleClick(e)};handleDragEnd=(e,t)=>{this.isDragging=!1;const n=e[this.getAxis()]/t,i=Math.min(u.RL,Math.abs(u.RL*n)),r=this.getScrollPosition(),o=n*i/2;this.animation=new h.A({duration:i,startValue:r/this.state.contentSize,endValue:Math.max(0,Math.min((r+o)/this.state.contentSize,1)),easingFunction:f.WD})};handleResize=()=>{!this.isUnmounting&&this.innerWrapperRef.current&&this.contentContainerRef.current&&this.state.scrollCenter&&this.scrollToElement(this.state.scrollCenter)};handleExternalChange(e){if(this.isUnmounting||!this.innerWrapperRef.current||!this.contentContainerRef.current)return;const t=this.props.direction===u.OP.vertical?"clientHeight":"clientWidth",n={innerSize:Number(this.innerWrapperRef.current&&this.innerWrapperRef.current[t])||1,contentSize:Number(this.contentContainerRef.current&&this.contentContainerRef.current[t])||1,scrollOffset:this.innerWrapperRef.current&&this.getScrollPosition()};(0,c._)(this.state,n)&&(e?this.setState(n):this.debouncedSetState(n))}debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))};onManualScroll=()=>{this.props.onScrolled&&this.props.onScrolled()};onButtonScroll=e=>{if(this.contentContainerRef.current&&this.props.steps){const t=this.props.direction===u.OP.vertical?"offsetHeight":"offsetWidth",n=this.contentContainerRef.current[t]/this.props.steps,i=this.getScrollPosition();let r;r=e?(i+n)/this.state.contentSize:(i-n)/this.state.contentSize,this.scrollTo((0,l.qE)(r,0,1))}};onScrollBack=()=>{this.onButtonScroll(!1)};onScrollForward=()=>{this.onButtonScroll(!0)};onHoldScrollBack=()=>{this.mouseInterval=window.setInterval(this.onScrollBack,300)};onHoldScrollForward=()=>{this.mouseInterval=window.setInterval(this.onScrollForward,300)};onScrollButtonUp=()=>{window.clearInterval(this.mouseInterval)};renderScrollBackButton=()=>{const e=this.getScrollPosition(),t=this.props.direction===u.OP.vertical?"dpad-up":"dpad-left",n=this.context.locale.t(a.A.SCROLLING.SCROLL_BUTTON_LABEL),i=0===e;return(0,y.jsx)(m.$,{className:o()("scroll-button","scroll-back"),icon:t,ariaLabel:n,variant:g.A.TERTIARY,theme:"dark",disabled:i,onClick:this.onScrollBack,onPointerDown:this.onHoldScrollBack,onPointerUp:this.onScrollButtonUp})};renderScrollForwardButton=()=>{const e=this.contentContainerRef.current,t=this.innerWrapperRef.current;if(!e||!t)return null;const n=this.getScrollPosition(),i=this.props.direction===u.OP.vertical?"offsetHeight":"offsetWidth",r=this.props.direction===u.OP.vertical?"dpad-down":"dpad-right",s=this.context.locale.t(a.A.SCROLLING.SCROLL_BUTTON_LABEL),l=e[i]-t[i]-n<=0;return(0,y.jsx)(m.$,{className:o()("scroll-button","scroll-forward"),icon:r,ariaLabel:s,variant:g.A.TERTIARY,theme:"dark",disabled:l,onClick:this.onScrollForward,onPointerDown:this.onHoldScrollForward,onPointerUp:this.onScrollButtonUp})};needScrolling(){if(!this.contentContainerRef.current||!this.outerWrapperRef.current)return!1;const e=this.props.direction===u.OP.vertical?"offsetHeight":"offsetWidth";return this.contentContainerRef.current[e]>this.outerWrapperRef.current[e]}render(){const{hideScrollbar:e,children:t,onScrollableChanged:n,scrollButtons:i,steps:r,onScrollPositionChange:s,direction:a,className:l}=this.props,{innerSize:c,contentSize:u,scrollOffset:h}=this.state,p=i&&!!r&&this.needScrolling();return(0,y.jsxs)("div",{className:o()("outerScrollbarWrapper",[a],[l],{"button-scrolling":p}),ref:this.outerWrapperRef,children:[p&&this.renderScrollBackButton(),(0,y.jsx)("div",{className:"innerScrollbarWrapper",ref:this.innerWrapperRef,children:(0,y.jsx)("div",{className:"paddingScrollbarWrapper",ref:this.contentContainerRef,children:t})}),(0,y.jsx)(d.Z,{direction:a,wrapperLength:c,childLength:u,scrollOffset:h,scrollTo:this.scrollWithScrollBar,forceHidden:!!e,onVisibilityChange:n,onScrollPositionChange:s,onThumbDrag:this.onManualScroll}),p&&this.renderScrollForwardButton()]})}}},80490:(e,t,n)=>{"use strict";n.d(t,{Q:()=>u});var i=n(96540),r=n(27200),o=n(28479),s=n(78956),a=n(19389),l=n(68375);const c=(0,r.C8)();function u(e){const{ariaLabel:t,tooltip:n,tooltipPlacement:r="bottom",preventOverflow:u,analytic:d,children:h,popupSize:p,onOpenPopup:f,...m}=e,g=(0,l.s)(),[v,y]=(0,i.useState)(!1),E=(0,o.L)(),S=(0,s.O)();(0,i.useEffect)((()=>{y(!1)}),[S]);const b=!(!v||!h),_=c||b?"static":"hover";let O;b?O=h:c&&!v||(O=n);const T={placement:r,preventOverflow:b?u:void 0,onToggle:e=>{e||y(e)},trigger:_,theme:b?"light":"dark",size:b?p:"small"},A=`button-tooltip-${n}-${_}`,w=t||m.label||n;return(0,i.createElement)(a.$,{...m,key:A,ariaLabel:w,onClick:e=>{e.stopPropagation(),v||(d&&g.trackGuiEvent(d,{tool:E}),f&&f()),y(!v)},tooltip:O,tooltipOptions:T})}},76057:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(96540),r=n(82769),o=n(97191),s=n(77897),a=n(78197),l=n(74848);class c extends i.Component{thumbTrack;inputFilter;dragStartThumbOffset;direction;scrollPosition;constructor(e){super(e),this.state={visible:!1,trackLength:1,thumbLength:1,thumbOffset:0},this.direction=s.RX[e.direction],this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleTrackClick=this.handleTrackClick.bind(this),this.inputFilter=new o.A({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove}),window.PointerEvent||(window.addEventListener("mousemove",this.inputFilter.handleEvent),window.addEventListener("mouseleave",this.inputFilter.handleEvent),window.addEventListener("mouseup",this.inputFilter.handleEvent)),window.addEventListener("pointermove",this.inputFilter.handleEvent),window.addEventListener("pointerup",this.inputFilter.handleEvent)}componentWillUnmount(){window.PointerEvent||(window.removeEventListener("mousemove",this.inputFilter.handleEvent),window.removeEventListener("mouseleave",this.inputFilter.handleEvent),window.removeEventListener("mouseup",this.inputFilter.handleEvent)),window.removeEventListener("pointermove",this.inputFilter.handleEvent),window.removeEventListener("pointerup",this.inputFilter.handleEvent)}getTrackLength(){return Number(this.thumbTrack&&this.thumbTrack[this.direction.clientLength]||this.props.containerSize.width)}handleTrackClick(e){if(e.target!==this.thumbTrack)return;const t=this.direction.eventPosition,n=this.thumbTrack.getBoundingClientRect()[this.direction.offsetName],i=e[t]<n+this.state.thumbOffset,r=this.getTrackLength();let o=0;o=i?Math.max(0,(this.state.thumbOffset-this.state.thumbLength)/r):Math.min(r,(this.state.thumbOffset+this.state.thumbLength)/r),this.props.scrollTo({[(0,s.s4)(this.props.direction)]:o})}handlePressStart(e){this.dragStartThumbOffset=this.state.thumbOffset}handlePressMove(e){const t=this.getTrackLength(),n=(this.dragStartThumbOffset-e[this.direction.delta])/t;this.props.scrollTo({[(0,s.s4)(this.props.direction)]:n}),this.props.onThumbDrag&&this.props.onThumbDrag()}componentDidUpdate(){const{wrapperLength:e,childLength:t,scrollOffset:n}=this.props;if(e>0&&t>0){const i=this.getTrackLength(),o=e/t*i,a={thumbLength:o,visible:t>e,thumbOffset:Math.min(n/t*i,i-o)};if((0,r._)(this.state,a)){const e=this.state.visible!==a.visible;e&&this.props.onVisibilityChange&&this.props.onVisibilityChange(a.visible);const t=(0,s.J5)(a.thumbOffset/(i-o),a.visible);(t!==this.scrollPosition||e)&&(this.scrollPosition=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)),this.setState(a)}}}render(){const e={[`${this.direction.lengthName}`]:this.state.thumbLength+"px",[`${this.direction.offsetName}`]:this.state.thumbOffset+"px"},t=this.inputFilter.handleEvent,n=window.PointerEvent,i=n?t:void 0,r=n?void 0:t,o=n?void 0:t;return(0,l.jsx)("div",{children:this.state.visible&&!this.props.forceHidden&&(0,l.jsx)("div",{className:"scrollbarTrack "+this.props.direction,onClick:this.handleTrackClick,ref:e=>{e&&(this.thumbTrack=e)},children:(0,l.jsx)("div",{className:"scrollbarThumb",style:e,onPointerDown:i,onMouseDown:o,onTouchStart:r})})})}}const u=(0,a.B)(c)},3617:(e,t,n)=>{"use strict";n.d(t,{H:()=>m});var i,r,o,s=n(96540),a=n(72909),l=n(32485),c=n.n(l),u=n(43591),d=n(97610),h=n(97191),p=n(94814),f=n(74848);let m=(i=Reflect.metadata("design:type",Function),r=Reflect.metadata("design:paramtypes",["undefined"==typeof ScrollerProps?Object:ScrollerProps]),(0,a.A)(o=i(o=r(o=class extends s.Component{usePointerEvents=(()=>window.PointerEvent)();scrollerRef=(()=>(0,s.createRef)())();trackRef=(()=>(0,s.createRef)())();thumbRef=(()=>(0,s.createRef)())();contents;container;focusedSelector=null;resizeObserver;listening=!1;inputFilter;scrollVelocityPixelsMS;lastScrollTimeMS;startY=0;onThumb=!1;scrollTop=0;isUnmounting=!1;rAFHandle;constructor(e){super(e),this.state={scrollerHeight:1,contentsHeight:1,trackHeight:1,offsetTop:0},this.resizeObserver=new u.A(this.handleResize),this.inputFilter=new h.A({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd})}componentDidMount(){this.toggleEventHandling(!0),this.computeStateValues()}componentWillUnmount(){this.isUnmounting=!0,this.toggleEventHandling(!1),this.resizeObserver&&this.resizeObserver.disconnect()}componentDidUpdate(e,t){this.scrollerRef.current&&e.disabled!==this.props.disabled&&(this.props.disabled?this.toggleEventHandling(!1):this.toggleEventHandling(!0))}resetScrollTop(){this.focusedSelector=null,this.setScrollPosition(0)}getScroller(){return this.scrollerRef.current}getScrollHeight(){return Number(this.contents&&this.contents.clientHeight)||0}scrollToElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2?arguments[2]:void 0;const i=this.scrollerRef.current;if(!e||!i)return;if(!(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINS))return;if(!this.isOverflowing())return;const{contentsHeight:r,scrollerHeight:o,offsetTop:s}=this.state;let a=e.offsetTop;if(!n){let t=e;for(;t.parentElement&&(t=t.parentElement,a+=t.offsetTop,t.offsetParent!==this.contents););}let l=s+a;"center"===t&&(l+=e.offsetHeight/2-o/2),l=Math.max(Math.min(r,l),0);const c=i.scrollTop,u=l-c;let d=0;const h=e=>{d||(d=e);const t=e-d,n=(0,p.e2)(t,c,u,500);i.scrollTo(0,n),t<500?window.requestAnimationFrame(h):this.setScrollPosition(l)};window.requestAnimationFrame(h)}scrollToSelector(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2?arguments[2]:void 0;const i=this.scrollerRef.current;if(!i)return;const r=i.querySelector(e);r?(this.focusedSelector=e,this.scrollToElement(r,t,n)):this.focusedSelector=null}setScrollPosition(e){const t=this.scrollerRef.current;if(t){const n=t.scrollTop;t.scrollTop=e,this.scrollTop=this.getScrollTop(),this.props.onScrolled&&n!==this.scrollTop&&this.props.onScrolled(this.scrollTop);const i=this.thumbRef.current;i&&(i.style.height=`${this.getThumbHeight()}px`,i.style.top=`${this.getThumbTop()}px`)}}toggleEventHandling(e){const t=this.scrollerRef.current,n=this.handleEvent,i=d.u?{passive:!0}:void 0;!this.listening&&e&&t?(t.addEventListener("wheel",this.handleWheelEvent,i),this.usePointerEvents?(t.addEventListener("pointerdown",n,i),window.addEventListener("pointermove",n,i),window.addEventListener("pointerup",n,i)):(t.addEventListener("touchstart",n,i),t.addEventListener("mousedown",n,i),window.addEventListener("mousemove",n,i),window.addEventListener("mouseleave",n,i),window.addEventListener("mouseup",n,i),window.addEventListener("touchmove",n,i),window.addEventListener("touchend",n,i),window.addEventListener("touchcancel",n,i))):this.listening&&!e&&t&&(t.removeEventListener("wheel",this.handleWheelEvent),this.usePointerEvents?(t.removeEventListener("pointerdown",n),window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",n)):(t.removeEventListener("touchstart",n),t.removeEventListener("mousedown",n),window.removeEventListener("mousemove",n),window.removeEventListener("mouseleave",n),window.removeEventListener("mouseup",n),window.removeEventListener("touchmove",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n)))}handleResize=()=>{this.isUnmounting||(this.computeStateValues(),this.focusedSelector&&this.scrollToSelector(this.focusedSelector))};handleWheelEvent=e=>{this.props.disabled||(this.onThumb=!1,this.focusedSelector=null,this.scrollBy(e.deltaY))};handleEvent=e=>{if(this.scrollerRef.current&&!this.props.disabled){this.scrollVelocityPixelsMS=0;if("mousedown"===e.type||"pointerdown"===e.type||"touchstart"===e.type){const t=e.target;this.onThumb=t&&t.classList.contains("scroller-thumb")}this.focusedSelector=null,this.inputFilter.handleEvent(e)}};handlePressStart=e=>{this.onThumb?this.startY=this.getThumbTop():this.startY=this.getScrollTop()};handlePressMove=e=>{const{trackHeight:t,contentsHeight:n}=this.state;let i;this.onThumb?(i=(this.startY-e.y)/t,this.scrollToPercent(i)):(i=(e.y+this.startY)/n,this.scrollToPercent(i))};handleDragStart=()=>{};handleDragEnd=(e,t)=>{this.scrollVelocityPixelsMS=e.y/t,this.lastScrollTimeMS=void 0,Math.abs(this.scrollVelocityPixelsMS)<1?this.scrollVelocityPixelsMS=0:this.animateScroll()};animateScroll(){window.requestAnimationFrame((e=>{void 0===this.lastScrollTimeMS&&(this.lastScrollTimeMS=e);let t=e-this.lastScrollTimeMS;if(t>0){this.scrollBy(this.scrollVelocityPixelsMS*t);const e=this.scrollVelocityPixelsMS>0?-1:1;for(;t>0;)this.scrollVelocityPixelsMS+=this.scrollVelocityPixelsMS*this.scrollVelocityPixelsMS*.01*e,t-=1}Math.abs(this.scrollVelocityPixelsMS)>.001&&this.animateScroll()}))}onTrackClick=e=>{const t=this.trackRef.current;if(e.target!==t||!t)return;const n=this.getThumbHeight(),i=this.getThumbTop(),r=t.getBoundingClientRect().top,o=this.state.trackHeight;let s;s=e.clientY<r+i?Math.max(0,(i-n)/o):Math.min(o,(i+n)/o),this.scrollToPercent(s)};scrollToPercent=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentsHeight,0))};scrollBy=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(this.scrollerRef.current.scrollTop+e,0))};computeStateValues=()=>{if(this.props.disabled)return;const e=this.scrollerRef.current,t=this.trackRef.current,n=Number(e&&e.clientHeight)||1,i=Number(t&&t.clientHeight)||n,r=Number(this.contents&&this.contents.clientHeight)||1,o=Number(this.contents&&this.contents.offsetTop)||0;this.debouncedSetState({scrollerHeight:n,contentsHeight:r,trackHeight:i,offsetTop:o})};debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))};getThumbTop(){const{contentsHeight:e,trackHeight:t}=this.state;return Math.min(this.scrollTop/e*t,t-this.getThumbHeight())}getThumbHeight(){const{scrollerHeight:e,contentsHeight:t,trackHeight:n}=this.state;return e/t*n}getScrollTop(){return this.scrollerRef.current?this.scrollerRef.current.scrollTop:0}isOverflowing(){const{contentsHeight:e,scrollerHeight:t,offsetTop:n}=this.state;return e+n>t}setContentsRef=e=>{e?(this.contents=e,this.resizeObserver.observe(this.contents)):this.contents&&this.resizeObserver.unobserve(this.contents)};setContainerRef=e=>{e?(this.container=e,this.resizeObserver.observe(e)):this.container&&this.resizeObserver.unobserve(this.container)};renderTrack(){const e={height:`${this.getThumbHeight()}px`,top:`${this.getThumbTop()}px`};return(0,f.jsx)("div",{ref:this.trackRef,className:"scroller-track",onClick:this.onTrackClick,children:(0,f.jsx)("div",{ref:this.thumbRef,className:"scroller-thumb",style:e,onPointerDown:this.usePointerEvents?this.handleEvent:void 0,onMouseDown:this.usePointerEvents?void 0:this.handleEvent,onTouchStart:this.usePointerEvents?void 0:this.handleEvent})})}render(){const{children:e,className:t,hideThumb:n,disabled:i,resizeToContentMax:r,offsetContentByScrollbarWidth:o}=this.props,s=!i&&this.isOverflowing(),a=r?{height:`min(${this.state.contentsHeight}px, ${r})`}:{},l=this.scrollerRef.current,u=o?(l?.offsetWidth||0)-(l?.clientWidth||0):0,d=u?{left:u}:{};return(0,f.jsxs)("div",{ref:this.setContainerRef,className:c()("scroller-container",t),style:a,children:[(0,f.jsx)("div",{className:"scroller-scroller",ref:this.scrollerRef,children:(0,f.jsx)("div",{className:"scroller-contents",ref:this.setContentsRef,style:d,children:e})}),!n&&s&&this.renderTrack()]})}})||o)||o)||o)},87399:(e,t,n)=>{"use strict";n.d(t,{L:()=>f});var i=n(32485),r=n.n(i),o=n(75742),s=n(39905),a=n(96540),l=n(74848);function c(e){const{text:t,keyPrefix:n,markers:i}=e,[r,o]=i,s=[];let c=t,u=c.search(`${r}|${o}`),d=c.search(r);for(;u>-1;){const e=u===d,i=c.slice(0,u),h=t.length-c.length,p=`${n},${h}-${h+u}`;e?s.push((0,l.jsx)(a.Fragment,{children:i},p)):s.push((0,l.jsx)("span",{"data-blocktype":"marker",children:i},p)),c=c.slice(u+(e?r.length:o.length),c.length),u=c.search(`${r}|${o}`),d=c.search(r)}if(c.length){const e=`${n},${t.length-c.length}-${t.length}`;s.push((0,l.jsx)(a.Fragment,{children:c},e))}return 0===s.length?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsx)(l.Fragment,{children:s})}function u(e){const{block:t,children:n,onClick:i}=e;return i?(0,l.jsx)("a",{className:`link-annotation ${s.H.USER}`,onClick:i,"data-id":t.id||void 0,"data-value":t.value||void 0,"data-blocktype":t.blockType,children:n}):(0,l.jsx)("span",{"data-blocktype":t.blockType,children:n})}function d(e){const{block:t,children:n,onClick:i}=e;return i?(0,l.jsx)("a",{className:`link-annotation ${s.H.USER}`,onClick:i,"data-blocktype":t.blockType,children:n}):(0,l.jsx)("span",{"data-blocktype":t.blockType,children:n})}function h(e){const{block:t,children:n,linksActive:i,onClick:r}=e;return r||i?(0,l.jsx)("a",{href:`${t.value}`,target:"_blank",className:`link-annotation ${s.H.LINK}`,onClick:r,"data-blocktype":t.blockType,"data-value":t.value,children:n}):(0,l.jsx)("span",{"data-blocktype":t.blockType,"data-value":t.value,children:n})}function p(e){const{block:t,keyPrefix:n,markers:i}=e,{blockType:r,text:s}=t,a=i?(0,l.jsx)(c,{keyPrefix:n,text:s,markers:i}):(0,l.jsx)(l.Fragment,{children:s});return r===o.n.USER?(0,l.jsx)(u,{...e,children:a}):r===o.n.HASH?(0,l.jsx)(d,{...e,children:a}):r===o.n.LINK&&t.value?(0,l.jsx)(h,{...e,children:a}):a}function f(e){const t=e.textParser.parse(e.text),n=r()("text-box-text",e.className);return(0,l.jsx)("div",{className:n,children:t.map(((t,n)=>(0,l.jsx)(p,{keyPrefix:`${t.blockType}${n}`,block:t,linksActive:!!e.linksActive,onClick:e.onClick,markers:e.markers},`${t.blockType}${n}`)))})}},19389:(e,t,n)=>{"use strict";n.d(t,{$:()=>u});var i=n(32485),r=n.n(i),o=n(40104),s=n(80855),a=n(96540);var l=n(16700),c=n(74848);function u(e){let{ariaLabel:t,ariaDescribedBy:n,ariaRole:i="button",ariaHasPopup:u,ariaExpanded:d=!1,children:h,appendChildren:p=!0,className:f,dataAttribute:m,id:g,disabled:v=!1,disabledTooltip:y,dimmed:E=!1,active:S=!1,disableInteraction:b=!1,icon:_,iconSize:O,iconClassName:T,reverse:A,label:w,onClick:N,onPointerDown:I,onPointerUp:R,onKeyDown:k,onHover:L,size:P,style:D,testId:M,theme:C="light",tooltip:x,tooltipOptions:U={},variant:F,ref:H,...G}=e;const B=void 0===w&&void 0===h,V=_&&(w||h),[j,W]=function(e){const[t,n]=(0,a.useState)(null);return(0,a.useEffect)((()=>{e&&("function"==typeof e?e(t):e.current=t)}),[t,e]),[t,n]}(H),z=t||w||("string"==typeof x?x:void 0),$=v&&!!y&&"static"!==U?.trigger,K=(0,l.bt)("mp-nova-btn"),Y=r()(f,"mp-nova-btn",K,{[`mp-nova-btn-${F}`]:void 0!==F},{[`mp-nova-btn-${C}`]:void 0!==C},{[`mp-nova-btn-${P}`]:void 0!==P},{"mp-nova-btn-icon":B},{"mp-nova-btn-multi":V},{"mp-nova-btn-reverse":A},{"mp-nova-disabled":v},{"mp-nova-disabled--interactive":$},{"mp-nova-btn-dimmed":E},{"mp-nova-active":S},{"mp-nova-aria-missing":!z},{"mp-nova-not-interactive":b});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{...G,className:Y,onClick:N,onPointerDown:I,onPointerUp:R,onMouseEnter:L?e=>L(!0,e):void 0,onMouseLeave:L?e=>L(!1,e):void 0,disabled:v,"aria-disabled":v,ref:W,style:D,onKeyDown:k,tabIndex:v?void 0:0,id:g,"data-attribute":m,"aria-label":z,"aria-expanded":d,"aria-haspopup":u,"aria-describedby":n,role:i,"data-testid":M,children:[!p&&h,_&&(0,c.jsx)(o.I,{name:_,size:O,className:T}),w&&(0,c.jsx)("span",{className:"mp-nova-btn-label",children:w}),p&&h]}),(x||$)&&(0,c.jsx)(s.m,{target:j,title:v?y:x,disabled:v&&!$,...U})]})}},91977:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var i=n(32485),r=n.n(i),o=n(74848);function s(e){let{children:t,spacing:n,className:i}=e;const s=r()("mp-nova-btn-group",i,{[`mp-nova-btn-group-${n}`]:void 0!==n});return(0,o.jsx)("div",{className:s,children:t})}},39066:(e,t,n)=>{"use strict";n.d(t,{y:()=>m});var i=n(96540),r=n(32485),o=n.n(r),s=n(19389),a=n(40104),l=n(40961),c=n(84021),u=n(13647),d=n(59206),h=n(74848);function p(e){let{target:t,isOpen:n,focus:r=!0,className:s,onClose:a,xOffset:p=0,yOffset:f,arrow:m=!1,placement:g="bottom-start",theme:v,children:y,ref:E}=e;const[S,b]=(0,i.useState)(null),[_,O]=(0,i.useState)(null),{styles:T,attributes:A}=(0,u.E)(t,S,{placement:g,strategy:"fixed",modifiers:[{name:"arrow",options:{element:_,padding:4}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:f?[p,f]:[p,4]}}]}),w=(0,c.Q)(t);(0,i.useEffect)((()=>{r&&n&&S&&S.focus()}),[n,S,r]),(0,i.useEffect)((()=>{const e=e=>{if(t&&S){const n=e.composedPath(),i=!n.includes(t),r=!n.includes(S);if(i&&r){e.srcElement&&S.nextElementSibling?.contains(e.srcElement)||a()}}};return n&&S?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[S,t,n,a]);const N=(e,t)=>e.props.className?.includes("mp-nova-menu-item")?e:(0,h.jsx)("div",{className:"mp-nova-menu-item",children:e},`menu-item-${t}`);if(!n||!y)return null;const I=[];Array.isArray(y)?i.Children.forEach(y,((e,t)=>{e&&I.push(N(e,t))})):I.push(N(y,0));const R=o()("mp-nova-menu",s,{[`mp-nova-${v}`]:void 0!==v}),k=A.popper?A.popper["data-popper-placement"]:void 0,L=(0,h.jsxs)("div",{style:{...T.popper},...A.popper,ref:b,className:R,onClick:a,onKeyDown:e=>{switch(e.code){case"ArrowDown":case"ArrowUp":case"Tab":case"Enter":break;case"Escape":e.stopPropagation(),a()}},tabIndex:0,children:[(0,h.jsx)("div",{className:"mp-nova-menu-items",children:I}),m&&(0,h.jsx)(d.s,{ref:O,style:T.arrow,placement:k,size:"medium",theme:v})]});return(0,l.createPortal)(L,w)}const f=250;function m(e){let{className:t,buttonClassName:n,buttonDataAttribute:r,children:l,menuClassName:u,onClick:d,onMenuToggled:m,menuXOffset:g,menuYOffset:v,menuTheme:y,menuPlacement:E,menuArrow:S,menuDelayed:b=!1,label:_,active:O,icon:T,tooltip:A,caret:w=!1,indicator:N=!1,ariaLabel:I,buttonChildren:R,ref:k,...L}=e;const P=(0,i.useRef)(null),D=(0,c.Q)(P.current),[M,C]=(0,i.useState)(!1),[x,U]=(0,i.useState)(!1),F=(0,i.useRef)(0);(0,i.useEffect)((()=>()=>{U(!1),window.clearTimeout(F.current)}),[]),(0,i.useEffect)((()=>{const e=D.parentElement;e&&(M?e.classList.add("menu-open"):e.classList.remove("menu-open"))}),[D,M]);const H=(0,i.useCallback)((e=>{C(e),m&&m(e)}),[m]);(0,i.useImperativeHandle)(k,(()=>({closeMenu:()=>{H(!1)}})),[H]);const G=(0,i.useCallback)((e=>{e?.stopPropagation(),H(!1)}),[H]),B=void 0===_&&void 0!==T&&!w,V=T&&_,j=o()("mp-button-menu-button",n,{"mp-nova-btn-icon":B,"mp-nova-btn-multi":V,"mp-nova-menu-open":M}),W=w?M?"dpad-up":"dpad-down":void 0;return(0,h.jsxs)("div",{className:o()("mp-nova-button-menu",t),ref:P,children:[(0,h.jsxs)(s.$,{...L,ariaLabel:I,ariaHasPopup:"menu",ariaExpanded:M,onClick:b?void 0:e=>{e.stopPropagation(),e.preventDefault(),d&&d(e),H(!M)},onPointerDown:b?e=>{U(!1),b&&!M&&(window.clearTimeout(F.current),F.current=window.setTimeout((()=>{F.current=0,U(!0),H(!0)}),f))}:void 0,onPointerUp:b?e=>{b&&(F.current&&!M?(window.clearTimeout(F.current),F.current=0,d&&d(e)):x||H(!M))}:void 0,className:j,dataAttribute:r,tooltip:M?void 0:A,active:O||M,children:[R,T&&(0,h.jsx)(a.I,{name:T}),_&&(0,h.jsx)("span",{className:"mp-nova-btn-label",children:_}),W&&(0,h.jsx)(a.I,{name:W}),N&&(0,h.jsx)(a.I,{className:"mp-nova-menu-indicator",name:"menu-indicator"})]}),(0,h.jsx)(p,{target:P.current,isOpen:M,xOffset:g,yOffset:v,placement:E,arrow:S,theme:y,className:u,onClose:G,children:l})]})}},56453:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var i=n(96540),r=n(32485),o=n.n(r),s=n(74848);function a(e){let{id:t,label:n,ariaLabel:r,className:a,checked:l,defaultChecked:c=!1,disabled:u=!1,onChange:d,onClick:h}=e;const p=void 0!==l,[f,m]=(0,i.useState)(!!c);(0,i.useEffect)((()=>{p||m(!!c)}),[c,p]);const g=p?l:f,v=o()(a,"mp-nova-checkbox",{"mp-nova-disabled":u},{"mp-nova-active":g});return(0,s.jsxs)("label",{className:v,htmlFor:t,onClick:h,children:[(0,s.jsx)("input",{className:"mp-nova-checkbox-input",id:t,type:"checkbox",role:"checkbox",tabIndex:u?void 0:0,disabled:u,checked:g,onChange:e=>{d&&d(e),p||m((e=>!e))},"aria-checked":g,"aria-disabled":u,"aria-label":r||n}),(0,s.jsx)("span",{className:"mp-nova-checkbox-checkmark"}),(0,s.jsx)("span",{className:"mp-nova-checkbox-label",children:n})]})}},81923:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(96540),r=n(32485),o=n.n(r);const s=function(e,t,n){return Math.max(t,Math.min(e,n))};var a=n(74848);const l=e=>{let{id:t,children:n,className:r,progress:l,innerRadius:c=15.92,startPosition:u=0,barWidth:d=1,ccw:h=!1,progressColor:p}=e;const f=(0,i.useId)(),m=t||`circle-progress-${f}`,{strokePattern:g,strokeOffset:v,drawRadius:y,viewBoxWidth:E,viewBoxOffset:S}=(0,i.useMemo)((()=>{const e=c+d/2,t=2*e*Math.PI,n=t*u,i=[t*s(l,0,100)/100,t-t*s(l,0,100)/100],r=2*(c+d);return{strokePattern:i,strokeOffset:n,drawRadius:e,viewBoxWidth:r,viewBoxOffset:r/2}}),[l,c,d,u]);return(0,a.jsxs)("svg",{id:m,className:o()("circular-progress",r),viewBox:`${-S} ${-S} ${E} ${E}`,children:[(0,a.jsx)("circle",{className:"bar-bg",cx:"0",cy:"0",r:y,transform:"rotate(-90) "+(h?"scale(-1 1)":""),strokeDasharray:`${g[1]} ${g[0]}`,strokeDashoffset:v-g[0],strokeWidth:d,fill:"none"}),(0,a.jsx)("circle",{className:p?void 0:"progress",cx:"0",cy:"0",r:y,transform:"rotate(-90) "+(h?"scale(-1 1)":""),strokeDasharray:`${g[0]} ${g[1]}`,strokeWidth:d,stroke:p,fill:"none"}),n]})}},28422:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var i=n(48270),r=n(19389),o=n(74771),s=n(5532),a=n(32485),l=n.n(a),c=n(74848);function u(e){let{variant:t=i.A.TERTIARY,tooltip:n,onClose:a,className:u,label:d,...h}=e;const p=(0,o.Ym)(),f=d||p.t(s.LH.REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE),m=d?void 0:f,g=h.icon||"close";return(0,c.jsx)(r.$,{className:l()("close-button",u),icon:g,ariaLabel:f,label:d,tooltip:m,variant:t,onKeyDown:function(e){a&&"Escape"===e.code&&(e.stopPropagation(),a(e))},onClick:a,...h})}},43960:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var i=n(96540),r=n(32485),o=n.n(r),s=n(74848);function a(e){let{children:t,className:n,onClose:r,testId:a,theme:l="light",stopKeyPropagation:c}=e;const u=(0,i.useRef)(null);(0,i.useEffect)((()=>(u.current&&u.current.focus(),()=>{})),[]);const d=e=>e.stopPropagation();const h=o()("mp-nova-dialog",n,{[`mp-nova-theme-${l}`]:void 0!==l});return(0,s.jsx)("dialog",{className:h,ref:u,onClick:d,onPointerDown:d,onPointerUp:d,onKeyDown:function(e){r&&"Escape"===e.code?(e.stopPropagation(),r()):c&&e.stopPropagation()},"data-testid":a,children:(0,s.jsx)(i.Suspense,{children:t})})}},40104:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var i=n(32485),r=n.n(i),o=n(16700),s=n(74848);function a(e){let{name:t,style:n,size:i,className:a,onClick:l,ref:c}=e;const u=(0,o.bt)("icon"),d=r()(`icon-${t}`,u,a,{[`nova-icon-${i}`]:void 0!==i});return(0,s.jsx)("span",{className:d,style:n,onClick:l,ref:c})}},23635:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});n(96540);var i=n(32485),r=n.n(i),o=n(74848);const s=e=>{let{className:t,href:n,children:i,onClick:s}=e;return(0,o.jsx)("a",{className:r()("link",t),href:n,target:"_blank",onClick:s,children:i})}},59206:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var i=n(32485),r=n.n(i),o=n(74848);function s(e){let{theme:t,style:n,size:i="small",placement:s="top",ref:a}=e;const l=r()("nova-popper-arrow",{[`nova-theme-${t}`]:void 0!==t,[`nova-size-${i}`]:void 0!==i});return(0,o.jsx)("div",{className:l,style:n,"data-popper-placement":s,ref:a})}},4933:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var i=n(96540),r=n(32485),o=n.n(r),s=n(74848);function a(e){let{children:t,className:n}=e;const r=(0,i.useCallback)((e=>{e.stopPropagation()}),[]);return(0,s.jsx)("div",{className:o()("settings-container settings-box",n),onClick:r,children:t})}},78835:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(32485),r=n.n(i),o=n(64123),s=n(74848);function a(e){let{onToggle:t,className:n,label:i,...a}=e;return(0,s.jsxs)("div",{className:r()("settings-toggle",n),children:[(0,s.jsx)("div",{className:"settings-label",children:i}),(0,s.jsx)(o.l,{...a,onToggle:()=>{t(!a.toggled)}})]})}},16700:(e,t,n)=>{"use strict";n.d(t,{XW:()=>l,bt:()=>c,cD:()=>o,y:()=>s});var i=n(96540),r=n(74848);let o=function(e){return e.AURA="aura",e.NOVA="nova",e}({});function s(e){let{theme:t,children:n}=e;return(0,r.jsx)(a.Provider,{value:t,children:n})}const a=(0,i.createContext)(o.NOVA);function l(){return(0,i.useContext)(a)}function c(e){return`${(0,i.useContext)(a)}-${e}`}},64123:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var i=n(74771),r=n(5532),o=n(32485),s=n.n(o),a=n(74848);function l(e){const{id:t,onToggle:n,labelledBy:o,className:l,onOffLabel:c=!1,enabled:u=!0,toggled:d,testId:h,labels:p}=e,f=(0,i.Ym)(),m=p?.on??f.t(r.LH.GENERIC.SETTING_ON),g=p?.off??f.t(r.LH.GENERIC.SETTING_OFF),v=d?m:g;return(0,a.jsxs)("div",{className:s()("reusable-toggle",l,{"toggle-on":d,"has-labels":c,enabled:u}),id:t,onClick:e=>{e.stopPropagation(),u&&n&&n(e,!d)},role:"checkbox","aria-checked":d,"aria-labelledby":o,"data-testid":h,children:[c&&(0,a.jsx)("span",{className:"toggle-label",children:v}),(0,a.jsx)("div",{className:"track",children:(0,a.jsx)("div",{className:"thumb"})})]})}},80855:(e,t,n)=>{"use strict";n.d(t,{m:()=>m});var i=n(96540),r=n(40961),o=n(13647),s=n(32485),a=n.n(s),l=n(84021),c=n(59206),u=n(74848);const d="PointerEvent"in window,h=d?"pointerenter":"mouseenter",p=d?"pointerleave":"mouseleave",f=e=>{let{children:t,strategy:n,container:i}=e;return"fixed"===n?(0,r.createPortal)(t,i):(0,u.jsx)(u.Fragment,{children:t})},m=e=>{let{children:t,offset:n,preventOverflow:r,placement:s="top",strategy:d="fixed",target:m,title:g,className:v,trigger:y="hover",size:E,theme:S,onToggle:b,disabled:_,sticky:O=!1,arrow:T=!0}=e;const[A,w]=(0,i.useState)(null),[N,I]=(0,i.useState)(null),[R,k]=(0,i.useState)("static"===y),L=n||("small"===E?[0,8]:[0,14]),{styles:P,attributes:D}=(0,o.E)(m,A,{placement:s,strategy:d,modifiers:T?[{name:"arrow",options:{element:N,padding:"small"===E?4:6}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:L}},{name:"preventOverflow",options:r}]:[{name:"flip"},{name:"hide"},{name:"offset",options:{offset:L}},{name:"preventOverflow",options:r}]}),M=(0,l.Q)(m),C=(0,i.useCallback)((()=>{k(!0),b&&b(!0)}),[b]),x=(0,i.useCallback)((()=>{k(!1),b&&b(!1)}),[b]),U=(0,i.useCallback)((e=>{e.stopPropagation(),x()}),[x]);if((0,i.useEffect)((()=>{k("static"===y)}),[y]),(0,i.useEffect)((()=>{if(m&&"hover"===y)return _||m.addEventListener(h,C),m.addEventListener(p,x),()=>{_||m.removeEventListener(h,C),m.removeEventListener(p,x)}}),[m,_,y,C,x]),(0,i.useEffect)((()=>{if(O)return;const e=e=>{if(m&&A){const t=e.composedPath(),n=!t.includes(m),i=!t.includes(A);n&&i&&x()}};return R&&y?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[m,A,R,y,x,O]),!R)return null;const F=a()("nova-tooltip",v,{[`nova-tooltip-${S}`]:void 0!==S,[`nova-tooltip-${E}`]:void 0!==E}),H=D.popper?D.popper["data-popper-placement"]:void 0;return(0,u.jsx)(f,{strategy:d,container:M,children:(0,u.jsxs)("div",{className:F,ref:w,role:"tooltip",style:P.popper,...D.popper,onClick:"static"===y?U:void 0,children:[g||t,T&&(0,u.jsx)(c.s,{ref:I,style:P.arrow,placement:H,size:E,theme:S})]})})}},16876:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var i=n(96540),r=n(32485),o=n.n(r),s=n(74848),a=function(e){return e.OPEN="open",e.UNLOADING="unloading",e.CLOSED="closed",e}(a||{});const l=(0,i.memo)((e=>{let{open:t,focus:n,selectChild:r,childKey:l,firstChild:c,children:u,className:d,style:h,onClick:p,onPointerDown:f,onPointerUp:m,onKeyDown:g,"aria-live":v,"aria-atomic":y}=e;const[E,S]=(0,i.useState)(t?a.OPEN:a.CLOSED),[b,_]=(0,i.useState)(r&&l?l:null),O=(0,i.useRef)(null),T=(0,i.useRef)(0),A=(0,i.useCallback)((()=>{O.current&&O.current.focus()}),[]),w=(0,i.useCallback)((e=>{e.target===e.currentTarget&&S((e=>e===a.UNLOADING?(window.clearTimeout(T.current),_(null),a.CLOSED):e))}),[]);(0,i.useEffect)((()=>{const e=O.current;return e?.addEventListener("transitioncancel",w),n&&A(),()=>{window.clearTimeout(T.current),e?.removeEventListener("transitioncancel",w)}}),[n,A,w]),(0,i.useEffect)((()=>{t?(window.clearTimeout(T.current),S(a.OPEN),_(r&&l?l:null)):(S(a.UNLOADING),window.clearTimeout(T.current),T.current=window.setTimeout((()=>{S((e=>e===a.UNLOADING?(_(null),a.CLOSED):e))}),1e3))}),[t,l,r]);const N=(0,i.useCallback)((e=>{e.target===e.currentTarget&&S((e=>e===a.UNLOADING?(window.clearTimeout(T.current),_(null),a.CLOSED):e))}),[]),I=(0,i.useCallback)((()=>E===a.CLOSED||r&&!b?null:r?u&&Array.isArray(u)&&u.length&&u.find((e=>e&&e.key===b))||null:u),[E,r,b,u]),R=o()({unloading:E===a.UNLOADING},d);return(0,s.jsxs)("div",{ref:O,className:R,style:h,onTransitionEnd:N,onClick:p,onPointerDown:f,onPointerUp:m,onKeyDown:g,tabIndex:n?0:void 0,"aria-live":v,"aria-atomic":y,children:[c||null,I()]})}))},84021:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var i=n(96540);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#react-overlay-root";return(0,i.useMemo)((()=>{const n=e?e.getRootNode():document;return n.querySelector(t)||n.body||n.firstElementChild}),[e,t])}},72909:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,F:()=>s});var i=n(96540),r=n(69304);function o(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=a(e,d));e.prototype.shouldComponentUpdate=c}function s(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=a(e,r.E7));e.prototype.shouldComponentUpdate=u}function a(e,t){class n extends l{}return n.prototype.renderChild=e,n.prototype.diffFunc=t,n}class l extends i.Component{shouldComponentUpdate(e){return this.diffFunc(e,this.props)}render(){return this.renderChild(this.props,this.context)}}function c(e,t){return d(e,this.props)||d(t,this.state)}function u(e,t){return d(e,this.props)||(0,r.E7)(t,this.state)}function d(e,t){for(const n in e)if(e[n]!==t[n])return!0;for(const n in t)if(!(n in e))return!0;return!1}},32485:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var a in n)i.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},31863:(e,t,n)=>{"use strict";const i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0,r=e=>async(t,n)=>{"string"==typeof t&&(t=(new i.TextEncoder).encode(t)),n={outputFormat:"hex",...n};const r=await i.crypto.subtle.digest(e,t);return"hex"===n.outputFormat?(e=>{const t=new DataView(e);let n="";for(let e=0;e<t.byteLength;e+=4)n+=t.getUint32(e).toString(16).padStart(8,"0");return n})(r):r};t.e8=r("SHA-1"),t.sc=r("SHA-256"),r("SHA-384"),r("SHA-512")},30041:(e,t,n)=>{"use strict";var i=n(30655),r=n(58068),o=n(69675),s=n(75795);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!s&&s(e,t);if(i)i(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===a&&d?d.enumerable:!a,value:n,writable:null===l&&d?d.writable:!l});else{if(!u&&(a||l||c))throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},30655:(e,t,n)=>{"use strict";var i=n(47239)("%Object.defineProperty%",!0)||!1;if(i)try{i({},"a",{value:1})}catch(e){i=!1}e.exports=i},88059:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},26389:(e,t,n)=>{"use strict";var i=n(88059);e.exports=Function.prototype.bind||i},47239:(e,t,n)=>{"use strict";var i,r=n(69383),o=n(41237),s=n(79290),a=n(79538),l=n(58068),c=n(69675),u=n(35345),d=Function,h=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var f=function(){throw new c},m=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(e){return f}}}():f,g=n(50957)(),v=n(80024)(),y=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),E={},S="undefined"!=typeof Uint8Array&&y?y(Uint8Array):i,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":g&&y?y([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&y?y(y([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&y?y((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&y?y((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&y?y(""[Symbol.iterator]()):i,"%Symbol%":g?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":S,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(y)try{null.error}catch(e){var _=y(y(e));b["%Error.prototype%"]=_}var O=function e(t){var n;if("%AsyncFunction%"===t)n=h("async function () {}");else if("%GeneratorFunction%"===t)n=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=h("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&y&&(n=y(r.prototype))}return b[t]=n,n},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=n(26389),w=n(11411),N=A.call(Function.call,Array.prototype.concat),I=A.call(Function.apply,Array.prototype.splice),R=A.call(Function.call,String.prototype.replace),k=A.call(Function.call,String.prototype.slice),L=A.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,M=function(e,t){var n,i=e;if(w(T,i)&&(i="%"+(n=T[i])[0]+"%"),w(b,i)){var r=b[i];if(r===E&&(r=O(i)),void 0===r&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return R(e,P,(function(e,t,n,r){i[i.length]=n?R(r,D,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",r=M("%"+i+"%",t),o=r.name,s=r.value,a=!1,u=r.alias;u&&(i=u[0],I(n,N([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=k(f,0,1),g=k(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&h||(a=!0),w(b,o="%"+(i+="."+f)+"%"))s=b[o];else if(null!=s){if(!(f in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=n.length){var v=p(s,f);s=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[f]}else h=w(s,f),s=s[f];h&&!a&&(b[o]=s)}}return s}},50957:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(95279);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},95279:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},11411:(e,t,n)=>{"use strict";var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=n(26389);e.exports=o.call(i,r)},41237:e=>{"use strict";e.exports=EvalError},69383:e=>{"use strict";e.exports=Error},79290:e=>{"use strict";e.exports=RangeError},79538:e=>{"use strict";e.exports=ReferenceError},58068:e=>{"use strict";e.exports=SyntaxError},69675:e=>{"use strict";e.exports=TypeError},35345:e=>{"use strict";e.exports=URIError},5388:(e,t,n)=>{"use strict";var i=n(69675);e.exports=function(e){if(null==e)throw new i(arguments.length>0&&arguments[1]||"Cannot call method on "+e);return e}},32017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var s=o[r];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},89353:e=>{"use strict";var t=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==n.call(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var r,o=t.call(arguments,1),s=Math.max(0,i.length-o.length),a=[],l=0;l<s;l++)a.push("$"+l);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var n=i.apply(this,o.concat(t.call(arguments)));return Object(n)===n?n:this}return i.apply(e,o.concat(t.call(arguments)))})),i.prototype){var c=function(){};c.prototype=i.prototype,r.prototype=new c,c.prototype=null}return r}},66743:(e,t,n)=>{"use strict";var i=n(89353);e.exports=Function.prototype.bind||i},54664:(e,t,n)=>{"use strict";function i(e,t=!1){let n=0;for(let t=0,i=e.length;t<i;t++){const r=e[t],o=e[t===i-1?0:t+1];n+=r[0]*o[1],n-=o[0]*r[1]}return t?n/2:Math.abs(n/2)}n.d(t,{A:()=>i})},28172:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var i=n(38523),r=n(8004);function o(e,t){const[[n,i],[o,s]]=e,[[a,l],[c,u]]=t;if(n===a&&i===l)return!0;if(o===c&&s===u)return!0;if((0,r.kW)(e[0],t)||(0,r.kW)(e[1],t))return!0;if((0,r.kW)(t[0],e)||(0,r.kW)(t[1],e))return!0;const d=(u-l)*(o-n)-(c-a)*(s-i);if(0===d)return!1;const h=i-l,p=n-a,f=((c-a)*h-(u-l)*p)/d,m=((o-n)*h-(s-i)*p)/d;return f>0&&f<1&&m>0&&m<1}function s(e,t){let n=!1;const s=(0,i.V)(t);for(let t=0,i=s.length-1;t<i;t++){const i=s[t],a=s[t+1];if(o(e,[i,a])||(0,r.kW)(i,e)&&(0,r.kW)(a,e)){n=!0;break}}return n}},15854:(e,t,n)=>{"use strict";function i(e,t){let n=e[0],i=e[1],r=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){const s=t[e][0],a=t[e][1],l=t[o][0],c=t[o][1];a>i!=c>i&&n<(l-s)*(i-a)/(c-a)+s&&(r=!r)}return r}n.d(t,{s:()=>i})},8004:(e,t,n)=>{"use strict";function i(e){return Math.sqrt(Math.pow(e[1][0]-e[0][0],2)+Math.pow(e[1][1]-e[0][1],2))}function r(e,t,n=0){const r=i(t);return function(e,t,n=0){return Math.abs((i=e,r=t[0],o=t[1],(i[0]-o[0])*(r[1]-o[1])-(i[1]-o[1])*(r[0]-o[0])))<=n;var i,r,o}(e,t,n)&&i([t[0],e])<=r&&i([t[1],e])<=r}n.d(t,{kW:()=>r})},38523:(e,t,n)=>{"use strict";function i(e){return function(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]}(e)?e:[...e,e[0]]}n.d(t,{V:()=>i})},70453:(e,t,n)=>{"use strict";var i,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(64039)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?i:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=h(r.prototype))}return m[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(66743),E=n(19030),S=y.call(Function.call,Array.prototype.concat),b=y.call(Function.apply,Array.prototype.splice),_=y.call(Function.call,String.prototype.replace),O=y.call(Function.call,String.prototype.slice),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,w=function(e,t){var n,i=e;if(E(v,i)&&(i="%"+(n=v[i])[0]+"%"),E(m,i)){var o=m[i];if(o===p&&(o=g(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var n=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return _(e,T,(function(e,t,n,r){i[i.length]=n?_(r,A,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",o=w("%"+i+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(i=d[0],b(n,S([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],g=O(f,0,1),v=O(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),E(m,a="%"+(i+="."+f)+"%"))c=m[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=E(c,f),c=c[f];p&&!u&&(m[a]=c)}}return c}},75795:(e,t,n)=>{"use strict";var i=n(1219)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},1219:(e,t,n)=>{"use strict";var i,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(23009)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?i:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};try{null.error}catch(e){var g=h(h(e));m["%Error.prototype%"]=g}var v=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=h(r.prototype))}return m[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=n(66743),S=n(19030),b=E.call(Function.call,Array.prototype.concat),_=E.call(Function.apply,Array.prototype.splice),O=E.call(Function.call,String.prototype.replace),T=E.call(Function.call,String.prototype.slice),A=E.call(Function.call,RegExp.prototype.exec),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,I=function(e,t){var n,i=e;if(S(y,i)&&(i="%"+(n=y[i])[0]+"%"),S(m,i)){var o=m[i];if(o===p&&(o=v(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=T(e,0,1),n=T(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return O(e,w,(function(e,t,n,r){i[i.length]=n?O(r,N,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",o=I("%"+i+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(i=d[0],_(n,b([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],g=T(f,0,1),v=T(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),S(m,a="%"+(i+="."+f)+"%"))c=m[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=S(c,f),c=c[f];p&&!u&&(m[a]=c)}}return c}},23009:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(38547);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},38547:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},17246:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteExternalAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteExternalAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemoveFileAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeFileAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FileAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bytes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mimeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"downloadUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageFileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageHeight"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ExternalAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExternalAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}}],loc:{start:0,end:1139}};t.loc.source={body:"\n# Deletes a single external attachment\nmutation DeleteExternalAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  deleteExternalAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\n# Removes a file attachment association from the annotation it is attached to.\n# Can delete the file attachment completely if the 'cascadeDelete' flag is set to true (not currently used)\nmutation RemoveFileAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  removeFileAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\nfragment FileAttachmentDetails on FileAttachment {\n  id\n  created\n  filename\n  url\n  validUntil\n  bytes\n  mimeType\n  downloadUrl\n  ...on ImageFileAttachment {\n      imageWidth\n      imageHeight\n  }\n}\n\n# common External Attachment properties\nfragment ExternalAttachmentDetails on ExternalAttachment {\n  id\n  created\n  modified\n  thumbnailUrl\n  url\n  mediaType\n  width\n  height\n  parentDetails { type, parent { id } }\n  category\n  validUntil\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.DeleteExternalAttachment=o(t,"DeleteExternalAttachment"),e.exports.RemoveFileAttachment=o(t,"RemoveFileAttachment"),e.exports.FileAttachmentDetails=o(t,"FileAttachmentDetails"),e.exports.ExternalAttachmentDetails=o(t,"ExternalAttachmentDetails")},98585:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFloors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelFloors"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelFloors"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloorDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FloorDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelFloor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"units"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"view"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchFloor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"floorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FloorPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchFloor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"floorId"},value:{kind:"Variable",name:{kind:"Name",value:"floorId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:519}};t.loc.source={body:"query GetFloors($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelFloors\n  }\n}\n\nfragment ModelFloors on Model {\n  floors { ...FloorDetails }\n}\n\nfragment FloorDetails on ModelFloor {\n  id\n  meshId\n  classification\n  label\n  sequence\n  dimensions {\n    areaFloor\n    units\n  }\n  layer {\n    views {\n      view {\n        type\n        id\n      }\n    }\n  }\n}\n\nmutation PatchFloor($modelId: ID!, $floorId: ID!, $data: FloorPatch!) {\n  patchFloor(modelId: $modelId, , floorId: $floorId, patch: $data) {\n    id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetFloors=o(t,"GetFloors"),e.exports.ModelFloors=o(t,"ModelFloors"),e.exports.FloorDetails=o(t,"FloorDetails"),e.exports.PatchFloor=o(t,"PatchFloor")},96069:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelDetails"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelPatch"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LabelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Label"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:1042}};t.loc.source={body:"# Read all labels for the given model\nquery GetLabels($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    labels (includeDisabled: $includeDisabled) {\n      ...LabelDetails\n    }\n  }\n}\n\n# Create a new label\nmutation AddLabel ($modelId: ID!, $labelId: ID, $data: LabelDetails!, $includeLayers: Boolean!) {\n  addLabel(modelId: $modelId, labelId: $labelId, label: $data) {\n    ...LabelDetails\n  }\n}\n\n# Update a single label\nmutation PatchLabel ($modelId: ID!, $labelId: ID!, $data: LabelPatch!, $includeLayers: Boolean!) {\n  patchLabel(modelId: $modelId, , labelId: $labelId, patch: $data) {\n    ...LabelDetails\n  }\n}\n\n# Deletes a single label\nmutation DeleteLabel ($modelId: ID!, ,$labelId: ID!) {\n  deleteLabel(modelId: $modelId, labelId: $labelId)\n}\n\n# Default Label properties used by Showcase and Workshop\nfragment LabelDetails on Label {\n  id\n  position { x y z }\n  floor { id meshId }\n  room { id meshId }\n  layer @include(if: $includeLayers) { id }\n  label\n  enabled\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetLabels=o(t,"GetLabels"),e.exports.AddLabel=o(t,"AddLabel"),e.exports.PatchLabel=o(t,"PatchLabel"),e.exports.DeleteLabel=o(t,"DeleteLabel"),e.exports.LabelDetails=o(t,"LabelDetails")},92711:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedListByName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedListWithLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderedListDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OrderedList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EntryDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:1324}};t.loc.source={body:"\n# get the ordered lists for the specified model\nquery GetOrderedLists($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    orderedLists(ids: []) {\n      ...OrderedListDetails\n    }\n  }\n}\n\n# get an ordered list by name for the specified view\nquery GetOrderedListByName($modelId: ID!, $label: String!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    orderedLists(label: $label) {\n      ...OrderedListDetails\n    }\n  }\n}\n\n# add a new ordered list\nmutation AddOrderedList($modelId: ID!, $label: String!, $description: String!, $entries: [EntryInput!], $includeLayers: Boolean!) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, entries: $entries) {\n    ...OrderedListDetails\n  }\n}\n\nmutation AddOrderedListWithLayer($modelId: ID!, $label: String!, $description: String!, $layerId: ID!, $entries: [EntryInput!], $includeLayers: Boolean!) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, layerId: $layerId, entries: $entries) {\n    ...OrderedListDetails\n  }\n}\n\n# Default OrderedList properties used by Showcase and Workshop\nfragment OrderedListDetails on OrderedList {\n  id\n  label\n  layer @include(if: $includeLayers) { id }\n  entries {\n    ...EntryDetails\n  }\n}\n\n# Default Entry properties\nfragment EntryDetails on Entry {\n  id\n  type\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetOrderedLists=o(t,"GetOrderedLists"),e.exports.GetOrderedListByName=o(t,"GetOrderedListByName"),e.exports.AddOrderedList=o(t,"AddOrderedList"),e.exports.AddOrderedListWithLayer=o(t,"AddOrderedListWithLayer"),e.exports.OrderedListDetails=o(t,"OrderedListDetails"),e.exports.EntryDetails=o(t,"EntryDetails")},27140:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMattertags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RefreshTagFileAttachments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MattertagDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertag"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MattertagDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mattertag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchorPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stemNormal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"media"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"objectAnnotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultKeywords"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]}]}}],loc:{start:0,end:1529}};i.loc.source={body:'#import "./attachments.gql"\n\n# read all mattertags for the specified model\nquery GetMattertags($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      ...MattertagDetails\n    }\n  }\n}\n\n# refresh file attachment expiring resources for all mattertags\nquery RefreshTagFileAttachments($modelId: ID!, $includeDisabled: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      id\n      fileAttachments { ...FileAttachmentDetails }\n    }\n  }\n}\n\n# add a new mattertag\nmutation AddMattertag($modelId:ID!, $mattertagId: ID, $data: MattertagDetails!) {\n  addMattertag(modelId: $modelId, mattertagId: $mattertagId, mattertag: $data) {\n    id\n    created\n    modified\n  }\n}\n\n# delete an existing tag by id\nmutation DeleteMattertag($modelId: ID!, $mattertagId: ID!) {\n  deleteMattertag(modelId: $modelId, mattertagId: $mattertagId)\n}\n\n# common Mattertag properties used by Showcase and Workshop\nfragment MattertagDetails on Mattertag {\n  id\n  label\n  description\n  color\n  enabled\n  floor { id, meshId }\n  room { id, meshId }\n  layer @include(if: $includeLayers) { id } \n  anchorPosition { x y z }\n  stemEnabled\n  stemNormal { x, y, z }\n  stemLength\n  media\n  mediaType\n  created\n  modified\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n  objectAnnotation {\n    id\n    classification {\n      defaultKeywords\n    }\n  }\n  keywords\n  icon\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(n(17246).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.GetMattertags=l(i,"GetMattertags"),e.exports.RefreshTagFileAttachments=l(i,"RefreshTagFileAttachments"),e.exports.AddMattertag=l(i,"AddMattertag"),e.exports.DeleteMattertag=l(i,"DeleteMattertag"),e.exports.MattertagDetails=l(i,"MattertagDetails")},64639:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMeasurements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeasurementDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPath"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lineType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:903}};t.loc.source={body:"\nquery GetMeasurements($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    measurementPaths(includeDisabled: $includeDisabled) {\n      ...MeasurementDetails\n    }\n  }\n}\n\nmutation AddMeasurement($modelId: ID!, $data: MeasurementPathDetails!) {\n  addMeasurementPath(modelId: $modelId, path: $data) {\n    id\n  }\n}\n\nmutation PatchMeasurement($modelId: ID!, $pathId: ID!, $data: MeasurementPathPatch!) {\n  patchMeasurementPath(modelId: $modelId, , pathId: $pathId, patch: $data) {\n    id\n  }\n}\n\nmutation DeleteMeasurement($modelId: ID!, $pathId: ID!) {\n  deleteMeasurementPath(modelId: $modelId, , pathId: $pathId)\n}\n\nfragment MeasurementDetails on MeasurementPath {\n  id\n  lineType\n  label\n  enabled\n  points {\n    position { x y z }\n    floor { id meshId }\n    room { id meshId }\n  }\n  layer @include(if: $includeLayers) { id }\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetMeasurements=o(t,"GetMeasurements"),e.exports.AddMeasurement=o(t,"AddMeasurement"),e.exports.PatchMeasurement=o(t,"PatchMeasurement"),e.exports.DeleteMeasurement=o(t,"DeleteMeasurement"),e.exports.MeasurementDetails=o(t,"MeasurementDetails")},14991:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"compositeViews"},name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.composite",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discoverable"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ListingDetails"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"published"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultViewId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contact"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelAvailableAssets"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meshes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"formats"},value:{kind:"StringValue",value:"dam",block:!1}},{kind:"Argument",name:{kind:"Name",value:"resolutions"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"50k",block:!1},{kind:"StringValue",value:"500k",block:!1}]}},{kind:"Argument",name:{kind:"Name",value:"compressions"},value:{kind:"EnumValue",value:"none"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeshDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"textures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextureDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tilesets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TilesetDetails"},directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"lod"},name:{kind:"Name",value:"policy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"spaces.chunked.mesh.lod",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelStatus"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeshDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mesh"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextureDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Texture"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TilesetDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tileset"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetPreset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ListingDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"externalListings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"listingId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listingType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homesPropertyKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1604}};t.loc.source={body:'# Publicly available model details. Must not contain any private fields.\nfragment ModelDetails on Model {\n  id\n  rootModelId\n  compositeViews: views(types: ["matterport.model.composite"]) {\n    id\n  }\n  name\n  visibility\n  discoverable\n  ...ModelStatus\n  image { ...PhotoDetails }\n  publication { ...PublicationDetails }\n  options {\n    urlBrandingEnabled\n    socialSharingEnabled\n    vrEnabled\n  }\n  ...ListingDetails\n}\n\nfragment PublicationDetails on ModelPublicationDetails {\n  address\n  published\n  lastPublished\n  presentedBy\n  summary\n  defaultViewId\n  description\n  externalUrl\n  contact {\n    name\n    email\n    phoneNumber\n  }\n}\n\nfragment ModelAvailableAssets on Model {\n  id\n  rootModelId\n  ...ModelStatus\n  assets {\n    meshes(formats: "dam", resolutions: ["50k", "500k"], compressions: none) { ...MeshDetails }\n    textures { ...TextureDetails }\n    tilesets { ...TilesetDetails }\n  }\n  lod: policy(name: "spaces.chunked.mesh.lod") {\n    ... on PolicyOptions {\n      options\n    }\n  }\n}\n\nfragment ModelStatus on Model {\n  state\n}\n\nfragment MeshDetails on Mesh {\n  id\n  status\n  filename\n  format\n  resolution\n  url\n  validUntil\n  model { id }\n  layer { id }\n}\n\nfragment TextureDetails on Texture {\n  id\n  status\n  format\n  resolution\n  quality\n  urlTemplate\n  validUntil\n  model { id }\n  layer { id }\n}\n\nfragment TilesetDetails on Tileset {\n  status\n  tilesetVersion\n  url\n  urlTemplate\n  validUntil\n  tilesetDepth\n  tilesetPreset\n  model { id }\n  layer { id }\n}\n\nfragment ListingDetails on Model {\n  externalListings {\n    listingId\n    listingType\n    listingUrl\n    homesPropertyKey\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.ModelDetails=o(t,"ModelDetails"),e.exports.PublicationDetails=o(t,"PublicationDetails"),e.exports.ModelAvailableAssets=o(t,"ModelAvailableAssets"),e.exports.ModelStatus=o(t,"ModelStatus"),e.exports.MeshDetails=o(t,"MeshDetails"),e.exports.TextureDetails=o(t,"TextureDetails"),e.exports.TilesetDetails=o(t,"TilesetDetails"),e.exports.ListingDetails=o(t,"ListingDetails")},82038:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelPlayerOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationOptions"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelOptions"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defurnishViewEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseLabelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorSelectEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorplanEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highlightReelEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roomBoundsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"spaceSearchEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourButtonsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourDollhousePanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourFastTransitionsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanAngle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourZoomDuration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unitType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelSummary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]}]}}],loc:{start:0,end:854}};t.loc.source={body:"# Model fields to populate PlayerOptions\nfragment ModelPlayerOptions on Model {\n  publication {\n    options { ...PublicationOptions }\n  }\n  options { ...ModelOptions }\n}\n\nfragment ModelOptions on ModelOptions {\n  backgroundColor\n  defurnishViewEnabled\n  dollhouseEnabled\n  dollhouseLabelsEnabled\n  floorSelectEnabled\n  floorplanEnabled\n  highlightReelEnabled\n  labelsEnabled\n  measurements\n  roomBoundsEnabled\n  socialSharingEnabled\n  spaceSearchEnabled\n  tourButtonsEnabled\n  tourDollhousePanSpeed\n  tourFastTransitionsEnabled\n  tourPanAngle\n  tourPanDirection\n  tourPanSpeed\n  tourTransitionSpeed\n  tourTransitionTime\n  tourZoomDuration\n  unitType\n  urlBrandingEnabled\n  vrEnabled\n}\n\nfragment PublicationOptions on ModelPublicationOptions {\n  contactEmail\n  contactName\n  contactPhone\n  modelName\n  modelSummary\n  presentedBy\n  address\n  externalUrl\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.ModelPlayerOptions=o(t,"ModelPlayerOptions"),e.exports.ModelOptions=o(t,"ModelOptions"),e.exports.PublicationOptions=o(t,"PublicationOptions")},25e3:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlayLayerExists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"overlayLayers"},name:{kind:"Name",value:"layers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.overlay.assets",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlayViewIds"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"defurnishViews"},name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"StringValue",value:"matterport.model.defurnished",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"onError"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"not.found",block:!1}},{kind:"Argument",name:{kind:"Name",value:"null"},value:{kind:"BooleanValue",value:!0}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:529}};t.loc.source={body:'\n# presence of overlay layers hints the current loaded view has alternate sweeps (Defunrnish)\nfragment OverlayLayerExists on Model {\n  overlayLayers: layers(types: ["matterport.overlay.assets"]) {\n    id\n  }\n}\n\n# we need both base and defurnish view id\'s in order to manually sync position/placement writes across\nfragment OverlayViewIds on Model {\n  rootModelId\n  # defurnish view, if exists\n  defurnishViews: views(types: "matterport.model.defurnished") @onError(id: "not.found", null: true) {\n    model {\n      id\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.OverlayLayerExists=o(t,"OverlayLayerExists"),e.exports.OverlayViewIds=o(t,"OverlayViewIds")},10600:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PhotoDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"downloadUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"thumbnailUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"thumbnail"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"presentationUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"presentation"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"zoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorVisibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"showExterior"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:646}};t.loc.source={body:"\nfragment PhotoDetails on Photo {\n  id\n  label\n  classification\n  category\n  model {\n    id\n    rootModelId\n  }\n  height\n  width\n  created\n  modified\n  status\n  filename\n  format\n  url\n  downloadUrl\n  resolutions\n  type\n  origin\n  validUntil\n  thumbnailUrl: resizeUrl(resolution: thumbnail)\n  presentationUrl: resizeUrl(resolution: presentation)\n  snapshotLocation {\n    viewMode\n    position { x y z }\n    rotation { x y z w }\n    zoom\n    floorVisibility {\n      id\n      meshId\n      sequence\n    }\n    anchor {\n      id\n      tags\n      pano {\n        id\n        placement\n      }\n      room {\n        id\n      }\n    }\n    showExterior\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.PhotoDetails=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(t,"PhotoDetails")},9192:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPlugins"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sdkPlugins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PluginDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePlugin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSdkPlugin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePlugin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"patch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SdkPluginPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSdkPlugin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"patch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PluginDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PluginDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SdkPlugin"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredPolicies"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}],loc:{start:0,end:764}};i.loc.source={body:'#import "./attachments.gql"\n\n# read all plugins for the specified model\nquery GetPlugins($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    sdkPlugins {\n      ...PluginDetails\n    }\n  }\n}\n\n# delete an existing plugin by id\nmutation DeletePlugin($modelId: ID!, $name: String!) {\n  deleteSdkPlugin(modelId: $modelId, name: $name)\n}\n\nmutation UpdatePlugin($modelId: ID!, $name: String!, $patch: SdkPluginPatch!) {\n  updateSdkPlugin(\n    modelId: $modelId\n    name: $name\n    patch: $patch\n  ) {\n    ...PluginDetails\n  }\n}\n\n# common Plugin properties used by Showcase and Workshop\nfragment PluginDetails on SdkPlugin {\n  id\n  name\n  currentVersion\n  description\n  versions {\n    version\n    requiredPolicies\n  }\n  fileAttachments {\n    ...FileAttachmentDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(n(17246).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.GetPlugins=l(i,"GetPlugins"),e.exports.DeletePlugin=l(i,"DeletePlugin"),e.exports.UpdatePlugin=l(i,"UpdatePlugin"),e.exports.PluginDetails=l(i,"PluginDetails")},3718:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPolicies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelPolicies"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelPolicies"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"names"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"spaces.tours_v2",block:!1},{kind:"StringValue",value:"spaces.notes",block:!1},{kind:"StringValue",value:"spaces.visitor.subscriber.prompt",block:!1},{kind:"StringValue",value:"spaces.webgl.layers.mode",block:!1},{kind:"StringValue",value:"spaces.elements",block:!1},{kind:"StringValue",value:"spaces.chunked.mesh.lod",block:!1},{kind:"StringValue",value:"spaces.camera_removal",block:!1},{kind:"StringValue",value:"org.spaces.auto_tour",block:!1},{kind:"StringValue",value:"org.csgp.propertymatch.logo",block:!1},{kind:"StringValue",value:"org.csgp.propertymatch.tracking",block:!1},{kind:"StringValue",value:"org.csgp.propertymatch.backlink",block:!1},{kind:"StringValue",value:"org.spaces.exterior_views",block:!1},{kind:"StringValue",value:"spaces.aws.twinmaker.sdk.access",block:!1},{kind:"StringValue",value:"spaces.sdk.qa",block:!1},{kind:"StringValue",value:"spaces.plugins",block:!1},{kind:"StringValue",value:"spaces.plugins.config",block:!1},{kind:"StringValue",value:"spaces.plugins.debug",block:!1},{kind:"StringValue",value:"spaces.plugins.groups",block:!1},{kind:"StringValue",value:"org.spaces.importtags",block:!1},{kind:"StringValue",value:"perm.spaces.workshop.edit",block:!1},{kind:"StringValue",value:"spaces.bundles.mp.defurnish",block:!1},{kind:"StringValue",value:"perm.spaces.notes.view",block:!1},{kind:"StringValue",value:"perm.spaces.notes.edit",block:!1},{kind:"StringValue",value:"perm.spaces.notes.delete",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFlag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFeature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1508}};t.loc.source={body:'\n# get model policies available to all users\nquery GetModelPolicies($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelPolicies\n  }\n}\n\nfragment ModelPolicies on Model {\n  # Subset of policies used by our apps\n  # NOTE: in Showcase these will be prefetched as anonymous, so user-specific\n  # policy values cannot be used there unless you explicitly requery them.\n  policies(names: [\n    # Model-level:\n    "spaces.tours_v2",\n    "spaces.notes",\n    "spaces.visitor.subscriber.prompt",\n    "spaces.webgl.layers.mode",\n    "spaces.elements",\n    "spaces.chunked.mesh.lod",\n    "spaces.camera_removal",\n\n    # Org-level:\n    "org.spaces.auto_tour",\n    "org.csgp.propertymatch.logo",\n    "org.csgp.propertymatch.tracking",\n    "org.csgp.propertymatch.backlink",\n    "org.spaces.exterior_views",\n\n\n    # SDK/Plugins:\n    "spaces.aws.twinmaker.sdk.access",\n    "spaces.sdk.qa",\n    "spaces.plugins",\n    "spaces.plugins.config",\n    "spaces.plugins.debug",\n    "spaces.plugins.groups",\n\n    # workshop plugin enablement\n    "org.spaces.importtags",\n\n    # Known to vary by user - will not exist if user is not logged in\n    "perm.spaces.workshop.edit",\n    "spaces.bundles.mp.defurnish",\n    "perm.spaces.notes.view",\n    "perm.spaces.notes.edit",\n    "perm.spaces.notes.delete",\n  ]) {\n    name\n    type: __typename\n    ...on PolicyFlag {\n      enabled\n    }\n    ...on PolicyOptions {\n      options\n    }\n    ...on PolicyValue {\n      value\n    }\n    ...on PolicyFeature {\n      availability\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetModelPolicies=o(t,"GetModelPolicies"),e.exports.ModelPolicies=o(t,"ModelPolicies")},3073:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sweepTags"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},defaultValue:{kind:"ListValue",values:[{kind:"StringValue",value:"showcase",block:!1}]},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"view"},value:{kind:"EnumValue",value:"default"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelAvailableAssets"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayLayerExists"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayViewIds"},directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tags"},value:{kind:"Variable",name:{kind:"Name",value:"sweepTags"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublicModelViews"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRootPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewLookup"}},type:{kind:"NamedType",name:{kind:"Name",value:"ViewLookupMode"}},defaultValue:{kind:"EnumValue",value:"root"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"view"},value:{kind:"Variable",name:{kind:"Name",value:"viewLookup"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelDetails"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelPlayerOptions"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelFloors"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelRooms"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelPolicies"},directives:[]}]}}]}}],loc:{start:0,end:1747}};i.loc.source={body:'# Make sure the following imports do not import files themselves, it seems\n# to mess up the platform side parsing. That is why you see these\n# -fragment.gql files below.\n\n#import "./model-fragments.gql"\n#import "./model-options-fragments.gql"\n#import "./photo-fragments.gql"\n#import "./floors.gql"\n#import "./rooms.gql"\n#import "./overlay-fragments.gql"\n#import "./sweeps-fragments.gql"\n#import "./view-fragments.gql"\n#import "./policy.gql"\n\n# Preloaded model data to be embedded into Showcase HTML page,\n# only load data that is required for Showcase to start,\n# not varied by user, and safe for long-term-cache type behavior.\n# Includes the default view.\n# (ie. NO Mattertags)\nquery GetModelPrefetch($modelId: ID!, $sweepTags: [String!] = ["showcase"]) {\n  model(id: $modelId, view: default) {\n    # MdsModelAssetsStore\n    ...ModelAvailableAssets\n    ...OverlayLayerExists\n    ...OverlayViewIds\n\n    # MdsSweepStore\n    # an alternative that lets me pass $sweepTags: null to get all sweeps\n    # in a workshop context\n    locations(tags: $sweepTags) {\n      ...AnchorLocationDetails\n    }\n\n    # LayersData.views - filtered to public only\n    ...PublicModelViews\n  }\n}\n\nquery GetRootPrefetch($modelId: ID!, $viewLookup: ViewLookupMode = root) {\n  model(id: $modelId, view: $viewLookup) {\n    # MdsModelStore\n    ...ModelDetails\n\n    # MdsPlayerOptionsStore\n    # adds to the subset from the ModelDetails fragment\n    ...ModelPlayerOptions\n\n    # MdsFloorStore\n    ...ModelFloors\n\n    # MdsRoomStore\n    ...ModelRooms\n\n    # MdsPolicyStore\n    # Policy values here will always be those for anonymous users; if any of them vary by\n    # user and we care about them in Showcase, they\'ll need to be explicitly requeried.\n    ...ModelPolicies\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}i.definitions=i.definitions.concat(o(n(14991).definitions)),i.definitions=i.definitions.concat(o(n(82038).definitions)),i.definitions=i.definitions.concat(o(n(10600).definitions)),i.definitions=i.definitions.concat(o(n(98585).definitions)),i.definitions=i.definitions.concat(o(n(26172).definitions)),i.definitions=i.definitions.concat(o(n(25e3).definitions)),i.definitions=i.definitions.concat(o(n(77583).definitions)),i.definitions=i.definitions.concat(o(n(31595).definitions)),i.definitions=i.definitions.concat(o(n(3718).definitions));var a={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetModelPrefetch=c(i,"GetModelPrefetch"),e.exports.GetRootPrefetch=c(i,"GetRootPrefetch")},32126:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRoomBounds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeUsed"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vertices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"centerLineBias"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thickness"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"openings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relativeCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lowerElevation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"classifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidence"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"boundary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"holes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"dimensionEstimates"},arguments:[{kind:"Argument",name:{kind:"Name",value:"units"},value:{kind:"EnumValue",value:"metric"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaIndoor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaIndoorWithWalls"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"units"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"ceiling"},arguments:[{kind:"Argument",name:{kind:"Name",value:"units"},value:{kind:"EnumValue",value:"metric"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"planes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"measurements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bottom"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"maxHeight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minHeight"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRoomClassifications"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomClassifications"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RoomClassifications"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roomClassifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultKeywords"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1287}};t.loc.source={body:"query GetRoomBounds($modelId: ID!) {\n  model(id: $modelId) {\n    floors {\n      id\n      layer { id }\n      edges(includeUsed: true) {\n        id\n        layer { id }\n        type\n        vertices { id layer { id } position { x y }}\n        centerLineBias\n        thickness\n        openings {\n          id\n          width\n          relativeCenter\n          type\n          height\n          lowerElevation\n          layer { id }\n          label\n          metadata { key, value }\n        }\n      }\n    }\n    rooms {\n      id\n      layer { id }\n      floor { id }\n      classifications {\n        id\n        confidence\n        label\n      }\n      boundary {\n        edges { id }\n      }\n      holes {\n        edges { id }\n      }\n      dimensionEstimates (units: metric) {\n        area\n        areaIndoor\n        areaIndoorWithWalls\n        width\n        depth\n        height\n        units\n      }\n      ceiling (units: metric) {\n        planes {\n          measurements {\n            bottom { x y z }\n            height\n          }\n        }\n        maxHeight\n        minHeight\n      }\n      label\n      keywords\n    }\n  }\n}\n\nquery GetRoomClassifications {\n  ...RoomClassifications\n}\n\nfragment RoomClassifications on Query {\n  roomClassifications {\n    id\n    label\n    defaultKeywords\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetRoomBounds=o(t,"GetRoomBounds"),e.exports.GetRoomClassifications=o(t,"GetRoomClassifications"),e.exports.RoomClassifications=o(t,"RoomClassifications")},26172:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRooms"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelRooms"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelRooms"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RoomDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelRoom"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]}]}}],loc:{start:0,end:312}};t.loc.source={body:"\nquery GetRooms ($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelRooms\n  }\n}\n\nfragment ModelRooms on Model {\n  rooms {\n    ...RoomDetails\n  }\n}\n\nfragment RoomDetails on ModelRoom {\n  id\n  meshId\n  floor {\n    id\n    meshId\n  }\n  dimensions {\n    height\n    width\n    depth\n    areaFloor\n  }\n  tags\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetRooms=o(t,"GetRooms"),e.exports.ModelRooms=o(t,"ModelRooms"),e.exports.RoomDetails=o(t,"RoomDetails")},77583:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SkyboxPanorama"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileResolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileUrlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxUrlDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PanoramicImageLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skyboxes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AnchorLocationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AnchorLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"neighbors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sweepUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxUrlDetails"},directives:[]}]}}]}}],loc:{start:0,end:572}};t.loc.source={body:"fragment SkyboxDetails on SkyboxPanorama {\n  resolution\n  status\n  urlTemplate\n  tileResolution\n  tileCount\n  tileUrlTemplate\n  validUntil\n}\n\nfragment SkyboxUrlDetails on PanoramicImageLocation {\n  id\n  resolutions\n  skyboxes { ...SkyboxDetails }\n}\n\nfragment AnchorLocationDetails on AnchorLocation {\n  id\n  layer { id }\n  model { id }\n  index\n  floor { id, meshId }\n  room { id, meshId }\n  neighbors\n  tags\n  position { x y z }\n  pano {\n    id\n    sweepUuid\n    label\n    placement\n    source\n    position { x y z }\n    rotation { x y z w }\n    ...SkyboxUrlDetails\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.SkyboxDetails=o(t,"SkyboxDetails"),e.exports.SkyboxUrlDetails=o(t,"SkyboxUrlDetails"),e.exports.AnchorLocationDetails=o(t,"AnchorLocationDetails")},31595:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicModelViews"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.model.defurnished",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1},{kind:"StringValue",value:"matterport.user.insights",block:!1},{kind:"StringValue",value:"matterport.model.composite.compare",block:!1},{kind:"StringValue",value:"matterport.model.composite.site",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ViewDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelView"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"names"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"perm.spaces.details.manage",block:!1},{kind:"StringValue",value:"perm.spaces.details.view",block:!1},{kind:"StringValue",value:"perm.spaces.public.view",block:!1}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"onError"},arguments:[{kind:"Argument",name:{kind:"Name",value:"error"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"null"},value:{kind:"BooleanValue",value:!0}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFlag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFeature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visible"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1131}};t.loc.source={body:'# Subset of view types that are available to public users, i.e. safe for prefetch\nfragment PublicModelViews on Model {\n  views(types: [\n    "matterport.model.default",\n    "matterport.model.layered",\n    "matterport.model.defurnished",\n    "matterport.user.view",\n    "matterport.user.insights",\n    "matterport.model.composite.compare",\n    "matterport.model.composite.site",\n  ]) {\n    ...ViewDetails\n  }\n}\n\nfragment ViewDetails on ModelView {\n  id\n  type\n  name\n  enabled\n  created\n  modified\n  model {\n    rootModelId\n    policies (names: [\n      # permissions on a view may differ from base model\n      "perm.spaces.details.manage",\n      "perm.spaces.details.view",\n      "perm.spaces.public.view",\n    ]) @onError(error: false, null: true) {\n      name\n      type: __typename\n      ...on PolicyFlag {\n        enabled\n      }\n      ...on PolicyOptions {\n        options\n      }\n      ...on PolicyValue {\n        value\n      }\n      ...on PolicyFeature {\n        availability\n      }\n    }\n  }\n  layers {\n    layer {\n      id\n      created\n      modified\n      type\n      name\n      label\n    }\n    position\n    visible\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.PublicModelViews=o(t,"PublicModelViews"),e.exports.ViewDetails=o(t,"ViewDetails")},43066:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMergeDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeDiff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"typesModified"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"viewId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddUserView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"deleteLayersIfOrphaned"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"deleteLayersIfOrphaned"},value:{kind:"Variable",name:{kind:"Name",value:"deleteLayersIfOrphaned"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RenameView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetViewEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertRootViewToLayered"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertRootViewToLayered"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertRootViewToLegacy"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertRootViewToLegacy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"deleteLayersIfOrphaned"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MoveViewDataToLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LayeredViewSelection"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moveViewData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"srcViewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"destLayerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"viewSelections"},value:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteFromView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LayeredViewSelection"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteFromView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"viewSelections"},value:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DuplicateView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMutator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"src"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSessionDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"base"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.model.default",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"view"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.workshop.session",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:4203}};i.loc.source={body:'#import "./labels.gql"\n#import "./lists.gql"\n#import "./mattertags.gql"\n#import "./measurements.gql"\n#import "./view-fragments.gql"\n\n# Gets the data types that have changed between a view and the base model\nquery GetMergeDiff($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    mergeDiff {\n      src\n      dest\n      typesModified\n    }\n  }\n}\n\n# Get available views for a model\nquery GetViews($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    name\n    views {\n      ...ViewDetails\n    }\n  }\n}\n\n# Get one view\nquery GetView($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    name\n    views(ids: [$viewId]) {\n      ...ViewDetails\n    }\n  }\n}\n\n# Adds a new User View using the base Model ID.\n# By default, it masks view-based data layer items\nmutation AddUserView($modelId: ID!, $name: String!) {\n  addView(\n    id: $modelId,\n    name: $name,\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    }\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Deletes a View using the base Model ID and the viewId to delete\n# deleteLayersIfOphaned: true will delete the Common layers if orphaned,\n# dedicated layers are deleted in all cases?\nmutation DeleteView($modelId: ID!, $viewId: ID!, $deleteLayersIfOrphaned: Boolean) {\n  deleteView(id: $modelId, viewId: $viewId, deleteLayersIfOrphaned: $deleteLayersIfOrphaned)\n}\n\nmutation RenameView($viewId: ID!, $name: String!) {\n  patchView(id: $viewId, name: $name) {\n    name\n  }\n}\n\nmutation SetViewEnabled($viewId: ID!, $enabled: Boolean) {\n  patchView(id: $viewId, enabled: $enabled) {\n    enabled\n  }\n}\n\nmutation ConvertRootViewToLayered($modelId: ID!) {\n  convertRootViewToLayered(id: $modelId) {\n    ...ViewDetails\n  }\n}\n\nmutation ConvertRootViewToLegacy($modelId: ID!) {\n  convertRootViewToLegacy(id: $modelId, deleteLayersIfOrphaned: false) {\n    ...ViewDetails\n  }\n}\n\nmutation MoveViewDataToLayer($viewId: ID!, $layerId: ID, $viewSelections: [LayeredViewSelection!]) {\n  moveViewData(\n    id: $viewId\n    srcViewId: $viewId\n    destLayerId: $layerId\n    viewSelections: $viewSelections\n  )\n}\n\n# Deletes items from view\nmutation DeleteFromView($viewId: ID!, $viewSelections: [LayeredViewSelection!]) {\n  deleteFromView(id: $viewId, viewSelections: $viewSelections)\n}\n\nmutation DuplicateView($modelId: ID!, $viewId: ID!, $name: String!, $enabled: Boolean) {\n addView(\n    id: $modelId\n    name: $name\n    enabled: $enabled\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    },\n    copyDataFrom: [\n      { viewId: $viewId, type: HighlightReel },\n      { viewId: $viewId, type: Label },\n      { viewId: $viewId, type: Mattertag },\n      { viewId: $viewId, type: MeasurementPath },\n      { viewId: $viewId, type: Note },\n      { viewId: $viewId, type: ObjectAnnotation },\n      { viewId: $viewId, type: OrderedList },\n    ]\n    generateIds: true,\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Merges the given view into the base model view\nmutation PublishView($viewId: ID!) {\n  mergeMutator(src: $viewId) {\n    merge {\n      id\n    }\n  }\n}\n\n# Gets the data that has changed between the Workshop session and base model\nquery GetSessionDiff($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    base: view(type: "matterport.model.default") {\n      id\n      model {\n        labels(includeDisabled: true) { ...LabelDetails }\n        mattertags(includeDisabled: true) { ...MattertagDetails }\n        measurementPaths(includeDisabled: true) { ...MeasurementDetails }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n    view: view(type: "matterport.workshop.session") {\n      id\n      model {\n        labels(includeDisabled: true) { id modified }\n        mattertags(includeDisabled: true) { id modified }\n        measurementPaths(includeDisabled: true) { id modified }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}i.definitions=i.definitions.concat(o(n(96069).definitions)),i.definitions=i.definitions.concat(o(n(92711).definitions)),i.definitions=i.definitions.concat(o(n(27140).definitions)),i.definitions=i.definitions.concat(o(n(64639).definitions)),i.definitions=i.definitions.concat(o(n(31595).definitions));var a={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetMergeDiff=c(i,"GetMergeDiff"),e.exports.GetViews=c(i,"GetViews"),e.exports.GetView=c(i,"GetView"),e.exports.AddUserView=c(i,"AddUserView"),e.exports.DeleteView=c(i,"DeleteView"),e.exports.RenameView=c(i,"RenameView"),e.exports.SetViewEnabled=c(i,"SetViewEnabled"),e.exports.ConvertRootViewToLayered=c(i,"ConvertRootViewToLayered"),e.exports.ConvertRootViewToLegacy=c(i,"ConvertRootViewToLegacy"),e.exports.MoveViewDataToLayer=c(i,"MoveViewDataToLayer"),e.exports.DeleteFromView=c(i,"DeleteFromView"),e.exports.DuplicateView=c(i,"DuplicateView"),e.exports.PublishView=c(i,"PublishView"),e.exports.GetSessionDiff=c(i,"GetSessionDiff")},30592:(e,t,n)=>{"use strict";var i=n(70453)("%Object.defineProperty%",!0),r=function(){if(i)try{return i({},"a",{value:1}),!0}catch(e){return!1}return!1};r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=r},80024:e=>{"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},64039:(e,t,n)=>{"use strict";var i=n.g.Symbol,r=n(41333);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},41333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},19030:(e,t,n)=>{"use strict";var i=n(66743);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},9957:(e,t,n)=>{"use strict";var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=n(63639);e.exports=o.call(i,r)},74921:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},63639:(e,t,n)=>{"use strict";var i=n(74921);e.exports=Function.prototype.bind||i},37172:e=>{function t(e){var t="Parsing error";throw e&&(t+=": "+e),new Error(t)}var n={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"};e.exports=function(e){for(var i=[],r=0,o=s();o;)i.push(o),o=s();return i;function s(){for(var i,o,s,a,l,c,u=e.length;r<u;)switch(c=e[r]){case"\t":case"\n":case"\r":case" ":for(i=e[r];-1!=="\t\n\r ".indexOf(e[++r]);)i+=e[r];return{type:"whitespace",value:i,raw:i};case"{":case"}":case"[":case"]":case":":case",":var d=e[r++];return{type:"punctuator",value:d,raw:d};case'"':var h=r;for(i="",r++;r<u;){if(c=e[r],e.charCodeAt(r)<32)return t("Unescaped ASCII control characters are not permitted.");if("\\"===c)switch(c=e[++r]){case"\\":case'"':case"/":case"b":case"t":case"n":case"f":case"r":i+=n[c],r++;break;case"u":for(o=++r,s=r+4;r<s;r++)if(!((l=e.charCodeAt(r))>=48&&l<=57||l>=97&&l<=102||l>=65&&l<=70))return t("Invalid Unicode escape sequence.");i+=String.fromCharCode("0x"+e.slice(o,r));break;default:return t("Invalid escape sequence.")}else{if('"'===c)break;for(c=e[r],o=r,l=e.charCodeAt(r);l>=32&&92!==l&&34!==l;)l=e.charCodeAt(++r);i+=e.slice(o,r)}}return'"'===e[r]?(r++,{type:"string",value:i,raw:e.slice(h,r)}):t("Unterminated string.");default:if(o=r,"-"===c&&(a=!0,l=e.charCodeAt(++r),c=e[r]),(l=e.charCodeAt(r))>=48&&l<=57){if(48===l&&((l=e.charCodeAt(r+1))>=48&&l<=57))return t("Illegal octal literal.");for(a=!1;r<u&&((l=e.charCodeAt(r))>=48&&l<=57);r++);if(46===e.charCodeAt(r)){for(s=++r;s<u&&((l=e.charCodeAt(s))>=48&&l<=57);s++);if(s===r)return t("Illegal trailing decimal.");r=s}if(101===(l=e.charCodeAt(r))||69===l){for(43!==(l=e.charCodeAt(++r))&&45!==l||r++,s=r;s<u&&((l=e.charCodeAt(s))>=48&&l<=57);s++);if(s===r)return t("Illegal empty exponent.");r=s}var p=e.slice(o,r);return{type:"number",value:+p,raw:p}}if(a)return t("A negative sign may only precede numbers.");var f=e.slice(r,r+4);return"true"===f?(r+=4,{type:"literal",value:!0,raw:"true"}):"fals"===f&&"e"===e[r+4]?(r+=5,{type:"literal",value:!1,raw:"false"}):"null"===f?(r+=4,{type:"literal",value:null,raw:"null"}):t("Unrecognized token.")}return!1}}},7106:e=>{"use strict";var t=e.exports=function(e,t,i){"function"==typeof t&&(i=t,t={}),n(t,"function"==typeof(i=t.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e)};function n(e,i,r,o,s,a,l,c,u,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in i(o,s,a,l,c,u,d),o){var p=o[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var f=0;f<p.length;f++)n(e,i,r,p[f],s+"/"+h+"/"+f,a,s,h,o,f)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,i,r,p[m],s+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,h,o,m)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&n(e,i,r,p,s+"/"+h,a,s,h,o)}r(o,s,a,l,c,u,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},56239:(e,t)=>{var n=/~/,i=/~[01]/g;function r(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function o(e){return n.test(e)?e.replace(i,r):e}function s(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e)){for(const t of e)if("string"!=typeof t&&"number"!=typeof t)throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function a(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var n=(t=s(t)).length;if(1===n)return e;for(var i=1;i<n;){if(e=e[o(t[i++])],n===i)return e;if("object"!=typeof e||null===e)return}}function l(e,t,n){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=s(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,n){for(var i,r,s=1,a=t.length;s<a;){if("constructor"===t[s]||"prototype"===t[s]||"__proto__"===t[s])return e;if(i=o(t[s++]),r=a>s,void 0===e[i]&&(Array.isArray(e)&&"-"===i&&(i=e.length),r&&(""!==t[s]&&t[s]<1/0||"-"===t[s]?e[i]=[]:e[i]={})),!r)break;e=e[i]}var l=e[i];return void 0===n?delete e[i]:e[i]=n,l}(e,t,n)}t.Jt=a},20181:(e,t,n)=>{var i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var i,r,o,s,a,l,c=0,u=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=i,o=r;return i=r=void 0,c=t,s=e.apply(o,n)}function E(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function S(){var e=f();if(E(e))return b(e);a=setTimeout(S,function(e){var n=t-(e-l);return d?p(n,o-(e-c)):n}(e))}function b(e){return a=void 0,v&&i?y(e):(i=r=void 0,s)}function _(){var e=f(),n=E(e);if(i=arguments,r=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(S,t),u?y(e):s}(l);if(d)return a=setTimeout(S,t),y(l)}return void 0===a&&(a=setTimeout(S,t)),s}return t=g(t)||0,m(n)&&(u=!!n.leading,o=(d="maxWait"in n)?h(g(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},_.flush=function(){return void 0===a?s:b(f())},_}},34940:()=>{},14682:(e,t,n)=>{"use strict";var i=n(73932),r=n(9771),o=n(9957),s=function(e){r(!1,e)},a=String.prototype.replace,l=String.prototype.split,c="||||",u=function(e){var t=e%100,n=t%10;return 11!==t&&1===n?0:2<=n&&n<=4&&!(t>=12&&t<=14)?1:2},d={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:u,chinese:function(){return 0},croatian:u,french:function(e){return e>=2?1:0},german:function(e){return 1!==e?1:0},russian:u,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3},romanian:function(e){if(1===e)return 0;var t=e%100;return 0===e||t>=2&&t<=19?1:2},ukrainian:u},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"],ukrainian:["uk","ua"]}};function h(e,t){var n=function(e){for(var t={},n=i(e),r=0;r<n.length;r+=1)for(var o=n[r][0],s=n[r][1],a=0;a<s.length;a+=1)t[s[a]]=o;return t}(e.pluralTypeToLanguages);return n[t]||n[l.call(t,/-/,1)[0]]||n.en}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var f,m=(f={},function(e,t){var n=f[t];return n&&!e.pluralTypes[n]&&(n=null,f[t]=n),n||(n=h(e,t))&&(f[t]=n),n}),g=/%\{(.*?)\}/g;function v(e,t,n,i,r,s){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var u=e,h=i||g,p=s||a,f="number"==typeof t?{smart_count:t}:t;if(null!=f.smart_count&&e){var v=r||d,y=l.call(e,c),E=function(e,t,n){return e.pluralTypes[t](n)}(v,m(v,n||"en"),f.smart_count);u=a.call(y[E]||y[0],/^[^\S]*|[^\S]*$/g,"")}return u=p.call(u,h,(function(e,t){return o(f,t)&&null!=f[t]?f[t]:e}))}function y(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?v:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||s,this.replaceImplementation=t.replace||a,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",n=e&&e.suffix||"}";if(t===c||n===c)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(p(t)+"(.*?)"+p(n),"g")}(t.interpolation),this.pluralRules=t.pluralRules||d}y.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},y.prototype.extend=function(e,t){for(var n=i(e||{}),r=0;r<n.length;r+=1){var o=n[r][0],s=n[r][1],a=t?t+"."+o:o;"object"==typeof s?this.extend(s,a):this.phrases[a]=s}},y.prototype.unset=function(e,t){if("string"==typeof e)delete this.phrases[e];else for(var n=i(e||{}),r=0;r<n.length;r+=1){var o=n[r][0],s=n[r][1],a=t?t+"."+o:o;"object"==typeof s?this.unset(s,a):delete this.phrases[a]}},y.prototype.clear=function(){this.phrases={}},y.prototype.replace=function(e){this.clear(),this.extend(e)},y.prototype.t=function(e,t){var n,i,r=null==t?{}:t;if("string"==typeof this.phrases[e])n=this.phrases[e];else if("string"==typeof r._)n=r._;else if(this.onMissingKey){i=(0,this.onMissingKey)(e,r,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+e+'"'),i=e;return"string"==typeof n&&(i=v(n,r,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),i},y.prototype.has=function(e){return o(this.phrases,e)},y.transformPhrase=function(e,t,n){return v(e,t,n)},e.exports=y},28875:(e,t,n)=>{"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(1093),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();i=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),i=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(a&&e.length>0&&!r.call(e,0))for(var m=0;m<e.length;++m)h.push(String(m));if(i&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var v in e)f&&"prototype"===v||!r.call(e,v)||h.push(String(v));if(l)for(var y=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),E=0;E<u.length;++E)y&&"constructor"===u[E]||!r.call(e,u[E])||h.push(u[E]);return h}}e.exports=i},1189:(e,t,n)=>{"use strict";var i=Array.prototype.slice,r=n(1093),o=Object.keys,s=o?function(e){return o(e)}:n(28875),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return r(e)?a(i.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},1093:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),i}},73488:(e,t,n)=>{"use strict";var i=n(5388),r=n(8588),o=r("Object.prototype.propertyIsEnumerable"),s=r("Array.prototype.push");e.exports=function(e){var t=i(e),n=[];for(var r in t)o(t,r)&&s(n,[r,t[r]]);return n}},73932:(e,t,n)=>{"use strict";var i=n(8275),r=n(29664),o=n(73488),s=n(63445),a=n(57891),l=r(s(),Object);i(l,{getPolyfill:s,implementation:o,shim:a}),e.exports=l},8588:(e,t,n)=>{"use strict";var i=n(59474),r=n(29664),o=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?r(n):n}},29664:(e,t,n)=>{"use strict";var i=n(51560),r=n(59474),o=n(96897),s=n(69675),a=r("%Function.prototype.apply%"),l=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||i.call(l,a),u=n(30655),d=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=c(i,l,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var h=function(){return c(i,a,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},3296:(e,t,n)=>{"use strict";var i=n(30592)(),r=n(60270),o=i&&r("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(e){o=!1}var s=r("%SyntaxError%"),a=r("%TypeError%"),l=n(75795);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!l&&l(e,t);if(o)o(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===i&&d?d.enumerable:!i,value:n,writable:null===r&&d?d.writable:!r});else{if(!u&&(i||r||c))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},60270:(e,t,n)=>{"use strict";var i,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(42588)(),h=n(80024)(),p=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),f={},m="undefined"!=typeof Uint8Array&&p?p(Uint8Array):i,g={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d&&p?p([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&p?p(p([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&p?p((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&p?p((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&p?p(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(p)try{null.error}catch(e){var v=p(p(e));g["%Error.prototype%"]=v}var y=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&p&&(n=p(r.prototype))}return g[t]=n,n},E={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(51560),b=n(20416),_=S.call(Function.call,Array.prototype.concat),O=S.call(Function.apply,Array.prototype.splice),T=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),w=S.call(Function.call,RegExp.prototype.exec),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,R=function(e,t){var n,i=e;if(b(E,i)&&(i="%"+(n=E[i])[0]+"%"),b(g,i)){var o=g[i];if(o===f&&(o=y(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===w(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return T(e,N,(function(e,t,n,r){i[i.length]=n?T(r,I,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",o=R("%"+i+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(i=d[0],O(n,_([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],m=A(f,0,1),v=A(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),b(g,a="%"+(i+="."+f)+"%"))c=g[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=b(c,f),c=c[f];p&&!u&&(g[a]=c)}}return c}},8275:(e,t,n)=>{"use strict";var i=n(1189),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=n(3296),l=n(30592)(),c=function(e,t,n,i){if(t in e)if(!0===i){if(e[t]===n)return}else if("function"!=typeof(r=i)||"[object Function]"!==o.call(r)||!i())return;var r;l?a(e,t,n,!0):a(e,t,n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},o=i(t);r&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)c(e,o[a],t[o[a]],n[o[a]])};u.supportsDescriptors=!!l,e.exports=u},95564:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},51560:(e,t,n)=>{"use strict";var i=n(95564);e.exports=Function.prototype.bind||i},59474:(e,t,n)=>{"use strict";var i,r=n(69383),o=n(41237),s=n(79290),a=n(79538),l=n(58068),c=n(69675),u=n(35345),d=Function,h=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var f=function(){throw new c},m=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(e){return f}}}():f,g=n(42588)(),v=n(80024)(),y=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),E={},S="undefined"!=typeof Uint8Array&&y?y(Uint8Array):i,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":g&&y?y([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&y?y(y([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&y?y((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&y?y((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&y?y(""[Symbol.iterator]()):i,"%Symbol%":g?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":S,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(y)try{null.error}catch(e){var _=y(y(e));b["%Error.prototype%"]=_}var O=function e(t){var n;if("%AsyncFunction%"===t)n=h("async function () {}");else if("%GeneratorFunction%"===t)n=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=h("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&y&&(n=y(r.prototype))}return b[t]=n,n},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=n(51560),w=n(20416),N=A.call(Function.call,Array.prototype.concat),I=A.call(Function.apply,Array.prototype.splice),R=A.call(Function.call,String.prototype.replace),k=A.call(Function.call,String.prototype.slice),L=A.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,M=function(e,t){var n,i=e;if(w(T,i)&&(i="%"+(n=T[i])[0]+"%"),w(b,i)){var r=b[i];if(r===E&&(r=O(i)),void 0===r&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return R(e,P,(function(e,t,n,r){i[i.length]=n?R(r,D,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",r=M("%"+i+"%",t),o=r.name,s=r.value,a=!1,u=r.alias;u&&(i=u[0],I(n,N([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=k(f,0,1),g=k(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&h||(a=!0),w(b,o="%"+(i+="."+f)+"%"))s=b[o];else if(null!=s){if(!(f in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=n.length){var v=p(s,f);s=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[f]}else h=w(s,f),s=s[f];h&&!a&&(b[o]=s)}}return s}},42588:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(51646);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},51646:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},20416:(e,t,n)=>{"use strict";var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=n(51560);e.exports=o.call(i,r)},63445:(e,t,n)=>{"use strict";var i=n(73488);e.exports=function(){return"function"==typeof Object.entries?Object.entries:i}},57891:(e,t,n)=>{"use strict";var i=n(63445),r=n(8275);e.exports=function(){var e=i();return r(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},89955:(e,t,n)=>{"use strict";var i=n(44262);function r(e,t,n){var r,a,l,c;t=t||1;for(var u=0;u<e[0].length;u++){var d=e[0][u];(!u||d[0]<r)&&(r=d[0]),(!u||d[1]<a)&&(a=d[1]),(!u||d[0]>l)&&(l=d[0]),(!u||d[1]>c)&&(c=d[1])}var h=l-r,p=c-a,f=Math.min(h,p),m=f/2;if(0===f){var g=[r,a];return g.distance=0,g}for(var v=new i(void 0,o),y=r;y<l;y+=f)for(var E=a;E<c;E+=f)v.push(new s(y+m,E+m,m,e));var S=function(e){for(var t=0,n=0,i=0,r=e[0],o=0,a=r.length,l=a-1;o<a;l=o++){var c=r[o],u=r[l],d=c[0]*u[1]-u[0]*c[1];n+=(c[0]+u[0])*d,i+=(c[1]+u[1])*d,t+=3*d}return 0===t?new s(r[0][0],r[0][1],0,e):new s(n/t,i/t,0,e)}(e),b=new s(r+h/2,a+p/2,0,e);b.d>S.d&&(S=b);for(var _=v.length;v.length;){var O=v.pop();O.d>S.d&&(S=O,n&&console.log("found best %d after %d probes",Math.round(1e4*O.d)/1e4,_)),O.max-S.d<=t||(m=O.h/2,v.push(new s(O.x-m,O.y-m,m,e)),v.push(new s(O.x+m,O.y-m,m,e)),v.push(new s(O.x-m,O.y+m,m,e)),v.push(new s(O.x+m,O.y+m,m,e)),_+=4)}n&&(console.log("num probes: "+_),console.log("best distance: "+S.d));var T=[S.x,S.y];return T.distance=S.d,T}function o(e,t){return t.max-e.max}function s(e,t,n,i){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var i=!1,r=1/0,o=0;o<n.length;o++)for(var s=n[o],l=0,c=s.length,u=c-1;l<c;u=l++){var d=s[l],h=s[u];d[1]>t!=h[1]>t&&e<(h[0]-d[0])*(t-d[1])/(h[1]-d[1])+d[0]&&(i=!i),r=Math.min(r,a(e,t,d,h))}return 0===r?0:(i?1:-1)*Math.sqrt(r)}(e,t,i),this.max=this.d+this.h*Math.SQRT2}function a(e,t,n,i){var r=n[0],o=n[1],s=i[0]-r,a=i[1]-o;if(0!==s||0!==a){var l=((e-r)*s+(t-o)*a)/(s*s+a*a);l>1?(r=i[0],o=i[1]):l>0&&(r+=s*l,o+=a*l)}return(s=e-r)*s+(a=t-o)*a}i.default&&(i=i.default),e.exports=r,e.exports.default=r},35341:function(e){e.exports=function(){"use strict";function e(e,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-l*u/a+d)),Math.min(o,Math.floor(i+(a-l)*u/a+d)),s)}var h=n[i],p=r,f=o;for(t(n,r,i),s(n[o],h)>0&&t(n,r,o);p<f;){for(t(n,p,f),p++,f--;s(n[p],h)<0;)p++;for(;s(n[f],h)>0;)f--}0===s(n[r],h)?t(n,r,f):t(n,++f,o),f<=i&&(r=f+1),i<=f&&(o=f-1)}}(e,i,r||0,o||e.length-1,s||n)}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function o(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,i,r){r||(r=f(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=t;o<n;o++){var s=e.children[o];a(r,e.leaf?i(s):s)}return r}function a(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,n,i,r,o){for(var s=[n,i];s.length;)if(!((i=s.pop())-(n=s.pop())<=r)){var a=n+Math.ceil((i-n)/r/2)*r;e(t,a,n,i,o),s.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!p(e,t))return n;for(var i=this.toBBox,r=[];t;){for(var o=0;o<t.children.length;o++){var s=t.children[o],a=t.leaf?i(s):s;p(e,a)&&(t.leaf?n.push(s):h(e,a)?this._all(s,n):r.push(s))}t=r.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var n=[];t;){for(var i=0;i<t.children.length;i++){var r=t.children[i],o=t.leaf?this.toBBox(r):r;if(p(e,o)){if(t.leaf||h(e,o))return!0;n.push(r)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=f([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,i,o,s=this.data,a=this.toBBox(e),l=[],c=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=c.pop(),o=!0),s.leaf){var u=r(e,s.children,t);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}o||s.leaf||!h(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),c.push(n),n=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,i){var r,s=n-t+1,a=this._maxEntries;if(s<=a)return o(r=f(e.slice(t,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(r=f([])).leaf=!1,r.height=i;var l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));m(e,t,n,c,this.compareMinX);for(var u=t;u<=n;u+=c){var d=Math.min(u+c-1,n);m(e,u,d,l,this.compareMinY);for(var h=u;h<=d;h+=l){var p=Math.min(h+l-1,d);r.children.push(this._build(e,h,p,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,s=void 0,a=0;a<t.children.length;a++){var l=t.children[a],c=u(l),d=(h=e,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-c);d<o?(o=d,r=c<r?c:r,s=l):d===o&&c<r&&(r=c,s=l)}t=s||t.children[0]}var h,p;return t},i.prototype._insert=function(e,t,n){var i=n?e:this.toBBox(e),r=[],o=this._chooseSubtree(i,this.data,t,r);for(o.children.push(e),a(o,i);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(i,r,t)},i.prototype._split=function(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=f(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var i,r,o,a,l,c,d,h=1/0,p=1/0,f=t;f<=n-t;f++){var m=s(e,0,f,this.toBBox),g=s(e,f,n,this.toBBox),v=(r=m,o=g,a=void 0,l=void 0,c=void 0,d=void 0,a=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),c=Math.min(r.maxX,o.maxX),d=Math.min(r.maxY,o.maxY),Math.max(0,c-a)*Math.max(0,d-l)),y=u(m)+u(g);v<h?(h=v,i=f,p=y<p?y:p):v===h&&y<p&&(p=y,i=f)}return i||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var i=e.leaf?this.compareMinX:l,r=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)},i.prototype._allDistMargin=function(e,t,n,i){e.children.sort(i);for(var r=this.toBBox,o=s(e,0,t,r),l=s(e,n-t,n,r),c=d(o)+d(l),u=t;u<n-t;u++){var h=e.children[u];a(o,e.leaf?r(h):h),c+=d(o)}for(var p=n-t-1;p>=t;p--){var f=e.children[p];a(l,e.leaf?r(f):f),c+=d(l)}return c},i.prototype._adjustParentBBoxes=function(e,t,n){for(var i=n;i>=0;i--)a(t[i],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},i}()},31247:(e,t,n)=>{"use strict";var i=n(20194),r=n(96540),o=n(40961);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),b=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function k(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case v:return"Fragment";case E:return"Profiler";case y:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList";case N:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case g:return"Portal";case b:return e.displayName||"Context";case S:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return P(e(t))}catch(e){}}return null}var D=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x={pending:!1,data:null,method:null,action:null},U=[],F=-1;function H(e){return{current:e}}function G(e){0>F||(e.current=U[F],U[F]=null,F--)}function B(e,t){F++,U[F]=e.current,e.current=t}var V,j,W=H(null),z=H(null),$=H(null),K=H(null);function Y(e,t){switch(B($,t),B(z,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(W),B(W,e)}function q(){G(W),G(z),G($)}function Q(e){null!==e.memoizedState&&B(K,e);var t=W.current,n=yd(t,e.type);t!==n&&(B(z,e),B(W,n))}function X(e){z.current===e&&(G(W),G(z)),K.current===e&&(G(K),uh._currentValue=x)}function J(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",j=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+j}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(e){if(e&&i&&"string"==typeof e.stack)return[e.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var ie=Object.prototype.hasOwnProperty,re=i.unstable_scheduleCallback,oe=i.unstable_cancelCallback,se=i.unstable_shouldYield,ae=i.unstable_requestPaint,le=i.unstable_now,ce=i.unstable_getCurrentPriorityLevel,ue=i.unstable_ImmediatePriority,de=i.unstable_UserBlockingPriority,he=i.unstable_NormalPriority,pe=i.unstable_LowPriority,fe=i.unstable_IdlePriority,me=i.log,ge=i.unstable_setDisableYieldValue,ve=null,ye=null;function Ee(e){if("function"==typeof me&&ge(e),ye&&"function"==typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(e){}}var Se=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/_e|0)|0},be=Math.log,_e=Math.LN2;var Oe=256,Te=262144,Ae=4194304;function we(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~o)?r=we(i):0!==(s&=a)?r=we(s):n||0!==(n=a&~e)&&(r=we(n)):0!==(a=i&~o)?r=we(a):0!==s?r=we(s):n||0!==(n=i&~e)&&(r=we(n)),0===r?0:0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(n=t&-t)||32===o&&4194048&n)?t:r}function Ie(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Re(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=Ae;return!(62914560&(Ae<<=1))&&(Ae=4194304),e}function Le(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Se(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|261930&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Se(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Ce(e,t){var n=t&-t;return(n=42&n?1:xe(n))&(e.suspendedLanes|t)?0:n}function xe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ue(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Fe(){var e=C.p;return 0!==e?e:void 0===(e=window.event)?32:wh(e.type)}function He(e,t){var n=C.p;try{return C.p=e,t()}finally{C.p=n}}var Ge=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ge,Ve="__reactProps$"+Ge,je="__reactContainer$"+Ge,We="__reactEvents$"+Ge,ze="__reactListeners$"+Ge,$e="__reactHandles$"+Ge,Ke="__reactResources$"+Ge,Ye="__reactMarker$"+Ge;function qe(e){delete e[Be],delete e[Ve],delete e[We],delete e[ze],delete e[$e]}function Qe(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[je]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Be])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Be]||e[je]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,nt={};function it(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(r=t,ie.call(at,r)||!ie.call(st,r)&&(ot.test(r)?at[r]=!0:(st[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var r=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ht(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function yt(e,t,n,i,r,o,s,a){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?St(e,s,dt(t)):null!=n?St(e,s,dt(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=o&&(e.defaultChecked=!!o),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+dt(a):e.removeAttribute("name")}function Et(e,t,n,i,r,o,s,a){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!=typeof(i=null!=i?i:r)&&"symbol"!=typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s),pt(e)}function St(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ot(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(s(92));if(D(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),pt(e)}function Tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!=typeof n||0===n||At.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&wt(e,r,i)}else for(var o in t)t.hasOwnProperty(o)&&wt(e,o,t[o])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return kt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Dt=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ct=null,xt=null;function Ut(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ve]||null;if(!r)throw Error(s(90));yt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ft(i)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ht(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Ct||null!==xt)&&(Zc(),Ct&&(t=Ct,e=xt,xt=Ct=null,Ut(t),e)))for(t=0;t<e.length;t++)Ut(e[t])}}function Gt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Ve]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vt=!1;if(Bt)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(e){Vt=!1}var Wt=null,zt=null,$t=null;function Kt(){if($t)return $t;var e,t,n=zt,i=n.length,r="value"in Wt?Wt.value:Wt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Qt(){return!1}function Xt(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?qt:Qt,this.isPropagationStopped=Qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=p({},tn,{view:0,detail:0}),on=Xt(rn),sn=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=Xt(sn),ln=Xt(p({},sn,{dataTransfer:0})),cn=Xt(p({},rn,{relatedTarget:0})),un=Xt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Xt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Xt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=Xt(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=Xt(p({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=Xt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),bn=Xt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Xt(p({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),On=Xt(p({},tn,{newState:0,oldState:0})),Tn=[9,13,27,32],An=Bt&&"CompositionEvent"in window,wn=null;Bt&&"documentMode"in document&&(wn=document.documentMode);var Nn=Bt&&"TextEvent"in window&&!wn,In=Bt&&(!An||wn&&8<wn&&11>=wn),Rn=String.fromCharCode(32),kn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function xn(e,t,n,i){Ct?xt?xt.push(i):xt=[i]:Ct=i,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Un=null,Fn=null;function Hn(e){qu(e,0)}function Gn(e){if(ft(Je(e)))return e}function Bn(e,t){if("change"===e)return t}var Vn=!1;if(Bt){var jn;if(Bt){var Wn="oninput"in document;if(!Wn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Wn="function"==typeof zn.oninput}jn=Wn}else jn=!1;Vn=jn&&(!document.documentMode||9<document.documentMode)}function $n(){Un&&(Un.detachEvent("onpropertychange",Kn),Fn=Un=null)}function Kn(e){if("value"===e.propertyName&&Gn(Fn)){var t=[];xn(t,Fn,e,Mt(e)),Ht(Hn,t)}}function Yn(e,t,n){"focusin"===e?($n(),Fn=n,(Un=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&$n()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Fn)}function Qn(e,t){if("click"===e)return Gn(t)}function Xn(e,t){if("input"===e||"change"===e)return Gn(t)}var Jn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ie.call(t,r)||!Jn(e[r],t[r]))return!1}return!0}function ei(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ti(e,t){var n,i=ei(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ei(i)}}function ni(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ni(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ii(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var oi=Bt&&"documentMode"in document&&11>=document.documentMode,si=null,ai=null,li=null,ci=!1;function ui(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ci||null==si||si!==mt(i)||("selectionStart"in(i=si)&&ri(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},li&&Zn(li,i)||(li=i,0<(i=id(ai,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=si)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},pi={},fi={};function mi(e){if(pi[e])return pi[e];if(!hi[e])return e;var t,n=hi[e];for(t in n)if(n.hasOwnProperty(t)&&t in fi)return pi[e]=n[t];return e}Bt&&(fi=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);var gi=mi("animationend"),vi=mi("animationiteration"),yi=mi("animationstart"),Ei=mi("transitionrun"),Si=mi("transitionstart"),bi=mi("transitioncancel"),_i=mi("transitionend"),Oi=new Map,Ti="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(e,t){Oi.set(e,t),it(t,[e])}Ti.push("scrollEnd");var wi="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ni=[],Ii=0,Ri=0;function ki(){for(var e=Ii,t=Ri=Ii=0;t<e;){var n=Ni[t];Ni[t++]=null;var i=Ni[t];Ni[t++]=null;var r=Ni[t];Ni[t++]=null;var o=Ni[t];if(Ni[t++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==o&&Mi(n,r,o)}}function Li(e,t,n,i){Ni[Ii++]=e,Ni[Ii++]=t,Ni[Ii++]=n,Ni[Ii++]=i,Ri|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Pi(e,t,n,i){return Li(e,t,n,i),Ci(e)}function Di(e,t){return Li(e,null,null,t),Ci(e)}function Mi(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(i=o.alternate)&&(i.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(r=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,r&&null!==t&&(r=31-Se(n),null===(i=(e=o.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),o):null}function Ci(e){if(50<Wc)throw Wc=0,zc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var xi={};function Ui(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,n,i){return new Ui(e,t,n,i)}function Hi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gi(e,t){var n=e.alternate;return null===n?((n=Fi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vi(e,t,n,i,r,o){var a=0;if(i=e,"function"==typeof e)Hi(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Fi(31,n,t,r)).elementType=N,e.lanes=o,e;case v:return ji(n.children,r,o,t);case y:a=8,r|=24;break;case E:return(e=Fi(12,n,t,2|r)).elementType=E,e.lanes=o,e;case O:return(e=Fi(13,n,t,r)).elementType=O,e.lanes=o,e;case T:return(e=Fi(19,n,t,r)).elementType=T,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:a=10;break e;case S:a=9;break e;case _:a=11;break e;case A:a=14;break e;case w:a=16,i=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),i=null}return(t=Fi(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function ji(e,t,n,i){return(e=Fi(7,e,i,t)).lanes=n,e}function Wi(e,t,n){return(e=Fi(6,e,null,t)).lanes=n,e}function zi(e){var t=Fi(18,null,null,0);return t.stateNode=e,t}function $i(e,t,n){return(t=Fi(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ki=new WeakMap;function Yi(e,t){if("object"==typeof e&&null!==e){var n=Ki.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Ki.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var qi=[],Qi=0,Xi=null,Ji=0,Zi=[],er=0,tr=null,nr=1,ir="";function rr(e,t){qi[Qi++]=Ji,qi[Qi++]=Xi,Xi=e,Ji=t}function or(e,t,n){Zi[er++]=nr,Zi[er++]=ir,Zi[er++]=tr,tr=e;var i=nr;e=ir;var r=32-Se(i)-1;i&=~(1<<r),n+=1;var o=32-Se(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,nr=1<<32-Se(t)+r|n<<r|i,ir=o+e}else nr=1<<o|n<<r|i,ir=e}function sr(e){null!==e.return&&(rr(e,1),or(e,1,0))}function ar(e){for(;e===Xi;)Xi=qi[--Qi],qi[Qi]=null,Ji=qi[--Qi],qi[Qi]=null;for(;e===tr;)tr=Zi[--er],Zi[er]=null,ir=Zi[--er],Zi[er]=null,nr=Zi[--er],Zi[er]=null}function lr(e,t){Zi[er++]=nr,Zi[er++]=ir,Zi[er++]=tr,nr=t.id,ir=t.overflow,tr=e}var cr=null,ur=null,dr=!1,hr=null,pr=!1,fr=Error(s(519));function mr(e){throw br(Yi(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fr}function gr(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Be]=e,t[Ve]=i,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Ku.length;n++)Qu(Ku[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),Et(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),Ot(t,i.value,i.defaultValue,i.children)}"string"!=typeof(n=i.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||cd(t.textContent,n)?(null!=i.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=i.onScroll&&Qu("scroll",t),null!=i.onScrollEnd&&Qu("scrollend",t),null!=i.onClick&&(t.onclick=Pt),t=!0):t=!1,t||mr(e,!0)}function vr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(pr=!1);case 27:case 3:return void(pr=!0);default:cr=cr.return}}function yr(e){if(e!==cr)return!1;if(!dr)return vr(e),dr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Ed(e.type,e.memoizedProps)),t=!t),t&&ur&&mr(e),vr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ur=Cd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ur=Cd(e)}else 27===n?(n=ur,wd(e.type)?(e=Md,Md=null,ur=e):ur=n):ur=cr?Dd(e.stateNode.nextSibling):null;return!0}function Er(){ur=cr=null,dr=!1}function Sr(){var e=hr;return null!==e&&(null===kc?kc=e:kc.push.apply(kc,e),hr=null),e}function br(e){null===hr?hr=[e]:hr.push(e)}var _r=H(null),Or=null,Tr=null;function Ar(e,t,n){B(_r,t._currentValue),t._currentValue=n}function wr(e){e._currentValue=_r.current,G(_r)}function Nr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ir(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var o=r.dependencies;if(null!==o){var a=r.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Nr(o.return,n,e),i||(a=null);break e}o=l.next}}else if(18===r.tag){if(null===(a=r.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Nr(a,n,e),a=null}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===e){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}}function Rr(e,t,n,i){e=null;for(var r=t,o=!1;null!==r;){if(!o)if(524288&r.flags)o=!0;else if(262144&r.flags)break;if(10===r.tag){var a=r.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=r.type;Jn(r.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(r===K.current){if(null===(a=r.alternate))throw Error(s(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}r=r.return}null!==e&&Ir(t,e,n,i),t.flags|=262144}function kr(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lr(e){Or=e,Tr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pr(e){return Mr(Or,e)}function Dr(e,t){return null===Or&&Lr(e),Mr(e,t)}function Mr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Tr){if(null===e)throw Error(s(308));Tr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Tr=Tr.next=t;return n}var Cr="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},xr=i.unstable_scheduleCallback,Ur=i.unstable_NormalPriority,Fr={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hr(){return{controller:new Cr,data:new Map,refCount:0}}function Gr(e){e.refCount--,0===e.refCount&&xr(Ur,(function(){e.controller.abort()}))}var Br=null,Vr=0,jr=0,Wr=null;function zr(){if(0==--Vr&&null!==Br){null!==Wr&&(Wr.status="fulfilled");var e=Br;Br=null,jr=0,Wr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $r=M.S;M.S=function(e,t){Dc=le(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Br){var n=Br=[];Vr=0,jr=Vu(),Wr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vr++,t.then(zr,zr)}(0,t),null!==$r&&$r(e,t)};var Kr=H(null);function Yr(){var e=Kr.current;return null!==e?e:fc.pooledCache}function qr(e,t){B(Kr,null===t?Kr.current:t.pool)}function Qr(){var e=Yr();return null===e?null:{parent:Fr._currentValue,pool:e}}var Xr=Error(s(460)),Jr=Error(s(474)),Zr=Error(s(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e;default:if("string"==typeof t.status)t.then(Pt,Pt);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e}throw ro=t,Xr}}function io(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw ro=e,Xr;throw e}}var ro=null;function oo(){if(null===ro)throw Error(s(459));var e=ro;return ro=null,e}function so(e){if(e===Xr||e===Zr)throw Error(s(483))}var ao=null,lo=0;function co(e){var t=lo;return lo+=1,null===ao&&(ao=[]),no(ao,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function po(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Gi(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Wi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===v?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===w&&io(o)===t.type)?(uo(t=r(t,n.props),n),t.return=e,t):(uo(t=Vi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$i(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=ji(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Wi(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return uo(n=Vi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=$i(t,e.mode,n)).return=e,t;case w:return h(e,t=io(t),n)}if(D(t)||k(t))return(t=ji(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,co(t),n);if(t.$$typeof===b)return h(e,Dr(e,t),n);ho(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===r?c(e,t,n,i):null;case g:return n.key===r?u(e,t,n,i):null;case w:return p(e,t,n=io(n),i)}if(D(n)||k(n))return null!==r?null:d(e,t,n,i,null);if("function"==typeof n.then)return p(e,t,co(n),i);if(n.$$typeof===b)return p(e,t,Dr(e,n),i);ho(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case m:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case g:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return f(e,t,n,i=io(i),r)}if(D(i)||k(i))return d(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return f(e,t,n,co(i),r);if(i.$$typeof===b)return f(e,t,n,Dr(t,i),r);ho(t,i)}return null}function y(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var E=u.key;null!==c;){if(c.key===E){if((E=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===E||"object"==typeof E&&null!==E&&E.$$typeof===w&&io(E)===c.type){n(l,c.sibling),uo(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=ji(u.props.children,l.mode,d,u.key)).return=l,l=d):(uo(d=Vi(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case g:e:{for(E=u.key;null!==c;){if(c.key===E){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$i(u,l.mode,d)).return=l,l=d}return a(l);case w:return y(l,c,u=io(u),d)}if(D(u))return function(r,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(r,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(r,d),dr&&rr(r,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(r,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return dr&&rr(r,m),c}for(d=i(d);m<a.length;m++)null!==(g=f(d,r,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),dr&&rr(r,m),c}(l,c,u,d);if(k(u)){if("function"!=typeof(E=k(u)))throw Error(s(150));return function(r,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var E=p(r,m,y.value,c);if(null===E){null===m&&(m=v);break}e&&m&&null===E.alternate&&t(r,m),a=o(E,a,g),null===d?u=E:d.sibling=E,d=E,m=v}if(y.done)return n(r,m),dr&&rr(r,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return dr&&rr(r,g),u}for(m=i(m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),dr&&rr(r,g),u}(l,c,u=E.call(u),d)}if("function"==typeof u.then)return y(l,c,co(u),d);if(u.$$typeof===b)return y(l,c,Dr(l,u),d);ho(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=Wi(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,i){try{lo=0;var r=y(e,t,n,i);return ao=null,r}catch(t){if(t===Xr||t===Zr)throw t;var o=Fi(29,t,null,e.mode);return o.lanes=i,o.return=e,o}}}var fo=po(!0),mo=po(!1),go=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Eo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function So(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&pc){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Ci(e),Mi(e,null,n),t}return Li(e,i,t,n),Ci(e)}function bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Me(e,n)}}function _o(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oo=!1;function To(){if(Oo){if(null!==Wr)throw Wr}}function Ao(e,t,n,i){Oo=!1;var r=e.updateQueue;go=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(s=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,f=h!==a.lane;if(f?(gc&h)===h:(i&h)===h){0!==h&&h===jr&&(Oo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;h=t;var v=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=g.payload)?m.call(v,d,h):m))break e;d=p({},d,h);break e;case 2:go=!0}}null!==(h=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[h]:f.push(h))}else f={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(f=a).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===o&&(r.shared.lanes=0),Tc|=s,e.lanes=s,e.memoizedState=d}}function wo(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function No(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)wo(n[e],t)}var Io=H(null),Ro=H(0);function ko(e,t){B(Ro,e=_c),B(Io,t),_c=e|t.baseLanes}function Lo(){B(Ro,_c),B(Io,Io.current)}function Po(){_c=Ro.current,G(Io),G(Ro)}var Do=H(null),Mo=null;function Co(e){var t=e.alternate;B(Go,1&Go.current),B(Do,e),null===Mo&&(null===t||null!==Io.current||null!==t.memoizedState)&&(Mo=e)}function xo(e){B(Go,Go.current),B(Do,e),null===Mo&&(Mo=e)}function Uo(e){22===e.tag?(B(Go,Go.current),B(Do,e),null===Mo&&(Mo=e)):Fo()}function Fo(){B(Go,Go.current),B(Do,Do.current)}function Ho(e){G(Do),Mo===e&&(Mo=null),G(Go)}var Go=H(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ld(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=0,jo=null,Wo=null,zo=null,$o=!1,Ko=!1,Yo=!1,qo=0,Qo=0,Xo=null,Jo=0;function Zo(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ts(e,t,n,i,r,o){return Vo=o,jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?ga:va,Yo=!1,o=n(i,r),Yo=!1,Ko&&(o=is(t,n,i,r)),ns(e),o}function ns(e){M.H=ma;var t=null!==Wo&&null!==Wo.next;if(Vo=0,zo=Wo=jo=null,$o=!1,Qo=0,Xo=null,t)throw Error(s(300));null===e||Da||null!==(e=e.dependencies)&&kr(e)&&(Da=!0)}function is(e,t,n,i){jo=e;var r=0;do{if(Ko&&(Xo=null),Qo=0,Ko=!1,25<=r)throw Error(s(301));if(r+=1,zo=Wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}M.H=ya,o=t(n,i)}while(Ko);return o}function rs(){var e=M.H,t=e.useState()[0];return t="function"==typeof t.then?us(t):t,e=e.useState()[0],(null!==Wo?Wo.memoizedState:null)!==e&&(jo.flags|=1024),t}function os(){var e=0!==qo;return qo=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function as(e){if($o){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}$o=!1}Vo=0,zo=Wo=jo=null,Ko=!1,Qo=qo=0,Xo=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===zo?jo.memoizedState=zo=e:zo=zo.next=e,zo}function cs(){if(null===Wo){var e=jo.alternate;e=null!==e?e.memoizedState:null}else e=Wo.next;var t=null===zo?jo.memoizedState:zo.next;if(null!==t)zo=t,Wo=e;else{if(null===e){if(null===jo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Wo=e).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===zo?jo.memoizedState=zo=e:zo=zo.next=e}return zo}function us(e){var t=Qo;return Qo+=1,null===Xo&&(Xo=[]),e=no(Xo,e,t),t=jo,null===(null===zo?t.memoizedState:zo.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?ga:va),e}function ds(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return us(e);if(e.$$typeof===b)return Pr(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=jo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=jo.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},jo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=I;return t.index++,n}function ps(e,t){return"function"==typeof t?t(e):t}function fs(e){return ms(cs(),Wo,e)}function ms(e,t,n){var i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var r=e.baseQueue,o=i.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}t.baseQueue=r=o,i.pending=null}if(o=e.baseState,null===r)e.memoizedState=o;else{var l=a=null,c=null,u=t=r.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(Vo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===jr&&(d=!0);else{if((Vo&p)===p){u=u.next,p===jr&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,jo.lanes|=p,Tc|=p}h=u.action,Yo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,jo.lanes|=h,Tc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Jn(o,e.memoizedState)&&(Da=!0,d&&null!==(n=Wr)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,i.lastRenderedState=o}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function gs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);Jn(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function vs(e,t,n){var i=jo,r=cs(),o=dr;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Jn((Wo||r).memoizedState,n);if(a&&(r.memoizedState=n,Da=!0),r=r.queue,Vs(Ss.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||null!==zo&&1&zo.memoizedState.tag){if(i.flags|=2048,Us(9,{destroy:void 0},Es.bind(null,i,r,n,t),null),null===fc)throw Error(s(349));o||127&Vo||ys(i,t,n)}return n}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=jo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},jo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,i){t.value=n,t.getSnapshot=i,bs(t)&&_s(e)}function Ss(e,t,n){return n((function(){bs(t)&&_s(e)}))}function bs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(e){return!0}}function _s(e){var t=Di(e,2);null!==t&&Yc(t,e,2)}function Os(e){var t=ls();if("function"==typeof e){var n=e;if(e=n(),Yo){Ee(!0);try{n()}finally{Ee(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function Ts(e,t,n,i){return e.baseState=n,ms(e,Wo,"function"==typeof i?i:ps)}function As(e,t,n,i,r){if(ha(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==M.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,ws(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ws(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var o=M.T,s={};M.T=s;try{var a=n(r,i),l=M.S;null!==l&&l(s,a),Ns(e,t,a)}catch(n){Rs(e,t,n)}finally{null!==o&&null!==s.types&&(o.types=s.types),M.T=o}}else try{Ns(e,t,o=n(r,i))}catch(n){Rs(e,t,n)}}function Ns(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){Is(e,t,n)}),(function(n){return Rs(e,t,n)})):Is(e,t,n)}function Is(e,t,n){t.status="fulfilled",t.value=n,ks(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ws(e,n)))}function Rs(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,ks(t),t=t.next}while(t!==i)}e.action=null}function ks(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ls(e,t){return t}function Ps(e,t){if(dr){var n=fc.formState;if(null!==n){e:{var i=jo;if(dr){if(ur){t:{for(var r=ur,o=pr;8!==r.nodeType;){if(!o){r=null;break t}if(null===(r=Dd(r.nextSibling))){r=null;break t}}r="F!"===(o=r.data)||"F"===o?r:null}if(r){ur=Dd(r.nextSibling),i="F!"===r.data;break e}}mr(i)}i=!1}i&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},n.queue=i,n=ca.bind(null,jo,i),i.dispatch=n,i=Os(!1),o=da.bind(null,jo,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=ls()).queue=r,n=As.bind(null,jo,r,o,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ds(e){return Ms(cs(),Wo,e)}function Ms(e,t,n){if(t=ms(e,t,Ls)[0],e=fs(ps)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var i=us(t)}catch(e){if(e===Xr)throw Zr;throw e}else i=t;var r=(t=cs()).queue,o=r.dispatch;return n!==t.memoizedState&&(jo.flags|=2048,Us(9,{destroy:void 0},Cs.bind(null,r,n),null)),[i,o,e]}function Cs(e,t){e.action=t}function xs(e){var t=cs(),n=Wo;if(null!==n)return Ms(t,n,e);cs(),t=t.memoizedState;var i=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Us(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=jo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},jo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Fs(){return cs().memoizedState}function Hs(e,t,n,i){var r=ls();jo.flags|=e,r.memoizedState=Us(1|t,{destroy:void 0},n,void 0===i?null:i)}function Gs(e,t,n,i){var r=cs();i=void 0===i?null:i;var o=r.memoizedState.inst;null!==Wo&&null!==i&&es(i,Wo.memoizedState.deps)?r.memoizedState=Us(t,o,n,i):(jo.flags|=e,r.memoizedState=Us(1|t,o,n,i))}function Bs(e,t){Hs(8390656,8,e,t)}function Vs(e,t){Gs(2048,8,e,t)}function js(e){var t=cs().memoizedState;return function(e){jo.flags|=4;var t=jo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},jo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&pc)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Ws(e,t){return Gs(4,2,e,t)}function zs(e,t){return Gs(4,4,e,t)}function $s(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ks(e,t,n){n=null!=n?n.concat([e]):null,Gs(4,4,$s.bind(null,t,e),n)}function Ys(){}function qs(e,t){var n=cs();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&es(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Qs(e,t){var n=cs();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&es(t,i[1]))return i[0];if(i=e(),Yo){Ee(!0);try{e()}finally{Ee(!1)}}return n.memoizedState=[i,t],i}function Xs(e,t,n){return void 0===n||1073741824&Vo&&!(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),jo.lanes|=e,Tc|=e,n)}function Js(e,t,n,i){return Jn(n,t)?n:null!==Io.current?(e=Xs(e,n,i),Jn(e,t)||(Da=!0),e):42&Vo&&(!(1073741824&Vo)||261930&gc)?(e=Kc(),jo.lanes|=e,Tc|=e,t):(Da=!0,e.memoizedState=n)}function Zs(e,t,n,i,r){var o=C.p;C.p=0!==o&&8>o?o:8;var s,a,l,c=M.T,u={};M.T=u,da(e,!1,t,n);try{var d=r(),h=M.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)ua(e,t,(s=i,a=[],l={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then((function(){l.status="fulfilled",l.value=s;for(var e=0;e<a.length;e++)(0,a[e])(s)}),(function(e){for(l.status="rejected",l.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)})),l),$c());else ua(e,t,i,$c())}catch(n){ua(e,t,{then:function(){},status:"rejected",reason:n},$c())}finally{C.p=o,null!==c&&null!==u.types&&(c.types=u.types),M.T=c}}function ea(){}function ta(e,t,n,i){if(5!==e.tag)throw Error(s(476));var r=na(e).queue;Zs(e,r,t,x,null===n?ea:function(){return ia(e),n(i)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:x},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ia(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},$c())}function ra(){return Pr(uh)}function oa(){return cs().memoizedState}function sa(){return cs().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$c(),i=So(t,e=Eo(n),n);return null!==i&&(Yc(i,t,n),bo(i,t,n)),t={cache:Hr()},void(e.payload=t)}t=t.return}}function la(e,t,n){var i=$c();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ha(e)?pa(t,n):null!==(n=Pi(e,t,n,i))&&(Yc(n,e,i),fa(n,t,i))}function ca(e,t,n){ua(e,t,n,$c())}function ua(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ha(e))pa(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,Jn(a,s))return Li(e,t,r,0),null===fc&&ki(),!1}catch(e){}if(null!==(n=Pi(e,t,r,i)))return Yc(n,e,i),fa(n,t,i),!0}return!1}function da(e,t,n,i){if(i={lane:2,revertLane:Vu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ha(e)){if(t)throw Error(s(479))}else null!==(t=Pi(e,n,i,2))&&Yc(t,e,2)}function ha(e){var t=e.alternate;return e===jo||null!==t&&t===jo}function pa(e,t){Ko=$o=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fa(e,t,n){if(4194048&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Me(e,n)}}var ma={readContext:Pr,use:ds,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};ma.useEffectEvent=Zo;var ga={readContext:Pr,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Pr,useEffect:Bs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Hs(4194308,4,$s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hs(4194308,4,e,t)},useInsertionEffect:function(e,t){Hs(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var i=e();if(Yo){Ee(!0);try{e()}finally{Ee(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ls();if(void 0!==n){var r=n(t);if(Yo){Ee(!0);try{n(t)}finally{Ee(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=la.bind(null,jo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=Os(e)).queue,n=ca.bind(null,jo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ys,useDeferredValue:function(e,t){return Xs(ls(),e,t)},useTransition:function(){var e=Os(!1);return e=Zs.bind(null,jo,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=jo,r=ls();if(dr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===fc)throw Error(s(349));127&gc||ys(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Bs(Ss.bind(null,i,o,e),[e]),i.flags|=2048,Us(9,{destroy:void 0},Es.bind(null,i,o,n,t),null),n},useId:function(){var e=ls(),t=fc.identifierPrefix;if(dr){var n=ir;t="_"+t+"R_"+(n=(nr&~(1<<32-Se(nr)-1)).toString(32)+n),0<(n=qo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Jo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ra,useFormState:Ps,useActionState:Ps,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,jo,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=aa.bind(null,jo)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(2&pc)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Pr,use:ds,useCallback:qs,useContext:Pr,useEffect:Vs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:zs,useMemo:Qs,useReducer:fs,useRef:Fs,useState:function(){return fs(ps)},useDebugValue:Ys,useDeferredValue:function(e,t){return Js(cs(),Wo.memoizedState,e,t)},useTransition:function(){var e=fs(ps)[0],t=cs().memoizedState;return["boolean"==typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:oa,useHostTransitionStatus:ra,useFormState:Ds,useActionState:Ds,useOptimistic:function(e,t){return Ts(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:sa};va.useEffectEvent=js;var ya={readContext:Pr,use:ds,useCallback:qs,useContext:Pr,useEffect:Vs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:zs,useMemo:Qs,useReducer:gs,useRef:Fs,useState:function(){return gs(ps)},useDebugValue:Ys,useDeferredValue:function(e,t){var n=cs();return null===Wo?Xs(n,e,t):Js(n,Wo.memoizedState,e,t)},useTransition:function(){var e=gs(ps)[0],t=cs().memoizedState;return["boolean"==typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:oa,useHostTransitionStatus:ra,useFormState:xs,useActionState:xs,useOptimistic:function(e,t){var n=cs();return null!==Wo?Ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:sa};function Ea(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ya.useEffectEvent=js;var Sa={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=$c(),r=Eo(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=So(e,r,i))&&(Yc(t,e,i),bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=$c(),r=Eo(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=So(e,r,i))&&(Yc(t,e,i),bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$c(),i=Eo(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=So(e,i,n))&&(Yc(t,e,n),bo(t,e,n))}};function ba(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,i)||!Zn(r,o))}function _a(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function Oa(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=p({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function Ta(e){wi(e)}function Aa(e){console.error(e)}function wa(e){wi(e)}function Na(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout((function(){throw e}))}}function Ia(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout((function(){throw e}))}}function Ra(e,t,n){return(n=Eo(n)).tag=3,n.payload={element:null},n.callback=function(){Na(e,t)},n}function ka(e){return(e=Eo(e)).tag=3,e}function La(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var o=i.value;e.payload=function(){return r(o)},e.callback=function(){Ia(t,n,i)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Ia(t,n,i),"function"!=typeof r&&(null===xc?xc=new Set([this]):xc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Pa=Error(s(461)),Da=!1;function Ma(e,t,n,i){t.child=null===e?mo(t,null,n,i):fo(t,e.child,n,i)}function Ca(e,t,n,i,r){n=n.render;var o=t.ref;if("ref"in i){var s={};for(var a in i)"ref"!==a&&(s[a]=i[a])}else s=i;return Lr(t),i=ts(e,t,n,s,o,r),a=os(),null===e||Da?(dr&&a&&sr(t),t.flags|=1,Ma(e,t,i,r),t.child):(ss(e,t,r),rl(e,t,r))}function xa(e,t,n,i,r){if(null===e){var o=n.type;return"function"!=typeof o||Hi(o)||void 0!==o.defaultProps||null!==n.compare?((e=Vi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ua(e,t,o,i,r))}if(o=e.child,!ol(e,r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,i)&&e.ref===t.ref)return rl(e,t,r)}return t.flags|=1,(e=Gi(o,i)).ref=t.ref,e.return=t,t.child=e}function Ua(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(Zn(o,i)&&e.ref===t.ref){if(Da=!1,t.pendingProps=i=o,!ol(e,r))return t.lanes=e.lanes,rl(e,t,r);131072&e.flags&&(Da=!0)}}return Wa(e,t,n,i,r)}function Fa(e,t,n,i){var r=i.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(128&t.flags){if(o=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,r=0;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~o}else i=0,t.child=null;return Ga(e,t,o,n,i)}if(!(536870912&n))return i=t.lanes=536870912,Ga(e,t,null!==o?o.baseLanes|n:n,n,i);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qr(0,null!==o?o.cachePool:null),null!==o?ko(t,o):Lo(),Uo(t)}else null!==o?(qr(0,o.cachePool),ko(t,o),Fo(),t.memoizedState=null):(null!==e&&qr(0,null),Lo(),Fo());return Ma(e,t,r,n),t.child}function Ha(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ga(e,t,n,i,r){var o=Yr();return o=null===o?null:{parent:Fr._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&qr(0,null),Lo(),Uo(t),null!==e&&Rr(e,t,i,!0),t.childLanes=r,null}function Ba(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Va(e,t,n){return fo(t,e.child,null,n),(e=Ba(t,t.pendingProps)).flags|=2,Ho(t),t.memoizedState=null,e}function ja(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wa(e,t,n,i,r){return Lr(t),n=ts(e,t,n,i,void 0,r),i=os(),null===e||Da?(dr&&i&&sr(t),t.flags|=1,Ma(e,t,n,r),t.child):(ss(e,t,r),rl(e,t,r))}function za(e,t,n,i,r,o){return Lr(t),t.updateQueue=null,n=is(t,i,n,r),ns(e),i=os(),null===e||Da?(dr&&i&&sr(t),t.flags|=1,Ma(e,t,n,o),t.child):(ss(e,t,o),rl(e,t,o))}function $a(e,t,n,i,r){if(Lr(t),null===t.stateNode){var o=xi,s=n.contextType;"object"==typeof s&&null!==s&&(o=Pr(s)),o=new n(i,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Sa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=i,o.state=t.memoizedState,o.refs={},vo(t),s=n.contextType,o.context="object"==typeof s&&null!==s?Pr(s):xi,o.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(Ea(t,n,s,i),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(s=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&Sa.enqueueReplaceState(o,o.state,null),Ao(t,i,o,r),To(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=Oa(n,a);o.props=l;var c=o.context,u=n.contextType;s=xi,"object"==typeof u&&null!==u&&(s=Pr(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a||c!==s)&&_a(t,o,i,s),go=!1;var h=t.memoizedState;o.state=h,Ao(t,i,o,r),To(),c=t.memoizedState,a||h!==c||go?("function"==typeof d&&(Ea(t,n,d,i),c=t.memoizedState),(l=go||ba(t,n,l,i,h,c,s))?(u||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=s,i=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,yo(e,t),u=Oa(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=xi,"object"==typeof c&&null!==c&&(l=Pr(c)),(c="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||h!==l)&&_a(t,o,i,l),go=!1,h=t.memoizedState,o.state=h,Ao(t,i,o,r),To();var p=t.memoizedState;s!==d||h!==p||go||null!==e&&null!==e.dependencies&&kr(e.dependencies)?("function"==typeof a&&(Ea(t,n,a,i),p=t.memoizedState),(u=go||ba(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&kr(e.dependencies))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,ja(e,t),i=!!(128&t.flags),o||i?(o=t.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&i?(t.child=fo(t,e.child,null,r),t.child=fo(t,null,n,r)):Ma(e,t,n,r),t.memoizedState=o.state,e=t.child):e=rl(e,t,r),e}function Ka(e,t,n,i){return Er(),t.flags|=256,Ma(e,t,n,i),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qa(e){return{baseLanes:e,cachePool:Qr()}}function Qa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Nc),e}function Xa(e,t,n){var i,r=t.pendingProps,o=!1,a=!!(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&!!(2&Go.current)),i&&(o=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(dr){if(o?Co(t):Fo(),(e=ur)?null!==(e=null!==(e=kd(e,pr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=zi(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw mr(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var l=r.children;return r=r.fallback,o?(Fo(),l=Za({mode:"hidden",children:l},o=t.mode),r=ji(r,o,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,(r=t.child).memoizedState=qa(n),r.childLanes=Qa(e,i,n),t.memoizedState=Ya,Ha(null,r)):(Co(t),Ja(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Co(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Fo(),t.child=e.child,t.flags|=128,t=null):(Fo(),l=r.fallback,o=t.mode,r=Za({mode:"visible",children:r.children},o),(l=ji(l,o,n,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,fo(t,e.child,null,n),(r=t.child).memoizedState=qa(n),r.childLanes=Qa(e,i,n),t.memoizedState=Ya,t=Ha(null,r));else if(Co(t),Pd(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(s(419))).stack="",r.digest=i,br({value:r,source:null,stack:null}),t=el(e,t,n)}else if(Da||Rr(e,t,n,!1),i=!!(n&e.childLanes),Da||i){if(null!==(i=fc)&&(0!==(r=Ce(i,n))&&r!==c.retryLane))throw c.retryLane=r,Di(e,r),Yc(i,e,r),Pa;Ld(l)||su(),t=el(e,t,n)}else Ld(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ur=Dd(l.nextSibling),cr=t,dr=!0,hr=null,pr=!1,null!==e&&lr(t,e),(t=Ja(t,r.children)).flags|=4096);return t}return o?(Fo(),l=r.fallback,o=t.mode,u=(c=e.child).sibling,(r=Gi(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Gi(u,l):(l=ji(l,o,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,Ha(null,r),r=t.child,null===(l=e.child.memoizedState)?l=qa(n):(null!==(o=l.cachePool)?(c=Fr._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Qr(),l={baseLanes:l.baseLanes|n,cachePool:o}),r.memoizedState=l,r.childLanes=Qa(e,i,n),t.memoizedState=Ya,Ha(e.child,r)):(Co(t),e=(n=e.child).sibling,(n=Gi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ja(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=Fi(22,e,null,t)).lanes=0,e}function el(e,t,n){return fo(t,e.child,null,n),(e=Ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Nr(e.return,t,n)}function nl(e,t,n,i,r,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r,s.treeForkCount=o)}function il(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;i=i.children;var s=Go.current,a=!!(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,B(Go,s),Ma(e,t,i,n),i=dr?Ji:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nl(t,!1,r,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Bo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nl(t,!0,n,null,o,i);break;case"together":nl(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tc|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(Rr(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Gi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!kr(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Da=!0;else{if(!(ol(e,n)||128&t.flags))return Da=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Ar(0,Fr,e.memoizedState.cache),Er();break;case 27:case 5:Q(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Ar(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,xo(t),null;break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Co(t),t.flags|=128,null):n&t.child.childLanes?Xa(e,t,n):(Co(t),null!==(e=rl(e,t,n))?e.sibling:null);Co(t);break;case 19:var r=!!(128&e.flags);if((i=!!(n&t.childLanes))||(Rr(e,t,n,!1),i=!!(n&t.childLanes)),r){if(i)return il(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),B(Go,Go.current),i)break;return null;case 22:return t.lanes=0,Fa(e,t,n,t.pendingProps);case 24:Ar(0,Fr,e.memoizedState.cache)}return rl(e,t,n)}(e,t,n);Da=!!(131072&e.flags)}else Da=!1,dr&&1048576&t.flags&&or(t,Ji,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=io(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var r=e.$$typeof;if(r===_){t.tag=11,t=Ca(null,t,e,i,n);break e}if(r===A){t.tag=14,t=xa(null,t,e,i,n);break e}}throw t=P(e)||e,Error(s(306,t,""))}Hi(e)?(i=Oa(e,i),t.tag=1,t=$a(null,t,e,i,n)):(t.tag=0,t=Wa(null,t,e,i,n))}return t;case 0:return Wa(e,t,t.type,t.pendingProps,n);case 1:return $a(e,t,i=t.type,r=Oa(i,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(s(387));i=t.pendingProps;var o=t.memoizedState;r=o.element,yo(e,t),Ao(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Ar(0,Fr,i),i!==o.cache&&Ir(t,[Fr],n,!0),To(),i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ka(e,t,i,n);break e}if(i!==r){br(r=Yi(Error(s(424)),t)),t=Ka(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ur=Dd(e.firstChild),cr=t,dr=!0,hr=null,pr=!0,n=mo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Er(),i===r){t=rl(e,t,n);break e}Ma(e,t,i,n)}t=t.child}return t;case 26:return ja(e,t),null===e?(n=zd(t.type,null,t.pendingProps,null))?t.memoizedState=n:dr||(n=t.type,e=t.pendingProps,(i=gd($.current).createElement(n))[Be]=t,i[Ve]=e,hd(i,n,e),et(i),t.stateNode=i):t.memoizedState=zd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&dr&&(i=t.stateNode=Ud(t.type,t.pendingProps,$.current),cr=t,pr=!0,r=ur,wd(t.type)?(Md=r,ur=Dd(i.firstChild)):ur=r),Ma(e,t,t.pendingProps.children,n),ja(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&dr&&((r=i=ur)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===o)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,pr))?(t.stateNode=i,cr=t,ur=Dd(i.firstChild),pr=!1,r=!0):r=!1),r||mr(t)),Q(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children,Ed(r,o)?i=null:null!==a&&Ed(r,a)&&(t.flags|=32),null!==t.memoizedState&&(r=ts(e,t,rs,null,null,n),uh._currentValue=r),ja(e,t),Ma(e,t,i,n),t.child;case 6:return null===e&&dr&&((e=n=ur)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,pr))?(t.stateNode=n,cr=t,ur=null,e=!0):e=!1),e||mr(t)),null;case 13:return Xa(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=fo(t,null,i,n):Ma(e,t,i,n),t.child;case 11:return Ca(e,t,t.type,t.pendingProps,n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ar(0,t.type,i.value),Ma(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Lr(t),i=i(r=Pr(r)),t.flags|=1,Ma(e,t,i,n),t.child;case 14:return xa(e,t,t.type,t.pendingProps,n);case 15:return Ua(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,r=!!(128&t.flags);if(t.flags&=-129,null===e){if(dr){if("hidden"===i.mode)return e=Ba(t,i),t.lanes=536870912,Ha(null,e);if(xo(t),(e=ur)?null!==(e=null!==(e=kd(e,pr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=zi(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw mr(t);return t.lanes=536870912,null}return Ba(t,i)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(xo(t),r)if(256&t.flags)t.flags&=-257,t=Va(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Da||Rr(e,t,n,!1),r=!!(n&e.childLanes),Da||r){if(null!==(i=fc)&&0!==(a=Ce(i,n))&&a!==o.retryLane)throw o.retryLane=a,Di(e,a),Yc(i,e,a),Pa;su(),t=Va(e,t,n)}else e=o.treeContext,ur=Dd(a.nextSibling),cr=t,dr=!0,hr=null,pr=!1,null!==e&&lr(t,e),(t=Ba(t,i)).flags|=4096;return t}return(e=Gi(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fa(e,t,n,t.pendingProps);case 24:return Lr(t),i=Pr(Fr),null===e?(null===(r=Yr())&&(r=fc,o=Hr(),r.pooledCache=o,o.refCount++,null!==o&&(r.pooledCacheLanes|=n),r=o),t.memoizedState={parent:i,cache:r},vo(t),Ar(0,Fr,r)):(!!(e.lanes&n)&&(yo(e,t),Ao(t,null,null,n),To()),r=e.memoizedState,o=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Ar(0,Fr,i)):(i=o.cache,Ar(0,Fr,i),i!==r.cache&&Ir(t,[Fr],n,!0))),Ma(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function al(e){e.flags|=4}function ll(e,t,n,i,r){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ro=eo,Jr;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!rh(t)){if(!iu())throw ro=eo,Jr;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,Ic|=t)}function dl(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function pl(e,t,n){var i=t.pendingProps;switch(ar(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),wr(Fr),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yr(t)?al(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Sr())),hl(t),null;case 26:var r=t.type,o=t.memoizedState;return null===e?(al(t),null!==o?(hl(t),cl(t,o)):(hl(t),ll(t,r,0,0,n))):o?o!==e.memoizedState?(al(t),hl(t),cl(t,o)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&al(t),hl(t),ll(t,r,0,0,n)),null;case 27:if(X(t),n=$.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&al(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return hl(t),null}e=W.current,yr(t)?gr(t):(e=Ud(r,i,n),t.stateNode=e,al(t))}return hl(t),null;case 5:if(X(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&al(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return hl(t),null}if(o=W.current,yr(t))gr(t);else{var a=gd($.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"==typeof i.is?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o="string"==typeof i.is?a.createElement(r,{is:i.is}):a.createElement(r)}}o[Be]=t,o[Ve]=i;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(hd(o,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&al(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&al(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(s(166));if(e=$.current,yr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=cr))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||cd(e.nodeValue,n)))||mr(t,!0)}else(e=gd(e).createTextNode(i))[Be]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=yr(t),null!==n){if(null===e){if(!i)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Be]=t}else Er(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=Sr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ho(t),t):(Ho(t),null);if(128&t.flags)throw Error(s(558))}return hl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=yr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Be]=t}else Er(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),r=!1}else r=Sr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Ho(t),t):(Ho(t),null)}return Ho(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool),o=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return q(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return wr(t.type),hl(t),null;case 19:if(G(Go),null===(i=t.memoizedState))return hl(t),null;if(r=!!(128&t.flags),null===(o=i.rendering))if(r)dl(i,!1);else{if(0!==Oc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Bo(e))){for(t.flags|=128,dl(i,!1),e=o.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Bi(n,e),n=n.sibling;return B(Go,1&Go.current|2),dr&&rr(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&le()>Mc&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Bo(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!dr)return hl(t),null}else 2*le()-i.renderingStartTime>Mc&&536870912!==n&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=Go.current,B(Go,r?1&n|2:1&n),dr&&rr(t,i.treeForkCount),e):(hl(t),null);case 22:case 23:return Ho(t),Po(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&G(Kr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wr(Fr),hl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function fl(e,t){switch(ar(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wr(Fr),q(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Ho(t),null===t.alternate)throw Error(s(340));Er()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ho(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));Er()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(Go),null;case 4:return q(),null;case 10:return wr(t.type),null;case 22:case 23:return Ho(t),Po(),null!==e&&G(Kr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wr(Fr),null;default:return null}}function ml(e,t){switch(ar(t),t.tag){case 3:wr(Fr),q();break;case 26:case 27:case 5:X(t);break;case 4:q();break;case 31:null!==t.memoizedState&&Ho(t);break;case 13:Ho(t);break;case 19:G(Go);break;case 10:wr(t.type);break;case 22:case 23:Ho(t),Po(),null!==e&&G(Kr);break;case 24:wr(Fr)}}function gl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var o=n.create,s=n.inst;i=o(),s.destroy=i}n=n.next}while(n!==r)}}catch(e){Ou(t,t.return,e)}}function vl(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var o=r.next;i=o;do{if((i.tag&e)===e){var s=i.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,r=t;var l=n,c=a;try{c()}catch(e){Ou(r,l,e)}}}i=i.next}while(i!==o)}}catch(e){Ou(t,t.return,e)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{No(t,n)}catch(t){Ou(e,e.return,t)}}}function El(e,t,n){n.props=Oa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Ou(e,t,n)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"==typeof n?e.refCleanup=n(i):n.current=i}}catch(n){Ou(e,t,n)}}function bl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(n){Ou(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){Ou(e,t,n)}else n.current=null}function _l(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(t){Ou(e,e.return,t)}}function Ol(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(f)||ud(e,t,f,null,i,h)}}for(var p in i){var f=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":o=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&ud(e,t,p,f,i,h)}}return void yt(e,a,l,c,u,d,o,r);case"select":for(o in f=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:i.hasOwnProperty(o)||ud(e,t,o,null,i,c)}for(r in i)if(o=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=o||null!=c))switch(r){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&ud(e,t,r,o,i,c)}return t=l,n=a,i=f,void(null!=p?bt(e,!!n,p,!1):!!i!=!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,i,r)}for(a in i)if(r=i[a],o=n[a],i.hasOwnProperty(a)&&(null!=r||null!=o))switch(a){case"value":p=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==o&&ud(e,t,a,r,i,o)}return void _t(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,i,p);for(c in i)if(p=i[c],f=n[c],i.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else ud(e,t,c,p,i,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&ud(e,t,g,null,i,p);for(u in i)if(p=i[u],f=n[u],i.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:ud(e,t,u,p,i,f)}return;default:if(It(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!i.hasOwnProperty(v)&&dd(e,t,v,void 0,i,p);for(d in i)p=i[d],f=n[d],!i.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||dd(e,t,d,p,i,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!i.hasOwnProperty(y)&&ud(e,t,y,null,i,p);for(h in i)p=i[h],f=n[h],!i.hasOwnProperty(h)||p===f||null==p&&null==f||ud(e,t,h,p,i,f)}(i,e.type,n,t),i[Ve]=t}catch(t){Ou(e,e.return,t)}}function Tl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&wd(e.type)||4===e.tag}function Al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Tl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&wd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Pt));else if(4!==i&&(27===i&&wd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}function Nl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&wd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Nl(e,t,n),e=e.sibling;null!==e;)Nl(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hd(t,i,n),t[Be]=e,t[Ve]=n}catch(t){Ou(e,e.return,t)}}var Rl=!1,kl=!1,Ll=!1,Pl="function"==typeof WeakSet?WeakSet:Set,Dl=null;function Ml(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&i&&gl(5,n);break;case 1:if(Yl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){Ou(n,n.return,e)}else{var r=Oa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Ou(n,n.return,e)}}64&i&&yl(n),512&i&&Sl(n,n.return);break;case 3:if(Yl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{No(e,t)}catch(e){Ou(n,n.return,e)}}break;case 27:null===t&&4&i&&Il(n);case 26:case 5:Yl(e,n),null===t&&4&i&&_l(n),512&i&&Sl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&i&&Gl(e,n);break;case 13:Yl(e,n),4&i&&Bl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=Nu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||Rl)){t=null!==t&&null!==t.memoizedState||kl,r=Rl;var o=kl;Rl=i,(kl=t)&&!o?Ql(e,n,!!(8772&n.subtreeFlags)):Yl(e,n),Rl=r,kl=o}break;case 30:break;default:Yl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xl=null,Ul=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Hl(e,t,n),n=n.sibling}function Hl(e,t,n){if(ye&&"function"==typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(e){}switch(n.tag){case 26:kl||bl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:kl||bl(n,t);var i=xl,r=Ul;wd(n.type)&&(xl=n.stateNode,Ul=!1),Fl(e,t,n),Fd(n.stateNode),xl=i,Ul=r;break;case 5:kl||bl(n,t);case 6:if(i=xl,r=Ul,xl=null,Fl(e,t,n),Ul=r,null!==(xl=i))if(Ul)try{(9===xl.nodeType?xl.body:"HTML"===xl.nodeName?xl.ownerDocument.body:xl).removeChild(n.stateNode)}catch(e){Ou(n,t,e)}else try{xl.removeChild(n.stateNode)}catch(e){Ou(n,t,e)}break;case 18:null!==xl&&(Ul?(Nd(9===(e=xl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):Nd(xl,n.stateNode));break;case 4:i=xl,r=Ul,xl=n.stateNode.containerInfo,Ul=!0,Fl(e,t,n),xl=i,Ul=r;break;case 0:case 11:case 14:case 15:vl(2,n,t),kl||vl(4,n,t),Fl(e,t,n);break;case 1:kl||(bl(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount&&El(n,t,i)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:kl=(i=kl)||null!==n.memoizedState,Fl(e,t,n),kl=i;break;default:Fl(e,t,n)}}function Gl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(e){Ou(t,t.return,e)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(e){Ou(t,t.return,e)}}function Vl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){if(!n.has(t)){n.add(t);var i=Iu.bind(null,e,t);t.then(i,i)}}))}function jl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(wd(l.type)){xl=l.stateNode,Ul=!1;break e}break;case 5:xl=l.stateNode,Ul=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,Ul=!0;break e}l=l.return}if(null===xl)throw Error(s(160));Hl(o,a,r),xl=null,Ul=!1,null!==(o=r.alternate)&&(o.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)zl(t,e),t=t.sibling}var Wl=null;function zl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jl(t,e),$l(e),4&i&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:jl(t,e),$l(e),512&i&&(kl||null===n||bl(n,n.return)),64&i&&Rl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Wl;if(jl(t,e),$l(e),512&i&&(kl||null===n||bl(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(o=r.getElementsByTagName("title")[0])||o[Ye]||o[Be]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),hd(o,i,n),o[Be]=e,et(o),i=o;break e;case"link":var a=nh("link","href",r).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}hd(o=r.createElement(i),i,n),r.head.appendChild(o);break;case"meta":if(a=nh("meta","content",r).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}hd(o=r.createElement(i),i,n),r.head.appendChild(o);break;default:throw Error(s(468,i))}o[Be]=e,et(o),i=o}e.stateNode=i}else ih(r,e.type,e.stateNode);else e.stateNode=Xd(r,i,e.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?ih(r,e.type,e.stateNode):Xd(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&Ol(e,e.memoizedProps,n.memoizedProps)}break;case 27:jl(t,e),$l(e),512&i&&(kl||null===n||bl(n,n.return)),null!==n&&4&i&&Ol(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jl(t,e),$l(e),512&i&&(kl||null===n||bl(n,n.return)),32&e.flags){r=e.stateNode;try{Tt(r,"")}catch(t){Ou(e,e.return,t)}}4&i&&null!=e.stateNode&&Ol(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(Ll=!0);break;case 6:if(jl(t,e),$l(e),4&i){if(null===e.stateNode)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(t){Ou(e,e.return,t)}}break;case 3:if(th=null,r=Wl,Wl=Bd(t.containerInfo),jl(t,e),Wl=r,$l(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(t){Ou(e,e.return,t)}Ll&&(Ll=!1,Kl(e));break;case 4:i=Wl,Wl=Bd(e.stateNode.containerInfo),jl(t,e),$l(e),Wl=i;break;case 12:default:jl(t,e),$l(e);break;case 31:case 19:jl(t,e),$l(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Vl(e,i)));break;case 13:jl(t,e),$l(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Pc=le()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Vl(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Rl,d=kl;if(Rl=u||r,kl=d||c,jl(t,e),kl=d,Rl=u,$l(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||Rl||kl||ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,r)"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){Ou(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(e){Ou(c,c.return,e)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;r?Id(f,!0):Id(c.stateNode,!1)}catch(e){Ou(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Vl(e,n))));case 30:case 21:}}function $l(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(Tl(i)){n=i;break}i=i.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;Nl(e,Al(e),r);break;case 5:var o=n.stateNode;32&n.flags&&(Tt(o,""),n.flags&=-33),Nl(e,Al(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;wl(e,Al(e),a);break;default:throw Error(s(161))}}catch(t){Ou(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ml(e,t.alternate,t),t=t.sibling}function ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),ql(t);break;case 1:bl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&El(t,t.return,n),ql(t);break;case 27:Fd(t.stateNode);case 26:case 5:bl(t,t.return),ql(t);break;case 22:null===t.memoizedState&&ql(t);break;default:ql(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Ql(r,o,n),gl(4,o);break;case 1:if(Ql(r,o,n),"function"==typeof(r=(i=o).stateNode).componentDidMount)try{r.componentDidMount()}catch(e){Ou(i,i.return,e)}if(null!==(r=(i=o).updateQueue)){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)wo(l[r],a)}catch(e){Ou(i,i.return,e)}}n&&64&s&&yl(o),Sl(o,o.return);break;case 27:Il(o);case 26:case 5:Ql(r,o,n),n&&null===i&&4&s&&_l(o),Sl(o,o.return);break;case 12:Ql(r,o,n);break;case 31:Ql(r,o,n),n&&4&s&&Gl(r,o);break;case 13:Ql(r,o,n),n&&4&s&&Bl(r,o);break;case 22:null===o.memoizedState&&Ql(r,o,n),Sl(o,o.return);break;case 30:break;default:Ql(r,o,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Gr(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Gr(e))}function Zl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,i),t=t.sibling}function ec(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,i),2048&r&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,i);break;case 3:Zl(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Gr(e)));break;case 12:if(2048&r){Zl(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"==typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){Ou(t,t.return,e)}}else Zl(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Zl(e,t,n,i):nc(e,t):2&o._visibility?Zl(e,t,n,i):(o._visibility|=2,tc(e,t,n,i,!!(10256&t.subtreeFlags)||!1)),2048&r&&Xl(s,t);break;case 24:Zl(e,t,n,i),2048&r&&Jl(t.alternate,t)}}function tc(e,t,n,i,r){for(r=r&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,a=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(o,s,a,l,r),gl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(o,s,a,l,r):nc(o,s):(u._visibility|=2,tc(o,s,a,l,r)),r&&2048&c&&Xl(s.alternate,s);break;case 24:tc(o,s,a,l,r),r&&2048&c&&Jl(s.alternate,s);break;default:tc(o,s,a,l,r)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:nc(n,i),2048&r&&Xl(i.alternate,i);break;case 24:nc(n,i),2048&r&&Jl(i.alternate,i);break;default:nc(n,i)}t=t.sibling}}var ic=8192;function rc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,i){if(!("stylesheet"!==n.type||"string"==typeof i.media&&!1===matchMedia(i.media).matches||4&n.state.loading)){if(null===n.instance){var r=$d(i.href),o=t.querySelector(Kd(r));if(o)return null!==(t=o._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,i=Yd(i),(r=Hd.get(r))&&Zd(i,r),et(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),hd(o,"link",i),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=sh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var i=Wl;Wl=Bd(e.stateNode.containerInfo),rc(e,t,n),Wl=i;break;case 22:null===e.memoizedState&&(null!==(i=e.alternate)&&null!==i.memoizedState?(i=ic,ic=16777216,rc(e,t,n),ic=i):rc(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ac(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Dl=i,uc(i,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:ac(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ac(e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Dl=i,uc(i,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Gr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Dl=i;else e:for(n=e;null!==Dl;){var r=(i=Dl).sibling,o=i.return;if(Cl(i),i===n){Dl=null;break e}if(null!==r){r.return=o,Dl=r;break e}Dl=o}}}var dc={getCacheForType:function(e){var t=Pr(Fr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pr(Fr).controller.signal}},hc="function"==typeof WeakMap?WeakMap:Map,pc=0,fc=null,mc=null,gc=0,vc=0,yc=null,Ec=!1,Sc=!1,bc=!1,_c=0,Oc=0,Tc=0,Ac=0,wc=0,Nc=0,Ic=0,Rc=null,kc=null,Lc=!1,Pc=0,Dc=0,Mc=1/0,Cc=null,xc=null,Uc=0,Fc=null,Hc=null,Gc=0,Bc=0,Vc=null,jc=null,Wc=0,zc=null;function $c(){return 2&pc&&0!==gc?gc&-gc:null!==M.T?Vu():Fe()}function Kc(){if(0===Nc)if(536870912&gc&&!dr)Nc=536870912;else{var e=Te;!(3932160&(Te<<=1))&&(Te=262144),Nc=e}return null!==(e=Do.current)&&(e.flags|=32),Nc}function Yc(e,t,n){(e!==fc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Jc(e,gc,Nc,!1)),Pe(e,n),2&pc&&e===fc||(e===fc&&(!(2&pc)&&(Ac|=n),4===Oc&&Jc(e,gc,Nc,!1)),Cu(e))}function qc(e,t,n){if(6&pc)throw Error(s(327));for(var i=!n&&!(127&t)&&!(t&e.expiredLanes)||Ie(e,t),r=i?function(e,t){var n=pc;pc|=2;var i=ru(),r=ou();fc!==e||gc!==t?(Cc=null,Mc=le()+500,tu(e,t)):Sc=Ie(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var o=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,o,1);break;case 2:case 9:if(to(o)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||fc!==e||(vc=7),Cu(e)},o.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:to(o)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,o,7));break;case 5:var a=null;switch(mc.tag){case 26:a=mc.memoizedState;case 5:case 27:var l=mc;if(a?rh(a):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,pu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,o,5);break;case 6:vc=0,yc=null,hu(e,t,o,6);break;case 8:eu(),Oc=6;break e;default:throw Error(s(462))}}cu();break}catch(t){nu(e,t)}return Tr=Or=null,M.H=i,M.A=r,pc=n,null!==mc?0:(fc=null,gc=0,ki(),Oc)}(e,t):au(e,t,!0),o=i;;){if(0===r){Sc&&!i&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!o||Xc(n)){if(2===r){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;r=Rc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,a).flags|=256),2!==(a=au(l,a,!1))){if(bc&&!c){l.errorRecoveryDisabledLanes|=o,Ac|=o,r=4;break e}o=kc,kc=r,null!==o&&(null===kc?kc=o:kc.push.apply(kc,o))}r=a}if(o=!1,2!==r)continue}}if(1===r){tu(e,0),Jc(e,t,0,!0);break}e:{switch(i=e,o=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Jc(i,t,Nc,!Ec);break e;case 2:kc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=Pc+300-le())){if(Jc(i,t,Nc,!Ec),0!==Ne(i,0,!0))break e;Gc=t,i.timeoutHandle=bd(Qc.bind(null,i,n,kc,Cc,Lc,t,Nc,Ac,Ic,Ec,o,"Throttled",-0,0),r)}else Qc(i,n,kc,Cc,Lc,t,Nc,Ac,Ic,Ec,o,null,-0,0)}break}r=au(e,t,!1),o=!1}Cu(e)}function Qc(e,t,n,i,r,o,s,a,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){oc(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var f=(62914560&o)===o?Pc-le():(4194048&o)===o?Dc-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout((function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],o=r.transferSize,s=r.initiatorType,a=r.duration;if(o&&a&&pd(s)){for(s=0,a=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>a)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--i,t+=8*(o+s)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout((function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}}),(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}(d,f)))return Gc=o,e.cancelPendingCommit=f(mu.bind(null,e,t,o,n,i,r,s,a,l,u,d,null,h,p)),void Jc(e,o,s,!c)}mu(e,t,o,n,i,r,s,a,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Jn(o(),r))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,i){t&=~wc,t&=~Ac,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var o=31-Se(r),s=1<<o;i[o]=-1,r&=~s}0!==n&&De(e,n,t)}function Zc(){return!!(6&pc)||(xu(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else Tr=Or=null,as(e=mc),ao=null,lo=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,_d(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Gc=0,eu(),fc=e,mc=n=Gi(e.current,null),gc=t,vc=0,yc=null,Ec=!1,Sc=Ie(e,t),bc=!1,Ic=Nc=wc=Ac=Tc=Oc=0,kc=Rc=null,Lc=!1,8&t&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-Se(i),o=1<<r;t|=e[r],i&=~o}return _c=t,ki(),n}function nu(e,t){jo=null,M.H=ma,t===Xr||t===Zr?(t=oo(),vc=3):t===Jr?(t=oo(),vc=4):vc=t===Pa?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,yc=t,null===mc&&(Oc=1,Na(e,Yi(t,e.current)))}function iu(){var e=Do.current;return null===e||((4194048&gc)===gc?null===Mo:!!((62914560&gc)===gc||536870912&gc)&&e===Mo)}function ru(){var e=M.H;return M.H=ma,null===e?ma:e}function ou(){var e=M.A;return M.A=dc,e}function su(){Oc=4,Ec||(4194048&gc)!==gc&&null!==Do.current||(Sc=!0),!(134217727&Tc)&&!(134217727&Ac)||null===fc||Jc(fc,gc,Nc,!1)}function au(e,t,n){var i=pc;pc|=2;var r=ru(),o=ou();fc===e&&gc===t||(Cc=null,tu(e,t)),t=!1;var s=Oc;e:for(;;)try{if(0!==vc&&null!==mc){var a=mc,l=yc;switch(vc){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Do.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,a,l,c),n&&Sc){s=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,a,l,c)}}lu(),s=Oc;break}catch(t){nu(e,t)}return t&&e.shellSuspendCounter++,Tr=Or=null,pc=i,M.H=r,M.A=o,null===mc&&(fc=null,gc=0,ki()),s}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!se();)uu(mc)}function uu(e){var t=sl(e.alternate,e,_c);e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=za(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=za(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:as(t);default:ml(n,t),t=sl(n,t=mc=Bi(t,_c),_c)}e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function hu(e,t,n,i){Tr=Or=null,as(t),ao=null,lo=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Rr(t,n,r,!0),null!==(n=Do.current)){switch(n.tag){case 31:case 13:return null===Mo?su():null===n.alternate&&0===Oc&&(Oc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Tu(e,i,r)),!1;case 22:return n.flags|=65536,i===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Tu(e,i,r)),!1}throw Error(s(435,n.tag))}return Tu(e,i,r),su(),!1}if(dr)return null!==(t=Do.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==fr&&br(Yi(e=Error(s(422),{cause:i}),n))):(i!==fr&&br(Yi(t=Error(s(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=Yi(i,n),_o(e,r=Ra(e.stateNode,i,r)),4!==Oc&&(Oc=2)),!1;var o=Error(s(520),{cause:i});if(o=Yi(o,n),null===Rc?Rc=[o]:Rc.push(o),4!==Oc&&(Oc=2),null===t)return!0;i=Yi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,_o(n,e=Ra(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==xc&&xc.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,La(r=ka(r),e,n,i),_o(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,gc))return Oc=1,Na(e,Yi(n,e.current)),void(mc=null)}catch(t){if(null!==r)throw mc=r,t;return Oc=1,Na(e,Yi(n,e.current)),void(mc=null)}32768&t.flags?(dr||1===i?e=!0:Sc||536870912&gc?e=!1:(Ec=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=Do.current)&&13===i.tag&&(i.flags|=16384))),fu(t,e)):pu(t)}function pu(e){var t=e;do{if(32768&t.flags)return void fu(t,Ec);e=t.return;var n=pl(t.alternate,t,_c);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===Oc&&(Oc=5)}function fu(e,t){do{var n=fl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);Oc=6,mc=null}function mu(e,t,n,i,r,o,a,l,c){e.cancelPendingCommit=null;do{Su()}while(0!==Uc);if(6&pc)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,i,r,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-Se(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&De(e,i,0),0!==o&&0===r&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ri,a,l,c),e===fc&&(mc=fc=null,gc=0),Hc=t,Fc=e,Gc=n,Bc=o,Vc=r,jc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,re(he,(function(){return bu(),null}))):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=M.T,M.T=null,r=C.p,C.p=2,a=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,fd=Eh,ri(e=ii(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=a+r),h!==o||0!==i&&3!==h.nodeType||(c=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=a),p===o&&++d===i&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},Eh=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(o=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,r=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var m=Oa(n.type,r);e=i.getSnapshotBeforeUpdate(m,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(e){Ou(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Rd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{pc=a,C.p=r,M.T=i}}Uc=1,gu(),vu(),yu()}}function gu(){if(1===Uc){Uc=0;var e=Fc,t=Hc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=M.T,M.T=null;var i=C.p;C.p=2;var r=pc;pc|=4;try{zl(t,e);var o=md,s=ii(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&ni(a.ownerDocument.documentElement,a)){if(null!==l&&ri(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var v=ti(a,m),y=ti(a,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var E=d.createRange();E.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(E),p.extend(y.node,y.offset)):(E.setEnd(y.node,y.offset),p.addRange(E))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var S=d[a];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Eh=!!fd,md=fd=null}finally{pc=r,C.p=i,M.T=n}}e.current=t,Uc=2}}function vu(){if(2===Uc){Uc=0;var e=Fc,t=Hc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=M.T,M.T=null;var i=C.p;C.p=2;var r=pc;pc|=4;try{Ml(e,t.alternate,t)}finally{pc=r,C.p=i,M.T=n}}Uc=3}}function yu(){if(4===Uc||3===Uc){Uc=0,ae();var e=Fc,t=Hc,n=Gc,i=jc;10256&t.subtreeFlags||10256&t.flags?Uc=5:(Uc=0,Hc=Fc=null,Eu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(xc=null),Ue(n),t=t.stateNode,ye&&"function"==typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==i){t=M.T,r=C.p,C.p=2,M.T=null;try{for(var o=e.onRecoverableError,s=0;s<i.length;s++){var a=i[s];o(a.value,{componentStack:a.stack})}}finally{M.T=t,C.p=r}}3&Gc&&Su(),Cu(e),r=e.pendingLanes,261930&n&&42&r?e===zc?Wc++:(Wc=0,zc=e):Wc=0,xu(0,!1)}}function Eu(e,t){0==(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Gr(t)))}function Su(){return gu(),vu(),yu(),bu()}function bu(){if(5!==Uc)return!1;var e=Fc,t=Bc;Bc=0;var n=Ue(Gc),i=M.T,r=C.p;try{C.p=32>n?32:n,M.T=null,n=Vc,Vc=null;var o=Fc,a=Gc;if(Uc=0,Hc=Fc=null,Gc=0,6&pc)throw Error(s(331));var l=pc;if(pc|=4,lc(o.current),ec(o,o.current,a,n),pc=l,xu(0,!1),ye&&"function"==typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,o)}catch(e){}return!0}finally{C.p=r,M.T=i,Eu(e,t)}}function _u(e,t,n){t=Yi(n,t),null!==(e=So(e,t=Ra(e.stateNode,t,2),2))&&(Pe(e,2),Cu(e))}function Ou(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===xc||!xc.has(i))){e=Yi(n,e),null!==(i=So(t,n=ka(2),2))&&(La(n,i,t,e),Pe(i,2),Cu(i));break}}t=t.return}}function Tu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(bc=!0,r.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function Au(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fc===e&&(gc&n)===n&&(4===Oc||3===Oc&&(62914560&gc)===gc&&300>le()-Pc?!(2&pc)&&tu(e,0):wc|=n,Ic===gc&&(Ic=0)),Cu(e)}function wu(e,t){0===t&&(t=ke()),null!==(e=Di(e,t))&&(Pe(e,t),Cu(e))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),wu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(t),wu(e,n)}var Ru=null,ku=null,Lu=!1,Pu=!1,Du=!1,Mu=0;function Cu(e){e!==ku&&null===e.next&&(null===ku?Ru=ku=e:ku=ku.next=e),Pu=!0,Lu||(Lu=!0,Td((function(){6&pc?re(ue,Uu):Fu()})))}function xu(e,t){if(!Du&&Pu){Du=!0;do{for(var n=!1,i=Ru;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var o=0;else{var s=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-Se(42|e)+1)-1,o=201326741&(o&=r&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Bu(i,o))}else o=gc,!(3&(o=Ne(i,i===fc?o:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||Ie(i,o)||(n=!0,Bu(i,o));i=i.next}}while(n);Du=!1}}function Uu(){Fu()}function Fu(){Pu=Lu=!1;var e=0;0!==Mu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sd&&(Sd=e,!0);return Sd=null,!1}()&&(e=Mu);for(var t=le(),n=null,i=Ru;null!==i;){var r=i.next,o=Hu(i,t);0===o?(i.next=null,null===n?Ru=r:n.next=r,null===r&&(ku=n)):(n=i,(0!==e||3&o)&&(Pu=!0)),i=r}0!==Uc&&5!==Uc||xu(e,!1),0!==Mu&&(Mu=0)}function Hu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-Se(o),a=1<<s,l=r[s];-1===l?a&n&&!(a&i)||(r[s]=Re(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=gc,n=Ne(e,e===(t=fc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&oe(i),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&oe(i),Ue(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return i=Gu.bind(null,e),n=re(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&oe(i),e.callbackPriority=2,e.callbackNode=null,2}function Gu(e,t){if(0!==Uc&&5!==Uc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var i=gc;return 0===(i=Ne(e,e===fc?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(qc(e,i,t),Hu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Gu.bind(null,e):null)}function Bu(e,t){if(Su())return null;qc(e,t,!0)}function Vu(){if(0===Mu){var e=jr;0===e&&(e=Oe,!(261888&(Oe<<=1))&&(Oe=256)),Mu=e}return Mu}function ju(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Lt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var zu=0;zu<Ti.length;zu++){var $u=Ti[zu];Ai($u.toLowerCase(),"on"+($u[0].toUpperCase()+$u.slice(1)))}Ai(gi,"onAnimationEnd"),Ai(vi,"onAnimationIteration"),Ai(yi,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Ei,"onTransitionRun"),Ai(Si,"onTransitionStart"),Ai(bi,"onTransitionCancel"),Ai(_i,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function qu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(e){wi(e)}r.currentTarget=null,o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(e){wi(e)}r.currentTarget=null,o=l}}}}function Qu(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var i=e+"__bubble";n.has(i)||(ed(t,e,2,!1),n.add(i))}function Xu(e,t,n){var i=0;t&&(i|=4),ed(n,e,i,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Ju]){e[Ju]=!0,tt.forEach((function(t){"selectionchange"!==t&&(Yu.has(t)||Xu(t,!1,e),Xu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ju]||(t[Ju]=!0,Xu("selectionchange",!1,t))}}function ed(e,t,n,i){switch(wh(t)){case 2:var r=Sh;break;case 8:r=bh;break;default:r=_h}n=r.bind(null,t,n,e),r=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function td(e,t,n,i,r){var o=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r)break;if(4===s)for(s=i.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==a;){if(null===(s=Qe(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){i=o=s;continue e}a=a.parentNode}}i=i.return}Ht((function(){var i=o,r=Mt(n),s=[];e:{var a=Oi.get(e);if(void 0!==a){var c=nn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Sn;break;case gi:case vi:case yi:c=un;break;case _i:c=bn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=En;break;case"toggle":case"beforetoggle":c=On}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,m=i;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Gt(m,p))&&d.push(nd(m,g,f)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,r),s.push({event:a,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[je])&&(c||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=an,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?a:Je(c),f=null==u?a:Je(u),(a=new d(g,m+"leave",c,n,r)).target=h,a.relatedTarget=f,g=null,Qe(r)===i&&((d=new d(p,m+"enter",u,n,r)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=rd,m=u,f=0,g=p=c;g;g=d(g))f++;g=0;for(var v=m;v;v=d(v))g++;for(;0<f-g;)p=d(p),f--;for(;0<g-f;)m=d(m),g--;for(;f--;){if(p===m||null!==m&&p===m.alternate){d=p;break e}p=d(p),m=d(m)}d=null}else d=null;null!==c&&od(s,a,c,d,!1),null!==u&&null!==h&&od(s,h,u,d,!0)}if("select"===(c=(a=i?Je(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Bn;else if(Cn(a))if(Vn)y=Xn;else{y=qn;var E=Yn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&It(i.elementType)&&(y=Bn):y=Qn;switch(y&&(y=y(e,i))?xn(s,y,n,r):(E&&E(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&St(a,"number",a.value)),E=i?Je(i):window,e){case"focusin":(Cn(E)||"true"===E.contentEditable)&&(si=E,ai=i,li=null);break;case"focusout":li=ai=si=null;break;case"mousedown":ci=!0;break;case"contextmenu":case"mouseup":case"dragend":ci=!1,ui(s,n,r);break;case"selectionchange":if(oi)break;case"keydown":case"keyup":ui(s,n,r)}var S;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Dn?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Dn&&(S=Kt()):(zt="value"in(Wt=r)?Wt.value:Wt.textContent,Dn=!0)),0<(E=id(i,b)).length&&(b=new hn(b,e,null,n,r),s.push({event:b,listeners:E}),S?b.data=S:null!==(S=Pn(n))&&(b.data=S))),(S=Nn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(kn=!0,Rn);case"textInput":return(e=t.data)===Rn&&kn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!An&&Ln(e,t)?(e=Kt(),$t=zt=Wt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=id(i,"onBeforeInput")).length&&(E=new hn("onBeforeInput","beforeinput",null,n,r),s.push({event:E,listeners:b}),E.data=S)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var o=ju((r[Ve]||null).action),s=i.submitter;s&&null!==(t=(t=s[Ve]||null)?ju(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new nn("action","action",null,i,r);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Mu){var e=s?Wu(r,s):new FormData(r);ta(n,{pending:!0,data:e,method:r.method,action:o},null,e)}}else"function"==typeof o&&(a.preventDefault(),e=s?Wu(r,s):new FormData(r),ta(n,{pending:!0,data:e,method:r.method,action:o},o,e))},currentTarget:r}]})}}(s,e,i,n,r)}qu(s,t)}))}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===o||(null!=(r=Gt(e,n))&&i.unshift(nd(e,r,o)),null!=(r=Gt(e,t))&&i.push(nd(e,r,o))),3===e.tag)return i;e=e.return}return[]}function rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===c||(l=c,r?null!=(c=Gt(n,o))&&s.unshift(nd(n,c,l)):r||null!=(c=Gt(n,o))&&s.push(nd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var sd=/\r\n?/g,ad=/\u0000|\uFFFD/g;function ld(e){return("string"==typeof e?e:""+e).replace(sd,"\n").replace(ad,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,i,r,o){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Tt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Tt(e,""+i);break;case"className":ct(e,"class",i);break;case"tabIndex":ct(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,i);break;case"style":Nt(e,i,o);break;case"data":if("object"!==t){ct(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Lt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&ud(e,t,"name",r.name,r,null),ud(e,t,"formEncType",r.formEncType,r,null),ud(e,t,"formMethod",r.formMethod,r,null),ud(e,t,"formTarget",r.formTarget,r,null)):(ud(e,t,"encType",r.encType,r,null),ud(e,t,"method",r.method,r,null),ud(e,t,"target",r.target,r,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Lt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Pt);break;case"onScroll":null!=i&&Qu("scroll",e);break;case"onScrollEnd":null!=i&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Lt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),lt(e,"popover",i);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":lt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Rt.get(n)||n,i)}}function dd(e,t,n,i,r,o){switch(n){case"style":Nt(e,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Tt(e,i):("number"==typeof i||"bigint"==typeof i)&&Tt(e,""+i);break;case"onScroll":null!=i&&Qu("scroll",e);break;case"onScrollEnd":null!=i&&Qu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Ve]||null)?o[n]:null)&&e.removeEventListener(t,o,r),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):lt(e,n,i):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var i,r=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,i,a,n,null)}}return o&&ud(e,t,"srcSet",n.srcSet,n,null),void(r&&ud(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=i=a=o=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ud(e,t,r,d,n,null)}}return void Et(e,i,l,c,u,a,o,!1);case"select":for(o in Qu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":r=l;default:ud(e,t,o,l,n,null)}return t=i,n=a,e.multiple=!!r,void(null!=t?bt(e,!!r,t,!1):null!=n&&bt(e,!!r,n,!0));case"textarea":for(a in Qu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:ud(e,t,a,l,n,null)}return void Ot(e,r,o,i);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r;else ud(e,t,c,r,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(r=0;r<Ku.length;r++)Qu(Ku[r],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,u,r,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&dd(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&ud(e,t,l,r,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Ed(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sd=null;var bd="function"==typeof setTimeout?setTimeout:void 0,_d="function"==typeof clearTimeout?clearTimeout:void 0,Od="function"==typeof Promise?Promise:void 0,Td="function"==typeof queueMicrotask?queueMicrotask:void 0!==Od?function(e){return Od.resolve(null).then(e).catch(Ad)}:bd;function Ad(e){setTimeout((function(){throw e}))}function wd(e){return"head"===e}function Nd(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===i)return e.removeChild(r),void Wh(t);i--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)i++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Ye]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&Fd(e.ownerDocument.body);n=r}while(n);Wh(t)}function Id(e,t){var n=e;e=0;do{var i=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=i}while(n)}function Rd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rd(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function kd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Ld(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Md=null;function Cd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ud(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var Hd=new Map,Gd=new Set;function Bd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vd=C.d;C.d={f:function(){var e=Vd.f(),t=Zc();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ia(t):Vd.r(e)},D:function(e){Vd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){Vd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){Vd.L(e,t,n);var i=jd;if(i&&e&&t){var r='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+vt(n.imageSizes)+'"]')):r+='[href="'+vt(e)+'"]';var o=r;switch(t){case"style":o=$d(e);break;case"script":o=qd(e)}Hd.has(o)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Hd.set(o,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Kd(o))||"script"===t&&i.querySelector(Qd(o))||(hd(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}},m:function(e,t){Vd.m(e,t);var n=jd;if(n&&e){var i=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+vt(i)+'"][href="'+vt(e)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=qd(e)}if(!Hd.has(o)&&(e=p({rel:"modulepreload",href:e},t),Hd.set(o,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(o)))return}hd(i=n.createElement("link"),"link",e),et(i),n.head.appendChild(i)}}},X:function(e,t){Vd.X(e,t);var n=jd;if(n&&e){var i=Ze(n).hoistableScripts,r=qd(e),o=i.get(r);o||((o=n.querySelector(Qd(r)))||(e=p({src:e,async:!0},t),(t=Hd.get(r))&&eh(e,t),et(o=n.createElement("script")),hd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}},S:function(e,t,n){Vd.S(e,t,n);var i=jd;if(i&&e){var r=Ze(i).hoistableStyles,o=$d(e);t=t||"default";var s=r.get(o);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Kd(o)))a.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Hd.get(o))&&Zd(e,n);var l=s=i.createElement("link");et(l),hd(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Jd(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:a},r.set(o,s)}}},M:function(e,t){Vd.M(e,t);var n=jd;if(n&&e){var i=Ze(n).hoistableScripts,r=qd(e),o=i.get(r);o||((o=n.querySelector(Qd(r)))||(e=p({src:e,async:!0,type:"module"},t),(t=Hd.get(r))&&eh(e,t),et(o=n.createElement("script")),hd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}};var jd="undefined"==typeof document?null:document;function Wd(e,t,n){var i=jd;if(i&&"string"==typeof t&&t){var r=vt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),Gd.has(r)||(Gd.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(hd(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}}function zd(e,t,n,i){var r,o,a,l,c=(c=$.current)?Bd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=$d(n.href),(i=(n=Ze(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=$d(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Kd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Hd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Hd.set(e,n),u||(r=c,o=e,a=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=r.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),hd(o,"link",a),et(o),r.head.appendChild(o))))),t&&null===i)throw Error(s(528,""));return d}if(t&&null!==i)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=qd(n),(i=(n=Ze(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $d(e){return'href="'+vt(e)+'"'}function Kd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function qd(e){return'[src="'+vt(e)+'"]'}function Qd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(i)return t.instance=i,et(i),i;var r=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(i=(e.ownerDocument||e).createElement("style")),hd(i,"style",r),Jd(i,n.precedence,e),t.instance=i;case"stylesheet":r=$d(n.href);var o=e.querySelector(Kd(r));if(o)return t.state.loading|=4,t.instance=o,et(o),o;i=Yd(n),(r=Hd.get(r))&&Zd(i,r),et(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),hd(o,"link",i),t.state.loading|=4,Jd(o,n.precedence,e),t.instance=o;case"script":return o=qd(n.src),(r=e.querySelector(Qd(o)))?(t.instance=r,et(r),r):(i=n,(r=Hd.get(o))&&eh(i=p({},n),r),et(r=(e=e.ownerDocument||e).createElement("script")),hd(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Jd(i,n.precedence,e));return t.instance}function Jd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===t)o=a;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var i=new Map,r=th=new Map;r.set(n,i)}else(i=(r=th).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var o=n[r];if(!(o[Ye]||o[Be]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=i.get(s);a?a.push(o):i.set(s,[o])}}return i}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rh(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var oh=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ah=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ah=new Map,t.forEach(ch,e),ah=null,sh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=ah.get(e);if(n)var i=n.get(null);else{n=new Map,ah.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var s=r[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=t.instance).getAttribute("data-precedence"),(o=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=sh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var uh={$$typeof:b,Provider:null,Consumer:null,_currentValue:x,_currentValue2:x,_threadCount:0};function dh(e,t,n,i,r,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,i,r,o,s,a,l,c,u,d){return e=new dh(e,t,n,s,l,c,u,d,a),t=1,!0===o&&(t|=24),o=Fi(3,null,null,t),e.current=o,o.stateNode=e,(t=Hr()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},vo(o),e}function ph(e){return e?e=xi:xi}function fh(e,t,n,i,r,o){r=ph(r),null===i.context?i.context=r:i.pendingContext=r,(i=Eo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(i.callback=o),null!==(n=So(e,i,t))&&(Yc(n,0,t),bo(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Di(e,67108864);null!==t&&Yc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=$c(),n=Di(e,t=xe(t));null!==n&&Yc(n,0,t),gh(e,t)}}var Eh=!0;function Sh(e,t,n,i){var r=M.T;M.T=null;var o=C.p;try{C.p=2,_h(e,t,n,i)}finally{C.p=o,M.T=r}}function bh(e,t,n,i){var r=M.T;M.T=null;var o=C.p;try{C.p=8,_h(e,t,n,i)}finally{C.p=o,M.T=r}}function _h(e,t,n,i){if(Eh){var r=Oh(i);if(null===r)td(e,t,i,Th,n),Ch(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Ih=xh(Ih,e,t,n,i,r),!0;case"dragenter":return Rh=xh(Rh,e,t,n,i,r),!0;case"mouseover":return kh=xh(kh,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Lh.set(o,xh(Lh.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Ph.set(o,xh(Ph.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ch(e,i),4&t&&-1<Mh.indexOf(e)){for(;null!==r;){var o=Xe(r);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=we(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-Se(s);a.entanglements[1]|=l,s&=~l}Cu(o),!(6&pc)&&(Mc=le()+500,xu(0,!1))}}break;case 31:case 13:null!==(a=Di(o,2))&&Yc(a,0,2),Zc(),gh(o,2)}if(null===(o=Oh(i))&&td(e,t,i,Th,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else td(e,t,i,null,n)}}function Oh(e){return Ah(e=Mt(e))}var Th=null;function Ah(e){if(Th=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Th=e,null}function wh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Nh=!1,Ih=null,Rh=null,kh=null,Lh=new Map,Ph=new Map,Dh=[],Mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ch(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Rh=null;break;case"mouseover":case"mouseout":kh=null;break;case"pointerover":case"pointerout":Lh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function xh(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=Xe(t))&&vh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Uh(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void He(e.priority,(function(){yh(n)}))}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void He(e.priority,(function(){yh(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oh(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&vh(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Dt=i,n.target.dispatchEvent(i),Dt=null,t.shift()}return!0}function Hh(e,t,n){Fh(e)&&n.delete(t)}function Gh(){Nh=!1,null!==Ih&&Fh(Ih)&&(Ih=null),null!==Rh&&Fh(Rh)&&(Rh=null),null!==kh&&Fh(kh)&&(kh=null),Lh.forEach(Hh),Ph.forEach(Hh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Nh||(Nh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Gh)))}var Vh=null;function jh(e){Vh!==e&&(Vh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){Vh===e&&(Vh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!=typeof i){if(null===Ah(i||n))continue;break}var o=Xe(n);null!==o&&(e.splice(t,3),t-=3,ta(o,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function Wh(e){function t(t){return Bh(t,e)}null!==Ih&&Bh(Ih,e),null!==Rh&&Bh(Rh,e),null!==kh&&Bh(kh,e),Lh.forEach(t),Ph.forEach(t);for(var n=0;n<Dh.length;n++){var i=Dh[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Dh.length&&null===(n=Dh[0]).blockedOn;)Uh(n),null===n.blockedOn&&Dh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],s=r[Ve]||null;if("function"==typeof o)s||jh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(r=o,s=o[Ve]||null)a=s.formAction;else if(null!==Ah(r))continue}else a=s.action;"function"==typeof a?n[i+1]=a:(n.splice(i,3),i-=3),jh(n)}}}function zh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise((function(e){return r=e}))},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function $h(e){this._internalRoot=e}function Kh(e){this._internalRoot=e}Kh.prototype.render=$h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));fh(t.current,$c(),e,t,null,null)},Kh.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fh(e.current,2,null,e,null,null),Zc(),t[je]=null}},Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dh.length&&0!==t&&t<Dh[n].priority;n++);Dh.splice(n,0,e),0===n&&Uh(e)}};var Yh=r.version;if("19.2.3"!==Yh)throw Error(s(527,Yh,"19.2.3"));C.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return d(r),e;if(o===i)return d(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var qh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ve=Qh.inject(qh),ye=Qh}catch(e){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,i="",r=Ta,o=Aa,l=wa;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,i,null,r,o,l,zh),e[je]=t.current,Zu(e),new $h(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var i=!1,r="",o=Ta,l=Aa,c=wa,u=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,i,r,u,o,l,c,zh)).context=ph(null),n=t.current,(r=Eo(i=xe(i=$c()))).callback=null,So(n,r,i),n=i,t.current.lanes=n,Pe(t,n),Cu(t),e[je]=t.current,Zu(e),new Kh(t)},t.version="19.2.3"},6221:(e,t,n)=>{"use strict";var i=n(96540);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},5338:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(31247)},40961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(6221)},53225:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"==typeof setTimeout?setTimeout:null,E="function"==typeof clearTimeout?clearTimeout:null,S="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function _(e){if(g=!1,b(e),!m)if(null!==i(c))m=!0,T||(T=!0,O());else{var t=i(u);null!==t&&P(_,t.startTime-e)}}var O,T=!1,A=-1,w=5,N=-1;function I(){return!!v||!(t.unstable_now()-N<w)}function R(){if(v=!1,T){var e=t.unstable_now();N=e;var n=!0;try{e:{m=!1,g&&(g=!1,E(A),A=-1),f=!0;var o=p;try{t:{for(b(e),h=i(c);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"==typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof a){h.callback=a,b(e),n=!0;break t}h===i(c)&&r(c),b(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&P(_,l.startTime-e),n=!1}}break e}finally{h=null,p=o,f=!1}n=void 0}}finally{n?O():T=!1}}}if("function"==typeof S)O=function(){S(R)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,L=k.port2;k.port1.onmessage=R,O=function(){L.postMessage(null)}}else O=function(){y(R,0)};function P(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(g?(E(A),A=-1):g=!0,P(_,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,T||(T=!0,O()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},20194:(e,t,n)=>{"use strict";e.exports=n(53225)},30115:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,i="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(!o(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],s[c[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},13647:(e,t,n)=>{"use strict";n.d(t,{E:()=>Ee});var i=n(96540);function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof r(e).Element||e instanceof Element}function s(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}var l=Math.max,c=Math.min,u=Math.round;function d(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),i=1,r=1;if(s(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(i=u(n.width)/a||1),o>0&&(r=u(n.height)/o||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function h(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function f(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return d(f(e)).left+h(e).scrollLeft}function g(e){return r(e).getComputedStyle(e)}function v(e){var t=g(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function y(e,t,n){void 0===n&&(n=!1);var i,o,a=s(t),l=s(t)&&function(e){var t=e.getBoundingClientRect(),n=u(t.width)/e.offsetWidth||1,i=u(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),c=f(t),g=d(e,l),y={scrollLeft:0,scrollTop:0},E={x:0,y:0};return(a||!a&&!n)&&(("body"!==p(t)||v(c))&&(y=(i=t)!==r(i)&&s(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:h(i)),s(t)?((E=d(t,!0)).x+=t.clientLeft,E.y+=t.clientTop):c&&(E.x=m(c))),{x:g.left+y.scrollLeft-E.x,y:g.top+y.scrollTop-E.y,width:g.width,height:g.height}}function E(e){var t=d(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function S(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||f(e)}function b(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:s(e)&&v(e)?e:b(S(e))}function _(e,t){var n;void 0===t&&(t=[]);var i=b(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=r(i),a=o?[s].concat(s.visualViewport||[],v(i)?i:[]):i,l=t.concat(a);return o?l:l.concat(_(S(a)))}function O(e){return["table","td","th"].indexOf(p(e))>=0}function T(e){return s(e)&&"fixed"!==g(e).position?e.offsetParent:null}function A(e){for(var t=r(e),n=T(e);n&&O(n)&&"static"===g(n).position;)n=T(n);return n&&("html"===p(n)||"body"===p(n)&&"static"===g(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&s(e)&&"fixed"===g(e).position)return null;for(var n=S(e);s(n)&&["html","body"].indexOf(p(n))<0;){var i=g(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var w="top",N="bottom",I="right",R="left",k="auto",L=[w,N,I,R],P="start",D="end",M="viewport",C="popper",x=L.reduce((function(e,t){return e.concat([t+"-"+P,t+"-"+D])}),[]),U=[].concat(L,[k]).reduce((function(e,t){return e.concat([t,t+"-"+P,t+"-"+D])}),[]),F=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}var G={placement:"bottom",modifiers:[],strategy:"absolute"};function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function V(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,s=void 0===r?G:r;return function(e,t,n){void 0===n&&(n=s);var r,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},G,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var r="function"==typeof n?n(l.options):n;h(),l.options=Object.assign({},s,l.options,r),l.scrollParents={reference:o(e)?_(e):e.contextElement?_(e.contextElement):[],popper:_(t)};var a=function(e){var t=H(e);return F.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,l.options.modifiers)));return l.orderedModifiers=a.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:l,name:t,instance:d,options:i}),s=function(){};c.push(o||s)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(B(t,n)){l.rects={reference:y(t,A(n),"fixed"===l.options.strategy),popper:E(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var r=l.orderedModifiers[i],o=r.fn,s=r.options,a=void 0===s?{}:s,c=r.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:d})||l)}else l.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){h(),u=!0}};if(!B(e,t))return d;function h(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var j={passive:!0};function W(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function $(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function K(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?W(r):null,s=r?z(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case w:t={x:a,y:n.y-i.height};break;case N:t={x:a,y:n.y+n.height};break;case I:t={x:n.x+n.width,y:l};break;case R:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?$(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case P:t[c]=t[c]-(n[u]/2-i[u]/2);break;case D:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}var Y={top:"auto",right:"auto",bottom:"auto",left:"auto"};function q(e){var t,n=e.popper,i=e.popperRect,o=e.placement,s=e.variation,a=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,h=e.roundOffsets,p=e.isFixed,m=a.x,v=void 0===m?0:m,y=a.y,E=void 0===y?0:y,S="function"==typeof h?h({x:v,y:E}):{x:v,y:E};v=S.x,E=S.y;var b=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),O=R,T=w,k=window;if(d){var L=A(n),P="clientHeight",M="clientWidth";if(L===r(n)&&"static"!==g(L=f(n)).position&&"absolute"===l&&(P="scrollHeight",M="scrollWidth"),o===w||(o===R||o===I)&&s===D)T=N,E-=(p&&k.visualViewport?k.visualViewport.height:L[P])-i.height,E*=c?1:-1;if(o===R||(o===w||o===N)&&s===D)O=I,v-=(p&&k.visualViewport?k.visualViewport.width:L[M])-i.width,v*=c?1:-1}var C,x=Object.assign({position:l},d&&Y),U=!0===h?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:u(t*i)/i||0,y:u(n*i)/i||0}}({x:v,y:E}):{x:v,y:E};return v=U.x,E=U.y,c?Object.assign({},x,((C={})[T]=_?"0":"",C[O]=b?"0":"",C.transform=(k.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",C)):Object.assign({},x,((t={})[T]=_?E+"px":"",t[O]=b?v+"px":"",t.transform="",t))}const Q={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=U.reduce((function(e,n){return e[n]=function(e,t,n){var i=W(e),r=[R,w].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[R,I].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}};var X={left:"right",right:"left",bottom:"top",top:"bottom"};function J(e){return e.replace(/left|right|bottom|top/g,(function(e){return X[e]}))}var Z={start:"end",end:"start"};function ee(e){return e.replace(/start|end/g,(function(e){return Z[e]}))}function te(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ne(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ie(e,t){return t===M?ne(function(e){var t=r(e),n=f(e),i=t.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;return i&&(o=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,l=i.offsetTop)),{width:o,height:s,x:a+m(e),y:l}}(e)):o(t)?function(e){var t=d(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ne(function(e){var t,n=f(e),i=h(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=l(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=l(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+m(e),c=-i.scrollTop;return"rtl"===g(r||n).direction&&(a+=l(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}(f(e)))}function re(e,t,n){var i="clippingParents"===t?function(e){var t=_(S(e)),n=["absolute","fixed"].indexOf(g(e).position)>=0&&s(e)?A(e):e;return o(n)?t.filter((function(e){return o(e)&&te(e,n)&&"body"!==p(e)})):[]}(e):[].concat(t),r=[].concat(i,[n]),a=r[0],u=r.reduce((function(t,n){var i=ie(e,n);return t.top=l(i.top,t.top),t.right=c(i.right,t.right),t.bottom=c(i.bottom,t.bottom),t.left=l(i.left,t.left),t}),ie(e,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function oe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function se(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,s=n.boundary,a=void 0===s?"clippingParents":s,l=n.rootBoundary,c=void 0===l?M:l,u=n.elementContext,h=void 0===u?C:u,p=n.altBoundary,m=void 0!==p&&p,g=n.padding,v=void 0===g?0:g,y=oe("number"!=typeof v?v:se(v,L)),E=h===C?"reference":C,S=e.rects.popper,b=e.elements[m?E:h],_=re(o(b)?b:b.contextElement||f(e.elements.popper),a,c),O=d(e.elements.reference),T=K({reference:O,element:S,strategy:"absolute",placement:r}),A=ne(Object.assign({},S,T)),R=h===C?A:O,k={top:_.top-R.top+y.top,bottom:R.bottom-_.bottom+y.bottom,left:_.left-R.left+y.left,right:R.right-_.right+y.right},P=e.modifiersData.offset;if(h===C&&P){var D=P[r];Object.keys(k).forEach((function(e){var t=[I,N].indexOf(e)>=0?1:-1,n=[w,N].indexOf(e)>=0?"y":"x";k[e]+=D[n]*t}))}return k}function le(e,t,n){return l(e,c(t,n))}const ce={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.padding,f=n.tether,m=void 0===f||f,g=n.tetherOffset,v=void 0===g?0:g,y=ae(t,{boundary:u,rootBoundary:d,padding:p,altBoundary:h}),S=W(t.placement),b=z(t.placement),_=!b,O=$(S),T="x"===O?"y":"x",k=t.modifiersData.popperOffsets,L=t.rects.reference,D=t.rects.popper,M="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,C="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(k){if(o){var F,H="y"===O?w:R,G="y"===O?N:I,B="y"===O?"height":"width",V=k[O],j=V+y[H],K=V-y[G],Y=m?-D[B]/2:0,q=b===P?L[B]:D[B],Q=b===P?-D[B]:-L[B],X=t.elements.arrow,J=m&&X?E(X):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=Z[H],te=Z[G],ne=le(0,L[B],J[B]),ie=_?L[B]/2-Y-ne-ee-C.mainAxis:q-ne-ee-C.mainAxis,re=_?-L[B]/2+Y+ne+te+C.mainAxis:Q+ne+te+C.mainAxis,oe=t.elements.arrow&&A(t.elements.arrow),se=oe?"y"===O?oe.clientTop||0:oe.clientLeft||0:0,ce=null!=(F=null==x?void 0:x[O])?F:0,ue=V+re-ce,de=le(m?c(j,V+ie-ce-se):j,V,m?l(K,ue):K);k[O]=de,U[O]=de-V}if(a){var he,pe="x"===O?w:R,fe="x"===O?N:I,me=k[T],ge="y"===T?"height":"width",ve=me+y[pe],ye=me-y[fe],Ee=-1!==[w,R].indexOf(S),Se=null!=(he=null==x?void 0:x[T])?he:0,be=Ee?ve:me-L[ge]-D[ge]-Se+C.altAxis,_e=Ee?me+L[ge]+D[ge]-Se-C.altAxis:ye,Oe=m&&Ee?function(e,t,n){var i=le(e,t,n);return i>n?n:i}(be,me,_e):le(m?be:ve,me,m?_e:ye);k[T]=Oe,U[T]=Oe-me}t.modifiersData[i]=U}},requiresIfExists:["offset"]};const ue={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=W(n.placement),l=$(a),c=[R,I].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return oe("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:se(e,L))}(r.padding,n),d=E(o),h="y"===l?w:R,p="y"===l?N:I,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=A(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,S=u[h],b=v-d[c]-u[p],_=v/2-d[c]/2+y,O=le(S,_,b),T=l;n.modifiersData[i]=((t={})[T]=O,t.centerOffset=O-_,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&te(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function de(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function he(e){return[w,I,N,R].some((function(t){return e[t]>=0}))}var pe=V({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,s=void 0===o||o,a=i.resize,l=void 0===a||a,c=r(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",n.update,j)})),l&&c.addEventListener("resize",n.update,j),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",n.update,j)})),l&&c.removeEventListener("resize",n.update,j)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=K({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:W(t.placement),variation:z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,q(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,q(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];s(r)&&p(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});s(i)&&p(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},Q,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=W(g),y=l||(v===g||!f?[J(g)]:function(e){if(W(e)===k)return[];var t=J(e);return[ee(e),t,ee(t)]}(g)),E=[g].concat(y).reduce((function(e,n){return e.concat(W(n)===k?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?U:l,u=z(i),d=u?a?x:x.filter((function(e){return z(e)===u})):L,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=ae(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[W(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),S=t.rects.reference,b=t.rects.popper,_=new Map,O=!0,T=E[0],A=0;A<E.length;A++){var D=E[A],M=W(D),C=z(D)===P,F=[w,N].indexOf(M)>=0,H=F?"width":"height",G=ae(t,{placement:D,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),B=F?C?I:R:C?N:w;S[H]>b[H]&&(B=J(B));var V=J(B),j=[];if(o&&j.push(G[M]<=0),a&&j.push(G[B]<=0,G[V]<=0),j.every((function(e){return e}))){T=D,O=!1;break}_.set(D,j)}if(O)for(var $=function(e){var t=E.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},K=f?3:1;K>0;K--){if("break"===$(K))break}t.placement!==T&&(t.modifiersData[i]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},ce,ue,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=ae(t,{elementContext:"reference"}),a=ae(t,{altBoundary:!0}),l=de(s,i),c=de(a,r,o),u=he(l),d=he(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),fe=n(30115),me=n.n(fe),ge=function(e){return e.reduce((function(e,t){var n=t[0],i=t[1];return e[n]=i,e}),{})},ve="undefined"!=typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect,ye=[],Ee=function(e,t,n){void 0===n&&(n={});var r=i.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ye},s=i.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=s[0],l=s[1],c=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);l({styles:ge(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ge(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),u=i.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return me()(r.current,e)?r.current||e:(r.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),d=i.useRef();return ve((function(){d.current&&d.current.setOptions(u)}),[u]),ve((function(){if(null!=e&&null!=t){var i=(n.createPopper||pe)(e,t,u);return d.current=i,function(){i.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:a.styles,attributes:a.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}}},29698:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var o in i={},t)"key"!==o&&(i[o]=t[o]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},29869:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function E(){}function S(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=y.prototype;var b=S.prototype=new E;b.constructor=S,g(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray;function O(){}var T={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(e,t,i){var r=i.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return i[e]}))):t.toString(36);var n,i}function k(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case h:return k((u=e._init)(e._payload),t,r,o,s)}}if(u)return s=s(e),u=""===o?"."+R(e,0):o,_(s)?(r="",null!=u&&(r=u.replace(I,"$&/")+"/"),k(s,t,r,"",(function(e){return e}))):null!=s&&(N(s)&&(l=s,c=r+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+u,s=w(l.type,c,l.props)),t.push(s)),1;u=0;var d,p=""===o?".":o+":";if(_(e))for(var m=0;m<e.length;m++)u+=k(o=e[m],t,r,a=p+R(o,m),s);else if("function"==typeof(m=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=k(o=o.value,t,r,a=p+R(o,m++),s);else if("object"===a){if("function"==typeof e.then)return k(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(O,O):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function L(e,t,n){if(null==e)return e;var i=[],r=0;return k(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},M={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=M,t.Component=y,t.Fragment=r,t.Profiler=s,t.PureComponent=S,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return T.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),r=e.key;if(null!=t)for(o in void 0!==t.key&&(r=""+t.key),t)!A.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(i[o]=t[o]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];i.children=s}return w(e.type,r,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var i,r={},o=null;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];r.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return w(e,o,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.T,n={};T.T=n;try{var i=e(),r=T.S;null!==r&&r(n,i),"object"==typeof i&&null!==i&&"function"==typeof i.then&&i.then(O,D)}catch(e){D(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),T.T=t}},t.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},t.use=function(e){return T.H.use(e)},t.useActionState=function(e,t,n){return T.H.useActionState(e,t,n)},t.useCallback=function(e,t){return T.H.useCallback(e,t)},t.useContext=function(e){return T.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return T.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return T.H.useEffect(e,t)},t.useEffectEvent=function(e){return T.H.useEffectEvent(e)},t.useId=function(){return T.H.useId()},t.useImperativeHandle=function(e,t,n){return T.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.H.useMemo(e,t)},t.useOptimistic=function(e,t){return T.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return T.H.useReducer(e,t,n)},t.useRef=function(e){return T.H.useRef(e)},t.useState=function(e){return T.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.H.useTransition()},t.version="19.2.3"},96540:(e,t,n)=>{"use strict";e.exports=n(29869)},74848:(e,t,n)=>{"use strict";e.exports=n(29698)},43591:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var i=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&l()}function a(){s(o)}function l(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(a,t);r=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},h=y(0,0,0,0);function p(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var i=d(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=p(o)}return t}(i),o=r.left+r.right,s=r.top+r.bottom,a=p(i.width),l=p(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==t&&(a-=f(i,"left","right")+o),Math.round(l+s)!==n&&(l-=f(i,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return y(r.left,r.top,a,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return r?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):h}function y(e,t,n,i){return{x:e,y:t,width:n,height:i}}var E=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),S=function(e,t){var n,i,r,o,s,a,l,c=(i=(n=t).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),u(l,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),l);u(this,{target:e,contentRect:c})},b=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new S(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!=typeof WeakMap?new WeakMap:new i,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),i=new b(t,n,this);_.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));const T=void 0!==o.ResizeObserver?o.ResizeObserver:O},96897:(e,t,n)=>{"use strict";var i=n(33273),r=n(30041),o=n(71548)(),s=n(75795),a=n(69675),l=i("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,c=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(i=!1),u&&!u.writable&&(c=!1)}return(i||c||!n)&&(o?r(e,"length",t,!0,!0):r(e,"length",t)),e}},96653:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},30075:(e,t,n)=>{"use strict";var i=n(96653);e.exports=Function.prototype.bind||i},33273:(e,t,n)=>{"use strict";var i,r=n(69383),o=n(41237),s=n(79290),a=n(79538),l=n(58068),c=n(69675),u=n(35345),d=Function,h=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var f=function(){throw new c},m=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(e){return f}}}():f,g=n(51203)(),v=n(80024)(),y=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),E={},S="undefined"!=typeof Uint8Array&&y?y(Uint8Array):i,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":g&&y?y([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&y?y(y([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&y?y((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&y?y((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&y?y(""[Symbol.iterator]()):i,"%Symbol%":g?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":S,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(y)try{null.error}catch(e){var _=y(y(e));b["%Error.prototype%"]=_}var O=function e(t){var n;if("%AsyncFunction%"===t)n=h("async function () {}");else if("%GeneratorFunction%"===t)n=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=h("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&y&&(n=y(r.prototype))}return b[t]=n,n},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=n(30075),w=n(38257),N=A.call(Function.call,Array.prototype.concat),I=A.call(Function.apply,Array.prototype.splice),R=A.call(Function.call,String.prototype.replace),k=A.call(Function.call,String.prototype.slice),L=A.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,M=function(e,t){var n,i=e;if(w(T,i)&&(i="%"+(n=T[i])[0]+"%"),w(b,i)){var r=b[i];if(r===E&&(r=O(i)),void 0===r&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return R(e,P,(function(e,t,n,r){i[i.length]=n?R(r,D,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",r=M("%"+i+"%",t),o=r.name,s=r.value,a=!1,u=r.alias;u&&(i=u[0],I(n,N([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=k(f,0,1),g=k(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&h||(a=!0),w(b,o="%"+(i+="."+f)+"%"))s=b[o];else if(null!=s){if(!(f in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=n.length){var v=p(s,f);s=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[f]}else h=w(s,f),s=s[f];h&&!a&&(b[o]=s)}}return s}},71548:(e,t,n)=>{"use strict";var i=n(30655),r=function(){return!!i};r.hasArrayLengthDefineBug=function(){if(!i)return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=r},51203:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5825);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},5825:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},38257:(e,t,n)=>{"use strict";var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=n(30075);e.exports=o.call(i,r)},98567:e=>{"use strict";e.exports={stdin:!1,stderr:!1,supportsHyperlink:function(){return!1}}},44262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});class i{constructor(e=[],t=r){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),o=t[i];const s=i+1;if(s<this.length&&n(t[s],o)<0&&(i=s,o=t[s]),n(o,r)>=0)break;t[e]=o,e=i}t[e]=r}}function r(e,t){return e<t?-1:e>t?1:0}},515:(e,t,n)=>{"use strict";n.d(t,{EY:()=>me,Dw:()=>U,PY:()=>B});var i=n(68909);function r(){var e=Object.create(null);function t(i,r){var o=i.id,s=i.name,a=i.dependencies;void 0===a&&(a=[]);var l=i.init;void 0===l&&(l=function(){});var c=i.getTransferables;if(void 0===c&&(c=null),!e[o])try{a=a.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),l=n("<"+s+">.init",l),c&&(c=n("<"+s+">.getTransferables",c));var u=null;"function"==typeof l?u=l.apply(void 0,a):console.error("worker module init function failed to rehydrate"),e[o]={id:o,value:u,getTransferables:c},r(u)}catch(e){e&&e.noLog||console.error(e),r(e)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var i=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(i)}catch(e){console.error(e)}return URL.revokeObjectURL(i),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var i=n.data,r=i.messageId,o=i.action,s=i.data;try{"registerModule"===o&&t(s,(function(e){e instanceof Error?postMessage({messageId:r,success:!1,error:e.message}):postMessage({messageId:r,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===o&&function(t,n){var i,r=t.id,o=t.args;e[r]&&"function"==typeof e[r].value||n(new Error("Worker module "+r+": not found or its 'init' did not return a function"));try{var s=(i=e[r]).value.apply(i,o);s&&"function"==typeof s.then?s.then(a,(function(e){return n(e instanceof Error?e:new Error(""+e))})):a(s)}catch(e){n(e)}function a(t){try{var i=e[r].getTransferables&&e[r].getTransferables(t);i&&Array.isArray(i)&&i.length||(i=void 0),n(t,i)}catch(e){console.error(e),n(e)}}}(s,(function(e,t){e instanceof Error?postMessage({messageId:r,success:!1,error:e.message}):postMessage({messageId:r,success:!0,result:e},t||void 0)}))}catch(e){postMessage({messageId:r,success:!1,error:e.stack})}}))}var o=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return o=function(){return e},e},s=0,a=0,l=!1,c=Object.create(null),u=Object.create(null),d=Object.create(null);function h(e){if(!(e&&"function"==typeof e.init||l))throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,i=e.getTransferables,r=e.workerId,a=function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then((function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,i=e.init;n=Array.isArray(n)?n.map((function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e})):[];var r=Promise.all(n).then((function(e){return i.apply(null,e)}));return t._getInitResult=function(){return r},r},t}(e);null==r&&(r="#default");var c="workerModule"+ ++s,d=e.name||c,m=null;function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!o())return a.apply(void 0,e);if(!m){m=f(r,"registerModule",g.workerModuleData);var n=function(){m=null,u[r].delete(n)};(u[r]||(u[r]=new Set)).add(n)}return m.then((function(t){if(t.isCallable)return f(r,"callModule",{id:c,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!=typeof e||e.workerModuleData||(l=!0,e=h({workerId:r,name:"<"+d+"> function dependency: "+e.name,init:"function(){return (\n"+p(e)+"\n)}"}),l=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),g.workerModuleData={isWorkerModule:!0,id:c,name:d,dependencies:t,init:p(n),getTransferables:i&&p(i)},g.onMainThread=a,g}function p(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function f(e,t,n){return new Promise((function(i,o){var s=++a;d[s]=function(e){e.success?i(e.result):o(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=c[e];if(!t){var n=p(r);(t=c[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,i=d[n];if(!i)throw new Error("WorkerModule response with empty or unknown messageId");delete d[n],i(t)}}return t}(e).postMessage({messageId:s,action:t,data:n})}))}function m(){var e=function(e){function t(e,t,n,i,r,o,s,a,l,c){var u=1-l;c.x=u*u*u*e+3*u*u*l*n+3*u*l*l*r+l*l*l*s,c.y=u*u*u*t+3*u*u*l*i+3*u*l*l*o+l*l*l*a}function n(e,t){for(var n,i,r,o,s,a=/([MLQCZ])([^MLQCZ]*)/g;n=a.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(n[1]){case"M":o=i=l[0],s=r=l[1];break;case"L":l[0]===o&&l[1]===s||t("L",o,s,o=l[0],s=l[1]);break;case"Q":t("Q",o,s,o=l[2],s=l[3],l[0],l[1]);break;case"C":t("C",o,s,o=l[4],s=l[5],l[0],l[1],l[2],l[3]);break;case"Z":o===i&&s===r||t("L",o,s,i,r)}}}function i(e,i,r){void 0===r&&(r=16);var o={x:0,y:0};n(e,(function(e,n,s,a,l,c,u,d,h){switch(e){case"L":i(n,s,a,l);break;case"Q":for(var p=n,f=s,m=1;m<r;m++)E=s,S=u,b=l,T=void 0,T=1-(_=m/(r-1)),(O=o).x=T*T*n+2*T*_*c+_*_*a,O.y=T*T*E+2*T*_*S+_*_*b,i(p,f,o.x,o.y),p=o.x,f=o.y;break;case"C":for(var g=n,v=s,y=1;y<r;y++)t(n,s,c,u,d,h,a,l,y/(r-1),o),i(g,v,o.x,o.y),g=o.x,v=o.y}var E,S,b,_,O,T}))}var r="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o=new WeakMap,s={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function a(e,t){var n=e.getContext?e.getContext("webgl",s):e,i=o.get(n);if(!i){var r="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,a={},l={},c={},u=-1,d=[];function h(e){var t=a[e];if(!t&&!(t=a[e]=n.getExtension(e)))throw new Error(e+" not supported");return t}function p(e,t){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function f(e,t,i,o){if(!l[e]){var s={},a={},c=n.createProgram();n.attachShader(c,p(t,n.VERTEX_SHADER)),n.attachShader(c,p(i,n.FRAGMENT_SHADER)),n.linkProgram(c),l[e]={program:c,transaction:function(e){n.useProgram(c),e({setUniform:function(e,t){for(var i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];var o=a[t]||(a[t]=n.getUniformLocation(c,t));n["uniform"+e].apply(n,[o].concat(i))},setAttribute:function(e,t,i,o,a){var l=s[e];l||(l=s[e]={buf:n.createBuffer(),loc:n.getAttribLocation(c,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),r?n.vertexAttribDivisor(l.loc,o):h("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,o),a!==l.data&&(n.bufferData(n.ARRAY_BUFFER,a,i),l.data=a)}})}}}l[e].transaction(o)}function m(e,t){u++;try{n.activeTexture(n.TEXTURE0+u);var i=c[e];i||(i=c[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,i),t(i,u)}finally{u--}}function g(e,t,i){var r=n.createFramebuffer();d.push(r),n.bindFramebuffer(n.FRAMEBUFFER,r),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{i(r)}finally{n.deleteFramebuffer(r),n.bindFramebuffer(n.FRAMEBUFFER,d[--d.length-1]||null)}}function v(){a={},l={},c={},u=-1,d.length=0}n.canvas.addEventListener("webglcontextlost",(function(e){v(),e.preventDefault()}),!1),o.set(n,i={gl:n,isWebGL2:r,getExtension:h,withProgram:f,withTexture:m,withTextureFramebuffer:g,handleContextLoss:v})}t(i)}function l(e,t,n,i,o,s,l,c){void 0===l&&(l=15),void 0===c&&(c=null),a(e,(function(e){var a=e.gl,u=e.withProgram;(0,e.withTexture)("copy",(function(e,d){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,o,s,0,a.RGBA,a.UNSIGNED_BYTE,t),u("copy",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,a.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",d),a.bindFramebuffer(a.FRAMEBUFFER,c||null),a.disable(a.BLEND),a.colorMask(8&l,4&l,2&l,1&l),a.viewport(n,i,o,s),a.scissor(n,i,o,s),a.drawArrays(a.TRIANGLES,0,3)}))}))}))}var c=Object.freeze({__proto__:null,withWebGLContext:a,renderImageData:l,resizeWebGLCanvasWithoutClearing:function(e,t,n){var i=e.width,r=e.height;a(e,(function(o){var s=o.gl,a=new Uint8Array(i*r*4);s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,a),e.width=t,e.height=n,l(s,a,0,0,i,r)}))}});function u(e,t,n,r,o,s){void 0===s&&(s=1);var a=new Uint8Array(e*t),l=r[2]-r[0],c=r[3]-r[1],u=[];i(n,(function(e,t,n,i){u.push({x1:e,y1:t,x2:n,y2:i,minX:Math.min(e,n),minY:Math.min(t,i),maxX:Math.max(e,n),maxY:Math.max(t,i)})})),u.sort((function(e,t){return e.maxX-t.maxX}));for(var d=0;d<e;d++)for(var h=0;h<t;h++){var f=g(r[0]+l*(d+.5)/e,r[1]+c*(h+.5)/t),m=Math.pow(1-Math.abs(f)/o,s)/2;f<0&&(m=1-m),m=Math.max(0,Math.min(255,Math.round(255*m))),a[h*e+d]=m}return a;function g(e,t){for(var n=1/0,i=1/0,r=u.length;r--;){var o=u[r];if(o.maxX+i<=e)break;if(e+i>o.minX&&t-i<o.maxY&&t+i>o.minY){var s=p(e,t,o.x1,o.y1,o.x2,o.y2);s<n&&(n=s,i=Math.sqrt(n))}}return function(e,t){for(var n=0,i=u.length;i--;){var r=u[i];if(r.maxX<=e)break;r.y1>t!=r.y2>t&&e<(r.x2-r.x1)*(t-r.y1)/(r.y2-r.y1)+r.x1&&(n+=r.y1<r.y2?1:-1)}return 0!==n}(e,t)&&(i=-i),i}}function d(e,t,n,i,r,o,s,a,l,c){void 0===o&&(o=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),h(e,t,n,i,r,o,s,null,a,l,c)}function h(e,t,n,i,r,o,s,a,c,d,h){void 0===o&&(o=1),void 0===c&&(c=0),void 0===d&&(d=0),void 0===h&&(h=0);for(var p=u(e,t,n,i,r,o),f=new Uint8Array(4*p.length),m=0;m<p.length;m++)f[4*m+h]=p[m];l(s,f,c,d,e,t,1<<3-h,a)}function p(e,t,n,i,r,o){var s=r-n,a=o-i,l=s*s+a*a,c=l?Math.max(0,Math.min(1,((e-n)*s+(t-i)*a)/l)):0,u=e-(n+c*s),d=t-(i+c*a);return u*u+d*d}var f=Object.freeze({__proto__:null,generate:u,generateIntoCanvas:d,generateIntoFramebuffer:h}),m=new Float32Array([0,0,2,0,0,2]),g=null,v=!1,y={},E=new WeakMap;function S(e){if(!v&&!T(e))throw new Error("WebGL generation not supported")}function b(e,t,n,i,r,o,s){if(void 0===o&&(o=1),void 0===s&&(s=null),!s&&!(s=g)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!l)throw new Error("OffscreenCanvas or DOM canvas not supported");s=g=l.getContext("webgl",{depth:!1})}S(s);var c=new Uint8Array(e*t*4);a(s,(function(s){var a=s.gl,l=s.withTexture,u=s.withTextureFramebuffer;l("readable",(function(s,l){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,e,t,0,a.RGBA,a.UNSIGNED_BYTE,null),u(s,l,(function(s){O(e,t,n,i,r,o,a,s,0,0,0),a.readPixels(0,0,e,t,a.RGBA,a.UNSIGNED_BYTE,c)}))}))}));for(var u=new Uint8Array(e*t),d=0,h=0;d<c.length;d+=4)u[h++]=c[d];return u}function _(e,t,n,i,r,o,s,a,l,c){void 0===o&&(o=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),O(e,t,n,i,r,o,s,null,a,l,c)}function O(e,t,n,o,s,l,c,u,d,h,p){void 0===l&&(l=1),void 0===d&&(d=0),void 0===h&&(h=0),void 0===p&&(p=0),S(c);var f=[];i(n,(function(e,t,n,i){f.push(e,t,n,i)})),f=new Float32Array(f),a(c,(function(n){var i=n.gl,a=n.isWebGL2,c=n.getExtension,g=n.withProgram,v=n.withTexture,y=n.withTextureFramebuffer,E=n.handleContextLoss;if(v("rawDistances",(function(n,v){e===n._lastWidth&&t===n._lastHeight||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),g("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",(function(r){var u=r.setAttribute,d=r.setUniform,h=!a&&c("ANGLE_instanced_arrays"),p=!a&&c("EXT_blend_minmax");u("aUV",2,i.STATIC_DRAW,0,m),u("aLineSegment",4,i.DYNAMIC_DRAW,1,f),d.apply(void 0,["4f","uGlyphBounds"].concat(o)),d("1f","uMaxDistance",s),d("1f","uExponent",l),y(n,v,(function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,a?i.MAX:p.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),a?i.drawArraysInstanced(i.TRIANGLES,0,3,f.length/4):h.drawArraysInstancedANGLE(i.TRIANGLES,0,3,f.length/4)}))})),g("post",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",(function(n){n.setAttribute("aUV",2,i.STATIC_DRAW,0,m),n.setUniform("1i","tex",v),i.bindFramebuffer(i.FRAMEBUFFER,u),i.disable(i.BLEND),i.colorMask(0===p,1===p,2===p,3===p),i.viewport(d,h,e,t),i.scissor(d,h,e,t),i.drawArrays(i.TRIANGLES,0,3)}))})),i.isContextLost())throw E(),new Error("webgl context lost")}))}function T(e){var t=e&&e!==g?e.canvas||e:y,n=E.get(t);if(void 0===n){v=!0;var i=null;try{var r=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],o=b(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(n=o&&r.length===o.length&&o.every((function(e,t){return e===r[t]})))||(i="bad trial run results",console.info(r,o))}catch(e){n=!1,i=e.message}i&&console.warn("WebGL SDF generation not supported:",i),v=!1,E.set(t,n)}return n}var A=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:_,generateIntoFramebuffer:O,isSupported:T});return e.forEachPathCommand=n,e.generate=function(e,t,n,i,r,o){void 0===r&&(r=Math.max(i[2]-i[0],i[3]-i[1])/2),void 0===o&&(o=1);try{return b.apply(A,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),u.apply(f,arguments)}},e.generateIntoCanvas=function(e,t,n,i,r,o,s,a,l,c){void 0===r&&(r=Math.max(i[2]-i[0],i[3]-i[1])/2),void 0===o&&(o=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0);try{return _.apply(A,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),d.apply(f,arguments)}},e.javascript=f,e.pathToLineSegments=i,e.webgl=A,e.webglUtils=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}const g=function(){return function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},i={};n.L=1,i[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,i[n[e]]=e})),Object.freeze(n);var r=n.LRI|n.RLI|n.FSI,o=n.L|n.R|n.AL,s=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,a=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|r|n.PDI|a,c=null;function u(e){return function(){if(!c){c=new Map;var e=function(e){if(t.hasOwnProperty(e)){var i=0;t[e].split(",").forEach((function(t){var r=t.split("+"),o=r[0],s=r[1];o=parseInt(o,36),s=s?parseInt(s,36):0,c.set(i+=o,n[e]);for(var a=0;a<s;a++)c.set(++i,n[e])}))}};for(var i in t)e(i)}}(),c.get(e.codePointAt(0))||n.L}var d,h,p,f="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",m="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function g(e,t){var n,i=0,r=new Map,o=t&&new Map;return e.split(",").forEach((function e(s){if(-1!==s.indexOf("+"))for(var a=+s;a--;)e(n);else{n=s;var l=s.split(">"),c=l[0],u=l[1];c=String.fromCodePoint(i+=parseInt(c,36)),u=String.fromCodePoint(i+=parseInt(u,36)),r.set(c,u),t&&o.set(u,c)}})),{map:r,reverseMap:o}}function v(){if(!d){var e=g(f,!0),t=e.map,n=e.reverseMap;d=t,h=n,p=g(m,!1).map}}function y(e){return v(),d.get(e)||null}function E(e){return v(),h.get(e)||null}function S(e){return v(),p.get(e)||null}var b=n.L,_=n.R,O=n.EN,T=n.ES,A=n.ET,w=n.AN,N=n.CS,I=n.B,R=n.S,k=n.ON,L=n.BN,P=n.NSM,D=n.AL,M=n.LRO,C=n.RLO,x=n.LRE,U=n.RLE,F=n.PDF,H=n.LRI,G=n.RLI,B=n.FSI,V=n.PDI;var j;function W(e){return function(){if(!j){var e=g("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),j=t}}(),j.get(e)||null}function z(e,t,n,i){var r=e.length;n=Math.max(0,null==n?0:+n),i=Math.min(r-1,null==i?r-1:+i);var o=[];return t.paragraphs.forEach((function(r){var s=Math.max(n,r.start),a=Math.min(i,r.end);if(s<a){for(var c=t.levels.slice(s,a+1),d=a;d>=s&&u(e[d])&l;d--)c[d]=r.level;for(var h=r.level,p=1/0,f=0;f<c.length;f++){var m=c[f];m>h&&(h=m),m<p&&(p=1|m)}for(var g=h;g>=p;g--)for(var v=0;v<c.length;v++)if(c[v]>=g){for(var y=v;v+1<c.length&&c[v+1]>=g;)v++;v>y&&o.push([y+n,v+n])}}})),o}function $(e,t,n,i){for(var r=z(e,t,n,i),o=[],s=0;s<e.length;s++)o[s]=s;return r.forEach((function(e){for(var t=e[0],n=e[1],i=o.slice(t,n+1),r=i.length;r--;)o[n-r]=i[r]})),o}return e.closingToOpeningBracket=E,e.getBidiCharType=u,e.getBidiCharTypeName=function(e){return i[u(e)]},e.getCanonicalBracket=S,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),i=0;i<e.length;i++)n[i]=u(e[i]);var c=new Map;function d(e,t){var i=n[e];n[e]=t,c.set(i,c.get(i)-1),i&s&&c.set(s,c.get(s)-1),c.set(t,(c.get(t)||0)+1),t&s&&c.set(s,(c.get(s)||0)+1)}for(var h=new Uint8Array(e.length),p=new Map,f=[],m=null,g=0;g<e.length;g++)m||f.push(m={start:g,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Bt(g,!1)}),n[g]&I&&(m.end=g,m=null);for(var v=U|x|C|M|r|V|F|I,j=function(e){return e+(1&e?1:2)},W=function(e){return e+(1&e?2:1)},z=0;z<f.length;z++){var $=[{_level:(m=f[z]).level,_override:0,_isolate:0}],K=void 0,Y=0,q=0,Q=0;c.clear();for(var X=m.start;X<=m.end;X++){var J=n[X];if(K=$[$.length-1],c.set(J,(c.get(J)||0)+1),J&s&&c.set(s,(c.get(s)||0)+1),J&v)if(J&(U|x)){h[X]=K._level;var Z=(J===U?W:j)(K._level);Z<=125&&!Y&&!q?$.push({_level:Z,_override:0,_isolate:0}):Y||q++}else if(J&(C|M)){h[X]=K._level;var ee=(J===C?W:j)(K._level);ee<=125&&!Y&&!q?$.push({_level:ee,_override:J&C?_:b,_isolate:0}):Y||q++}else if(J&r){J&B&&(J=1===Bt(X+1,!0)?G:H),h[X]=K._level,K._override&&d(X,K._override);var te=(J===G?W:j)(K._level);te<=125&&0===Y&&0===q?(Q++,$.push({_level:te,_override:0,_isolate:1,_isolInitIndex:X})):Y++}else if(J&V){if(Y>0)Y--;else if(Q>0){for(q=0;!$[$.length-1]._isolate;)$.pop();var ne=$[$.length-1]._isolInitIndex;null!=ne&&(p.set(ne,X),p.set(X,ne)),$.pop(),Q--}K=$[$.length-1],h[X]=K._level,K._override&&d(X,K._override)}else J&F?(0===Y&&(q>0?q--:!K._isolate&&$.length>1&&($.pop(),K=$[$.length-1])),h[X]=K._level):J&I&&(h[X]=m.level);else h[X]=K._level,K._override&&J!==L&&d(X,K._override)}for(var ie=[],re=null,oe=m.start;oe<=m.end;oe++){var se=n[oe];if(!(se&a)){var ae=h[oe],le=se&r,ce=se===V;re&&ae===re._level?(re._end=oe,re._endsWithIsolInit=le):ie.push(re={_start:oe,_end:oe,_level:ae,_startsWithPDI:ce,_endsWithIsolInit:le})}}for(var ue=[],de=0;de<ie.length;de++){var he=ie[de];if(!he._startsWithPDI||he._startsWithPDI&&!p.has(he._start)){for(var pe=[re=he],fe=void 0;re&&re._endsWithIsolInit&&null!=(fe=p.get(re._end));)for(var me=de+1;me<ie.length;me++)if(ie[me]._start===fe){pe.push(re=ie[me]);break}for(var ge=[],ve=0;ve<pe.length;ve++)for(var ye=pe[ve],Ee=ye._start;Ee<=ye._end;Ee++)ge.push(Ee);for(var Se=h[ge[0]],be=m.level,_e=ge[0]-1;_e>=0;_e--)if(!(n[_e]&a)){be=h[_e];break}var Oe=ge[ge.length-1],Te=h[Oe],Ae=m.level;if(!(n[Oe]&r))for(var we=Oe+1;we<=m.end;we++)if(!(n[we]&a)){Ae=h[we];break}ue.push({_seqIndices:ge,_sosType:Math.max(be,Se)%2?_:b,_eosType:Math.max(Ae,Te)%2?_:b})}}for(var Ne=0;Ne<ue.length;Ne++){var Ie=ue[Ne],Re=Ie._seqIndices,ke=Ie._sosType,Le=Ie._eosType;if(c.get(P))for(var Pe=0;Pe<Re.length;Pe++){var De=Re[Pe];if(n[De]&P){for(var Me=ke,Ce=Pe-1;Ce>=0;Ce--)if(!(n[Re[Ce]]&a)){Me=n[Re[Ce]];break}d(De,Me&(r|V)?k:Me)}}if(c.get(O))for(var xe=0;xe<Re.length;xe++){var Ue=Re[xe];if(n[Ue]&O)for(var Fe=xe-1;Fe>=-1;Fe--){var He=-1===Fe?ke:n[Re[Fe]];if(He&o){He===D&&d(Ue,w);break}}}if(c.get(D))for(var Ge=0;Ge<Re.length;Ge++){var Be=Re[Ge];n[Be]&D&&d(Be,_)}if(c.get(T)||c.get(N))for(var Ve=1;Ve<Re.length-1;Ve++){var je=Re[Ve];if(n[je]&(T|N)){for(var We=0,ze=0,$e=Ve-1;$e>=0&&(We=n[Re[$e]])&a;$e--);for(var Ke=Ve+1;Ke<Re.length&&(ze=n[Re[Ke]])&a;Ke++);We===ze&&(n[je]===T?We===O:We&(O|w))&&d(je,We)}}if(c.get(O))for(var Ye=0;Ye<Re.length;Ye++){var qe=Re[Ye];if(n[qe]&O){for(var Qe=Ye-1;Qe>=0&&n[Re[Qe]]&(A|a);Qe--)d(Re[Qe],O);for(var Xe=Ye+1;Xe<Re.length&&n[Re[Xe]]&(A|a);Xe++)d(Re[Xe],O)}}if(c.get(A)||c.get(T)||c.get(N))for(var Je=0;Je<Re.length;Je++){var Ze=Re[Je];if(n[Ze]&(A|T|N)){d(Ze,k);for(var et=Je-1;et>=0&&n[Re[et]]&a;et--)d(Re[et],k);for(var tt=Je+1;tt<Re.length&&n[Re[tt]]&a;tt++)d(Re[tt],k)}}if(c.get(O))for(var nt=0,it=ke;nt<Re.length;nt++){var rt=Re[nt],ot=n[rt];ot&O?it===b&&d(rt,b):ot&o&&(it=ot)}if(c.get(s)){for(var st=_|O|w,at=st|b,lt=[],ct=[],ut=0;ut<Re.length;ut++)if(n[Re[ut]]&s){var dt=e[Re[ut]],ht=void 0;if(null!==y(dt)){if(!(ct.length<63))break;ct.push({char:dt,seqIndex:ut})}else if(null!==(ht=E(dt)))for(var pt=ct.length-1;pt>=0;pt--){var ft=ct[pt].char;if(ft===ht||ft===E(S(dt))||y(S(ft))===dt){lt.push([ct[pt].seqIndex,ut]),ct.length=pt;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var mt=0;mt<lt.length;mt++){for(var gt=lt[mt],vt=gt[0],yt=gt[1],Et=!1,St=0,bt=vt+1;bt<yt;bt++){var _t=Re[bt];if(n[_t]&at){Et=!0;var Ot=n[_t]&st?_:b;if(Ot===jt(_t)){St=Ot;break}}}if(Et&&!St){St=ke;for(var Tt=vt-1;Tt>=0;Tt--){var At=Re[Tt];if(n[At]&at){var wt=n[At]&st?_:b;St=wt!==jt(At)?wt:jt(At);break}}}if(St){if(n[Re[vt]]=n[Re[yt]]=St,St!==jt(Re[vt]))for(var Nt=vt+1;Nt<Re.length;Nt++)if(!(n[Re[Nt]]&a)){u(e[Re[Nt]])&P&&(n[Re[Nt]]=St);break}if(St!==jt(Re[yt]))for(var It=yt+1;It<Re.length;It++)if(!(n[Re[It]]&a)){u(e[Re[It]])&P&&(n[Re[It]]=St);break}}}for(var Rt=0;Rt<Re.length;Rt++)if(n[Re[Rt]]&s){for(var kt=Rt,Lt=Rt,Pt=ke,Dt=Rt-1;Dt>=0;Dt--){if(!(n[Re[Dt]]&a)){Pt=n[Re[Dt]]&st?_:b;break}kt=Dt}for(var Mt=Le,Ct=Rt+1;Ct<Re.length;Ct++){if(!(n[Re[Ct]]&(s|a))){Mt=n[Re[Ct]]&st?_:b;break}Lt=Ct}for(var xt=kt;xt<=Lt;xt++)n[Re[xt]]=Pt===Mt?Pt:jt(Re[xt]);Rt=Lt}}}for(var Ut=m.start;Ut<=m.end;Ut++){var Ft=h[Ut],Ht=n[Ut];if(1&Ft?Ht&(b|O|w)&&h[Ut]++:Ht&_?h[Ut]++:Ht&(w|O)&&(h[Ut]+=2),Ht&a&&(h[Ut]=0===Ut?m.level:h[Ut-1]),Ut===m.end||u(e[Ut])&(R|I))for(var Gt=Ut;Gt>=0&&u(e[Gt])&l;Gt--)h[Gt]=m.level}}return{levels:h,paragraphs:f};function Bt(t,i){for(var o=t;o<e.length;o++){var s=n[o];if(s&(_|D))return 1;if(s&(I|b)||i&&s===V)return 0;if(s&r){var a=Vt(o);o=-1===a?e.length:a}}return 0}function Vt(t){for(var i=1,o=t+1;o<e.length;o++){var s=n[o];if(s&I)break;if(s&V){if(0==--i)return o}else s&r&&i++}return-1}function jt(e){return 1&h[e]?_:b}},e.getMirroredCharacter=W,e.getMirroredCharactersMap=function(e,t,n,i){var r=e.length;n=Math.max(0,null==n?0:+n),i=Math.min(r-1,null==i?r-1:+i);for(var o=new Map,s=n;s<=i;s++)if(1&t[s]){var a=W(e[s]);null!==a&&o.set(s,a)}return o},e.getReorderSegments=z,e.getReorderedIndices=$,e.getReorderedString=function(e,t,n,i){var r=$(e,t,n,i),o=[].concat(e);return r.forEach((function(n,i){o[i]=(1&t.levels[n]?W(e[n]):null)||e[n]})),o.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({})};var v=n(60713);const y=h({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,i=new Uint8Array(e);if("ttcf"==n.readASCII(i,0,4)){var r=4;n.readUshort(i,r),r+=2,n.readUshort(i,r),r+=2;var o=n.readUint(i,r);r+=4;for(var s=[],a=0;a<o;a++){var l=n.readUint(i,r);r+=4,s.push(t._readFont(i,l))}return s}return[t._readFont(i,0)]},_readFont:function(e,n){var i=t._bin,r=n;i.readFixed(e,n),n+=4;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],a={_data:e,_offset:r},l={},c=0;c<o;c++){var u=i.readASCII(e,n,4);n+=4,i.readUint(e,n),n+=4;var d=i.readUint(e,n);n+=4;var h=i.readUint(e,n);n+=4,l[u]={offset:d,length:h}}for(c=0;c<s.length;c++){var p=s[c];l[p]&&(a[p.trim()]=t[p.trim()].parse(e,l[p].offset,l[p].length,a))}return a},_tabOffset:function(e,n,i){for(var r=t._bin,o=r.readUshort(e,i+4),s=i+12,a=0;a<o;a++){var l=r.readASCII(e,s,4);s+=4,r.readUint(e,s),s+=4;var c=r.readUint(e,s);if(s+=4,r.readUint(e,s),s+=4,l==n)return c}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,i){for(var r=[],o=0;o<i;o++)r.push(t._bin.readUshort(e,n+2*o));return r},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(e[t+r]);return i},readUnicode:function(e,t,n){for(var i="",r=0;r<n;r++){var o=e[t++]<<8|e[t++];i+=String.fromCharCode(o)}return i},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,i){var r=t._bin._tdec;return r&&0==n&&i==e.length?r.decode(e):t._bin.readASCII(e,n,i)},readBytes:function(e,t,n){for(var i=[],r=0;r<n;r++)i.push(e[t+r]);return i},readASCIIArray:function(e,t,n){for(var i=[],r=0;r<n;r++)i.push(String.fromCharCode(e[t+r]));return i},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,i,r,o){var s=t._bin,a={},l=n;s.readFixed(e,n),n+=4;var c=s.readUshort(e,n);n+=2;var u=s.readUshort(e,n);n+=2;var d=s.readUshort(e,n);return n+=2,a.scriptList=t._lctf.readScriptList(e,l+c),a.featureList=t._lctf.readFeatureList(e,l+u),a.lookupList=t._lctf.readLookupList(e,l+d,o),a},t._lctf.readLookupList=function(e,n,i){var r=t._bin,o=n,s=[],a=r.readUshort(e,n);n+=2;for(var l=0;l<a;l++){var c=r.readUshort(e,n);n+=2;var u=t._lctf.readLookupTable(e,o+c,i);s.push(u)}return s},t._lctf.readLookupTable=function(e,n,i){var r=t._bin,o=n,s={tabs:[]};s.ltype=r.readUshort(e,n),n+=2,s.flag=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var l=s.ltype,c=0;c<a;c++){var u=r.readUshort(e,n);n+=2;var d=i(e,l,o+u,s);s.tabs.push(d)}return s},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)e>>>n&1&&t++;return t},t._lctf.readClassDef=function(e,n){var i=t._bin,r=[],o=i.readUshort(e,n);if(n+=2,1==o){var s=i.readUshort(e,n);n+=2;var a=i.readUshort(e,n);n+=2;for(var l=0;l<a;l++)r.push(s+l),r.push(s+l),r.push(i.readUshort(e,n)),n+=2}if(2==o){var c=i.readUshort(e,n);for(n+=2,l=0;l<c;l++)r.push(i.readUshort(e,n)),n+=2,r.push(i.readUshort(e,n)),n+=2,r.push(i.readUshort(e,n)),n+=2}return r},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var i=e[n],r=e[n+1];if(e[n+2],i<=t&&t<=r)return n}return-1},t._lctf.readCoverage=function(e,n){var i=t._bin,r={};r.fmt=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);return n+=2,1==r.fmt&&(r.tab=i.readUshorts(e,n,o)),2==r.fmt&&(r.tab=i.readUshorts(e,n,3*o)),r},t._lctf.coverageIndex=function(e,n){var i=e.tab;if(1==e.fmt)return i.indexOf(n);if(2==e.fmt){var r=t._lctf.getInterval(i,n);if(-1!=r)return i[r+2]+(n-i[r])}return-1},t._lctf.readFeatureList=function(e,n){var i=t._bin,r=n,o=[],s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=i.readASCII(e,n,4);n+=4;var c=i.readUshort(e,n);n+=2;var u=t._lctf.readFeatureTable(e,r+c);u.tag=l.trim(),o.push(u)}return o},t._lctf.readFeatureTable=function(e,n){var i=t._bin,r=n,o={},s=i.readUshort(e,n);n+=2,s>0&&(o.featureParams=r+s);var a=i.readUshort(e,n);n+=2,o.tab=[];for(var l=0;l<a;l++)o.tab.push(i.readUshort(e,n+2*l));return o},t._lctf.readScriptList=function(e,n){var i=t._bin,r=n,o={},s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=i.readASCII(e,n,4);n+=4;var c=i.readUshort(e,n);n+=2,o[l.trim()]=t._lctf.readScriptTable(e,r+c)}return o},t._lctf.readScriptTable=function(e,n){var i=t._bin,r=n,o={},s=i.readUshort(e,n);n+=2,s>0&&(o.default=t._lctf.readLangSysTable(e,r+s));var a=i.readUshort(e,n);n+=2;for(var l=0;l<a;l++){var c=i.readASCII(e,n,4);n+=4;var u=i.readUshort(e,n);n+=2,o[c.trim()]=t._lctf.readLangSysTable(e,r+u)}return o},t._lctf.readLangSysTable=function(e,n){var i=t._bin,r={};i.readUshort(e,n),n+=2,r.reqFeature=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);return n+=2,r.features=i.readUshorts(e,n,o),r},t.CFF={},t.CFF.parse=function(e,n,i){var r=t._bin;(e=new Uint8Array(e.buffer,n,i))[n=0],e[++n],e[++n],e[++n],n++;var o=[];n=t.CFF.readIndex(e,n,o);for(var s=[],a=0;a<o.length-1;a++)s.push(r.readASCII(e,n+o[a],o[a+1]-o[a]));n+=o[o.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var c=[];for(a=0;a<l.length-1;a++)c.push(t.CFF.readDict(e,n+l[a],n+l[a+1]));n+=l[l.length-1];var u=c[0],d=[];n=t.CFF.readIndex(e,n,d);var h=[];for(a=0;a<d.length-1;a++)h.push(r.readASCII(e,n+d[a],d[a+1]-d[a]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,u),u.CharStrings){n=u.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var p=[];for(a=0;a<d.length-1;a++)p.push(r.readBytes(e,n+d[a],d[a+1]-d[a]));u.CharStrings=p}if(u.ROS){n=u.FDArray;var f=[];for(n=t.CFF.readIndex(e,n,f),u.FDArray=[],a=0;a<f.length-1;a++){var m=t.CFF.readDict(e,n+f[a],n+f[a+1]);t.CFF._readFDict(e,m,h),u.FDArray.push(m)}n+=f[f.length-1],n=u.FDSelect,u.FDSelect=[];var g=e[n];if(n++,3!=g)throw g;var v=r.readUshort(e,n);for(n+=2,a=0;a<v+1;a++)u.FDSelect.push(r.readUshort(e,n),e[n+2]),n+=3}return u.Encoding&&(u.Encoding=t.CFF.readEncoding(e,u.Encoding,u.CharStrings.length)),u.charset&&(u.charset=t.CFF.readCharset(e,u.charset,u.CharStrings.length)),t.CFF._readFDict(e,u,h),u},t.CFF._readFDict=function(e,n,i){var r;for(var o in n.Private&&(r=n.Private[1],n.Private=t.CFF.readDict(e,r,r+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,r+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)&&(n[o]=i[n[o]-426+35])},t.CFF.readSubrs=function(e,n,i){var r=t._bin,o=[];n=t.CFF.readIndex(e,n,o);var s,a=o.length;s=a<1240?107:a<33900?1131:32768,i.Bias=s,i.Subrs=[];for(var l=0;l<o.length-1;l++)i.Subrs.push(r.readBytes(e,n+o[l],o[l+1]-o[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,i){t._bin;var r=[".notdef"],o=e[n];if(n++,0!=o)throw"error: unknown encoding format: "+o;var s=e[n];n++;for(var a=0;a<s;a++)r.push(e[n+a]);return r},t.CFF.readCharset=function(e,n,i){var r=t._bin,o=[".notdef"],s=e[n];if(n++,0==s)for(var a=0;a<i;a++){var l=r.readUshort(e,n);n+=2,o.push(l)}else{if(1!=s&&2!=s)throw"error: format: "+s;for(;o.length<i;){l=r.readUshort(e,n),n+=2;var c=0;for(1==s?(c=e[n],n++):(c=r.readUshort(e,n),n+=2),a=0;a<=c;a++)o.push(l),l++}}return o},t.CFF.readIndex=function(e,n,i){var r=t._bin,o=r.readUshort(e,n)+1,s=e[n+=2];if(n++,1==s)for(var a=0;a<o;a++)i.push(e[n+a]);else if(2==s)for(a=0;a<o;a++)i.push(r.readUshort(e,n+2*a));else if(3==s)for(a=0;a<o;a++)i.push(16777215&r.readUint(e,n+3*a-1));else if(1!=o)throw"unsupported offset size: "+s+", count: "+o;return(n+=o*s)-1},t.CFF.getCharString=function(e,n,i){var r=t._bin,o=e[n],s=e[n+1];e[n+2],e[n+3],e[n+4];var a=1,l=null,c=null;o<=20&&(l=o,a=1),12==o&&(l=100*o+s,a=2),21<=o&&o<=27&&(l=o,a=1),28==o&&(c=r.readShort(e,n+1),a=3),29<=o&&o<=31&&(l=o,a=1),32<=o&&o<=246&&(c=o-139,a=1),247<=o&&o<=250&&(c=256*(o-247)+s+108,a=2),251<=o&&o<=254&&(c=256*-(o-251)-s-108,a=2),255==o&&(c=r.readInt(e,n+1)/65535,a=5),i.val=null!=c?c:"o"+l,i.size=a},t.CFF.readCharString=function(e,n,i){for(var r=n+i,o=t._bin,s=[];n<r;){var a=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,u=null,d=null;a<=20&&(u=a,c=1),12==a&&(u=100*a+l,c=2),19!=a&&20!=a||(u=a,c=2),21<=a&&a<=27&&(u=a,c=1),28==a&&(d=o.readShort(e,n+1),c=3),29<=a&&a<=31&&(u=a,c=1),32<=a&&a<=246&&(d=a-139,c=1),247<=a&&a<=250&&(d=256*(a-247)+l+108,c=2),251<=a&&a<=254&&(d=256*-(a-251)-l-108,c=2),255==a&&(d=o.readInt(e,n+1)/65535,c=5),s.push(null!=d?d:"o"+u),n+=c}return s},t.CFF.readDict=function(e,n,i){for(var r=t._bin,o={},s=[];n<i;){var a=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,u=null,d=null;if(28==a&&(d=r.readShort(e,n+1),c=3),29==a&&(d=r.readInt(e,n+1),c=5),32<=a&&a<=246&&(d=a-139,c=1),247<=a&&a<=250&&(d=256*(a-247)+l+108,c=2),251<=a&&a<=254&&(d=256*-(a-251)-l-108,c=2),255==a)throw d=r.readInt(e,n+1)/65535,c=5,"unknown number";if(30==a){var h=[];for(c=1;;){var p=e[n+c];c++;var f=p>>4,m=15&p;if(15!=f&&h.push(f),15!=m&&h.push(m),15==m)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<h.length;y++)g+=v[h[y]];d=parseFloat(g)}a<=21&&(u=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][a],c=1,12==a&&(u=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],c=2)),null!=u?(o[u]=1==s.length?s[0]:s,s=[]):s.push(d),n+=c}return o},t.cmap={},t.cmap.parse=function(e,n,i){e=new Uint8Array(e.buffer,n,i),n=0;var r=t._bin,o={};r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var a=[];o.tables=[];for(var l=0;l<s;l++){var c=r.readUshort(e,n);n+=2;var u=r.readUshort(e,n);n+=2;var d=r.readUint(e,n);n+=4;var h="p"+c+"e"+u,p=a.indexOf(d);if(-1==p){var f;p=o.tables.length,a.push(d);var m=r.readUshort(e,d);0==m?f=t.cmap.parse0(e,d):4==m?f=t.cmap.parse4(e,d):6==m?f=t.cmap.parse6(e,d):12==m?f=t.cmap.parse12(e,d):console.debug("unknown format: "+m,c,u,d),o.tables.push(f)}if(null!=o[h])throw"multiple tables for one platform+encoding";o[h]=p}return o},t.cmap.parse0=function(e,n){var i=t._bin,r={};r.format=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,r.map=[];for(var s=0;s<o-6;s++)r.map.push(e[n+s]);return r},t.cmap.parse4=function(e,n){var i=t._bin,r=n,o={};o.format=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2;var a=i.readUshort(e,n);n+=2;var l=a/2;o.searchRange=i.readUshort(e,n),n+=2,o.entrySelector=i.readUshort(e,n),n+=2,o.rangeShift=i.readUshort(e,n),n+=2,o.endCount=i.readUshorts(e,n,l),n+=2*l,n+=2,o.startCount=i.readUshorts(e,n,l),n+=2*l,o.idDelta=[];for(var c=0;c<l;c++)o.idDelta.push(i.readShort(e,n)),n+=2;for(o.idRangeOffset=i.readUshorts(e,n,l),n+=2*l,o.glyphIdArray=[];n<r+s;)o.glyphIdArray.push(i.readUshort(e,n)),n+=2;return o},t.cmap.parse6=function(e,n){var i=t._bin,r={};r.format=i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,r.firstCode=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,r.glyphIdArray=[];for(var s=0;s<o;s++)r.glyphIdArray.push(i.readUshort(e,n)),n+=2;return r},t.cmap.parse12=function(e,n){var i=t._bin,r={};r.format=i.readUshort(e,n),n+=2,n+=2,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4;var o=i.readUint(e,n);n+=4,r.groups=[];for(var s=0;s<o;s++){var a=n+12*s,l=i.readUint(e,a+0),c=i.readUint(e,a+4),u=i.readUint(e,a+8);r.groups.push([l,c,u])}return r},t.glyf={},t.glyf.parse=function(e,t,n,i){for(var r=[],o=0;o<i.maxp.numGlyphs;o++)r.push(null);return r},t.glyf._parseGlyf=function(e,n){var i=t._bin,r=e._data,o=t._tabOffset(r,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var s={};if(s.noc=i.readShort(r,o),o+=2,s.xMin=i.readShort(r,o),o+=2,s.yMin=i.readShort(r,o),o+=2,s.xMax=i.readShort(r,o),o+=2,s.yMax=i.readShort(r,o),o+=2,s.xMin>=s.xMax||s.yMin>=s.yMax)return null;if(s.noc>0){s.endPts=[];for(var a=0;a<s.noc;a++)s.endPts.push(i.readUshort(r,o)),o+=2;var l=i.readUshort(r,o);if(o+=2,r.length-o<l)return null;s.instructions=i.readBytes(r,o,l),o+=l;var c=s.endPts[s.noc-1]+1;for(s.flags=[],a=0;a<c;a++){var u=r[o];if(o++,s.flags.push(u),8&u){var d=r[o];o++;for(var h=0;h<d;h++)s.flags.push(u),a++}}for(s.xs=[],a=0;a<c;a++){var p=!!(2&s.flags[a]),f=!!(16&s.flags[a]);p?(s.xs.push(f?r[o]:-r[o]),o++):f?s.xs.push(0):(s.xs.push(i.readShort(r,o)),o+=2)}for(s.ys=[],a=0;a<c;a++)p=!!(4&s.flags[a]),f=!!(32&s.flags[a]),p?(s.ys.push(f?r[o]:-r[o]),o++):f?s.ys.push(0):(s.ys.push(i.readShort(r,o)),o+=2);var m=0,g=0;for(a=0;a<c;a++)m+=s.xs[a],g+=s.ys[a],s.xs[a]=m,s.ys[a]=g}else{var v;s.parts=[];do{v=i.readUshort(r,o),o+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(s.parts.push(y),y.glyphIndex=i.readUshort(r,o),o+=2,1&v){var E=i.readShort(r,o);o+=2;var S=i.readShort(r,o);o+=2}else E=i.readInt8(r,o),o++,S=i.readInt8(r,o),o++;2&v?(y.m.tx=E,y.m.ty=S):(y.p1=E,y.p2=S),8&v?(y.m.a=y.m.d=i.readF2dot14(r,o),o+=2):64&v?(y.m.a=i.readF2dot14(r,o),o+=2,y.m.d=i.readF2dot14(r,o),o+=2):128&v&&(y.m.a=i.readF2dot14(r,o),o+=2,y.m.b=i.readF2dot14(r,o),o+=2,y.m.c=i.readF2dot14(r,o),o+=2,y.m.d=i.readF2dot14(r,o),o+=2)}while(32&v);if(256&v){var b=i.readUshort(r,o);for(o+=2,s.instr=[],a=0;a<b;a++)s.instr.push(r[o]),o++}}return s},t.GDEF={},t.GDEF.parse=function(e,n,i,r){var o=n;n+=4;var s=t._bin.readUshort(e,n);return{glyphClassDef:0===s?null:t._lctf.readClassDef(e,o+s)}},t.GPOS={},t.GPOS.parse=function(e,n,i,r){return t._lctf.parse(e,n,i,r,t.GPOS.subt)},t.GPOS.subt=function(e,n,i,r){var o=t._bin,s=i,a={};if(a.fmt=o.readUshort(e,i),i+=2,1==n||2==n||3==n||7==n||8==n&&a.fmt<=2){var l=o.readUshort(e,i);i+=2,a.coverage=t._lctf.readCoverage(e,l+s)}if(1==n&&1==a.fmt){var c=o.readUshort(e,i);i+=2,0!=c&&(a.pos=t.GPOS.readValueRecord(e,i,c))}else if(2==n&&a.fmt>=1&&a.fmt<=2){c=o.readUshort(e,i),i+=2;var u=o.readUshort(e,i);i+=2;var d=t._lctf.numOfOnes(c),h=t._lctf.numOfOnes(u);if(1==a.fmt){a.pairsets=[];var p=o.readUshort(e,i);i+=2;for(var f=0;f<p;f++){var m=s+o.readUshort(e,i);i+=2;var g=o.readUshort(e,m);m+=2;for(var v=[],y=0;y<g;y++){var E=o.readUshort(e,m);m+=2,0!=c&&(A=t.GPOS.readValueRecord(e,m,c),m+=2*d),0!=u&&(w=t.GPOS.readValueRecord(e,m,u),m+=2*h),v.push({gid2:E,val1:A,val2:w})}a.pairsets.push(v)}}if(2==a.fmt){var S=o.readUshort(e,i);i+=2;var b=o.readUshort(e,i);i+=2;var _=o.readUshort(e,i);i+=2;var O=o.readUshort(e,i);for(i+=2,a.classDef1=t._lctf.readClassDef(e,s+S),a.classDef2=t._lctf.readClassDef(e,s+b),a.matrix=[],f=0;f<_;f++){var T=[];for(y=0;y<O;y++){var A=null,w=null;0!=c&&(A=t.GPOS.readValueRecord(e,i,c),i+=2*d),0!=u&&(w=t.GPOS.readValueRecord(e,i,u),i+=2*h),T.push({val1:A,val2:w})}a.matrix.push(T)}}}else if(4==n&&1==a.fmt)a.markCoverage=t._lctf.readCoverage(e,o.readUshort(e,i)+s),a.baseCoverage=t._lctf.readCoverage(e,o.readUshort(e,i+2)+s),a.markClassCount=o.readUshort(e,i+4),a.markArray=t.GPOS.readMarkArray(e,o.readUshort(e,i+6)+s),a.baseArray=t.GPOS.readBaseArray(e,o.readUshort(e,i+8)+s,a.markClassCount);else if(6==n&&1==a.fmt)a.mark1Coverage=t._lctf.readCoverage(e,o.readUshort(e,i)+s),a.mark2Coverage=t._lctf.readCoverage(e,o.readUshort(e,i+2)+s),a.markClassCount=o.readUshort(e,i+4),a.mark1Array=t.GPOS.readMarkArray(e,o.readUshort(e,i+6)+s),a.mark2Array=t.GPOS.readBaseArray(e,o.readUshort(e,i+8)+s,a.markClassCount);else{if(9==n&&1==a.fmt){var N=o.readUshort(e,i);i+=2;var I=o.readUint(e,i);if(i+=4,9==r.ltype)r.ltype=N;else if(r.ltype!=N)throw"invalid extension substitution";return t.GPOS.subt(e,r.ltype,s+I)}console.debug("unsupported GPOS table LookupType",n,"format",a.fmt)}return a},t.GPOS.readValueRecord=function(e,n,i){var r=t._bin,o=[];return o.push(1&i?r.readShort(e,n):0),n+=1&i?2:0,o.push(2&i?r.readShort(e,n):0),n+=2&i?2:0,o.push(4&i?r.readShort(e,n):0),n+=4&i?2:0,o.push(8&i?r.readShort(e,n):0),n+=8&i?2:0,o},t.GPOS.readBaseArray=function(e,n,i){var r=t._bin,o=[],s=n,a=r.readUshort(e,n);n+=2;for(var l=0;l<a;l++){for(var c=[],u=0;u<i;u++)c.push(t.GPOS.readAnchorRecord(e,s+r.readUshort(e,n))),n+=2;o.push(c)}return o},t.GPOS.readMarkArray=function(e,n){var i=t._bin,r=[],o=n,s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=t.GPOS.readAnchorRecord(e,i.readUshort(e,n+2)+o);l.markClass=i.readUshort(e,n),r.push(l),n+=4}return r},t.GPOS.readAnchorRecord=function(e,n){var i=t._bin,r={};return r.fmt=i.readUshort(e,n),r.x=i.readShort(e,n+2),r.y=i.readShort(e,n+4),r},t.GSUB={},t.GSUB.parse=function(e,n,i,r){return t._lctf.parse(e,n,i,r,t.GSUB.subt)},t.GSUB.subt=function(e,n,i,r){var o=t._bin,s=i,a={};if(a.fmt=o.readUshort(e,i),i+=2,1!=n&&2!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||2==n||4==n||5==n&&a.fmt<=2||6==n&&a.fmt<=2){var l=o.readUshort(e,i);i+=2,a.coverage=t._lctf.readCoverage(e,s+l)}if(1==n&&a.fmt>=1&&a.fmt<=2){if(1==a.fmt)a.delta=o.readShort(e,i),i+=2;else if(2==a.fmt){var c=o.readUshort(e,i);i+=2,a.newg=o.readUshorts(e,i,c),i+=2*a.newg.length}}else if(2==n&&1==a.fmt){c=o.readUshort(e,i),i+=2,a.seqs=[];for(var u=0;u<c;u++){var d=o.readUshort(e,i)+s;i+=2;var h=o.readUshort(e,d);a.seqs.push(o.readUshorts(e,d+2,h))}}else if(4==n)for(a.vals=[],c=o.readUshort(e,i),i+=2,u=0;u<c;u++){var p=o.readUshort(e,i);i+=2,a.vals.push(t.GSUB.readLigatureSet(e,s+p))}else if(5==n&&2==a.fmt){if(2==a.fmt){var f=o.readUshort(e,i);i+=2,a.cDef=t._lctf.readClassDef(e,s+f),a.scset=[];var m=o.readUshort(e,i);for(i+=2,u=0;u<m;u++){var g=o.readUshort(e,i);i+=2,a.scset.push(0==g?null:t.GSUB.readSubClassSet(e,s+g))}}}else if(6==n&&3==a.fmt){if(3==a.fmt){for(u=0;u<3;u++){c=o.readUshort(e,i),i+=2;for(var v=[],y=0;y<c;y++)v.push(t._lctf.readCoverage(e,s+o.readUshort(e,i+2*y)));i+=2*c,0==u&&(a.backCvg=v),1==u&&(a.inptCvg=v),2==u&&(a.ahedCvg=v)}c=o.readUshort(e,i),i+=2,a.lookupRec=t.GSUB.readSubstLookupRecords(e,i,c)}}else{if(7==n&&1==a.fmt){var E=o.readUshort(e,i);i+=2;var S=o.readUint(e,i);if(i+=4,9==r.ltype)r.ltype=E;else if(r.ltype!=E)throw"invalid extension substitution";return t.GSUB.subt(e,r.ltype,s+S)}console.debug("unsupported GSUB table LookupType",n,"format",a.fmt)}return a},t.GSUB.readSubClassSet=function(e,n){var i=t._bin.readUshort,r=n,o=[],s=i(e,n);n+=2;for(var a=0;a<s;a++){var l=i(e,n);n+=2,o.push(t.GSUB.readSubClassRule(e,r+l))}return o},t.GSUB.readSubClassRule=function(e,n){var i=t._bin.readUshort,r={},o=i(e,n),s=i(e,n+=2);n+=2,r.input=[];for(var a=0;a<o-1;a++)r.input.push(i(e,n)),n+=2;return r.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,s),r},t.GSUB.readSubstLookupRecords=function(e,n,i){for(var r=t._bin.readUshort,o=[],s=0;s<i;s++)o.push(r(e,n),r(e,n+2)),n+=4;return o},t.GSUB.readChainSubClassSet=function(e,n){var i=t._bin,r=n,o=[],s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=i.readUshort(e,n);n+=2,o.push(t.GSUB.readChainSubClassRule(e,r+l))}return o},t.GSUB.readChainSubClassRule=function(e,n){for(var i=t._bin,r={},o=["backtrack","input","lookahead"],s=0;s<o.length;s++){var a=i.readUshort(e,n);n+=2,1==s&&a--,r[o[s]]=i.readUshorts(e,n,a),n+=2*r[o[s]].length}return a=i.readUshort(e,n),n+=2,r.subst=i.readUshorts(e,n,2*a),n+=2*r.subst.length,r},t.GSUB.readLigatureSet=function(e,n){var i=t._bin,r=n,o=[],s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=i.readUshort(e,n);n+=2,o.push(t.GSUB.readLigature(e,r+l))}return o},t.GSUB.readLigature=function(e,n){var i=t._bin,r={chain:[]};r.nglyph=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;for(var s=0;s<o-1;s++)r.chain.push(i.readUshort(e,n)),n+=2;return r},t.head={},t.head.parse=function(e,n,i){var r=t._bin,o={};return r.readFixed(e,n),n+=4,o.fontRevision=r.readFixed(e,n),n+=4,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4,o.flags=r.readUshort(e,n),n+=2,o.unitsPerEm=r.readUshort(e,n),n+=2,o.created=r.readUint64(e,n),n+=8,o.modified=r.readUint64(e,n),n+=8,o.xMin=r.readShort(e,n),n+=2,o.yMin=r.readShort(e,n),n+=2,o.xMax=r.readShort(e,n),n+=2,o.yMax=r.readShort(e,n),n+=2,o.macStyle=r.readUshort(e,n),n+=2,o.lowestRecPPEM=r.readUshort(e,n),n+=2,o.fontDirectionHint=r.readShort(e,n),n+=2,o.indexToLocFormat=r.readShort(e,n),n+=2,o.glyphDataFormat=r.readShort(e,n),n+=2,o},t.hhea={},t.hhea.parse=function(e,n,i){var r=t._bin,o={};return r.readFixed(e,n),n+=4,o.ascender=r.readShort(e,n),n+=2,o.descender=r.readShort(e,n),n+=2,o.lineGap=r.readShort(e,n),n+=2,o.advanceWidthMax=r.readUshort(e,n),n+=2,o.minLeftSideBearing=r.readShort(e,n),n+=2,o.minRightSideBearing=r.readShort(e,n),n+=2,o.xMaxExtent=r.readShort(e,n),n+=2,o.caretSlopeRise=r.readShort(e,n),n+=2,o.caretSlopeRun=r.readShort(e,n),n+=2,o.caretOffset=r.readShort(e,n),n+=2,n+=8,o.metricDataFormat=r.readShort(e,n),n+=2,o.numberOfHMetrics=r.readUshort(e,n),n+=2,o},t.hmtx={},t.hmtx.parse=function(e,n,i,r){for(var o=t._bin,s={aWidth:[],lsBearing:[]},a=0,l=0,c=0;c<r.maxp.numGlyphs;c++)c<r.hhea.numberOfHMetrics&&(a=o.readUshort(e,n),n+=2,l=o.readShort(e,n),n+=2),s.aWidth.push(a),s.lsBearing.push(l);return s},t.kern={},t.kern.parse=function(e,n,i,r){var o=t._bin,s=o.readUshort(e,n);if(n+=2,1==s)return t.kern.parseV1(e,n-2,i,r);var a=o.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},c=0;c<a;c++){n+=2,i=o.readUshort(e,n),n+=2;var u=o.readUshort(e,n);n+=2;var d=u>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,i,r){var o=t._bin;o.readFixed(e,n),n+=4;var s=o.readUint(e,n);n+=4;for(var a={glyph1:[],rval:[]},l=0;l<s;l++){o.readUint(e,n),n+=4;var c=o.readUshort(e,n);n+=2,o.readUshort(e,n),n+=2;var u=c>>>8;if(0!=(u&=15))throw"unknown kern table format: "+u;n=t.kern.readFormat0(e,n,a)}return a},t.kern.readFormat0=function(e,n,i){var r=t._bin,o=-1,s=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var a=0;a<s;a++){var l=r.readUshort(e,n);n+=2;var c=r.readUshort(e,n);n+=2;var u=r.readShort(e,n);n+=2,l!=o&&(i.glyph1.push(l),i.rval.push({glyph2:[],vals:[]}));var d=i.rval[i.rval.length-1];d.glyph2.push(c),d.vals.push(u),o=l}return n},t.loca={},t.loca.parse=function(e,n,i,r){var o=t._bin,s=[],a=r.head.indexToLocFormat,l=r.maxp.numGlyphs+1;if(0==a)for(var c=0;c<l;c++)s.push(o.readUshort(e,n+(c<<1))<<1);if(1==a)for(c=0;c<l;c++)s.push(o.readUint(e,n+(c<<2)));return s},t.maxp={},t.maxp.parse=function(e,n,i){var r=t._bin,o={},s=r.readUint(e,n);return n+=4,o.numGlyphs=r.readUshort(e,n),n+=2,65536==s&&(o.maxPoints=r.readUshort(e,n),n+=2,o.maxContours=r.readUshort(e,n),n+=2,o.maxCompositePoints=r.readUshort(e,n),n+=2,o.maxCompositeContours=r.readUshort(e,n),n+=2,o.maxZones=r.readUshort(e,n),n+=2,o.maxTwilightPoints=r.readUshort(e,n),n+=2,o.maxStorage=r.readUshort(e,n),n+=2,o.maxFunctionDefs=r.readUshort(e,n),n+=2,o.maxInstructionDefs=r.readUshort(e,n),n+=2,o.maxStackElements=r.readUshort(e,n),n+=2,o.maxSizeOfInstructions=r.readUshort(e,n),n+=2,o.maxComponentElements=r.readUshort(e,n),n+=2,o.maxComponentDepth=r.readUshort(e,n),n+=2),o},t.name={},t.name.parse=function(e,n,i){var r=t._bin,o={};r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2,r.readUshort(e,n);for(var a,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=n+=2,u=0;u<s;u++){var d=r.readUshort(e,n);n+=2;var h=r.readUshort(e,n);n+=2;var p=r.readUshort(e,n);n+=2;var f=r.readUshort(e,n);n+=2;var m=r.readUshort(e,n);n+=2;var g=r.readUshort(e,n);n+=2;var v,y=l[f],E=c+12*s+g;if(0==d)v=r.readUnicode(e,E,m/2);else if(3==d&&0==h)v=r.readUnicode(e,E,m/2);else if(0==h)v=r.readASCII(e,E,m);else if(1==h)v=r.readUnicode(e,E,m/2);else if(3==h)v=r.readUnicode(e,E,m/2);else{if(1!=d)throw"unknown encoding "+h+", platformID: "+d;v=r.readASCII(e,E,m),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var S="p"+d+","+p.toString(16);null==o[S]&&(o[S]={}),o[S][void 0!==y?y:f]=v,o[S]._lang=p}for(var b in o)if(null!=o[b].postScriptName&&1033==o[b]._lang)return o[b];for(var b in o)if(null!=o[b].postScriptName&&0==o[b]._lang)return o[b];for(var b in o)if(null!=o[b].postScriptName&&3084==o[b]._lang)return o[b];for(var b in o)if(null!=o[b].postScriptName)return o[b];for(var b in o){a=b;break}return console.debug("returning name table with languageID "+o[a]._lang),o[a]},t["OS/2"]={},t["OS/2"].parse=function(e,n,i){var r=t._bin.readUshort(e,n);n+=2;var o={};if(0==r)t["OS/2"].version0(e,n,o);else if(1==r)t["OS/2"].version1(e,n,o);else if(2==r||3==r||4==r)t["OS/2"].version2(e,n,o);else{if(5!=r)throw"unknown OS/2 table version: "+r;t["OS/2"].version5(e,n,o)}return o},t["OS/2"].version0=function(e,n,i){var r=t._bin;return i.xAvgCharWidth=r.readShort(e,n),n+=2,i.usWeightClass=r.readUshort(e,n),n+=2,i.usWidthClass=r.readUshort(e,n),n+=2,i.fsType=r.readUshort(e,n),n+=2,i.ySubscriptXSize=r.readShort(e,n),n+=2,i.ySubscriptYSize=r.readShort(e,n),n+=2,i.ySubscriptXOffset=r.readShort(e,n),n+=2,i.ySubscriptYOffset=r.readShort(e,n),n+=2,i.ySuperscriptXSize=r.readShort(e,n),n+=2,i.ySuperscriptYSize=r.readShort(e,n),n+=2,i.ySuperscriptXOffset=r.readShort(e,n),n+=2,i.ySuperscriptYOffset=r.readShort(e,n),n+=2,i.yStrikeoutSize=r.readShort(e,n),n+=2,i.yStrikeoutPosition=r.readShort(e,n),n+=2,i.sFamilyClass=r.readShort(e,n),n+=2,i.panose=r.readBytes(e,n,10),n+=10,i.ulUnicodeRange1=r.readUint(e,n),n+=4,i.ulUnicodeRange2=r.readUint(e,n),n+=4,i.ulUnicodeRange3=r.readUint(e,n),n+=4,i.ulUnicodeRange4=r.readUint(e,n),n+=4,i.achVendID=[r.readInt8(e,n),r.readInt8(e,n+1),r.readInt8(e,n+2),r.readInt8(e,n+3)],n+=4,i.fsSelection=r.readUshort(e,n),n+=2,i.usFirstCharIndex=r.readUshort(e,n),n+=2,i.usLastCharIndex=r.readUshort(e,n),n+=2,i.sTypoAscender=r.readShort(e,n),n+=2,i.sTypoDescender=r.readShort(e,n),n+=2,i.sTypoLineGap=r.readShort(e,n),n+=2,i.usWinAscent=r.readUshort(e,n),n+=2,i.usWinDescent=r.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,i){var r=t._bin;return n=t["OS/2"].version0(e,n,i),i.ulCodePageRange1=r.readUint(e,n),n+=4,i.ulCodePageRange2=r.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,i){var r=t._bin;return n=t["OS/2"].version1(e,n,i),i.sxHeight=r.readShort(e,n),n+=2,i.sCapHeight=r.readShort(e,n),n+=2,i.usDefault=r.readUshort(e,n),n+=2,i.usBreak=r.readUshort(e,n),n+=2,i.usMaxContext=r.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,i){var r=t._bin;return n=t["OS/2"].version2(e,n,i),i.usLowerOpticalPointSize=r.readUshort(e,n),n+=2,i.usUpperOpticalPointSize=r.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,i){var r=t._bin,o={};return o.version=r.readFixed(e,n),n+=4,o.italicAngle=r.readFixed(e,n),n+=4,o.underlinePosition=r.readShort(e,n),n+=2,o.underlineThickness=r.readShort(e,n),n+=2,o},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,i=-1;if(null!=n.p0e4?i=n.p0e4:null!=n.p3e1?i=n.p3e1:null!=n.p1e0?i=n.p1e0:null!=n.p0e3&&(i=n.p0e3),-1==i)throw"no familiar platform and encoding!";var r=n.tables[i];if(0==r.format)return t>=r.map.length?0:r.map[t];if(4==r.format){for(var o=-1,s=0;s<r.endCount.length;s++)if(t<=r.endCount[s]){o=s;break}return-1==o||r.startCount[o]>t?0:65535&(0!=r.idRangeOffset[o]?r.glyphIdArray[t-r.startCount[o]+(r.idRangeOffset[o]>>1)-(r.idRangeOffset.length-o)]:t+r.idDelta[o])}if(12==r.format){if(t>r.groups[r.groups.length-1][1])return 0;for(s=0;s<r.groups.length;s++){var a=r.groups[s];if(a[0]<=t&&t<=a[1])return a[2]+(t-a[0])}return 0}throw"unknown cmap table format "+r.format},t.U.glyphToPath=function(e,n){var i={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var r=e.SVG.entries[n];return null==r?i:("string"==typeof r&&(r=t.SVG.toPath(r),e.SVG.entries[n]=r),r)}if(e.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},s=e.CFF,a=e.CFF.Private;if(s.ROS){for(var l=0;s.FDSelect[l+2]<=n;)l+=2;a=s.FDArray[s.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],o,s,a,i)}else e.glyf&&t.U._drawGlyf(n,e,i);return i},t.U._drawGlyf=function(e,n,i){var r=n.glyf[e];null==r&&(r=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=r&&(r.noc>-1?t.U._simpleGlyph(r,i):t.U._compoGlyph(r,n,i))},t.U._simpleGlyph=function(e,n){for(var i=0;i<e.noc;i++){for(var r=0==i?0:e.endPts[i-1]+1,o=e.endPts[i],s=r;s<=o;s++){var a=s==r?o:s-1,l=s==o?r:s+1,c=1&e.flags[s],u=1&e.flags[a],d=1&e.flags[l],h=e.xs[s],p=e.ys[s];if(s==r)if(c){if(!u){t.U.P.moveTo(n,h,p);continue}t.U.P.moveTo(n,e.xs[a],e.ys[a])}else u?t.U.P.moveTo(n,e.xs[a],e.ys[a]):t.U.P.moveTo(n,(e.xs[a]+h)/2,(e.ys[a]+p)/2);c?u&&t.U.P.lineTo(n,h,p):d?t.U.P.qcurveTo(n,h,p,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,h,p,(h+e.xs[l])/2,(p+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,i){for(var r=0;r<e.parts.length;r++){var o={cmds:[],crds:[]},s=e.parts[r];t.U._drawGlyf(s.glyphIndex,n,o);for(var a=s.m,l=0;l<o.crds.length;l+=2){var c=o.crds[l],u=o.crds[l+1];i.crds.push(c*a.a+u*a.b+a.tx),i.crds.push(c*a.c+u*a.d+a.ty)}for(l=0;l<o.cmds.length;l++)i.cmds.push(o.cmds[l])}},t.U._getGlyphClass=function(e,n){var i=t._lctf.getInterval(n,e);return-1==i?0:n[i+2]},t.U._applySubs=function(e,n,i,r){for(var o=e.length-n-1,s=0;s<i.tabs.length;s++)if(null!=i.tabs[s]){var a,l=i.tabs[s];if(!l.coverage||-1!=(a=t._lctf.coverageIndex(l.coverage,e[n])))if(1==i.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[a];else if(4==i.ltype)for(var c=l.vals[a],u=0;u<c.length;u++){var d=c[u],h=d.chain.length;if(!(h>o)){for(var p=!0,f=0,m=0;m<h;m++){for(;-1==e[n+f+(1+m)];)f++;d.chain[m]!=e[n+f+(1+m)]&&(p=!1)}if(p){for(e[n]=d.nglyph,m=0;m<h+f;m++)e[n+m+1]=-1;break}}}else if(5==i.ltype&&2==l.fmt)for(var g=t._lctf.getInterval(l.cDef,e[n]),v=l.cDef[g+2],y=l.scset[v],E=0;E<y.length;E++){var S=y[E],b=S.input;if(!(b.length>o)){for(p=!0,m=0;m<b.length;m++){var _=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==g&&l.cDef[_+2]!=b[m]){p=!1;break}}if(p){var O=S.substLookupRecords;for(u=0;u<O.length;u+=2)O[u],O[u+1]}}}else if(6==i.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var T=l.lookupRec;for(E=0;E<T.length;E+=2){g=T[E];var A=r[T[E+1]];t.U._applySubs(e,n+g,A,r)}}}},t.U._glsCovered=function(e,n,i){for(var r=0;r<n.length;r++)if(-1==t._lctf.coverageIndex(n[r],e[i+r]))return!1;return!0},t.U.glyphsToPath=function(e,n,i){for(var r={cmds:[],crds:[]},o=0,s=0;s<n.length;s++){var a=n[s];if(-1!=a){for(var l=s<n.length-1&&-1!=n[s+1]?n[s+1]:0,c=t.U.glyphToPath(e,a),u=0;u<c.crds.length;u+=2)r.crds.push(c.crds[u]+o),r.crds.push(c.crds[u+1]);for(i&&r.cmds.push(i),u=0;u<c.cmds.length;u++)r.cmds.push(c.cmds[u]);i&&r.cmds.push("X"),o+=e.hmtx.aWidth[a],s<n.length-1&&(o+=t.U.getPairAdjustment(e,a,l))}}return r},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,i,r,o,s){e.cmds.push("C"),e.crds.push(t,n,i,r,o,s)},t.U.P.qcurveTo=function(e,t,n,i,r){e.cmds.push("Q"),e.crds.push(t,n,i,r)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,i,r,o){for(var s=n.stack,a=n.nStems,l=n.haveWidth,c=n.width,u=n.open,d=0,h=n.x,p=n.y,f=0,m=0,g=0,v=0,y=0,E=0,S=0,b=0,_=0,O=0,T={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,T);var A=T.val;if(d+=T.size,"o1"==A||"o18"==A)s.length%2!=0&&!l&&(c=s.shift()+r.nominalWidthX),a+=s.length>>1,s.length=0,l=!0;else if("o3"==A||"o23"==A)s.length%2!=0&&!l&&(c=s.shift()+r.nominalWidthX),a+=s.length>>1,s.length=0,l=!0;else if("o4"==A)s.length>1&&!l&&(c=s.shift()+r.nominalWidthX,l=!0),u&&t.U.P.closePath(o),p+=s.pop(),t.U.P.moveTo(o,h,p),u=!0;else if("o5"==A)for(;s.length>0;)h+=s.shift(),p+=s.shift(),t.U.P.lineTo(o,h,p);else if("o6"==A||"o7"==A)for(var w=s.length,N="o6"==A,I=0;I<w;I++){var R=s.shift();N?h+=R:p+=R,N=!N,t.U.P.lineTo(o,h,p)}else if("o8"==A||"o24"==A){w=s.length;for(var k=0;k+6<=w;)f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),h=g+s.shift(),p=v+s.shift(),t.U.P.curveTo(o,f,m,g,v,h,p),k+=6;"o24"==A&&(h+=s.shift(),p+=s.shift(),t.U.P.lineTo(o,h,p))}else{if("o11"==A)break;if("o1234"==A||"o1235"==A||"o1236"==A||"o1237"==A)"o1234"==A&&(m=p,g=(f=h+s.shift())+s.shift(),O=v=m+s.shift(),E=v,b=p,h=(S=(y=(_=g+s.shift())+s.shift())+s.shift())+s.shift(),t.U.P.curveTo(o,f,m,g,v,_,O),t.U.P.curveTo(o,y,E,S,b,h,p)),"o1235"==A&&(f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),_=g+s.shift(),O=v+s.shift(),y=_+s.shift(),E=O+s.shift(),S=y+s.shift(),b=E+s.shift(),h=S+s.shift(),p=b+s.shift(),s.shift(),t.U.P.curveTo(o,f,m,g,v,_,O),t.U.P.curveTo(o,y,E,S,b,h,p)),"o1236"==A&&(f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),O=v=m+s.shift(),E=v,S=(y=(_=g+s.shift())+s.shift())+s.shift(),b=E+s.shift(),h=S+s.shift(),t.U.P.curveTo(o,f,m,g,v,_,O),t.U.P.curveTo(o,y,E,S,b,h,p)),"o1237"==A&&(f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),_=g+s.shift(),O=v+s.shift(),y=_+s.shift(),E=O+s.shift(),S=y+s.shift(),b=E+s.shift(),Math.abs(S-h)>Math.abs(b-p)?h=S+s.shift():p=b+s.shift(),t.U.P.curveTo(o,f,m,g,v,_,O),t.U.P.curveTo(o,y,E,S,b,h,p));else if("o14"==A){if(s.length>0&&!l&&(c=s.shift()+i.nominalWidthX,l=!0),4==s.length){var L=s.shift(),P=s.shift(),D=s.shift(),M=s.shift(),C=t.CFF.glyphBySE(i,D),x=t.CFF.glyphBySE(i,M);t.U._drawCFF(i.CharStrings[C],n,i,r,o),n.x=L,n.y=P,t.U._drawCFF(i.CharStrings[x],n,i,r,o)}u&&(t.U.P.closePath(o),u=!1)}else if("o19"==A||"o20"==A)s.length%2!=0&&!l&&(c=s.shift()+r.nominalWidthX),a+=s.length>>1,s.length=0,l=!0,d+=a+7>>3;else if("o21"==A)s.length>2&&!l&&(c=s.shift()+r.nominalWidthX,l=!0),p+=s.pop(),h+=s.pop(),u&&t.U.P.closePath(o),t.U.P.moveTo(o,h,p),u=!0;else if("o22"==A)s.length>1&&!l&&(c=s.shift()+r.nominalWidthX,l=!0),h+=s.pop(),u&&t.U.P.closePath(o),t.U.P.moveTo(o,h,p),u=!0;else if("o25"==A){for(;s.length>6;)h+=s.shift(),p+=s.shift(),t.U.P.lineTo(o,h,p);f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),h=g+s.shift(),p=v+s.shift(),t.U.P.curveTo(o,f,m,g,v,h,p)}else if("o26"==A)for(s.length%2&&(h+=s.shift());s.length>0;)f=h,m=p+s.shift(),h=g=f+s.shift(),p=(v=m+s.shift())+s.shift(),t.U.P.curveTo(o,f,m,g,v,h,p);else if("o27"==A)for(s.length%2&&(p+=s.shift());s.length>0;)m=p,g=(f=h+s.shift())+s.shift(),v=m+s.shift(),h=g+s.shift(),p=v,t.U.P.curveTo(o,f,m,g,v,h,p);else if("o10"==A||"o29"==A){var U="o10"==A?r:i;if(0==s.length)console.debug("error: empty stack");else{var F=s.pop(),H=U.Subrs[F+U.Bias];n.x=h,n.y=p,n.nStems=a,n.haveWidth=l,n.width=c,n.open=u,t.U._drawCFF(H,n,i,r,o),h=n.x,p=n.y,a=n.nStems,l=n.haveWidth,c=n.width,u=n.open}}else if("o30"==A||"o31"==A){var G=s.length,B=(k=0,"o31"==A);for(k+=G-(w=-3&G);k<w;)B?(m=p,g=(f=h+s.shift())+s.shift(),p=(v=m+s.shift())+s.shift(),w-k==5?(h=g+s.shift(),k++):h=g,B=!1):(f=h,m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),h=g+s.shift(),w-k==5?(p=v+s.shift(),k++):p=v,B=!0),t.U.P.curveTo(o,f,m,g,v,h,p),k+=4}else{if("o"==(A+"").charAt(0))throw console.debug("Unknown operation: "+A,e),A;s.push(A)}}}n.x=h,n.y=p,n.nStems=a,n.haveWidth=l,n.width=c,n.open=u};var n=t,i={Typr:n};return e.Typr=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,i=Uint32Array,r=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(e,t){for(var r=new n(31),o=0;o<31;++o)r[o]=t+=1<<e[o-1];var s=new i(r[30]);for(o=1;o<30;++o)for(var a=r[o];a<r[o+1];++a)s[a]=a-r[o]<<5|o;return[r,s]},l=a(r,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var d=a(o,0)[0],h=new n(32768),p=0;p<32768;++p){var f=(43690&p)>>>1|(21845&p)<<1;f=(61680&(f=(52428&f)>>>2|(13107&f)<<2))>>>4|(3855&f)<<4,h[p]=((65280&f)>>>8|(255&f)<<8)>>>1}var m=function(e,t,i){for(var r=e.length,o=0,s=new n(t);o<r;++o)++s[e[o]-1];var a,l=new n(t);for(o=0;o<t;++o)l[o]=l[o-1]+s[o-1]<<1;if(i){a=new n(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var u=o<<4|e[o],d=t-e[o],p=l[e[o]-1]++<<d,f=p|(1<<d)-1;p<=f;++p)a[h[p]>>>c]=u}else for(a=new n(r),o=0;o<r;++o)e[o]&&(a[o]=h[l[e[o]-1]++]>>>15-e[o]);return a},g=new t(288);for(p=0;p<144;++p)g[p]=8;for(p=144;p<256;++p)g[p]=9;for(p=256;p<280;++p)g[p]=7;for(p=280;p<288;++p)g[p]=8;var v=new t(32);for(p=0;p<32;++p)v[p]=5;var y=m(g,9,1),E=m(v,5,1),S=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},b=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&n},_=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},O=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(e,t,n){var i=new Error(t||O[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,T),!n)throw i;return i},A=function(e,a,l){var u=e.length;if(!u||l&&!l.l&&u<5)return a||new t(0);var h=!a||l,p=!l||l.i;l||(l={}),a||(a=new t(3*u));var f,g=function(e){var n=a.length;if(e>n){var i=new t(Math.max(2*n,e));i.set(a),a=i}},v=l.f||0,O=l.p||0,A=l.b||0,w=l.l,N=l.d,I=l.m,R=l.n,k=8*u;do{if(!w){l.f=v=b(e,O,1);var L=b(e,O+1,3);if(O+=3,!L){var P=e[(j=((f=O)/8|0)+(7&f&&1)+4)-4]|e[j-3]<<8,D=j+P;if(D>u){p&&T(0);break}h&&g(A+P),a.set(e.subarray(j,D),A),l.b=A+=P,l.p=O=8*D;continue}if(1==L)w=y,N=E,I=9,R=5;else if(2==L){var M=b(e,O,31)+257,C=b(e,O+10,15)+4,x=M+b(e,O+5,31)+1;O+=14;for(var U=new t(x),F=new t(19),H=0;H<C;++H)F[s[H]]=b(e,O+3*H,7);O+=3*C;var G=S(F),B=(1<<G)-1,V=m(F,G,1);for(H=0;H<x;){var j,W=V[b(e,O,B)];if(O+=15&W,(j=W>>>4)<16)U[H++]=j;else{var z=0,$=0;for(16==j?($=3+b(e,O,3),O+=2,z=U[H-1]):17==j?($=3+b(e,O,7),O+=3):18==j&&($=11+b(e,O,127),O+=7);$--;)U[H++]=z}}var K=U.subarray(0,M),Y=U.subarray(M);I=S(K),R=S(Y),w=m(K,I,1),N=m(Y,R,1)}else T(1);if(O>k){p&&T(0);break}}h&&g(A+131072);for(var q=(1<<I)-1,Q=(1<<R)-1,X=O;;X=O){var J=(z=w[_(e,O)&q])>>>4;if((O+=15&z)>k){p&&T(0);break}if(z||T(2),J<256)a[A++]=J;else{if(256==J){X=O,w=null;break}var Z=J-254;if(J>264){var ee=r[H=J-257];Z=b(e,O,(1<<ee)-1)+c[H],O+=ee}var te=N[_(e,O)&Q],ne=te>>>4;if(te||T(3),O+=15&te,Y=d[ne],ne>3&&(ee=o[ne],Y+=_(e,O)&(1<<ee)-1,O+=ee),O>k){p&&T(0);break}h&&g(A+131072);for(var ie=A+Z;A<ie;A+=4)a[A]=a[A-Y],a[A+1]=a[A+1-Y],a[A+2]=a[A+2-Y],a[A+3]=a[A+3-Y];A=ie}}l.l=w,l.p=X,l.b=A,w&&(v=1,l.m=I,l.d=N,l.n=R)}while(!v);return A==a.length?a:function(e,r,o){(null==r||r<0)&&(r=0),(null==o||o>e.length)&&(o=e.length);var s=new(e instanceof n?n:e instanceof i?i:t)(o-r);return s.set(e.subarray(r,o)),s}(a,0,A)},w=new t(0),N="undefined"!=typeof TextDecoder&&new TextDecoder;try{N.decode(w,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function i(){var e=t.getUint16(n);return n+=2,e}function r(){var e=t.getUint32(n);return n+=4,e}function o(e){v.setUint16(y,e),y+=2}function s(e){v.setUint32(y,e),y+=4}for(var a={signature:r(),flavor:r(),length:r(),numTables:i(),reserved:i(),totalSfntSize:r(),majorVersion:i(),minorVersion:i(),metaOffset:r(),metaLength:r(),metaOrigLength:r(),privOffset:r(),privLength:r()},l=0;Math.pow(2,l)<=a.numTables;)l++;l--;for(var c=16*Math.pow(2,l),u=16*a.numTables-c,d=12,h=[],p=0;p<a.numTables;p++)h.push({tag:r(),offset:r(),compLength:r(),origLength:r(),origChecksum:r()}),d+=16;var f,m=new Uint8Array(12+16*h.length+h.reduce((function(e,t){return e+t.origLength+4}),0)),g=m.buffer,v=new DataView(g),y=0;return s(a.flavor),o(a.numTables),o(c),o(l),o(u),h.forEach((function(e){s(e.tag),s(e.origChecksum),s(d),s(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)})),h.forEach((function(t){var n,i=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var r=new Uint8Array(t.origLength);n=new Uint8Array(i,2),A(n,r)}else r=new Uint8Array(i);m.set(r,t.outOffset);var o=0;(d=t.outOffset+t.origLength)%4!=0&&(o=4-d%4),m.set(new Uint8Array(o).buffer,t.outOffset+t.origLength),f=d+o})),g.slice(0,f)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const n={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let r;function o(e){if(!r){const e={R:2,L:1,D:4,C:16,U:32,T:8};r=new Map;for(let t in i){let n=0;i[t].split(",").forEach((i=>{let[o,s]=i.split("+");o=parseInt(o,36),s=s?parseInt(s,36):0,r.set(n+=o,e[t]);for(let i=s;i--;)r.set(++n,e[t])}))}}return r.get(e)||32}const s=[null,"isol","init","fina","medi"];function a(e){const t=new Uint8Array(e.length);let n=32,i=1,r=-1;for(let s=0;s<e.length;s++){const a=e.codePointAt(s);let l=0|o(a),c=1;8&l||(21&n?22&l?(c=3,1!==i&&3!==i||t[r]++):33&l&&(2!==i&&4!==i||t[r]--):34&n&&(2!==i&&4!==i||t[r]--),i=t[s]=c,n=l,r=s,a>65535&&s++)}return t}function l(t,n){const i=t.GDEF&&t.GDEF.glyphClassDef;return i?e.U._getGlyphClass(n,i):0}function c(...e){for(let t=0;t<e.length;t++)if("number"==typeof e[t])return e[t]}function u(t){const i=Object.create(null),r=t["OS/2"],o=t.hhea,u=t.head.unitsPerEm,d=c(r&&r.sTypoAscender,o&&o.ascender,u),h={unitsPerEm:u,ascender:d,descender:c(r&&r.sTypoDescender,o&&o.descender,0),capHeight:c(r&&r.sCapHeight,d),xHeight:c(r&&r.sxHeight,d),lineGap:c(r&&r.sTypoLineGap,o&&o.lineGap),supportsCodePoint:n=>e.U.codeToGlyph(t,n)>0,forEachGlyph(r,o,c,u){let d=0;const p=1/h.unitsPerEm*o,f=function(t,n){const i=[];for(let r=0;r<n.length;r++){const o=n.codePointAt(r);o>65535&&r++,i.push(e.U.codeToGlyph(t,o))}const r=t.GSUB;if(r){const{lookupList:t,featureList:o}=r;let l;const c=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,u=[];o.forEach((r=>{if(c.test(r.tag))for(let o=0;o<r.tab.length;o++){if(u[r.tab[o]])continue;u[r.tab[o]]=!0;const c=t[r.tab[o]],d=/^(isol|init|fina|medi)$/.test(r.tag);d&&!l&&(l=a(n));for(let n=0;n<i.length;n++)l&&d&&s[l[n]]!==r.tag||e.U._applySubs(i,n,c,t)}}))}return i}(t,r);let m=0;const g=function(t,n){const i=new Int16Array(3*n.length);let r=0;for(;r<n.length;r++){const c=n[r];if(-1===c)continue;i[3*r+2]=t.hmtx.aWidth[c];const u=t.GPOS;if(u){const d=u.lookupList;for(let u=0;u<d.length;u++){const h=d[u];for(let u=0;u<h.tabs.length;u++){const d=h.tabs[u];if(1===h.ltype){if(-1!==e._lctf.coverageIndex(d.coverage,c)&&d.pos){a(d.pos,r);break}}else if(2===h.ltype){let t=null,i=o();if(-1!==i){const o=e._lctf.coverageIndex(d.coverage,n[i]);if(-1!==o){if(1===d.fmt){const e=d.pairsets[o];for(let n=0;n<e.length;n++)e[n].gid2===c&&(t=e[n])}else if(2===d.fmt){const r=e.U._getGlyphClass(n[i],d.classDef1),o=e.U._getGlyphClass(c,d.classDef2);t=d.matrix[r][o]}if(t){t.val1&&a(t.val1,i),t.val2&&a(t.val2,r);break}}}}else if(4===h.ltype){const t=e._lctf.coverageIndex(d.markCoverage,c);if(-1!==t){const a=o(s),l=-1===a?-1:e._lctf.coverageIndex(d.baseCoverage,n[a]);if(-1!==l){const e=d.markArray[t],n=d.baseArray[l][e.markClass];i[3*r]=n.x-e.x+i[3*a]-i[3*a+2],i[3*r+1]=n.y-e.y+i[3*a+1];break}}}else if(6===h.ltype){const s=e._lctf.coverageIndex(d.mark1Coverage,c);if(-1!==s){const a=o();if(-1!==a){const o=n[a];if(3===l(t,o)){const t=e._lctf.coverageIndex(d.mark2Coverage,o);if(-1!==t){const e=d.mark1Array[s],n=d.mark2Array[t][e.markClass];i[3*r]=n.x-e.x+i[3*a]-i[3*a+2],i[3*r+1]=n.y-e.y+i[3*a+1];break}}}}}}}}else if(t.kern&&!t.cff){const e=o();if(-1!==e){const r=t.kern.glyph1.indexOf(n[e]);if(-1!==r){const n=t.kern.rval[r].glyph2.indexOf(c);-1!==n&&(i[3*e+2]+=t.kern.rval[r].vals[n])}}}}return i;function o(e){for(let t=r-1;t>=0;t--)if(-1!==n[t]&&(!e||e(n[t])))return t;return-1}function s(e){return 1===l(t,e)}function a(e,t){for(let n=0;n<3;n++)i[3*t+n]+=e[n]||0}}(t,f);return f.forEach(((s,a)=>{if(-1!==s){let r=i[s];if(!r){const{cmds:o,crds:a}=e.U.glyphToPath(t,s);let l,c,u,d,h="",p=0;for(let e=0,t=o.length;e<t;e++){const t=n[o[e]];h+=o[e];for(let e=1;e<=t;e++)h+=(e>1?",":"")+a[p++]}if(a.length){l=c=1/0,u=d=-1/0;for(let e=0,t=a.length;e<t;e+=2){let t=a[e],n=a[e+1];t<l&&(l=t),n<c&&(c=n),t>u&&(u=t),n>d&&(d=n)}}else l=u=c=d=0;r=i[s]={index:s,advanceWidth:t.hmtx.aWidth[s],xMin:l,yMin:c,xMax:u,yMax:d,path:h}}u.call(null,r,d+g[3*a]*p,g[3*a+1]*p,m),d+=g[3*a+2]*p,c&&(d+=c*o)}m+=r.codePointAt(m)>65535?2:1})),d}};return h}return function(n){const i=new Uint8Array(n,0,4),r=e._bin.readASCII(i,0,4);if("wOFF"===r)n=t(n);else if("wOF2"===r)throw new Error("woff2 fonts not supported");return u(e.parse(n)[0])}}],init:(e,t,n)=>n(e(),t())});const E=h({name:"FontResolver",dependencies:[function(e,t){const n=Object.create(null),i=Object.create(null);function r(t,r){let o=n[t];o?r(o):i[t]?i[t].push(r):(i[t]=[r],function(t,n){const i=e=>{console.error(`Failure loading font ${t}`,e)};try{const r=new XMLHttpRequest;r.open("get",t,!0),r.responseType="arraybuffer",r.onload=function(){if(r.status>=400)i(new Error(r.statusText));else if(r.status>0)try{const i=e(r.response);i.src=t,n(i)}catch(e){i(e)}},r.onerror=i,r.send()}catch(e){i(e)}}(t,(e=>{e.src=t,n[t]=e,i[t].forEach((t=>t(e))),delete i[t]})))}return function(e,i,{lang:o,fonts:s=[],style:a="normal",weight:l="normal",unicodeFontsURL:c}={}){const u=new Uint8Array(e.length),d=[];e.length||m();const h=new Map,p=[];if("italic"!==a&&(a="normal"),"number"!=typeof l&&(l="bold"===l?700:400),s&&!Array.isArray(s)&&(s=[s]),(s=s.slice().filter((e=>!e.lang||e.lang.test(o))).reverse()).length){const t=1,i=2;let o=0;!function a(l=0){for(let c=l,f=e.length;c<f;c++){const l=e.codePointAt(c);if(o===t&&d[u[c-1]].supportsCodePoint(l)||c>0&&/\s/.test(e[c]))u[c]=u[c-1],o===i&&(p[p.length-1][1]=c);else for(let e=u[c],f=s.length;e<=f;e++)if(e===f){(o===i?p[p.length-1]:p[p.length]=[c,c])[1]=c,o=i}else{u[c]=e;const{src:i,unicodeRange:p}=s[e];if(!p||g(l,p)){const e=n[i];if(!e)return void r(i,(()=>{a(c)}));if(e.supportsCodePoint(l)){let n=h.get(e);"number"!=typeof n&&(n=d.length,d.push(e),h.set(e,n)),u[c]=n,o=t;break}}}l>65535&&c+1<f&&(u[c+1]=u[c],c++,o===i&&(p[p.length-1][1]=c))}f()}()}else p.push([0,e.length-1]),f();function f(){if(p.length){const n=p.map((t=>e.substring(t[0],t[1]+1))).join("\n");t.getFontsForString(n,{lang:o||void 0,style:a,weight:l,dataUrl:c}).then((({fontUrls:e,chars:t})=>{const n=d.length;let i=0;p.forEach((e=>{for(let r=0,o=e[1]-e[0];r<=o;r++)u[e[0]+r]=t[i++]+n;i++}));let o=0;e.forEach(((t,i)=>{r(t,(t=>{d[i+n]=t,++o===e.length&&m()}))}))}))}else m()}function m(){i({chars:u,fonts:d})}function g(e,t){for(let n=0;n<t.length;n++){const[i,r=i]=t[n];if(i<=e&&e<=r)return!0}return!1}}},y,function(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&!!(t&1<<(31&e))},t.prototype.serialize=function(){var e=[];return this.buckets.forEach((function(t,n){e.push((+n).toString(36)+":"+t.toString(36))})),e.join(",")},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach((function(e){var n=e.split(":");t.buckets.set(parseInt(n[0],36),parseInt(n[1],36))}))};var n=Math.pow(2,8),i=n-1,r=~i;function o(e){var t=function(e){return e&r}(e).toString(16),i=function(e){return(e&r)+n-1}(e).toString(16);return"codepoint-index/plane"+(e>>16)+"/"+t+"-"+i+".json"}function s(e,t){var n=e&i,r=t.codePointAt(n/6|0);return!!((r=(r||48)-48)&1<<n%6)}function a(e,t){!function(e,t){var n;(n=e,n.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(e){return e.split("-").map((function(e){return parseInt(e.trim(),16)}))}))).forEach((function(e){var n=e[0],i=e[1];void 0===i&&(i=n),t(n,i)}))}(e,(function(e,n){for(var i=e;i<=n;i++)t(i)}))}var l={},c={},u=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(e){var n=u.get(e);return n||(n=new t,a(e.ranges,(function(e){return n.add(e)})),u.set(e,n)),n}var p,f=new Map;function m(e,t,n){return e[t]?t:e[n]?n:function(e){for(var t in e)return t}(e)}function g(e,t){var n=t;if(!e.includes(n)){n=1/0;for(var i=0;i<e.length;i++)Math.abs(e[i]-t)<Math.abs(n-t)&&(n=e[i])}return n}function v(e){return p||(p=new Set,a("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(e){p.add(e)}))),p.has(e)}return e.CodePointSet=t,e.clearCache=function(){l={},c={}},e.getFontsForString=function(e,t){void 0===t&&(t={});var n,i=t.lang;void 0===i&&(i=/\p{Script=Hangul}/u.test(n=e)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(n)?"ja":"en");var r=t.category;void 0===r&&(r="sans-serif");var a=t.style;void 0===a&&(a="normal");var u=t.weight;void 0===u&&(u=400);var p=(t.dataUrl||d).replace(/\/$/g,""),y=new Map,E=new Uint8Array(e.length),S={},b={},_=new Array(e.length),O=new Map,T=!1;function A(e){var t=f.get(e);return t||(t=fetch(p+"/"+e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json().then((function(e){if(!Array.isArray(e)||1!==e[0])throw new Error("Incorrect schema version; need 1, got "+e[0]);return e[1]}))})).catch((function(t){if(p!==d)return T||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+p+'", trying default CDN. '+t.message),T=!0),p=d,f.delete(e),A(e);throw t})),f.set(e,t)),t}for(var w=function(t){var n=e.codePointAt(t),i=o(n);_[t]=i,l[i]||O.has(i)||O.set(i,A(i).then((function(e){l[i]=e}))),n>65535&&(t++,N=t)},N=0;N<e.length;N++)w(N);return Promise.all(O.values()).then((function(){O.clear();for(var t=function(t){var r=e.codePointAt(t),o=null,a=l[_[t]],u=void 0;for(var d in a){var h=b[d];if(void 0===h&&(h=b[d]=new RegExp(d).test(i||"en")),h){for(var p in u=d,a[d])if(s(r,a[d][p])){o=p;break}break}}if(!o)e:for(var f in a)if(f!==u)for(var m in a[f])if(s(r,a[f][m])){o=m;break e}o||(console.debug("No font coverage for U+"+r.toString(16)),o="latin"),_[t]=o,c[o]||O.has(o)||O.set(o,A("font-meta/"+o+".json").then((function(e){c[o]=e}))),r>65535&&(t++,n=t)},n=0;n<e.length;n++)t(n);return Promise.all(O.values())})).then((function(){for(var t,n=null,i=0;i<e.length;i++){var o=e.codePointAt(i);if(n&&(v(o)||h(n).has(o)))E[i]=E[i-1];else{n=c[_[i]];var s=S[n.id];if(!s){var l=n.typeforms,d=m(l,r,"sans-serif"),f=m(l[d],a,"normal"),b=g(null===(t=l[d])||void 0===t?void 0:t[f],u);s=S[n.id]=p+"/font-files/"+n.id+"/"+d+"."+f+"."+b+".woff"}var O=y.get(s);null==O&&(O=y.size,y.set(s,O)),E[i]=O}o>65535&&(i++,E[i]=E[i-1])}return{fontUrls:Array.from(y.keys()),chars:E}}))},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,n)=>e(t,n())});const S=()=>(self.performance||Date).now(),b=m();let _;const O=[];let T=0;function A(){const e=S();for(;O.length&&S()-e<5;)O.shift()();T=O.length?setTimeout(A,0):0}const w=(...e)=>new Promise(((t,n)=>{O.push((()=>{const i=S();try{b.webgl.generateIntoCanvas(...e),t({timing:S()-i})}catch(e){n(e)}})),T||(T=setTimeout(A,0))})),N=4,I=2e3,R={};let k=0;function L(e,t,n,i,r,o,s,a,l,d){const p="TroikaTextSDFGenerator_JS_"+k++%N;let f=R[p];return f||(f=R[p]={workerModule:h({name:p,workerId:p,dependencies:[m,S],init(e,t){const n=e().javascript.generate;return function(...e){const i=t();return{textureData:n(...e),timing:t()-i}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(e,t,n,i,r,o).then((({textureData:n,timing:i})=>{const r=S(),o=new Uint8Array(4*n.length);for(let e=0;e<n.length;e++)o[4*e+d]=n[e];return b.webglUtils.renderImageData(s,o,a,l,e,t,1<<3-d),i+=S()-r,0==--f.requests&&(f.idleTimer=setTimeout((()=>{!function(e){u[e]&&u[e].forEach((function(e){e()})),c[e]&&(c[e].terminate(),delete c[e])}(p)}),I)),{timing:i}}))}const P=b.webglUtils.resizeWebGLCanvasWithoutClearing,D={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},M=new i.Color;let C=!1;function x(){return(self.performance||Date).now()}function U(e){C?console.warn("configureTextBuilder called after first font request; will be ignored."):V(D,e)}const F=Object.create(null);function H(e,t){C=!0,e=V({},e);const n=x(),{defaultFontURL:r}=D,o=[];if(r&&o.push({label:"default",src:W(r)}),e.font&&o.push({label:"user",src:W(e.font)}),e.font=o,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||D.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||D.unicodeFontsURL,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let i=e.colorRanges[n];"number"!=typeof i&&(i=M.set(i).getHex()),t[n]=i}e.colorRanges=t}Object.freeze(e);const{textureWidth:s,sdfExponent:a}=D,{sdfGlyphSize:l}=e,c=s/l*4;let u=F[l];if(!u){const e=document.createElement("canvas");e.width=s,e.height=256*l/c,u=F[l]={glyphCount:0,sdfGlyphSize:l,sdfCanvas:e,sdfTexture:new i.Texture(e,void 0,void 0,void 0,i.LinearFilter,i.LinearFilter),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,function(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",(t=>{console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(t=>{console.log("Context Restored",t),e.contextLost=!1;const n=[];e.glyphsByFont.forEach((t=>{t.forEach((t=>{n.push(G(t,e,!0))}))})),Promise.all(n).then((()=>{z(e),e.sdfTexture.needsUpdate=!0}))}))}(u)}const{sdfTexture:d,sdfCanvas:h}=u;(D.useWorker?K:Y)(e).then((i=>{const{glyphIds:r,glyphFontIndices:o,fontData:p,glyphPositions:f,fontSize:m,timings:g}=i,v=[],y=new Float32Array(4*r.length);let E=0,S=0;const b=x(),_=p.map((e=>{let t=u.glyphsByFont.get(e.src);return t||u.glyphsByFont.set(e.src,t=new Map),t}));r.forEach(((e,t)=>{const n=o[t],{src:s,unitsPerEm:a}=p[n];let c=_[n].get(e);if(!c){const{path:t,pathBounds:r}=i.glyphData[s][e],o=Math.max(r[2]-r[0],r[3]-r[1])/l*(D.sdfMargin*l+.5),a=u.glyphCount++,d=[r[0]-o,r[1]-o,r[2]+o,r[3]+o];_[n].set(e,c={path:t,atlasIndex:a,sdfViewBox:d}),v.push(c)}const{sdfViewBox:d}=c,h=f[S++],g=f[S++],b=m/a;y[E++]=h+d[0]*b,y[E++]=g+d[1]*b,y[E++]=h+d[2]*b,y[E++]=g+d[3]*b,r[t]=c.atlasIndex})),g.quads=(g.quads||0)+(x()-b);const O=x();g.sdf={};const T=h.height,A=Math.ceil(u.glyphCount/c),w=Math.pow(2,Math.ceil(Math.log2(A*l)));w>T&&(console.info(`Increasing SDF texture size ${T}->${w}`),P(h,s,w),d.dispose()),Promise.all(v.map((t=>G(t,u,e.gpuAccelerateSDF).then((({timing:e})=>{g.sdf[t.atlasIndex]=e}))))).then((()=>{v.length&&!u.contextLost&&(z(u),d.needsUpdate=!0),g.sdfTotal=x()-O,g.total=x()-n,t(Object.freeze({parameters:e,sdfTexture:d,sdfGlyphSize:l,sdfExponent:a,glyphBounds:y,glyphAtlasIndices:r,glyphColors:i.glyphColors,caretPositions:i.caretPositions,chunkedBounds:i.chunkedBounds,ascender:i.ascender,descender:i.descender,lineHeight:i.lineHeight,capHeight:i.capHeight,xHeight:i.xHeight,topBaseline:i.topBaseline,blockBounds:i.blockBounds,visibleBounds:i.visibleBounds,timings:i.timings}))}))})),Promise.resolve().then((()=>{var e;u.contextLost||(e=h)._warm||(b.webgl.isSupported(e),e._warm=!0)}))}function G({path:e,atlasIndex:t,sdfViewBox:n},{sdfGlyphSize:i,sdfCanvas:r,contextLost:o},s){if(o)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=D,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(t/4);return function(e,t,n,i,r,o,s,a,l,c,u=!0){return u?w(e,t,n,i,r,o,s,a,l,c).then(null,(u=>(_||(console.warn("WebGL SDF generation failed, falling back to JS",u),_=!0),L(e,t,n,i,r,o,s,a,l,c)))):L(e,t,n,i,r,o,s,a,l,c)}(i,i,e,n,c,l,r,u%(a/i)*i,Math.floor(u/(a/i))*i,t%4,s)}function B({font:e,characters:t,sdfGlyphSize:n},i){H({font:e,sdfGlyphSize:n,text:Array.isArray(t)?t.join("\n"):""+t},i)}function V(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}let j;function W(e){return j||(j="undefined"==typeof document?{}:document.createElement("a")),j.href=e,j.href}function z(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:n}=e,{width:i,height:r}=t,o=e.sdfCanvas.getContext("webgl");let s=n.image.data;s&&s.length===i*r*4||(s=new Uint8Array(i*r*4),n.image={width:i,height:r,data:s},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,i,r,o.RGBA,o.UNSIGNED_BYTE,s)}}const $=h({name:"Typesetter",dependencies:[function(e,t){const n=1/0,i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",o=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:s="",font:d,lang:h,sdfGlyphSize:p=64,fontSize:f=400,fontWeight:m=1,fontStyle:g="normal",letterSpacing:v=0,lineHeight:y="normal",maxWidth:E=n,direction:S,textAlign:b="left",textIndent:_=0,whiteSpace:O="normal",overflowWrap:T="normal",anchorX:A=0,anchorY:w=0,metricsOnly:N=!1,unicodeFontsURL:I,preResolvedFonts:R=null,includeCaretPositions:k=!1,chunkedBoundsSize:L=8192,colorRanges:P=null},D){const M=c(),C={fontLoad:0,typesetting:0};s.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),f=+f,v=+v,E=+E,y=y||"normal",_=+_,function({text:t,lang:n,fonts:i,style:r,weight:o,preResolvedFonts:s,unicodeFontsURL:a},l){const c=({chars:e,fonts:t})=>{let n,i;const r=[];for(let o=0;o<e.length;o++)e[o]!==i?(i=e[o],r.push(n={start:o,end:o,fontObj:t[e[o]]})):n.end=o;l(r)};s?c(s):e(t,c,{lang:n,fonts:i,style:r,weight:o,unicodeFontsURL:a})}({text:s,lang:h,style:g,weight:m,fonts:"string"==typeof d?[{src:d}]:d,unicodeFontsURL:I,preResolvedFonts:R},(e=>{C.fontLoad=c()-M;const d=isFinite(E);let h=null,p=null,m=null,g=null,I=null,R=null,x=null,U=null,F=0,H=0,G="nowrap"!==O;const B=new Map,V=c();let j=_,W=0,z=new u;const $=[z];e.forEach((e=>{const{fontObj:t}=e,{ascender:n,descender:a,unitsPerEm:l,lineGap:c,capHeight:h,xHeight:p}=t;let m=B.get(t);if(!m){const e=f/l,i="normal"===y?(n-a+c)*e:y*f,r=(i-(n-a)*e)/2,o=Math.min(i,(n-a)*e),s=(n+a)/2*e+o/2;m={index:B.size,src:t.src,fontObj:t,fontSizeMult:e,unitsPerEm:l,ascender:n*e,descender:a*e,capHeight:h*e,xHeight:p*e,lineHeight:i,baseline:-r-n*e,caretTop:s,caretBottom:s-o},B.set(t,m)}const{fontSizeMult:g}=m,S=s.slice(e.start,e.end+1);let b,O;t.forEachGlyph(S,f,v,((t,n,a,l)=>{n+=W,l+=e.start,b=n,O=t;const c=s.charAt(l),h=t.advanceWidth*g,p=z.count;let y;if("isEmpty"in t||(t.isWhitespace=!!c&&new RegExp(r).test(c),t.canBreakAfter=!!c&&o.test(c),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||i.test(c)),t.isWhitespace||t.isEmpty||H++,G&&d&&!t.isWhitespace&&n+h+j>E&&p){if(z.glyphAt(p-1).glyphObj.canBreakAfter)y=new u,j=-n;else for(let e=p;e--;){if(0===e&&"break-word"===T){y=new u,j=-n;break}if(z.glyphAt(e).glyphObj.canBreakAfter){y=z.splitAt(e+1);const t=y.glyphAt(0).x;j-=t;for(let e=y.count;e--;)y.glyphAt(e).x-=t;break}}y&&(z.isSoftWrapped=!0,z=y,$.push(z),F=E)}let S=z.glyphAt(z.count);S.glyphObj=t,S.x=n+j,S.y=a,S.width=h,S.charIndex=l,S.fontData=m,"\n"===c&&(z=new u,$.push(z),j=-(n+h+v*f)+_)})),W=b+O.advanceWidth*g+v*f}));let K=0;$.forEach((e=>{let t=!0;for(let n=e.count;n--;){const i=e.glyphAt(n);t&&!i.glyphObj.isWhitespace&&(e.width=i.x+i.width,e.width>F&&(F=e.width),t=!1);let{lineHeight:r,capHeight:o,xHeight:s,baseline:a}=i.fontData;r>e.lineHeight&&(e.lineHeight=r);const l=a-e.baseline;l<0&&(e.baseline+=l,e.cap+=l,e.ex+=l),e.cap=Math.max(e.cap,e.baseline+o),e.ex=Math.max(e.ex,e.baseline+s)}e.baseline-=K,e.cap-=K,e.ex-=K,K+=e.lineHeight}));let Y=0,q=0;if(A&&("number"==typeof A?Y=-A:"string"==typeof A&&(Y=-F*("left"===A?0:"center"===A?.5:"right"===A?1:a(A)))),w&&("number"==typeof w?q=-w:"string"==typeof w&&(q="top"===w?0:"top-baseline"===w?-$[0].baseline:"top-cap"===w?-$[0].cap:"top-ex"===w?-$[0].ex:"middle"===w?K/2:"bottom"===w?K:"bottom-baseline"===w?-$[$.length-1].baseline:a(w)*K)),!N){const e=t.getEmbeddingLevels(s,S);h=new Uint16Array(H),p=new Uint8Array(H),m=new Float32Array(2*H),g={},x=[n,n,-1/0,-1/0],U=[],k&&(R=new Float32Array(4*s.length)),P&&(I=new Uint8Array(3*H));let i,r,o=0,a=-1,c=-1;if($.forEach(((u,d)=>{let{count:f,width:v}=u;if(f>0){let d=0;for(let e=f;e--&&u.glyphAt(e).glyphObj.isWhitespace;)d++;let y=0,E=0;if("center"===b)y=(F-v)/2;else if("right"===b)y=F-v;else if("justify"===b&&u.isSoftWrapped){let e=0;for(let t=f-d;t--;)u.glyphAt(t).glyphObj.isWhitespace&&e++;E=(F-v)/e}if(E||y){let e=0;for(let t=0;t<f;t++){let n=u.glyphAt(t);const i=n.glyphObj;n.x+=y+e,0!==E&&i.isWhitespace&&t<f-d&&(e+=E,n.width+=E)}}const S=t.getReorderSegments(s,e,u.glyphAt(0).charIndex,u.glyphAt(u.count-1).charIndex);for(let e=0;e<S.length;e++){const[t,n]=S[e];let i=1/0,r=-1/0;for(let e=0;e<f;e++)if(u.glyphAt(e).charIndex>=t){let t=e,o=e;for(;o<f;o++){let e=u.glyphAt(o);if(e.charIndex>n)break;o<f-d&&(i=Math.min(i,e.x),r=Math.max(r,e.x+e.width))}for(let e=t;e<o;e++){const t=u.glyphAt(e);t.x=r-(t.x+t.width-i)}break}}let _;const O=e=>_=e;for(let d=0;d<f;d++){const f=u.glyphAt(d);_=f.glyphObj;const v=_.index,y=1&e.levels[f.charIndex];if(y){const e=t.getMirroredCharacter(s[f.charIndex]);e&&f.fontData.fontObj.forEachGlyph(e,0,0,O)}if(k){const{charIndex:e,fontData:t}=f,n=f.x+Y,i=f.x+f.width+Y;R[4*e]=y?i:n,R[4*e+1]=y?n:i,R[4*e+2]=u.baseline+t.caretBottom+q,R[4*e+3]=u.baseline+t.caretTop+q;const r=e-a;r>1&&l(R,a,r),a=e}if(P){const{charIndex:e}=f;for(;e>c;)c++,P.hasOwnProperty(c)&&(r=P[c])}if(!_.isWhitespace&&!_.isEmpty){const e=o++,{fontSizeMult:t,src:s,index:a}=f.fontData,l=g[s]||(g[s]={});l[v]||(l[v]={path:_.path,pathBounds:[_.xMin,_.yMin,_.xMax,_.yMax]});const c=f.x+Y,d=f.y+u.baseline+q;m[2*e]=c,m[2*e+1]=d;const y=c+_.xMin*t,E=d+_.yMin*t,S=c+_.xMax*t,b=d+_.yMax*t;y<x[0]&&(x[0]=y),E<x[1]&&(x[1]=E),S>x[2]&&(x[2]=S),b>x[3]&&(x[3]=b),e%L==0&&(i={start:e,end:e,rect:[n,n,-1/0,-1/0]},U.push(i)),i.end++;const O=i.rect;if(y<O[0]&&(O[0]=y),E<O[1]&&(O[1]=E),S>O[2]&&(O[2]=S),b>O[3]&&(O[3]=b),h[e]=v,p[e]=a,P){const t=3*e;I[t]=r>>16&255,I[t+1]=r>>8&255,I[t+2]=255&r}}}}})),R){const e=s.length-a;e>1&&l(R,a,e)}}const Q=[];B.forEach((({index:e,src:t,unitsPerEm:n,ascender:i,descender:r,lineHeight:o,capHeight:s,xHeight:a})=>{Q[e]={src:t,unitsPerEm:n,ascender:i,descender:r,lineHeight:o,capHeight:s,xHeight:a}})),C.typesetting=c()-V,D({glyphIds:h,glyphFontIndices:p,glyphPositions:m,glyphData:g,fontData:Q,caretPositions:R,glyphColors:I,chunkedBounds:U,fontSize:f,topBaseline:q+$[0].baseline,blockBounds:[Y,q-K,Y+F,q],visibleBounds:x,timings:C})}))}function a(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function l(e,t,n){const i=e[4*t],r=e[4*t+1],o=e[4*t+2],s=e[4*t+3],a=(r-i)/n;for(let r=0;r<n;r++){const n=4*(t+r);e[n]=i+a*r,e[n+1]=i+a*(r+1),e[n+2]=o,e[n+3]=s}}function c(){return(self.performance||Date).now()}function u(){this.data=[]}const d=["glyphObj","x","y","width","charIndex","fontData"];return u.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/d.length)},glyphAt(e){let t=u.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new u;return t.data=this.data.splice(e*d.length),t}},u.flyweight=d.reduce(((e,t,n,i)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*d.length+n]},set(e){this.data[this.index*d.length+n]=e}}),e)),{data:null,index:0}),{typeset:s,measure:function(e,t){s({...e,metricsOnly:!0},(e=>{const[n,i,r,o]=e.blockBounds;t({width:r-n,height:o-i})}))}}},E,g],init:(e,t,n)=>e(t,n())}),K=h({name:"Typesetter",dependencies:[$],init:e=>function(t){return new Promise((n=>{e.typeset(t,n)}))},getTransferables(e){const t=[];for(let n in e)e[n]&&e[n].buffer&&t.push(e[n].buffer);return t}}),Y=K.onMainThread;const q={};const Q="aTroikaGlyphBounds",X="aTroikaGlyphIndex";class J extends i.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new i.Sphere,this.boundingBox=new i.Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,("number"!=typeof e||e<1)&&(e=1);let t=function(e){let t=q[e];return t||(t=q[e]=new i.PlaneGeometry(1,1,e,e).translate(.5,.5,0)),t}(e);["position","normal","uv"].forEach((e=>{this.attributes[e]=t.attributes[e].clone()})),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,i,r){this.updateAttributeData(Q,e,4),this.updateAttributeData(X,t,1),this.updateAttributeData("aTroikaGlyphColor",r,3),this._blockBounds=n,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:i,floor:r,min:o,max:s,sin:a,cos:l}=Math,c=i/2,u=2*i,d=Math.abs(t),h=e[0]/d,p=e[2]/d,f=r((h+c)/u)!==r((p+c)/u)?-d:o(a(h)*d,a(p)*d),m=r((h-c)/u)!==r((p-c)/u)?d:s(a(h)*d,a(p)*d),g=r((h+i)/u)!==r((p+i)/u)?2*d:s(d-l(h)*d,d-l(p)*d);n.min.set(f,e[1],t<0?-g:0),n.max.set(m,e[3],t<0?0:g)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(X).count,n=this._chunkedBounds;if(n)for(let i=n.length;i--;){t=n[i].end;let r=n[i].rect;if(r[1]<e.w&&r[3]>e.y&&r[0]<e.z&&r[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new i.InstancedBufferAttribute(t,n)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}function Z(e){const t=(0,v.Fh)(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new i.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new i.Vector4(0,0,0,0)},uTroikaClipRect:{value:new i.Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new i.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new i.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new i.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(v.Do,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const ee=new i.MeshBasicMaterial({color:16777215,side:i.DoubleSide,transparent:!0}),te=8421504,ne=new i.Matrix4,ie=new i.Vector3,re=new i.Vector3,oe=[],se=new i.Vector3,ae="+x+y";function le(e){return Array.isArray(e)?e[0]:e}let ce=()=>{const e=new i.Mesh(new i.PlaneGeometry(1,1),ee);return ce=()=>e,e},ue=()=>{const e=new i.Mesh(new i.PlaneGeometry(1,1,32,1),ee);return ue=()=>e,e};const de={type:"syncstart"},he={type:"synccomplete"},pe=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],fe=pe.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class me extends i.Mesh{constructor(){super(new J,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=te,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=ae,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(de),H({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},(t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync((()=>{n.forEach((e=>e&&e()))}))),this.dispatchEvent(he),e&&e()}))))}onBeforeRender(e,t,n,i,r,o){this.sync(),r.isTroikaTextMaterial&&this._prepareForRender(r)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Z(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ee.clone());if(e&&e.isDerivedFrom(t)||(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),this.hasOutline()){let t=e._outlineMtl;return t||(t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",(function n(){e.removeEventListener("dispose",n),t.dispose()}))),[t,e]}return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return le(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return le(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,n=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:e,blockBounds:i}=r;n.uTroikaSDFTexture.value=e,n.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),n.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,n.uTroikaSDFExponent.value=r.sdfExponent,n.uTroikaTotalBounds.value.fromArray(i),n.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let o,s,a,l=0,c=0,u=0,d=0,h=0;if(t){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:n,outlineBlur:i,outlineOpacity:r}=this;l=this._parsePercent(e)||0,c=Math.max(0,this._parsePercent(i)||0),o=r,d=this._parsePercent(t)||0,h=this._parsePercent(n)||0}else u=Math.max(0,this._parsePercent(this.strokeWidth)||0),u&&(a=this.strokeColor,n.uTroikaStrokeColor.value.set(null==a?te:a),s=this.strokeOpacity,null==s&&(s=1)),o=this.fillOpacity;n.uTroikaEdgeOffset.value=l,n.uTroikaPositionOffset.value.set(d,h),n.uTroikaBlurRadius.value=c,n.uTroikaStrokeWidth.value=u,n.uTroikaStrokeOpacity.value=s,n.uTroikaFillOpacity.value=null==o?1:o,n.uTroikaCurveRadius.value=this.curveRadius||0;let p=this.clipRect;if(p&&Array.isArray(p)&&4===p.length)n.uTroikaClipRect.value.fromArray(p);else{const e=100*(this.fontSize||.1);n.uTroikaClipRect.value.set(i[0]-e,i[1]-e,i[2]+e,i[3]+e)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=t?this.outlineColor||0:this.color;if(null==o)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new i.Color;o===t._input&&"object"!=typeof o||t.set(t._input=o)}let s=this.orientation||ae;if(s!==e._orientation){let t=n.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let i=s!==ae&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(i){let[,e,n,r,o]=i;ie.set(0,0,0)[n]="-"===e?1:-1,re.set(0,0,0)[o]="-"===r?-1:1,ne.lookAt(se,ie.cross(re),re),t.setFromMatrix4(ne)}else t.identity();e._orientation=s}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new i.Vector2){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new i.Vector2){return ie.copy(e),this.localPositionToTextCoords(this.worldToLocal(ie),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:i}=this;if(n){const r=n.blockBounds,o=i?ue():ce(),s=o.geometry,{position:a,uv:l}=s.attributes;for(let e=0;e<l.count;e++){let t=r[0]+l.getX(e)*(r[2]-r[0]);const n=r[1]+l.getY(e)*(r[3]-r[1]);let o=0;i&&(o=i-Math.cos(t/i)*i,t=Math.sin(t/i)*i),a.setXYZ(e,t,n,o)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,oe.length=0,o.raycast(e,oe);for(let e=0;e<oe.length;e++)oe[e].object=this,t.push(oe[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,fe.forEach((t=>{this[t]=e[t]})),this}clone(){return(new this.constructor).copy(this)}}pe.forEach((e=>{const t="_private_"+e;Object.defineProperty(me.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));new i.Box3,new i.Color;new WeakMap;new WeakMap},60713:(e,t,n)=>{"use strict";n.d(t,{Do:()=>r,Fh:()=>h});var i=n(68909);const r=/\bvoid\s+main\s*\(\s*\)\s*{/g;function o(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let n=i.ShaderChunk[t];return n?o(n):e}))}const s=[];for(let e=0;e<256;e++)s[e]=(e<16?"0":"")+e.toString(16);const a=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},l=Date.now(),c=new WeakMap,u=new Map;let d=1e10;function h(e,t){const n=function(e){const t=JSON.stringify(e,f);let n=g.get(t);null==n&&g.set(t,n=++m);return n}(t);let r=c.get(e);if(r||c.set(e,r=Object.create(null)),r[n])return new r[n];const v=`_onBeforeCompile${n}`,y=function(i,r){e.onBeforeCompile.call(this,i,r);const s=this.customProgramCacheKey()+"|"+i.vertexShader+"|"+i.fragmentShader;let c=u[s];if(!c){const e=function(e,{vertexShader:t,fragmentShader:n},i,r){let{vertexDefs:s,vertexMainIntro:a,vertexMainOutro:l,vertexTransform:c,fragmentDefs:u,fragmentMainIntro:d,fragmentMainOutro:h,fragmentColorTransform:f,customRewriter:m,timeUniform:g}=i;s=s||"",a=a||"",l=l||"",u=u||"",d=d||"",h=h||"",(c||m)&&(t=o(t));(f||m)&&(n=o(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(m){let e=m({vertexShader:t,fragmentShader:n});t=e.vertexShader,n=e.fragmentShader}if(f){let e=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(t=>(e.push(t),""))),h=`${f}\n${e.join("\n")}\n${h}`}if(g){const e=`\nuniform float ${g};\n`;s=e+s,u=e+u}c&&(s=`${s}\nvoid troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${c}\n}\n`,a=`\ntroika_position_${r} = vec3(position);\ntroika_normal_${r} = vec3(normal);\ntroika_uv_${r} = vec2(uv);\ntroikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});\n${a}\n`,t=(t=`vec3 troika_position_${r};\nvec3 troika_normal_${r};\nvec2 troika_uv_${r};\n${t}\n`).replace(/\b(position|normal|uv)\b/g,((e,t,n,i)=>/\battribute\s+vec[23]\s+$/.test(i.substr(0,n))?t:`troika_${t}_${r}`)),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${r}`)));return t=p(t,r,s,a,l),n=p(n,r,u,d,h),{vertexShader:t,fragmentShader:n}}(this,i,t,n);c=u[s]=e}i.vertexShader=c.vertexShader,i.fragmentShader=c.fragmentShader,a(i.uniforms,this.uniforms),t.timeUniform&&(i.uniforms[t.timeUniform]={get value(){return Date.now()-l}}),this[v]&&this[v](i)},E=function(){return S(t.chained?e:e.clone())},S=function(i){const r=Object.create(i,b);return Object.defineProperty(r,"baseMaterial",{value:e}),Object.defineProperty(r,"id",{value:d++}),r.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(s[255&e]+s[e>>8&255]+s[e>>16&255]+s[e>>24&255]+"-"+s[255&t]+s[t>>8&255]+"-"+s[t>>16&15|64]+s[t>>24&255]+"-"+s[63&n|128]+s[n>>8&255]+"-"+s[n>>16&255]+s[n>>24&255]+s[255&i]+s[i>>8&255]+s[i>>16&255]+s[i>>24&255]).toUpperCase()}(),r.uniforms=a({},i.uniforms,t.uniforms),r.defines=a({},i.defines,t.defines),r.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",r.extensions=a({},i.extensions,t.extensions),r._listeners=void 0,r},b={constructor:{value:E},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:t=>{e.type=t}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){const t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:()=>y,set(e){this[v]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(a(this.extensions,t.extensions),a(this.defines,t.defines),a(this.uniforms,i.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return S(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=h(e.isDerivedMaterial?e.getDepthMaterial():new i.MeshDepthMaterial({depthPacking:i.RGBADepthPacking}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=h(e.isDerivedMaterial?e.getDistanceMaterial():new i.MeshDistanceMaterial,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=E,new E}function p(e,t,n,i,o){return(i||o||n)&&(e=e.replace(r,`\n${n}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${i}\n  troikaOrigMain${t}();\n  ${o}\n}`),e}function f(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let m=0;const g=new Map;i.DoubleSide;i.Mesh},92089:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LazyLoader:()=>Kt,loadInterface:()=>Yt});var i=n(65945),r=n(68909),o=n(84404),s=n(14868),a=n(14614),l=n(45987),c=n(75772),u=n(9139),d=n(68920),h=n(94165),p=n(50505),f=n(90082),m=n(71687),g=n(32024),v=n(18821),y=n(40397),E=n(19968),S=n(80519),b=n(56208),_=n(13893),O=n(89928),T=n(51313),A=n(96437),w=n(50636),N=n(26655),I=n(80419),R=n(94),k=n(5984),L=n(9997),P=n(79457),D=n(65425),M=n(25727),C=n(11416),x=n(51274),U=n(11165);class F extends U.u{constructor(e){super(),this.payload={key:e}}}F.id="SETTING_GET";class H extends U.u{constructor(e,t){super(),this.payload={key:e,value:t}}}H.id="SETTING_UPDATE";var G=n(3956),B=n(50018),V=n(34184),j=n(47004),W=n(17084),z=n(73566),$=n(22937),K=n(38069),Y=n(81662),q=n(66806),Q=n(46793),X=n(98309),J=n(1197);class Z extends U.u{}Z.id="DEACTIVATE_IDLE_MODE";class ee extends U.u{constructor(e){super(),this.payload={timeout:e}}}ee.id="SET_IDLE_MODE_TIMEOUT";var te=n(78115),ne=n(9360),ie=n(10459),re=n(37105),oe=n(58229),se=n(39209),ae=n(85182),le=n(43066);const ce=function(e,t){return n=>async function(n){var i,r;const o={modelId:n},s=await e.query(le.GetViews,o,{}),a=null===(r=null===(i=null==s?void 0:s.data)||void 0===i?void 0:i.model)||void 0===r?void 0:r.views;if(!a||!Array.isArray(a))return[];const l=[];for(const e of a){const n=t.deserialize(e);n&&l.push(n)}return l}(n)};var ue=n(57186),de=n(47737),he=n(29479),pe=n(41535),fe=n(28454),me=n(55057),ge=n(5243),ve=n(50485),ye=n(92868),Ee=n(68387),Se=n(25443),be=n(12837),_e=n(21875),Oe=n(99583),Te=n(84522),Ae=n(74717),we=n(16653),Ne=n(84358),Ie=n(41369),Re=n(29543),ke=n(39634),Le=n(96425),Pe=n(3795),De=n(30926),Me=n(99104),Ce=n(93821),xe=n(22278),Ue=n(32948),Fe=n(61430),He=n(56846),Ge=n(63362),Be=n(84651),Ve=n(81483),je=n(27140);const We=function(e,t){return n=>async function(n){var i,o;const s={modelId:n,includeDisabled:!0,includeLayers:!0},a=await e.query(je.GetMattertags,s,{}),l=null===(o=null===(i=null==a?void 0:a.data)||void 0===i?void 0:i.model)||void 0===o?void 0:o.mattertags;if(!l||!Array.isArray(l))return[];const c=[];for(const e of l){const n=t.deserialize(e);if(n){const e=new r.Vector3,t=new r.Vector3;e.set(n.anchorPosition.x,n.anchorPosition.y,n.anchorPosition.z),t.set(n.stemVector.x,n.stemVector.y,n.stemVector.z),t.normalize(),c.push(n)}}return c}(n)};var ze=n(28511);const $e=3*7.4,Ke=$e/2,Ye=.65,qe=28.860000000000003,Qe=new r.Color(15706876),Xe=new r.Color(11882440),Je=new r.Color("#385DFF"),Ze=new r.Color(12179199),et=new r.Color("#00A170"),tt=new r.Color(8515276),nt=new r.Color("#FF3158"),it=new r.Color(16758976),rt={buttonColor:new r.Color("#ffffff"),buttonTextColor:new r.Color("#474764")};var ot,st=n(46771),at=n(62802),lt=n(53282),ct=n(37458),ut=n(78079);!function(e){e.X_TRANSLATE="x_translate",e.Y_TRANSLATE="y_translate",e.Z_TRANSLATE="z_translate",e.X_ROTATE="x_rotate",e.Y_ROTATE="y_rotate",e.Z_ROTATE="z_rotate",e.XZ_PLANAR_TRANSLATE="xz_planar_translate"}(ot||(ot={}));var dt=n(56637),ht=n(86324);const pt=n.p+"models/arrowhead.glb";var ft=n(17888);class mt extends r.Object3D{constructor(e,t,n,i,o,s,a,l,c){super(),this.componentType=e,this.lineColor=t,this.controlColor=n,this.state=i,this.faceUser=s,this.cameraData=a,this.raycastPointer=l,this.flipped=!1,this.startDragAxisPos=new r.Vector3,this.flipScale=new r.Vector3(1,1,1),this.lastFlipDot=1/0,this.hovered=!1,this.tick=(()=>{const e=new r.Vector3,t=new r.Quaternion,n=new r.Quaternion;return i=>{if(this.faceUser&&!this.state.transforming){const i=this.cameraData.pose.rotation,r=e.copy(this.axisDir).applyQuaternion(this.getWorldQuaternion(t)).applyQuaternion(n.copy(i).invert()),o=Y.B1.FORWARD.dot(r);this.lastFlipDot===1/0&&(this.lastFlipDot=o),o>0&&Math.abs(o-this.lastFlipDot)>.1&&(this.lastFlipDot=.1,this.axisDir.multiplyScalar(-1),this.flipped=!this.flipped,this.screenspaceLine.updateEndpoints([{points:[Y.B1.ZERO,this.axisDir]}])),this.flipScale.set(this.axisDir.x||1,this.axisDir.y||1,this.axisDir.z||1)}}})(),this.closestPointOnAxis=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3;return r=>{const o=this.raycastPointer.pointerRay;return t.copy(o.origin).add(o.direction),e.copy(this.axisDir).multiplyScalar(this.state.scale).applyQuaternion(this.state.controlOrientation).add(this.state.controlOrigin),(0,dt.ff)(this.state.controlOrigin,e,o.origin,t,n,i,r)?n:null}})(),this.axisDir=o.clone();const u={dashed:!1,dashSize:0,gapSize:0,lineWidth:3,dashUnits:ht.EX.PIXELS,depthTest:!1,color:t,depthWrite:!1,depthFunc:r.AlwaysDepth,globalOpacity:1},d={points:[Y.B1.ZERO,this.axisDir]};this.screenspaceLine=new ht.y4([d],u),this.screenspaceLine.renderOrder=ct.X.transformGizmo,this.add(this.screenspaceLine),this.arrowMaterial=new r.MeshBasicMaterial(Object.assign({color:n,transparent:!0,depthTest:!1},dt.q)),this.arrowMesh=new r.Mesh(c.geometry.clone(),this.arrowMaterial);const h=(new r.Quaternion).setFromUnitVectors(Y.B1.UP,this.axisDir);this.arrowMesh.geometry.applyQuaternion(h),this.arrowMesh.position.copy(this.axisDir),this.add(this.arrowMesh);const p=new r.Vector4;this.arrowMesh.onBeforeRender=(e,t,n,r,o,s)=>{e.getCurrentViewport(p);const l=(0,y.Nv)(a.pose.projection,a.pose.position,this.state.controlOrigin,p.w,i.scale),c=this.hovered?1.3:1,u=$e/l*c;this.arrowMesh.scale.set(u,u,u).multiply(this.flipScale),this.arrowMesh.position.copy(this.axisDir).multiplyScalar(1+.5*u),this.arrowMesh.updateMatrix()},this.arrowMesh.renderOrder=ct.X.transformGizmo}setOpacity(e){this.screenspaceLine.globalOpacity(e),this.arrowMaterial.opacity=e}setActive(e){}pointerHover(e){const t=!!this.pointerOn(e);return this.setHovered(t),t}setHovered(e){this.screenspaceLine.lineWidth(e?5.1:3),this.hovered=e}pointerButton(e,t){this.startDragAxisPos.copy(t).sub(this.state.controlOrigin)}pointerOn(e){const t=this.closestPointOnAxis(!0);if(!t)return null;const n=this.raycastPointer.ndcPosition.clone(),i=this.cameraData.pose,o=(0,E.jn)(t,i.position,i.rotation,i.projection.asThreeMatrix4()),s=new r.Vector2(o.x,o.y),a=new r.Vector2(this.cameraData.width,this.cameraData.height).multiplyScalar(.5);return s.multiply(a).add(a),n.multiply(a).add(a),n.distanceTo(s)<qe?t:null}transform(e,t){const n=this.closestPointOnAxis(!1);if(!n)return;const i=new r.Vector3;i.copy(this.axisDir).applyQuaternion(this.state.controlOrientation);const o=new r.Vector3;o.copy(n).sub(t).sub(this.startDragAxisPos).projectOnVector(i),this.state.controlOrigin.copy(t).add(o);for(const e of this.state.toTransform){const t=this.state.toTransformDragStartInfo.get(e);if(!t)throw new Error("Missing Start Drag Info!");e.position.copy(t.position).add(o)}}overrideColors(e,t){this.screenspaceLine.color(e),this.arrowMaterial.color.copy(t)}restoreColors(){this.screenspaceLine.color(this.lineColor),this.arrowMaterial.color.copy(this.controlColor)}}mt.axisFlipRot=[[0,Math.PI/2],[-Math.PI/2,Math.PI]];var gt=n(53172);const vt={rotationAxisDisc:{uniforms:{worldScale:{value:new r.Vector3},worldPosition:{value:new r.Vector3},radius:{value:1},innerRadius:{value:.5},centerRadius:{value:.5},opacity:{value:1},minA:{value:0},maxA:{value:0},minB:{value:0},maxB:{value:0},angleColor:{value:new r.Color(0)},firstStopPercent:{value:0},medStopPercent:{value:.5},lastStopPercent:{value:1},firstStop:{value:new r.Color(0)},medStop:{value:new r.Color(0)},lastStop:{value:new r.Color(0)}},vertexShader:n(96626),fragmentShader:n(44664)}};class yt extends r.Mesh{constructor(e,t,n,i){const o=new r.ShaderMaterial(Object.assign({fragmentShader:vt.rotationAxisDisc.fragmentShader,vertexShader:vt.rotationAxisDisc.vertexShader,uniforms:r.UniformsUtils.clone(vt.rotationAxisDisc.uniforms),depthTest:!1,transparent:!0},dt.q));o.uniforms.radius.value=e,o.uniforms.innerRadius.value=e-t,o.uniforms.centerRadius.value=n,o.uniforms.angleColor.value=i,o.side=r.DoubleSide,super(new r.PlaneGeometry(2*e,2*e).rotateX(-Math.PI/2),o),this.radius=e,this.thickness=t,this.centerRadius=n,this.positive=!0,this.renderOrder=ct.X.lines-1}setOpacity(e){this.material.uniforms.opacity.value=e}setAngle(e,t){const n=this.positive?t:e,i=this.positive?e:t;n<i?(this.material.uniforms.minB.value=0,this.material.uniforms.maxB.value=0,this.material.uniforms.minA.value=n,this.material.uniforms.maxA.value=i):(this.material.uniforms.minA.value=n,this.material.uniforms.maxA.value=Math.PI,this.material.uniforms.minB.value=-Math.PI,this.material.uniforms.maxB.value=i)}}const Et=1.61803,St=.05;class bt extends r.Object3D{constructor(e,t,n,i,r,o,s,a){super(),this.state=e,this.outerRadius=t,this.innerRadius=n,this.increment=i,this.majorIncrement=r,this.tickLength=o;const l={dashed:!1,dashSize:1,gapSize:0,lineWidth:.7,color:s,dashUnits:ht.EX.PIXELS,globalOpacity:1,depthTest:!1,depthWrite:!0,depthFunc:0};this.ticks=new ht.y4(this.generateTicks(t-St,r,i,o),l);const c=[],u=t-(o*Et+.1);c.push(...this.generateCircle(t)),c.push(...this.generateCircle(u)),this.outerCircleOutline=new ht.y4(c,l),this.circleMesh=new yt(t,t-u,n,a),this.add(this.circleMesh,this.ticks,this.outerCircleOutline)}updateMatrixWorld(e){this.state.transforming||super.updateMatrixWorld(e)}generateCircle(e){const t=[];let n=null;for(let i=0;i<=360;i+=5){const o=(0,gt.pu)(i),s=new r.Vector3(Math.cos(o),0,Math.sin(o)).multiplyScalar(e);n&&t.push({points:[n,s]}),n=s}return t}generateTicks(e,t,n,i){const o=[];for(let s=0;s<360/n;s++){const a=s*n,l=(0,gt.pu)(a);let c=i;a%t==0&&(c*=Et);const u=e,d=e-c,h=new r.Vector3(Math.cos(l),0,Math.sin(l)),p=h.clone();h.multiplyScalar(u),p.multiplyScalar(d),o.push({points:[p,h]})}return o}setOpacity(e){this.ticks.globalOpacity(e),this.outerCircleOutline.globalOpacity(e),this.circleMesh.setOpacity(e),this.circleMesh.visible=e>.5}setAngle(e,t){this.circleMesh.setAngle(e,t),this.ticks.quaternion.identity()}}var _t=n(86866);const Ot=10*Math.PI,Tt=.55,At=Math.PI/4,wt=At/Math.PI*180;class Nt extends r.Object3D{constructor(e,t,n,i,o,s,a,l){super(),this.componentType=e,this.color=t,this.controlColor=n,this.state=i,this.axes=o,this.cameraData=a,this.raycaster=l,this.arcOpacity=1,this.roughProtractorOpacity=1,this.fineProtractorOpacity=1,this.opacity=1,this.hovered=!1,this.plane=new r.Plane,this.startDragAngle=Ot,this.startDragQuaternion=new r.Quaternion,this.startDragTransform=new r.Matrix4,this.axisOfRotation=new r.Vector3;const c={dashed:!1,dashSize:1,gapSize:0,lineWidth:3,color:this.color,dashUnits:ht.EX.PIXELS,globalOpacity:1,depthTest:!1,depthWrite:!0,depthFunc:0},u=this.createArc(Ye,0,90);this.arcMesh=new ht.y4(u,c),this.add(this.arcMesh),[this.orbMesh,this.orbMaterial]=this.createOrb(this.controlColor,Math.PI/4),this.arcMesh.add(this.orbMesh);this.roughProtractor=new bt(this.state,Tt,.325,wt,wt,.1,this.color,this.controlColor),this.fineProtractor=new bt(this.state,1.011803,.75,2.5,wt,.1,this.color,this.controlColor),this.add(this.fineProtractor,this.roughProtractor),this.plane.normal.copy(Y.B1.UP),this.quaternion.setFromUnitVectors(Y.B1.UP,s).invert(),this.axisOfRotation.copy(Y.B1.UP).applyQuaternion(this.quaternion),this.updateMatrixWorld(),this.updateOpacity()}setOpacity(e){this.opacity=e,this.updateOpacity()}setActive(e){this.arcOpacity=e?0:1}tick(e){if(!this.state.transforming){const e=e=>e?1:0,t=mt.axisFlipRot[e(this.axes[0].flipped)][e(this.axes[1].flipped)];this.arcMesh.quaternion.setFromAxisAngle(Y.B1.UP,t),this.fineProtractor.quaternion.copy(this.arcMesh.quaternion),this.roughProtractor.quaternion.copy(this.arcMesh.quaternion),this.arcMesh.updateMatrix()}}pointerButton(e,t){this.startDragTransform=this.arcMesh.matrixWorld.clone().invert();const{angle:n}=this.getCursorAngleAndClosestPoint(this.startDragTransform);this.startDragAngle=n,this.startDragQuaternion.copy(this.state.controlOrientation),this.roughProtractor.setAngle(n,this.startDragAngle),this.fineProtractor.setAngle(n,this.startDragAngle)}setHovered(e){this.arcMesh.lineWidth(e?5.1:3),this.hovered=e}pointerOn(e){const{angle:t,closestPointOnArc:n}=this.getCursorAngleAndClosestPoint();if(t===Ot||t<0||t>.5*Math.PI)return null;n.multiplyScalar(Ye).applyMatrix4(this.arcMesh.matrixWorld);const i=this.raycaster.pointer.ndcPosition.clone(),o=this.cameraData.pose,s=(0,E.jn)(n,o.position,o.rotation,o.projection.asThreeMatrix4()),a=new r.Vector2(s.x,s.y),l=new r.Vector2(this.cameraData.width,this.cameraData.height).multiplyScalar(.5);return a.multiply(l).add(l),i.multiply(l).add(l),i.distanceTo(a)<qe?n:null}isPointerInsideCircle(){const e=this.getLocalPlaneIntersection();if(e){return e.clone().length()<Tt}return!1}transform(e,t){const{angle:n}=this.getCursorAngleAndClosestPoint(this.startDragTransform),i=this.isPointerInsideCircle();let o=this.startDragAngle,s=n;i||e.nativeEvent.shiftKey?(o=(0,_t.U0)(o,At),s=(0,_t.U0)(s,At),this.roughProtractorOpacity=1,this.fineProtractorOpacity=.3):(this.fineProtractorOpacity=1,this.roughProtractorOpacity=.3);const a=o-s,l=this.startDragAngle-a;this.roughProtractor.setAngle(l,this.startDragAngle),this.fineProtractor.setAngle(l,this.startDragAngle);const c=new r.Quaternion;c.setFromAxisAngle(this.axisOfRotation,a),this.state.controlOrientation.copy(this.startDragQuaternion),this.state.controlOrientation.multiply(c);const u=this.axisOfRotation.clone().applyQuaternion(this.startDragQuaternion),d=(new r.Quaternion).setFromAxisAngle(u,a);for(const[e,n]of this.state.toTransformDragStartInfo.entries())e.position.copy(n.position).sub(t),e.position.applyQuaternion(d),e.position.add(t),e.quaternion.copy(n.quaternion).premultiply(d)}getCursorAngleAndClosestPoint(e=this.arcMesh.matrixWorld.clone().invert()){const t=Y.B1.ZERO,n=this.getLocalPlaneIntersection(e);if(n){const e=n.clone().sub(t).normalize();return{angle:Math.atan2(e.z,e.x),closestPointOnArc:e}}return{angle:Ot,closestPointOnArc:Y.B1.ZERO}}getLocalPlaneIntersection(e=this.arcMesh.matrixWorld.clone().invert()){const t=Y.B1.ZERO,n=Y.B1.UP;this.plane.setFromNormalAndCoplanarPoint(n,t);const i=this.raycaster.pointer.pointerRay.clone();i.applyMatrix4(e);const o=new r.Vector3,s=this.orbMesh.geometry.boundingSphere;return s&&i.intersectSphere(s,o)?(o.y=0,o):i.intersectPlane(this.plane,o)?o:void 0}updateOpacity(){this.arcMesh.globalOpacity(this.opacity*this.arcOpacity),this.orbMaterial.opacity=this.opacity;const e=this.opacity*(1-this.arcOpacity);this.fineProtractor.setOpacity(e*this.fineProtractorOpacity),this.roughProtractor.setOpacity(e*this.roughProtractorOpacity)}createOrb(e,t){const n=new r.SphereGeometry(1),i=new r.MeshBasicMaterial(Object.assign({color:e,transparent:!0,depthTest:!1},dt.q)),o=new r.Mesh(n,i);o.position.set(Math.cos(t),0,Math.sin(t)).multiplyScalar(Ye),o.renderOrder=ct.X.transformGizmo,n.boundingSphere=new r.Sphere(o.position,1);const s=new r.Vector4;return o.onBeforeRender=(e,t,i,r,a,l)=>{var c;e.getCurrentViewport(s);const u=(0,y.Nv)(this.cameraData.pose.projection,this.cameraData.pose.position,this.state.controlOrigin,s.w,this.state.scale),d=this.hovered?1.3:1,h=Ke/u*d;o.scale.set(h,h,h),null===(c=n.boundingSphere)||void 0===c||c.set(o.position,h)},[o,i]}createArc(e,t,n){const i=[];let o=null;for(let s=t;s<=n;s+=5){const t=(0,gt.pu)(s),n=new r.Vector3(Math.cos(t),0,Math.sin(t)).multiplyScalar(e);o&&i.push({points:[o,n]}),o=n}return i}}var It=n(16153),Rt=n(31002),kt=n(81544),Lt=n(61728),Pt=n(23184);class Dt{static hasAncestor(e){return Pt.f.is((t=>{let n=!1;return t.traverseAncestors((t=>{n=n||t===e})),n}))}}const Mt=n.p+"models/button_background.glb",Ct=.1;class xt extends r.Object3D{constructor(e,t,n,i,o,s,a){super(),this.input=e,this.cameraData=t,this.theme=n,this.offset=i,this.actions=[],this.opacity=1,this.backgroundObjBounds=new r.Box3,this.sizeButtonsToFit=()=>{const e=this.backgroundObjBounds.getSize(new r.Vector3).x;if(0===e)return;this.actions.forEach(((t,n)=>{const i=Math.max(1,(t.width+.1)/e);t.setBackgroundWidthScale(i);const r=i*e/2;t.position.x=n%2==0?r+.1:-r-.1}))},this.renderOrder=ct.X.transformGizmo-1,this.labelMaker=new It.Il({assetBasePath:o,lang:s,color:new r.Color(71/255,70/255,100/255),outline:!1,background:!1,disableDepth:!0,scale:Ct}),this.iconMaker=new It.Il({assetBasePath:o,fontPath:"fonts/mp-font.woff",lang:s,color:new r.Color(71/255,70/255,100/255),outline:!1,background:!1,disableDepth:!0,backgroundBorderWidth:0,scale:Ct});const l=new ft.GLTFLoader,c=new Lt.DRACOLoader;c.setDecoderPath(a),l.setDRACOLoader(c),l.load(Mt,(e=>{this.backgroundObj=e.scene,this.buttonAnimations=e.animations,this.backgroundObjBounds.expandByObject(this.backgroundObj)}))}setActions(e){for(const e of this.actions)this.remove(e),e.dispose();this.actions.length=0;for(const t of e){const e=new Ut(t,this.input,this.labelMaker,this.iconMaker,this.backgroundObj,this.buttonAnimations);e.setTheme(this.theme),e.addEventListener("labeledSized",this.sizeButtonsToFit),this.add(e),this.actions.push(e)}if(0===this.actions.length)return;const t=this.actions[0].getBoundingBox(new r.Box3),n=t.max.y-t.min.y;let i=.5*n+.03+this.offset;for(let e=0;e<this.actions.length;e++){const r=this.actions[e];r.position.y=i,r.position.x=e%2==0?Math.abs(t.min.x)+.1:-Math.abs(t.max.x)-.1,r.getBoundingBox(t),e%2==1&&(i+=n+.03)}this.setOpacity(this.opacity)}setTheme(e){this.theme=e;for(const t of this.actions)t.setTheme(e)}update(e){this.up.set(0,1,0),this.up.applyQuaternion(this.cameraData.pose.rotation),this.lookAt(this.cameraData.pose.position),this.updateMatrix(),this.updateMatrixWorld(!0),this.actions.forEach((t=>t.update(e)))}setOpacity(e){this.opacity=e;for(const e of this.actions)e.setOpacity(this.opacity)}}class Ut extends r.Object3D{constructor(e,t,n,i,o,s){super(),this.action=e,this.input=t,this.boundingBox=new r.Box3,this.labelSized=!1,this.iconSized=!1,this.iconX=0,this.labelX=0,this._width=0,this.dispose=()=>{},this.renderOrder=ct.X.transformGizmo,this.backgroundMesh=o.clone(),(0,dt.rx)(this.backgroundMesh),this.backgroundMesh.renderOrder=ct.X.transformGizmo,this.add(this.backgroundMesh);const a=this.backgroundMesh.children[0];if(!(0,dt.uW)(a)||Array.isArray(a.material)||!(0,dt.P3)(a.material))throw new Error("Invalid button mesh");this.backgroundMat=a.material,t.registerMesh(this.backgroundMesh,!1),this.boundingBox.expandByObject(this.backgroundMesh),this.collisionMesh=a;const l=n.createLabel();if(l.mesh.addEventListener("synccomplete",(()=>{this.labelSized=!0,this._width=this.label.unscaledWidth*Ct,this.positionIconAndLabel(),this.dispatchEvent({type:"labeledSized"})})),l.text=e.name,l.setRenderOrder(ct.X.transformGizmo+1),this.add(l),this.label=l,e.icon){const t=i.createLabel();t.mesh.addEventListener("synccomplete",(()=>{this.iconSized=!0,this.positionIconAndLabel()})),t.setRenderOrder(ct.X.transformGizmo+1),t.text=String.fromCodePoint(+ze.J[e.icon]),this.add(t),this.icon=t}const c=new r.AnimationObjectGroup(this.backgroundMesh),u=new r.AnimationMixer(c);this.animationMixer=u;const d=u.clipAction(s[0]);d.clampWhenFinished=!0,d.repetitions=1;const h=Pt.f.is((e=>e instanceof r.Object3D&&Dt.hasAncestor(this.backgroundMesh).compare(e))),p=[t.registerMeshHandler(Rt.rX,h,(()=>{this.action.callback()})),t.registerMeshHandler(Rt.wR,h,(()=>{})),t.registerMeshHandler(kt.L,h,(()=>{d.reset(),d.timeScale=1,d.time=0,d.play()})),t.registerMeshHandler(kt.q,h,(()=>{d.reset(),d.timeScale=-1,d.time=d.getClip().duration,d.play()}))];this.dispose=()=>{this.input.unregisterMesh(this.backgroundMesh),p.forEach((e=>e.cancel()))}}update(e){var t;this.animationMixer.update(e),this.label.scale.copy(this.collisionMesh.scale).multiplyScalar(Ct),null===(t=this.icon)||void 0===t||t.scale.copy(this.collisionMesh.scale).multiplyScalar(Ct),this.label.position.x=this.labelX*this.collisionMesh.scale.x,this.icon&&(this.icon.position.x=this.iconX*this.collisionMesh.scale.x)}getBoundingBox(e){return e.copy(this.boundingBox),e.min.multiply(this.scale),e.max.multiply(this.scale),e}setOpacity(e){this.backgroundMat&&(this.label.opacity=e,this.icon&&(this.icon.opacity=e),this.backgroundMat.transparent=e<1,this.backgroundMat.opacity=e,this.backgroundMat.needsUpdate=!0)}setTheme(e){var t;this.backgroundMat.color.copy(e.buttonColor),this.label.setColor(e.buttonTextColor),null===(t=this.icon)||void 0===t||t.setColor(e.buttonTextColor)}setBackgroundWidthScale(e){this.backgroundMesh.scale.x=e,this.backgroundMesh.updateMatrixWorld(!0);const t=this.boundingBox.getSize(new r.Vector3),n=this.boundingBox.getCenter(new r.Vector3);t.x*=e,this.boundingBox.setFromCenterAndSize(n,t)}get width(){return this._width}positionIconAndLabel(){if(!this.labelSized||!this.iconSized)return;const e=this.icon.unscaledWidth*Ct,t=this.label.unscaledWidth*Ct,n=e+t,i=n/2,r=t/2;this.iconX=-i+e,this.labelX=1.5*e-i+r,this._width=n}}var Ft=n(9289);class Ht extends r.Mesh{constructor(e,t,n,i,o,s){const a=(new Ft.SVGLoader).parse(Bt).paths[0],l=Ft.SVGLoader.createShapes(a),c=new r.ShapeGeometry(l),u=Ht.PlaneSize/Gt;c.scale(u,u,u),c.rotateX(.5*-Math.PI),c.translate(-Ht.PlaneSize/2,0,Ht.PlaneSize/2),super(c,new r.MeshBasicMaterial({color:t,depthTest:!1,transparent:!0,side:r.DoubleSide})),this.componentType=e,this.lineColor=t,this.controlColor=n,this.state=i,this.raycaster=o,this.axes=s,this.plane=new r.Plane,this.startDragPos=new r.Vector3,this.tick=(()=>{const e=new r.Quaternion;return t=>{const n=e=>e?1:0,i=mt.axisFlipRot[n(this.axes[0].flipped)][n(this.axes[1].flipped)];e.setFromAxisAngle(this.plane.normal,i),this.position.set(Ht.PlaneSize,0,Ht.PlaneSize).applyQuaternion(e),this.updateMatrix(),this.updateMatrixWorld()}})(),this.renderOrder=ct.X.transformGizmo,this.plane.normal.set(0,1,0),this.position.set(Ht.PlaneSize,0,Ht.PlaneSize)}setOpacity(e){this.material.opacity=e;for(const t of this.axes)t.setOpacity(e)}setActive(e){}setHovered(e){const t=e?1.3:1;if(this.scale.set(t,t,t),e){this.material.color.copy(this.controlColor);for(const t of this.axes)t.setHovered(e),t.overrideColors(this.lineColor,this.controlColor)}else{this.material.color.copy(this.lineColor);for(const e of this.axes)e.restoreColors()}}pointerButton(e,t){this.startDragPos.copy(t)}pointerOn(e){return this.closestPoint(!0)}transform(e,t){const n=this.closestPoint(!1);if(!n)return;const i=new r.Vector3;i.subVectors(n,this.startDragPos),this.state.controlOrigin.copy(t).add(i);for(const e of this.state.toTransform){const t=this.state.toTransformDragStartInfo.get(e);if(!t)throw new Error("Missing Start Drag Info!");e.position.copy(t.position).add(i)}}closestPoint(e){const t=this.raycaster.pointer.pointerRay,n=this.matrixWorld.clone().invert();t.applyMatrix4(n);const i=new r.Vector3;if(t.intersectPlane(this.plane,i)){const t=.5*Ht.PlaneSize;return e&&(Math.abs(i.x)>t||Math.abs(i.z)>t)?null:(i.applyMatrix4(this.matrixWorld),i.y=0,i)}return null}}Ht.PlaneSize=.2;const Gt=125,Bt='<svg\n   width="125"\n   height="125"\n   fill="none"\n   version="1.1"\n   id="svg1" xmlns="http://www.w3.org/2000/svg">\n\n  <path\n     d="m 8,0 h 109 c 4.432,0 8,3.568 8,8 v 109 c 0,4.432 -3.568,8 -8,8 H 8 c -4.432,0 -8,-3.568 -8,-8 V 8 C 0,3.568 3.568,0 8,0 Z" />\n</svg>';var Vt=n(92237);class jt extends r.Mesh{constructor(e,t,n,i,o,s,a=rt,l=!0){super(),this.raycaster=t,this.state={toTransform:[],toTransformDragStartInfo:new Map,transforming:!1,hovering:!1,controlOrigin:new r.Vector3,controlOrientation:new r.Quaternion,scale:1},this.startDragListeners=new Set,this.dragListeners=new Set,this.endDragListeners=new Set,this.axes=[],this.currentAxis=null,this.startDragControlOrigin=new r.Vector3,this.locked=!1,this.inactiveComponentOpacity=new Vt.z(1),this.cameraSub=null,this._viewport=new r.Vector4,this._cameraWorldPos=new r.Vector3,this.pointerButton=e=>{if(this.locked)return;const t=this.state.transforming;if(e.down){if(!this.state.transforming){this.startDragControlOrigin.copy(this.state.controlOrigin);for(const t of this.axes){const n=t.pointerOn(e);if(n){this.state.transforming=!0,t.pointerButton(e,n),this.currentAxis=t,t.setActive(!0),this.setInactiveOpacity(0);break}}}}else this.currentAxis&&this.currentAxis.setActive(!1),this.state.transforming=!1,this.setInactiveOpacity(1);if(t!==this.state.transforming)if(e.preventDefault(),this.state.transforming){if(!this.currentAxis)throw new Error("Current axis should be set if transforming is true!");const e=this.currentAxis.componentType;this.startDragListeners.forEach((t=>t(e)));for(const e of this.state.toTransform)this.state.toTransformDragStartInfo.set(e,{position:e.position.clone(),quaternion:e.quaternion.clone()})}else this.endDragListeners.forEach((e=>e()))},this.pointerMove=e=>{var t;if(!this.locked){if(this.state.hovering=!1,this.state.transforming)null===(t=this.currentAxis)||void 0===t||t.transform(e,this.startDragControlOrigin);else{for(const e of this.axes)e.setHovered(!1);for(const t of this.axes)if(t.pointerOn(e)){t.setHovered(!0),this.state.hovering=!0;break}}this.state.transforming&&this.dragListeners.forEach((e=>e()))}},this.state.controlOrigin=this.position,this.state.controlOrientation=this.quaternion;const c=l?.1:.75;var u;this.actionButtons=new xt(e,n,a,c,i,o,s),this.add(this.actionButtons),this.bindings=new at.P(e.registerUnfilteredHandler(ut.$3,this.pointerMove),e.registerUnfilteredHandler(ut.CD,this.pointerButton)),this.detachFromObjects(),this.renderOrder=ct.X.transformGizmo-2,u=e=>{const i=new mt(ot.X_TRANSLATE,Je,Ze,this.state,Y.B1.RIGHT,!0,n,t.pointer,e),r=new mt(ot.Y_TRANSLATE,et,tt,this.state,Y.B1.UP,!1,n,t.pointer,e),o=new mt(ot.Z_TRANSLATE,nt,it,this.state,Y.B1.BACK,!0,n,t.pointer,e);this.rotationAxes=[new Nt(ot.Y_ROTATE,et,tt,this.state,[i,o],Y.B1.UP,n,t)],l||this.rotationAxes.push(new Nt(ot.X_ROTATE,Je,Ze,this.state,[r,o],Y.B1.RIGHT,n,t),new Nt(ot.Z_ROTATE,nt,it,this.state,[i,r],Y.B1.BACK,n,t)),this.axes.push(new Ht(ot.XZ_PLANAR_TRANSLATE,Xe,Qe,this.state,t,[i,o]),...this.rotationAxes,i,r,o),this.add(...this.axes)},(new ft.GLTFLoader).load(pt,(e=>{var t;let n,i=1;if(e.scene){if(e.scene.traverse((e=>{e.isMesh&&!n&&(n=e)})),!n)throw new Error("Failed to load arrowhead mesh geometry -- this is a build issue.");n.removeFromParent(),n.geometry.computeBoundingSphere();const o=null===(t=n.geometry.boundingBox)||void 0===t?void 0:t.getSize(new r.Vector3);o&&(i=o.y);const s=1/i;n.geometry.scale(s,s,s),n.updateMatrix(),u(n)}})),this.frustumCulled=!1}attachToObjects(e,t,n){this.detachFromObjects(),0!==e.length&&(this.visible=!0,this.state.toTransform.push(...e.slice()),this.placeGizmo(t,n),this.bindings.renew())}detachFromObjects(){this.state.toTransform.length=0,this.state.toTransformDragStartInfo.clear(),this.visible=!1,this.bindings.cancel()}onStartDrag(e){return this.startDragListeners.add(e),(0,lt.Sh)((()=>this.startDragListeners.add(e)),(()=>this.startDragListeners.delete(e)))}onDrag(e){return this.dragListeners.add(e),(0,lt.Sh)((()=>this.dragListeners.add(e)),(()=>this.dragListeners.delete(e)))}onEndDrag(e){return this.endDragListeners.add(e),(0,lt.Sh)((()=>this.endDragListeners.add(e)),(()=>this.endDragListeners.delete(e)))}setActions(e){this.actionButtons.setActions(e)}setLocked(e){this.locked=e}placeGizmo(e,t){const n=this.state.toTransform;if(!e){e=new r.Vector3;const t=new r.Box3,i=n.filter((e=>e.visible));for(const e of i)t.expandByObject(e);t.getCenter(e)}if(!t&&(t=new r.Quaternion,1===n.length)){const i=e=>{if(e instanceof r.Object3D){if(e===n[0])return!0;let t=!1;return e.traverseAncestors((e=>t||(t=e===n[0]))),t}return!1},o=this.raycaster.pointer.cast().filter((e=>i(e.object)));if(o.length){const n=o[0];if(e.copy(n.point),n.object instanceof r.Object3D&&n.face&&Math.abs(n.face.normal.y)<.1){const e=(new r.Vector3).copy(n.face.normal),i=(new r.Matrix3).setFromMatrix4(n.object.matrixWorld);e.applyNormalMatrix(i),e.y=0,e.normalize(),t.setFromUnitVectors(Y.B1.FORWARD,e)}}}this.state.controlOrigin.copy(e),this.state.controlOrientation.copy(t)}setTheme(e){this.actionButtons.setTheme(e)}init(){}render(e){}beforeRender(e){var t,n;this.inactiveComponentOpacity.tick(e);for(const e of this.axes)e!==this.currentAxis&&e.setOpacity(this.inactiveComponentOpacity.value);this.actionButtons.setOpacity(this.inactiveComponentOpacity.value),null===(t=this.currentAxis)||void 0===t||t.setOpacity(1);for(const t of this.axes)null===(n=t.tick)||void 0===n||n.call(t,e);const i=this.state.toTransform.findIndex((e=>e.visible));this.visible=-1!==i,this.actionButtons.update(e)}onBeforeRender(e,t,n,i,r,o){super.onBeforeRender(e,t,n,i,r,o),e.getCurrentViewport(this._viewport);n.getWorldPosition(this._cameraWorldPos);const s=144/(0,y.Nv)(new st.u(n.projectionMatrix),this._cameraWorldPos,this.state.controlOrigin,this._viewport.height/e.getPixelRatio(),1),a=144/(0,y.w$)(new st.u(n.projectionMatrix),this._cameraWorldPos,this.state.controlOrigin,this._viewport.width/e.getPixelRatio(),1),l=Math.min(a,s);this.scale.setScalar(l),this.state.scale=l,this.updateMatrixWorld(!0)}dispose(){var e;null===(e=this.cameraSub)||void 0===e||e.cancel(),this.bindings.cancel()}activate(e,t){}deactivate(e){}setInactiveOpacity(e){this.inactiveComponentOpacity.modifyAnimation(this.inactiveComponentOpacity.value,e,150)}}var Wt=n(78999),zt=n(35956);const $t=new u.Vy("sdk interface loader");class Kt{constructor(){this.module=null,this.loaderReady=new d.i,this.loader=null}setLoader(e){this.loader||(this.loader=e,this.loaderReady.resolve())}async getModule(){if(this.module)return this.module;if(await this.loaderReady,this.loader&&(this.module=await this.loader()),this.module)return this.module;throw new Error("There was an error setting up the factory")}}async function Yt(e,t,n,c,u,d,g,v,y){const E=new p.o;let U;try{if(Array.isArray(n.interfaces)){const e=n.interfaces.map((e=>{const t=new URL(e);return g&&t.searchParams.append("applicationKey",g),E.load(t.href)}));U=await Promise.all(e)}else{if(!n.interface){throw Error("No sdk interface found in config")}{const e=new URL(n.interface);g&&e.searchParams.append("applicationKey",g),U=[await E.load(e.href)]}}}catch(e){const t="Unable to fetch the sdk interface. The sdk will be disabled. "+e;throw $t.error(t),Error("Unable to fetch the sdk interface. The sdk will be disabled. "+e)}const le={THREE:r,oEmbed:u,jsonSchemaValidator:y},ce=(0,Be.H)({baseUrl:v})(),ue={Mattertag:zt.Q,MpSdkAuthentication:S.u,RenderLayers:s.H,OptionsKey:b.Q$,Application:a.lg,AppPhase:a.Jj,AppPhaseChangeMessage:l.uv,CameraTransitionType:_.fl,StartMoveToFloorMessage:O.G,EndMoveToFloorMessage:T.P,MattertagMediaType:Fe.yg,RemoveMattertagCommand:A.l,TagDescriptionChunkType:w.q,TagLinkType:N.J,AddMattertagCommand:A.aw,EditMattertagCommand:A.rn,MattertagLinkOpenedMessage:I.Qn,ModelDataLoadedMessage:R.A,ModelColliderTarget:k.r,NavigateToSweepCommand:L.aj,ModelViewChangeCompleteMessage:te.tj,MeasuringPhase:pe.hb,SettingGetCommand:F,SettingUpdateCommand:H,PuckCollider:G.UJ,PinClickedMessage:P.oX,PinHoverChangeMessage:P.RG,PinHeadMesh:D.R,InstancedPinHeads:x.k,PinType:M.yY,OpenTagCommand:Me.Ki,CloseTagCommand:Me.KH,FocusOnPinInsideCommand:L.E4,SweepAlignmentType:B.c$,SweepPlacementType:B.EO,BeginMoveToSweepMessage:V.A,EndMoveToSweepMessage:j.A,SweepNeighborModifyCommand:Ge.WS,ToggleToolCommand:W.yU,Tools:z.S0,TourStartedMessage:$.zM,TourStoppedMessage:$.pT,TourEndedMessage:$.YH,TourSteppedMessage:$.n1,Color:K.V,Vectors:Y.B1,Viewmode:q.N,CommandViewmode:Q.w5,ChangeViewmodeCommand:Q.S2,BeginSwitchViewmodeMessage:X.A,EndSwitchViewmodeMessage:J.A,GetScreenPositionCommand:Te.R,ZoomInCommand:Ae.EG,ZoomResetCommand:Ae.i9,ZoomSetCommand:Ae.hd,SourceType:Ne.Y,sensorVolumes:{sphere:Ie.I,box:Re.M,cylinder:ke.z},TourState:Le.Ci,MediaType:Pe.zu,SaveNewMattertagCommand:A.Ee,DeactivateIdleModeCommand:Z,SetIdleModeTimeoutCommand:ee,EndToggleDefurnishViewMessage:te.Yp,EnableInputCommand:ne.TY,DisableInputCommand:ne.q$},we=qt(t,ce),Ve=function(e,t,n){const i=(async()=>(await e.getModuleBySymbol(m.qL)).getApi())(),r=e.getModuleBySymbol(m.qy);return{api:i,applicationData:e.market.waitForData(a.zH),cameraData:e.market.waitForData(ie.M),cameraModule:e.getModuleBySymbol(m.jh),cameraStartModule:e.getModuleBySymbol(m.di),canvasData:e.market.waitForData(re.p),cursorController:e.getModuleBySymbol(m._v),deepLinks:e.getModuleBySymbol(h.r),locale:e.getModuleBySymbol(m.gS),externalR3FModule:e.getModuleBySymbol(m.kG),floorData:e.market.waitForData(oe.q),floorViewData:e.market.waitForData(se.X),floorViewDataModule:e.getModuleBySymbol(m.QW),labelData:e.market.waitForData(ae.B),layersModule:e.getModuleBySymbol(m.az),layersData:e.market.waitForData(de.P),mattertagData:e.market.waitForData(he.j),measurementModeData:e.market.waitForData(fe.s),modelData:e.market.waitForData(me.q),pinViewData:e.market.waitForData(C.U),annotationsViewData:e.market.waitForData(De.o),tagsViewData:e.market.waitForData(Ce.r),plugin:e.getModuleBySymbol(m.N4),raycasterData:e.market.waitForData(ge.$),roomData:e.market.waitForData(ve.q),roomBoundData:e.market.waitForData(ye.A),roomBoundViewData:e.market.waitForData(Ee.B),settingsData:e.market.waitForData(Se.o),sweepData:e.market.waitForData(be.A),tourData:e.market.waitForData(_e.R),viewmodeData:e.market.waitForData(Oe.X),appPhaseModule:e.getModuleBySymbol(f.WJ),annotationsModule:e.getModuleBySymbol(m.Et),attachmentsModule:r,commonControlsModule:e.getModuleBySymbol(m.X7),floorCasterModule:e.getModuleBySymbol(m.Xx),pinsModule:e.getModuleBySymbol(m.kd),meshQuery:e.getModuleBySymbol(m.PM),modelMeshModule:e.getModuleBySymbol(m.GR),meshData:e.market.waitForData(xe.U),navigationModule:e.getModuleBySymbol(m.Kv),renderToTextureModule:e.getModuleBySymbol(m.kM),sceneModule:t.scene.getModule(),sensorModule:e.getModuleBySymbol(m.J$),settingsModule:e.getModuleBySymbol(f.ZF),tourControlsModule:e.getModuleBySymbol(m.Xf),webglRendererModule:e.getModuleBySymbol(m.M7),zoomControlModule:e.getModuleBySymbol(m.et),sweepTextureLoader:e.getModuleBySymbol(m.wY),pluginData:e.market.waitForData(Ue.C),pluginUiData:e.market.waitForData(Wt.kR),pluginConfigData:e.market.waitForData(He.Y7),modelApiClient:Promise.resolve(n),analytics:e.getModuleBySymbol(m.aF)}}(t,c,ce);for(const r of U){const o=new i.mc(t.diContainer);await r.setup(e,le,ue,we,Ve,t.getModuleBySymbol(m.qL),{sandboxPath:n.sandbox,logLevel:d},o)}t.diContainer.get(o.aX).resolve()}function qt(e,t){return{loadImage:g.y,waitForUpdate:()=>e.after(c.R.End),waitForBegin:()=>e.after(c.R.Begin),subscribe:(t,n)=>e.subscribe(t,n),unsubscribe:(t,n)=>e.unsubscribe(t,n),addBinding:e.commandBinder.addBinding.bind(e.commandBinder),issueCommand:e.commandBinder.issueCommand.bind(e.commandBinder),requestTarget:()=>e.commandBinder.issueCommand(new v.q6),getRenderLayer:t=>e.getRenderLayer(t),jpegAsBase64:we.G8,encodeRenderTarget:we.uz,getXmp:we._h,getOrientedAngleTo:y.Vg,screenPositionToNDC:E.wc,ndcToWorldPosition:E.OG,worldToScreenPosition:E.bz,getTagsQuery:We(t,(0,Ve.V)()),isMpFontId:e=>e in ze.J,getModelViewsQuery:ce(t,(0,ue.o)()),makeTransformGizmo:async t=>{const n=await async function(e,t=rt,n=!1){const[i,r,o,s,a]=await Promise.all([e.getModuleBySymbol(m.mL),e.getModuleBySymbol(m.sA),e.market.waitForData(ie.M),e.getModuleBySymbol(m.gS),e.getModuleBySymbol(f.ZF)]),l=a.getSetting("assetBasePath"),c=a.getSetting("dracoDecoderPath");return new jt(i,r,o,l,s.languageCode,c,t,n)}(e,t),i=e.getModuleBySymbolSync(f.S1);return e.addComponent(i,n),{transformGizmo:n,disposable:{dispose:function(){e.removeComponent(i,n),n.dispose()}}}}}}},88090:(e,t,n)=>{"use strict";n.d(t,{K4:()=>u,L8:()=>o,T6:()=>d,XT:()=>r,_r:()=>h,bW:()=>i,bw:()=>s,q0:()=>c,uH:()=>l,ur:()=>a});const i="IErrorGui",r="ILoadingGui",o="IModelMeshQualityModule",s="IQuickMenus",a="IShowcaseHotkeys",l="IShowcaseGui",c="IShowcasePasswordModule",u="IShowcaseSettings",d="IShowcaseStart",h="IShowcaseWebGLContextLoss"},13231:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Pa});var i=n(96540),r=n(5338),o=n(64882),s=n(74381),a=n(45987),l=n(14614),c=n(9139),u=n(82748),d=n(27200),h=n(17084),p=n(19389),f=n(48270),m=n(16876),g=n(32485),v=n.n(g),y=n(77570),E=n(56147),S=n(64200),b=n(93136),_=n(86867),O=n(55285),T=n(71397),A=n(73566),w=n(96425);const N=(0,i.createContext)({outOfScope:!1});var I=n(17904),R=n(1333),k=n(87805),L=n(21875);const P=(0,k.u)(L.R,"tourCurrentSnapshot",-1);var D=n(22044),M=n(97994),C=n(98236);const x=(0,C.v_)(L.R),U=(0,M.p)(L.l);function F(){const e=x();return(0,D.A)(e?e.transitionObservable:U)}function H(){const e=F(),t=(0,i.useRef)(e);return e.type===R.gX.FloorChange?t.current:(t.current=e,e)}var G=n(19592),B=n(4850);const V=(0,B.Z)([]);function j(){return function(){const e=x();return(0,G.W)(e?e.enabledTourStops:V)}().length}var W;!function(e){e.FastForwarding="fast-forwarding",e.Idle="idle",e.Completed="completed",e.Paused="paused",e.Playing="playing",e.Rewinding="rewinding",e.Skipping="skipping"}(W||(W={}));const z=[W.FastForwarding,W.Playing,W.Rewinding];function $(){var e;const t=(0,i.useRef)(null),n=j(),r=P(),o=H(),s=o.toIndex,a=-1!==s&&s!==r;let l=W.Idle;a?l=0===s&&r===n-1?W.FastForwarding:Math.abs(s-r)>1?W.Skipping:s<r?W.Rewinding:W.FastForwarding:R.h9.includes(o.type)?l=o.active?W.Playing:W.Paused:o.type===R.gX.Move&&o.active&&(l=W.Rewinding);let c=!1;if((null===(e=t.current)||void 0===e?void 0:e.index)!==r&&(t.current=null),(l===W.Rewinding||l===W.FastForwarding)&&t.current){const{animation:e,transition:n}=t.current;if(n!==o){const{started:t,stopped:i,duration:r}=n;(i-t)/r>=.99&&(c=!0,e===W.Rewinding&&(l=W.Idle),e!==W.Playing&&e!==W.FastForwarding||(l=W.Completed))}}return z.includes(l)?t.current={transition:o,animation:l,index:r}:c||(t.current=null),l}var K=n(87965),Y=n(5262),q=n(38731),Q=n(53289),X=n(87743);var J=n(71687),Z=n(39869),ee=n(50747),te=n(38064),ne=n(44481);const ie=(0,k.u)(ne.F,"currentTourMode",w.cR.NONE);function re(){const e=ie(),t=F(),n=(0,i.useRef)(0),[r,o]=(0,i.useState)(!1),s=t.active,a=e===w.cR.STORIES;return(0,O.w5)((()=>(o(!0),window.clearTimeout(n.current),s?()=>{}:(n.current=window.setTimeout((()=>{o(!1)}),3e3),()=>window.clearTimeout(n.current)))),[s]),a&&(s||r)}const oe=(0,te.c)("showStoryTour",re);var se=n(74848);const{HLR:ae}=E.A.WORKSHOP;function le(e){let{highlights:t,currentStep:n,tourPlaying:r,tourTransitioning:o}=e;const s=!(0,Y.i)(K.Y.TourTextNudgeDismissed,!1),a=function(){const[e,t]=(0,i.useState)(!1),n=(0,i.useRef)(void 0);(0,Q.J)(X.lz,(()=>{t(!0),r(),n.current=setTimeout((()=>{t(!1),n.current=void 0}),3e3)}));const r=()=>{n.current&&(clearTimeout(n.current),n.current=void 0)};return e}(),l=(0,Z.Y)(),c=(0,ee.F)(),u=(0,q.B)(),d=re(),[h,g]=(0,i.useState)(!1),y=(0,I.S)(J.Xf),E=(0,i.useCallback)((function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c.setLocalStorageSetting(K.Y.TourTextNudgeDismissed,!0),t&&e.stopPropagation()}),[c]),S=(0,i.useCallback)((async e=>{await(y?.stopTour()),E(e,!1)}),[y,E]);(0,i.useEffect)((()=>{let e=null;return g(!1),o&&(e=window.setTimeout(g,5e3,!0)),()=>{e&&(window.clearTimeout(e),e=null)}}),[o]);const b=t[n],_=u&&!(b?.title||b?.description)&&s,O=b?.title||(_?l.t(ae.HIGHLIGHT_TITLE_PLACEHOLDER):""),T=b?.description||(_?l.t(ae.HIGHLIGHT_DESCRIPTION_PLACEHOLDER):""),A=!h&&(r||d||a),w=v()("tour-story",{active:A,prompt:_});return(0,se.jsxs)(m.w,{open:A,className:w,onClick:A?S:void 0,"aria-live":"polite","aria-atomic":"true",children:[_&&(0,se.jsx)(p.$,{className:"tour-story-dismiss",theme:"dark",variant:f.A.TERTIARY,icon:"close",onClick:E}),(0,se.jsx)("div",{className:"tour-story-title",children:O}),(0,se.jsx)("div",{className:"tour-story-description",children:T})]})}var ce=n(68375),ue=n(90160),de=n(95541);const{TOURS:he}=E.A.SHOWCASE,{UP_NEXT:pe}=E.A.GENERIC,fe=[W.FastForwarding,W.Rewinding,W.Skipping];function me(e){const{currentStep:t,handlePlayPause:n,highlights:r,tourPlaying:o,minimalistMode:s=!1}=e,[a,l]=(0,i.useState)(!1),c=$(),u=(0,Z.Y)(),d=(0,ce.s)(),h=(0,de.H)(),m=F(),g=(0,I.S)(J.az),y=(0,I.S)(J.Xf),S=0===r.length,b=o?u.t(E.A.PAUSE):u.t(E.A.PLAY),_=u.t(E.A.PREVIOUS),O=u.t(E.A.NEXT),T=S||!o?"play-unicode":"pause",A=S||fe.includes(c),w=r[t],N=r[m.toIndex],R=m.active&&m.toIndex!==t,k=g?.layersData.getDefurnishView()?.id,L=N?.sourceViewId,P=!(!L||!k)&&L===k,D=!(!w||!N)&&(0,ue.Lt)(w.snapshot,N.snapshot)&&P;let M=w?.snapshot.name||"";o||a?o?R&&N?.snapshot.name&&!D&&(M=u.t(pe,{text:N.snapshot.name})):M="":M=u.t(he.TOUR_BUTTON_LABEL);const C=(0,i.useCallback)((()=>{l(!0),n()}),[n]),x=(0,i.useCallback)((async e=>{!S&&y&&(e.stopPropagation(),l(!0),d.trackGuiEvent("skip_foward_highlights"),await y.tourGoNext({resumeIfPlaying:!0}))}),[d,S,y]),U=(0,i.useCallback)((async e=>{!S&&y&&(e.stopPropagation(),l(!0),d.trackGuiEvent("skip_backward_highlights"),await y.tourGoPrevious({resumeIfPlaying:!0}))}),[d,S,y]);return(0,se.jsxs)("div",{className:v()("tour-story-controls",{"minimalist-tour-controls":s}),children:[(0,se.jsx)(le,{tourPlaying:o,currentStep:t,highlights:r,tourTransitioning:R}),!s&&(0,se.jsx)(p.$,{icon:"dpad-left",className:"story-tour-previous-cta",variant:f.A.TERTIARY,size:f.M.SMALL,disabled:A,ariaLabel:_,tooltip:_,onClick:U}),!s&&(0,se.jsx)(p.$,{className:"tour-story-play-pause",icon:T,variant:f.A.TERTIARY,size:f.M.SMALL,disabled:A,ariaLabel:b,tooltip:b,onClick:S?void 0:C}),!s&&(0,se.jsx)(p.$,{icon:"dpad-right",className:"story-tour-next-cta",variant:f.A.TERTIARY,size:f.M.SMALL,disabled:A,ariaLabel:O,tooltip:O,onClick:x}),M&&o&&!h&&!s?(0,se.jsx)("span",{className:v()("tour-control-label",{active:o}),children:M}):null]})}const ge=(0,k.u)(ne.F,"reelOpen",!1);var ve=n(94799);function ye(e){const{reelEnabled:t,activeTool:n,disabled:r,tourMode:o}=e,s=(0,Z.Y)(),a=(0,ce.s)(),l=ge(),c=(0,ve.j)(J.XQ),u=(0,i.useCallback)((()=>{const e=l?"hide_":"show_";a.trackToolGuiEvent("hlr",e+"highlight_reel"),c.toggleReel(!l)}),[l,a,c]),d=o===w.cR.STORIES;if(!t||d&&n!==A.S0.HLR)return null;const h=l?s.t(E.A.CLOSE_HIGHLIGHTS):s.t(E.A.OPEN_HIGHLIGHTS),m=l?"dpad-down":"dpad-up",g=v()("highlight-button",{"hlr-expanded":l});return(0,se.jsx)(p.$,{disabled:r,className:g,onClick:u,tooltip:h,ariaLabel:h,"aria-expanded":l?"true":"false",icon:m,theme:"overlay",variant:f.A.TERTIARY})}function Ee(e,t=null){return(0,ee.F)().getOverrideParam(e,t)}var Se=n(56208),be=n(19702);function _e(){const e=(0,Y.i)(Se.Q$.HighlightReel,!0),t=Ee(be.D,be.np);return e&&t!==be.g}(0,te.c)("reelEnabled",_e);function Oe(){const e=(0,Y.i)(Se.Q$.TourButtons,!0),t=Ee(be.no,be.XJ),n=Ee(be.Cs,be.ky);return e&&t!==be.wo&&n!==be.NN}(0,te.c)("tourEnabled",Oe);function Te(e){const{activeTool:t,handlePlayPause:n,highlights:i,hideReel:r,tourPlaying:o}=e,s=(0,Z.Y)(),a=(0,q.B)(),l=_e()&&!r||a,c=Oe()||a;if(!l&&!c)return null;const u=0===i.length,d=a||!u,h=o?s.t(E.A.PAUSE):s.t(E.A.PLAY),m=o?"pause-outline":"play";return(0,se.jsxs)("div",{className:"highlight-tour-controls",children:[l&&(0,se.jsx)(ye,{disabled:!d,activeTool:t,reelEnabled:l,tourMode:w.cR.LEGACY}),c&&(0,se.jsx)(p.$,{disabled:u,active:o,onClick:n,variant:f.A.TERTIARY,theme:"overlay",className:"tour-controls",ariaLabel:h,icon:m,tooltip:h})]})}const Ae=new c.Vy("preview-tour"),{HLR:we}=E.A.WORKSHOP;function Ne(){const e=(0,I.S)(J.Xf),t=(0,Z.Y)(),n=(0,de.H)(),r=0===j(),o=(0,i.useCallback)((async()=>{if(!r)try{e?.startTour()}catch(e){Ae.debug(e)}}),[e,r]),s=t.t(we.PREVIEW_SETTINGS_CTA),a=n?void 0:s,l=n?s:void 0;return(0,se.jsx)(p.$,{icon:"play-unicode",label:a,tooltip:l,disabled:r,size:f.M.SMALL,theme:"dark",className:"preview-tour-button",variant:f.A.FAB,onClick:o})}const Ie=new c.Vy("tour-controls");function Re(e){const{activeTool:t,currentStep:n,hideReel:r,toolPanelLayout:o,tourMode:s,tourPlaying:a,highlights:l,hasTours:c,minimalistMode:u=!1}=e,d=(0,q.B)(),h=(0,ce.s)(),p=(0,I.S)(J.Xf),{outOfScope:f}=(0,i.useContext)(N),m=async()=>{if(0===l.length)return;const e=a?"pause_highlights":"play_highlights";h.trackGuiEvent(e);try{a?p?.stopTour():p?.startTour()}catch(e){Ie.debug(e)}},g=t===A.S0.HLR,v=t===A.S0.SEARCH,y=t===A.S0.LAYERS,E=s===w.cR.NONE,S=!!t&&!(g||v||y),b=()=>{if(d){const e=o===A.L$.BOTTOM_PANEL||o===A.L$.NARROW;if(t===A.S0.MESH_TRIM)return!1;if(e&&S)return!1}else{if(0===l.length&&!c||E||S)return!1}return!0};return(0,O.ML)("keydown",(e=>{const t=e.target;f||!b()||"CANVAS"!==t.tagName&&"BODY"!==t.tagName||(a||e.keyCode===T.D.SPACE)&&(e.stopPropagation(),m())})),g&&!a?(0,se.jsx)(Ne,{}):b()?s===w.cR.STORIES?(0,se.jsx)(me,{currentStep:n,highlights:l,tourPlaying:a,handlePlayPause:m,minimalistMode:u}):!u&&(0,se.jsx)(Te,{activeTool:t,handlePlayPause:m,highlights:l,hideReel:r,tourPlaying:a})||null:null}var ke=n(46793),Le=n(39209),Pe=n(11180),De=n(66806);const Me=new c.Vy("floor-controls-switch-floor");function Ce(e){let{name:t,id:n,active:r,theme:o="dark"}=e;const s=(0,I.S)(J.QW),a=(0,I.S)(J.Xf),l=(0,ce.s)(),c=(0,i.useCallback)((async()=>{l.trackGuiEvent("floor_clicked"),s&&async function(e,t,n,i){try{await(null==i?void 0:i.stopTour());const r=null===e?"click_toggle_all_floors_button":"click_floor_select_button";t.trackGuiEvent(r),await n.moveToFloor(e,{})}catch(e){Me.debug(e)}}(n||null,l,s,a)}),[l,s,n,a]);return(0,se.jsx)(p.$,{className:"floor-button",label:t,variant:f.A.TERTIARY,size:f.M.SMALL,theme:o,onClick:c,active:r})}var xe=n(39066),Ue=n(39188);function Fe(e){const{currentFloor:t,floors:n}=e,r=(0,Z.Y)(),o=(0,ce.s)(),s=(0,Pe.x)(),a=(0,Ue.m)(),l=s!==De.N.Panorama&&a,c=(0,i.useRef)(null);(0,Q.J)(X.e0,(()=>{c.current?.closeMenu()}));const u=(0,i.useCallback)((()=>{o.trackGuiEvent("floor_controls")}),[o]),d=t&&t.index+1,h=r.t(E.A.HELP_MORE_FLOORS_A),p=v()("floor-controls",{"two-digit":void 0!==d&&d>=10}),m=d?"floor-controls":"floor-controls-all",g=n.map((e=>{const{id:n,name:i}=e,r=t?.id===n;return(0,se.jsx)(Ce,{id:n,name:i,active:r},n)}));return l&&g.push((0,se.jsx)(Ce,{name:r.t(E.A.FLOOR_ALL),active:!t},"all")),g.reverse(),(0,se.jsx)(xe.y,{buttonClassName:p,buttonDataAttribute:d?.toString(),onClick:u,variant:f.A.TERTIARY,ariaLabel:h,tooltip:h,icon:m,theme:"overlay",menuClassName:"floor-controls-menu",menuTheme:"dark",menuPlacement:"top",ref:c,children:g})}var He=n(93900),Ge=n(39833);function Be(e){const t=(0,He.Y)(),n=(0,Pe.x)(),i=(0,Ge.X)(),r=(0,Ue.m)(),o=(0,Z.Y)(),s=t.map((e=>{const{id:t,name:n}=e,r=i?.id===t;return(0,se.jsx)(Ce,{id:t,name:n,active:r,theme:"light"},t)})).reverse();n!==De.N.Panorama&&r&&s.unshift((0,se.jsx)(Ce,{name:o.t(E.A.FLOOR_ALL),active:!i,theme:"light"},"all"));const a=v()("floor-menu-selector",e.className),l=i?.name||o.t(E.A.FLOOR_ALL);return(0,se.jsx)(xe.y,{buttonClassName:a,variant:f.A.TERTIARY,label:l,ariaLabel:l,tooltip:l,theme:"overlay",menuClassName:"floor-controls-menu",menuPlacement:"top",caret:!0,children:s})}class Ve extends i.Component{static contextType=(()=>y.B)();bindings=[];floorsViewData;isUnmounting=!1;constructor(e){super(e),this.state={currentFloorIndicator:!0,floors:[]}}onCurrentFloorChanged=()=>{const e=this.floorsViewData?.currentFloor||void 0,t=e&&this.floorsViewData?.getViewData(e.id);this.setState({currentFloor:t})};onFloorsChanged=()=>{const e=this.floorsViewData?.getNavigableFloorIds(),t=e.map(this.floorsViewData?.getViewData);this.setState({floors:t})};componentDidMount(){const{market:e}=this.context;e&&e.waitForData(Le.X).then((e=>{this.isUnmounting||(this.floorsViewData=e,this.bindings.push(this.floorsViewData.makeFloorChangeSubscription(this.onCurrentFloorChanged),this.floorsViewData.floors.onNameChange(this.onFloorsChanged),this.floorsViewData.navigableFloorIds.onChanged(this.onFloorsChanged)),this.onCurrentFloorChanged(),this.onFloorsChanged())}))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.forEach((e=>{e.cancel()}))}render(){const{className:e,viewmode:t,iconStyle:n}=this.props,{currentFloor:i,floors:r}=this.state;return r.length>1&&t!==ke.w5.OUTSIDE?(0,se.jsxs)("div",{className:v()("floor-selector",e),children:[n&&(0,se.jsx)(Fe,{floors:r,currentFloor:i}),!n&&(0,se.jsx)("span",{className:"divider"}),!n&&(0,se.jsx)(Be,{})]}):null}}var je,We=n(64123);function ze(e){let{name:t,id:n,active:r,onChange:o}=e;const s=(0,ce.s)(),a=(0,i.useCallback)((()=>{const e=(n||"all").toLowerCase();s.trackGuiEvent(`visibility_toggled_${e}`),o(n,!r)}),[r,n,s,o]),l=(0,i.useCallback)((async e=>{a(),e.stopPropagation(),e.preventDefault()}),[a]);return(0,se.jsx)(se.Fragment,{children:(0,se.jsx)(p.$,{className:"visibility-p-button",label:t,variant:f.A.TERTIARY,size:f.M.SMALL,onClick:l,active:!1,children:(0,se.jsx)("span",{className:"toggle-wrapper visibility-p-toggle",onClick:e=>{a(),e.stopPropagation(),e.preventDefault()},children:(0,se.jsx)(We.l,{toggled:r,onToggle:a,enabled:!0,onOffLabel:!1,testId:"VisibilityPToggle"})})})})}function $e(e){const[t,n]=(0,i.useState)(e.visibilityData);(0,i.useEffect)((()=>{n(e.visibilityData)}),[e.visibilityData]);const r=(0,Z.Y)(),o=(0,ce.s)(),s=Object.entries(t).length>1,a=(0,i.useCallback)((()=>{o.trackGuiEvent("toggle_plugin_visibility_controls")}),[o]),l=r.t(E.A.HELP_MORE_EXTRAS_A),c=v()(),u=()=>Object.values(t).every((e=>!!e.visible)),d=(i,r)=>{const o=u();n((e=>Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,{...n,visible:!o}]}))))),e.onToggle(Object.keys(t),!o)},h=(i,r)=>{n((e=>({...e,[i]:!e[i]}))),e.onToggle([i],!t[i].visible)},p=Object.entries(t||{}).map((e=>{let[t,{visible:n}]=e;return(0,se.jsx)(ze,{id:t,name:r.T(je._COMMON_.TITLE,t),active:n,onChange:h},t)}));return s&&p.push((0,se.jsx)(ze,{id:null,name:r.t(E.A.PLUGIN_CHANGE_ALL),active:u(),isHeader:!0,onChange:d},"0-all")),p.push((0,se.jsxs)("div",{className:"menu-header",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:[(0,se.jsx)("span",{className:"title",children:r.t(E.A.PLUGIN_VISIBILITY)}),(0,se.jsx)("span",{className:"show-hide",children:r.t(E.A.PLUGIN_V_TOGGLE_LABEL)})]},"1-header")),p.reverse(),(0,se.jsx)(xe.y,{buttonClassName:c,onClick:a,variant:f.A.TERTIARY,ariaLabel:l,tooltip:l,icon:"visibility",theme:"overlay",menuClassName:"visibility-p-controls-menu",menuTheme:"dark",menuPlacement:"top",children:p})}je||(je={}),function(e){let t,n;!function(e){e.TITLE="TITLE"}(t=e._COMMON_||(e._COMMON_={})),e.COMPASS=Object.assign({},t),e.ROOMPLAN_MINIMAP=Object.assign({},t),e.MINIMAP=Object.assign({},t),e.SALESPERSON_INFO=Object.assign({},t),e.QUICK_LINK=Object.assign({},t),function(e){e.TITLE="TITLE",e.ALL_TAGS="ALL_TAGS",e.HELP="HELP",e.DRAG_DROP_UPLOAD="DRAG_DROP_UPLOAD",e.SELECT_FILE="SELECT_FILE",e.EXPORT="EXPORT",e.IMPORT="IMPORT",e.ERROR_IMPORTING_CSV="ERROR_IMPORTING_CSV",e.CSV_IMPORT_RESULTS="CSV_IMPORT_RESULTS",e.NO_TAGS_IMPORTED="NO_TAGS_IMPORTED",e.TAGS_IMPORTED="TAGS_IMPORTED",e.TAGS_POSITIONED="TAGS_POSITIONED",e.TAGS_NEED_POSITIONING="TAGS_NEED_POSITIONING",e.UPDATES_PROCESSED="UPDATES_PROCESSED",e.UPDATES_DETAIL="UPDATES_DETAIL",e.NO_CHANGES_FOUND="NO_CHANGES_FOUND",e.ATTACHMENTS_IMPORTED_SUCCESS="ATTACHMENTS_IMPORTED_SUCCESS",e.ATTACHMENTS_MISSING_SKIPPED="ATTACHMENTS_MISSING_SKIPPED",e.TAGS_TO_IMPORT="TAGS_TO_IMPORT",e.PLACED="PLACED",e.UNPLACED="UNPLACED",e.DONE="DONE",e.SELECT="SELECT",e.SORT_AS_IMPORTED="SORT_AS_IMPORTED",e.SORT_BY_NAME="SORT_BY_NAME",e.DELETE="DELETE",e.COPY="COPY",e.SELECT_ALL="SELECT_ALL",e.DESELECT_ALL="DESELECT_ALL",e.RESET="RESET",e.BACK="BACK",e.CANCEL="CANCEL",e.REALIGN_TAGS="REALIGN_TAGS",e.RESET_POSITIONS="RESET_POSITIONS",e.SELECT_SOURCE_MODEL="SELECT_SOURCE_MODEL",e.ENTER_SOURCE_MODEL_ID="ENTER_SOURCE_MODEL_ID",e.ERROR_SAME_MODEL="ERROR_SAME_MODEL",e.ERROR_INVALID_LENGTH="ERROR_INVALID_LENGTH",e.ERROR_INVALID_MODEL_ID="ERROR_INVALID_MODEL_ID",e.LOADING_COMPOSER="LOADING_COMPOSER",e.ALIGN_SOURCE_CURRENT="ALIGN_SOURCE_CURRENT",e.ALIGNMENT_COMPLETE="ALIGNMENT_COMPLETE",e.TAGS_REALIGNED="TAGS_REALIGNED",e.RESET_IMPORTED_TAGS="RESET_IMPORTED_TAGS",e.RESET_CONFIRMATION="RESET_CONFIRMATION",e.EXPORT_TAGS="EXPORT_TAGS",e.EXPORT_DESCRIPTION_1="EXPORT_DESCRIPTION_1",e.EXPORT_DESCRIPTION_2="EXPORT_DESCRIPTION_2",e.INCLUDE_POSITIONAL_DATA="INCLUDE_POSITIONAL_DATA",e.POSITIONAL_DATA_HELP="POSITIONAL_DATA_HELP",e.HIDE="HIDE",e.SHOW="SHOW",e.CLOSE="CLOSE",e.SELECT_TAG="SELECT_TAG",e.DUPLICATE_TAG="DUPLICATE_TAG",e.DUPLICATE_TAG_PROMPT="DUPLICATE_TAG_PROMPT",e.SKIP="SKIP",e.KEEP_BOTH="KEEP_BOTH",e.UPDATE="UPDATE",e.APPLY_TO_ALL="APPLY_TO_ALL"}(n=e.IET||(e.IET={}))}(je||(je={}));var Ke=n(78999);const Ye=e=>{let{className:t}=e;const[n,r]=(0,i.useState)({}),[o,s]=(0,i.useState)(!1),a=(0,C.Ez)(Ke.kR);return(0,i.useEffect)((()=>{let e;return(async()=>{if(a){const t=()=>{r(a.visibilityData.deepCopy()),s(a.visibilityData.entries().length>0)};e=a.visibilityData.onChanged(t),t()}})(),()=>{e?.cancel()}}),[a]),o?(0,se.jsx)("div",{className:v()("feature-p-selector",t),children:(0,se.jsx)($e,{visibilityData:n,onToggle:a?.setVisibility.bind(a)})}):null};var qe=n(80303),Qe=n(22213),Xe=n(81088),Je=n(90087);function Ze(){const e=(0,Z.Y)(),t=(0,Je.L)(),n=(0,i.useCallback)((()=>{t.issueCommand(new Xe.X6(Qe.a.VR_SELECT,!0))}),[t]),r=e.t(E.A.VIEW_IN_VR);return(0,se.jsx)(p.$,{className:"view-in-vr",onClick:n,ariaLabel:r,ariaHasPopup:"dialog",tooltip:r,tooltipOptions:{placement:"top"},icon:"vr",theme:"overlay",variant:f.A.TERTIARY})}class et extends i.Component{static contextType=(()=>y.B)();constructor(e){super(e),this.state={fullscreen:d.aS()},document.addEventListener("fullscreenchange",this.onFullScreenChange),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange),document.addEventListener("MSFullscreenChange",this.onFullScreenChange),document.addEventListener("mozfullscreenchange",this.onFullScreenChange)}componentWillUnmount(){document.removeEventListener("fullscreenchange",this.onFullScreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullScreenChange),document.removeEventListener("MSFullscreenChange",this.onFullScreenChange),document.removeEventListener("mozfullscreenchange",this.onFullScreenChange)}handleButtonClick=()=>{const{analytics:e}=this.context;d.aS()?(e.trackGuiEvent("click_exit_fullscreen",{interactionSource:"gui"}),d.Eh()):(e.trackGuiEvent("click_enter_fullscreen",{interactionSource:"gui"}),d.lh(document.body))};onFullScreenChange=e=>{const{mainDiv:t}=this.context,n=d.aS();n?t.classList.add("full-screen"):t.classList.remove("full-screen"),this.setState({fullscreen:n})};render(){const{fullscreen:e}=this.state,t=e?this.context.locale.t(E.A.EXIT_FULLSCREEN):this.context.locale.t(E.A.VIEW_FULLSCREEN),n=e?"fullscreen-exit":"fullscreen";return(0,se.jsx)("div",{className:"fullscreen-mode",children:(0,se.jsx)(p.$,{onClick:this.handleButtonClick,ariaLabel:t,tooltip:t,tooltipOptions:{placement:"top"},icon:n,theme:"overlay",variant:f.A.TERTIARY})})}}var tt=n(35447),nt=n(20246);var it;!function(e){e[e.flash=0]="flash",e[e.expanded=1]="expanded",e[e.collapsed=2]="collapsed"}(it||(it={}));var rt=n(72909),ot=n(68930),st=n(27612),at=n(69485),lt=n(77897),ct=n(58480);function ut(e){var t,n;return(null===(t=e.market.tryGetData(ct.G))||void 0===t?void 0:t.size)||(null===(n=e.mainDiv)||void 0===n?void 0:n.getBoundingClientRect())||{width:window.innerWidth,height:window.innerHeight}}class dt extends i.Component{static contextType=(()=>y.B)();scrollbarRef=(()=>(0,i.createRef)())();resizeSubscription;elementRef=(()=>(0,i.createRef)())();isUnmounting=!1;constructor(e,t){super(e,t),this.state={scrollLeft:0,hideScrollbar:(0,st.c)(ut(t)),scrollPosition:lt.BB.None,scrollable:!1}}componentDidMount(){this.context.market.waitForData(ct.G).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,st.c)(e)})})))})),this.onScrollableChanged(!0),this.onScrollPositionChange(lt.BB.Beginning)}componentWillUnmount(){this.isUnmounting=!0,this.resizeSubscription?.cancel()}componentDidUpdate(e){const{activeElement:t}=this.props;if(null!==t&&e.activeElement!==t){const e=this.scrollbarRef.current;e&&e.scrollToElement(t)}}onScrollableChanged=e=>{this.setState({scrollable:e})};onScrollPositionChange=e=>{this.setState({scrollPosition:e})};setSorting(e){const t=this.elementRef.current;if(t)if(e){if(t.classList.add("sorting"),this.props.mobile){const e=this.scrollbarRef.current;e&&e.pauseScrollHandling()}}else t.classList.remove("sorting")}getScrollableContainer=()=>{const e=this.scrollbarRef.current,t=e?.getScrollableContainer();return t||void 0};handleHighlightClickable=()=>{this.props.highlightClickable(!0)};render(){const{thumbScrollingOnly:e,children:t,totalSteps:n}=this.props,{hideScrollbar:i,scrollPosition:r,scrollable:o}=this.state,s=v()({scrollable:o,[r]:!0});return(0,se.jsx)("div",{id:"reel",className:s,ref:this.elementRef,children:(0,se.jsx)(at.A,{direction:lt.OP.horizontal,ref:this.scrollbarRef,hideScrollbar:i,thumbScrollingOnly:e,waitToUpdate:0===n,handleClick:this.handleHighlightClickable,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange,children:t})})}}var ht=n(13893),pt=n(14804),ft=n(74771),mt=n(40104),gt=n(9241),vt=n(80855),yt=n(47737);function Et(e){let{highlight:t}=e;const n=(0,C.Ez)(yt.P),i=(0,ft.Ym)(),r=t.snapshot.sourceViewId,o=n?.getDefurnishView()?.id,s=o&&r===o,a=(0,tt.p_)(t);return s||a?(0,se.jsxs)("span",{className:"highlight-icons",children:[a&&(0,se.jsx)(St,{name:"sparkle",tooltip:i.t(E.A.WORKSHOP.HLR.AUTO_GENERATED)}),s&&(0,se.jsx)(St,{name:"furniture-slash",tooltip:i.t(E.A.WORKSHOP.HLR.DEFURNISHED)})]}):null}function St(e){let{name:t,tooltip:n}=e;const[r,o]=(0,i.useState)(null);return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(mt.I,{ref:o,name:t,size:gt.l.SMALL}),(0,se.jsx)(vt.m,{target:r,title:n})]})}const{HLR:bt}=E.A.WORKSHOP;class _t extends i.Component{static contextType=(()=>y.B)();element;editHighlight=e=>{e.stopPropagation(),this.props.onClickHighlight(this.props.index,!0)};removeHighlight=e=>{e.stopPropagation(),this.props.onRemoveHighlight&&this.props.onRemoveHighlight(this.props.highlight.id)};onClickHighlight=e=>{e.preventDefault(),this.props.onClickHighlight(this.props.index,!1)};setContainerRef=e=>{const{index:t,getRef:n}=this.props;this.element=e,n&&n(t,this.element)};renderTransitionSettings(){const{locale:e}=this.context,{transitionType:t,panDirection:n,index:i}=this.props,r=n!==R.ND.Auto;let o="pan-auto",s=e.t(bt.PAN_DIRECTION_SETTING_AUTO);n===R.ND.Left?(o="icon icon-rotate-left",s=e.t(bt.PAN_DIRECTION_SETTING_LEFT)):n===R.ND.Right&&(o="icon icon-rotate-right",s=e.t(bt.PAN_DIRECTION_SETTING_RIGHT));let a="";return t===ht.fl.FadeToBlack?a=e.t(bt.TRANSITION_SETTING_SLIDESHOW):t===ht.fl.Interpolate&&(a=e.t(bt.TRANSITION_SETTING_WALKTHROUGH)),(0,se.jsxs)("div",{className:"transition-settings",children:[(0,se.jsxs)("span",{className:"transition-type",children:[i+1," - ",a]}),(0,se.jsx)("span",{className:"pan-direction-type",children:s}),r&&(0,se.jsx)("span",{className:`pan-icon ${o}`})]})}renderImageBar(){const{locale:e}=this.context,{highlight:t,editable:n}=this.props,i=t.snapshot.is360,r=t.snapshot.metadata.cameraMode,o="string"==typeof t.sourceViewId,s=this.getMarker(r,i,o)??"",a=e.t(bt.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE),l=e.t(bt.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE);return(0,se.jsxs)("div",{className:"image-bar",children:[(0,se.jsx)("span",{className:v()("highlight-marker",{[s]:!n})}),n&&(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(p.$,{className:"highlight-remove",onClick:this.removeHighlight,tooltip:a,ariaLabel:a,icon:"delete",theme:"overlay",variant:f.A.FAB}),(0,se.jsx)(Et,{highlight:t}),(0,se.jsx)(p.$,{className:"highlight-edit",onClick:this.editHighlight,tooltip:l,ariaLabel:l,icon:"toggle-pencil",theme:"overlay",variant:f.A.FAB})]})]})}getMarker(e,t,n){return n?"icon-furniture-slash":e===De.N.Dollhouse||e===De.N.Floorplan?null:t?"icon-360":"icon-panorama"}render(){const{highlight:e,active:t,editable:n}=this.props,i=e.snapshot.name,r=!!i||n;return(0,se.jsxs)("div",{className:v()("highlight-box",{active:t,editable:n}),onClick:this.onClickHighlight,ref:this.setContainerRef,children:[(0,se.jsx)(pt.q,{aspectRatio:e.snapshot.aspectRatio,resource:e.snapshot.thumbnailUrl,className:"highlight-image"}),this.renderImageBar(),n&&this.renderTransitionSettings(),(0,se.jsx)("div",{className:v()("image-name",{shadowed:r}),children:(0,se.jsx)("span",{className:"static-text",role:"listitem","aria-label":i||"highlight",children:i})})]})}}class Ot extends i.Component{highlights=[];constructor(e){super(e)}componentDidUpdate(e){e.currentStep!==this.props.currentStep&&this.props.setActiveElement(this.highlights[this.props.currentStep])}render(){const{highlights:e}=this.props;return e&&e.length?(0,se.jsx)(this.highlightList,{items:e}):null}highlightList=e=>{const{currentStep:t,onHighlightClicked:n}=this.props;return(0,se.jsx)("div",{className:"hlr-container",children:(0,se.jsx)("div",{className:"highlights",role:"list",children:e.items.map(((e,i)=>(0,se.jsx)(_t,{highlight:e,index:i,active:i===t,editable:!1,onClickHighlight:n,getRef:this.addHighlightRef},`${e.id}_${i}`)))})})};addHighlightRef=(e,t)=>{this.highlights[e]=t,e===this.props.currentStep&&this.props.setActiveElement&&this.props.setActiveElement(t)}}var Tt,At,wt;const Nt=new c.Vy("highlight-reel");let It=(Tt=Reflect.metadata("design:type",Function),At=Reflect.metadata("design:paramtypes",["undefined"==typeof ReelReadOnlyProps?Object:ReelReadOnlyProps]),(0,rt.A)(wt=Tt(wt=At(wt=class extends i.Component{static contextType=(()=>y.B)();bindings=[];mobile=(()=>(0,d.Fr)())();highlightClickable;constructor(e){super(e),this.state={activeElement:null}}componentWillUnmount(){this.bindings.forEach((e=>{e.cancel()}))}render(){const{activeStep:e,highlights:t,totalSteps:n}=this.props;return(0,se.jsx)("div",{id:"reel-container",children:(0,se.jsx)(dt,{totalSteps:n,activeElement:this.state.activeElement,mobile:this.mobile,highlightClickable:this.setHighlightClickable,thumbScrollingOnly:!1,children:(0,se.jsx)(Ot,{highlights:t,currentStep:e,onHighlightClicked:this.onHighlightClicked,setActiveElement:this.setActiveElement})})})}setActiveElement=e=>{this.setState({activeElement:e})};setHighlightClickable=(e=>this.highlightClickable=e).bind(this);onHighlightClicked=async e=>{const{analytics:t}=this.context;if(this.highlightClickable)try{const n=await this.context.engine.getModuleBySymbol(J.Xf);this.props.tourPlaying&&await n.stopTour(),this.props.transition.active||(t.trackToolGuiEvent("hlr","click_highlight"),await n.tourGoTo(e).catch((e=>{if(!(e instanceof ot.K))throw e;Nt.warn(e.message)})),this.setHighlightClickable(!1))}catch(e){Nt.debug(e)}}})||wt)||wt)||wt);const{HLR:Rt}=E.A.SHOWCASE;class kt extends i.Component{static contextType=(()=>y.B)();render(){const{locale:e}=this.context,t=e.t(Rt.EMPTY_REEL_LEARN_MORE),n=e.t(Rt.EMPTY_REEL_TITLE),i=e.t(Rt.EMPTY_REEL_MESSAGE);return(0,se.jsx)("div",{className:"empty-reel",children:(0,se.jsxs)("div",{className:"no-highlights-message",children:[(0,se.jsx)("p",{children:n}),(0,se.jsxs)("p",{children:[i,(0,se.jsx)("a",{className:"link",target:"_blank",href:"https://support.matterport.com/hc/en-us/articles/360019401733",children:t})]})]})})}}function Lt(){const e=F(),t=$(),n=t===W.Paused,r=t===W.Idle,o=(0,i.useRef)(null),s=(0,i.useRef)(0);if(r)return s.current=0,s.current;if(!n)return s.current;if(e===o.current)return s.current;if(!R.h9.includes(e.type))return s.current;const{started:a,stopped:l,duration:c}=e,u=(l-a)/c,d=s.current+u*(1-s.current);return o.current=e,s.current=d,d}function Pt(e){let{index:t}=e;const n=j(),r=Lt(),o=$(),s=P(),a=H(),l=function(){var e,t;const n=F(),r=(0,i.useRef)(null);return R.h9.includes(n.type)?n.toIndex===(null===(t=r.current)||void 0===t?void 0:t.toIndex)?r.current.duration:(r.current=n,n.duration):(null===(e=r.current)||void 0===e?void 0:e.duration)||0}(),c=a.duration,u=a.toIndex,d=u===t,h=s===t,p=["story-tour-progress-bar"];if(o===W.Skipping)t>=u?p.push("story-tour-progress-bar--incomplete"):p.push("story-tour-progress-bar--complete");else if(h)switch(o){case W.Completed:p.push("story-tour-progress-bar--complete");break;case W.Playing:p.push("story-tour-progress-bar--playing");break;case W.Paused:p.push("story-tour-progress-bar--paused");break;case W.Rewinding:p.push("story-tour-progress-bar--rewinding");break;case W.FastForwarding:p.push("story-tour-progress-bar--fast-forwarding");break;case W.Idle:p.push("story-tour-progress-bar--incomplete")}else s===n-1&&0===u?p.push("story-tour-progress-bar--complete"):d&&o===W.Rewinding?p.push("story-tour-progress-bar--full-rewinding"):t<s?p.push("story-tour-progress-bar--complete"):t>s&&p.push("story-tour-progress-bar--incomplete");const f={};if(h&&(o===W.Playing||o===W.Paused?f.animationDuration=`${l}ms`:o===W.FastForwarding&&(f.animationDuration=`${c}ms`)),o===W.Rewinding){const e=r/(r+1);h&&d?f.animationDuration=`${c}ms`:h?f.animationDuration=e*c+"ms":d&&(f.animationDuration=(1-e)*c+"ms",f.animationDelay=e*c+"ms")}return(0,se.jsx)("div",{className:v()(...p),style:f})}function Dt(){const e=Lt();return(0,i.useEffect)((()=>{document.documentElement.style.setProperty("--currentTourScenePosition",100*e+"%")}),[e]),null}function Mt(e){const{snapshot:t,numberOfHighlights:n,currentIndex:i,xOffset:r}=e,{name:o}=t,s=i===n-1,a={};0===i?(a.left="15px",a.transform="none"):s?(a.right="10px",a.transform="none"):a.left=`${r}px`;const l=v()("highlight-box","active"),c=v()("image-name",{shadowed:!!o});return(0,se.jsxs)("div",{style:a,className:l,children:[(0,se.jsx)(pt.q,{aspectRatio:t.aspectRatio,resource:t.thumbnailUrl,className:"highlight-image"}),(0,se.jsx)("div",{className:c,children:(0,se.jsx)("span",{className:"static-text",children:o})})]})}class Ct extends i.Component{static contextType=(()=>y.B)();scrollbarRef=(()=>(0,i.createRef)())();reelRef=(()=>(0,i.createRef)())();constructor(e){super(e),this.state={focusedIndex:-1,xOffset:0,scrollLeft:0,scrollPosition:lt.BB.None,scrollable:!1}}componentDidUpdate(){const{activeStep:e,tourPlaying:t}=this.props,n=this.scrollbarRef.current;if(n&&!n.isDragging&&t){const t=this.reelRef.current?.querySelector(`#highlightbar_${e}`);t&&n.scrollToElement(t)}}onClickSceneBar=async e=>{e.preventDefault();const t=e.target.getAttribute("data-index");if(t){const e=parseInt(t,10),{tourPlaying:n,transition:i}=this.props,{analytics:r,engine:o}=this.context;try{const t=await o.getModuleBySymbol(J.Xf);n&&await t.stopTour({willResume:!0}),i.active||(r.track("showcase_gui",{gui_action:"click_scene_bar"}),await t.tourGoTo(e),n&&await t.startTour({index:e}))}catch(e){}}};onEnterSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){const n=parseInt(t,10);this.setState({focusedIndex:n,xOffset:e.clientX})}};onLeaveSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){parseInt(t,10)===this.state.focusedIndex&&this.setState({focusedIndex:-1})}};renderSceneBar(e,t){const{focusedIndex:n}=this.state,i=v()("highlight-bar",{"highlight-bar-hover":t<=n});return(0,se.jsx)("div",{id:`highlightbar_${t}`,className:"highlight-compacted","data-index":t,onClick:this.onClickSceneBar,onMouseEnter:this.onEnterSceneBar,onMouseLeave:this.onLeaveSceneBar,onMouseMove:this.onEnterSceneBar,children:(0,se.jsx)("div",{className:i,children:(0,se.jsx)(Pt,{index:t})})},`${e.id}_bar_${t}`)}renderHighlightBox(){const{focusedIndex:e,xOffset:t}=this.state;if(-1===e)return null;const{highlights:n}=this.props,i=n[e];return(0,se.jsx)(Mt,{snapshot:i.snapshot,numberOfHighlights:n.length,currentIndex:e,xOffset:t})}onScrollableChanged=e=>{this.setState({scrollable:e})};onScrollPositionChange=e=>{this.setState({scrollPosition:e})};render(){const{highlights:e,tourPlaying:t}=this.props;return(0,se.jsxs)("div",{className:v()("tour-story-reel",{"tour-playing":t}),ref:this.reelRef,children:[(0,se.jsx)(Dt,{}),(0,se.jsx)(at.A,{direction:lt.OP.horizontal,ref:this.scrollbarRef,hideScrollbar:!0,thumbScrollingOnly:!1,waitToUpdate:0===e.length,handleClick:this.onClickSceneBar,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange,children:(0,se.jsx)("div",{className:"highlights",children:e.map(((e,t)=>this.renderSceneBar(e,t)))})}),this.renderHighlightBox()]})}}class xt extends i.PureComponent{static contextType=(()=>y.B)();handleClick=()=>{this.context.analytics.trackToolGuiEvent("hlr","tour_progress");const{reelOpen:e}=this.props;e||this.context.engine.tryGetModuleBySymbolSync(J.XQ)?.toggleReel(!0)};getTourSteps(){const{totalSteps:e,activeStep:t}=this.props,n=[];for(let i=0;i<e;i++)n.push((0,se.jsx)("div",{className:v()({active:i===t})},i.toString()));return n}render(){const{reelOpen:e,tourPlaying:t,activeStep:n,totalSteps:i}=this.props,r=n+1+"/"+i,o=-1!==n&&!e&&r,s=-1!==n&&e&&t;return i>0?(0,se.jsxs)("div",{id:"tour-progress",className:v()({"faded-in":t,"full-width":e}),onClick:this.handleClick,"data-balloon":o,"data-balloon-pos":"right","data-balloon-size":"xs",children:[s&&(0,se.jsx)("div",{className:"progress-number",children:r}),-1!==n&&(0,se.jsx)("div",{className:"progress-bar",children:this.getTourSteps()})]}):null}}function Ut(e){const{activeStep:t,highlights:n,openTool:i,tourMode:r,tourPlaying:o,transition:s}=e,a=ge(),l=i===A.S0.HLR;if(r===w.cR.STORIES)return l&&!o?null:(0,se.jsx)(Ct,{highlights:n,tourPlaying:o,activeStep:t,transition:s});{const e=a&&(!l||o),i=n?.length||0,r=0===i;return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(m.w,{className:v()("highlight-reel",{"reel-empty":r,closed:!e}),open:e,children:r?(0,se.jsx)(kt,{}):(0,se.jsx)(It,{highlights:n,tourPlaying:o,activeStep:t,totalSteps:i,transition:s})}),o&&(0,se.jsx)(xt,{activeStep:t,tourPlaying:o,totalSteps:i,reelOpen:a})]})}}const Ft=new c.Vy("pause-button");class Ht extends i.Component{justEnded=!1;static contextType=(()=>y.B)();constructor(e){super(e),this.state={justPaused:!1}}componentDidUpdate(){this.state.justPaused&&this.setState({justPaused:!1}),this.justEnded=!1}UNSAFE_componentWillReceiveProps(e){!this.props.tourPlaying||e.tourPlaying||this.justEnded||this.setState({justPaused:!0}),this.props.tourEnded&&(this.justEnded=!0)}stopTour=async e=>{this.context.analytics.trackGuiEvent("tour_stopped");try{this.context.engine.getModuleBySymbol(J.Xf).then((e=>e.stopTour()))}catch(e){Ft.debug(e)}};render(){const{tourPlaying:e}=this.props,{justPaused:t}=this.state;return(0,se.jsx)("div",{id:"pause-button",onClick:this.stopTour,onTouchMove:this.stopTour,onTouchStart:this.stopTour,"data-cy":"pause-button",children:!e&&(0,se.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNDIgMEMxOC43OSAwIDAgMTguNzkgMCA0MnMxOC43OSA0MiA0MiA0MiA0Mi0xOC43OSA0Mi00MlM2NS4yMSAwIDQyIDB6IiBmaWxsLW9wYWNpdHk9Ii4yNSIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTUxLjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6TTM0LjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",className:v()({justPaused:t}),alt:"","aria-hidden":"true"})})}}var Gt=n(48411),Bt=n(2254);function Vt(e){let{active:t,nudgeDisabled:n=!1,className:r,theme:o="overlay",variant:s=f.A.TERTIARY,size:a,...l}=e;const{outOfScope:c}=(0,i.useContext)(N);return(0,se.jsx)("div",{className:r,children:(0,se.jsx)(Bt.Y,{...l,nudgeDisabled:c||n,variant:s,theme:o,active:t,featured:!0,nudgeClassName:"collapsible-nudge-button-tooltip"})})}function jt(){const e=(0,ce.s)(),t=(0,Je.L)(),n=(0,Z.Y)(),i=(0,Gt.T)()===A.S0.NOTES,r=n.t(E.A.NOTES_MODE);return(0,se.jsx)(Vt,{className:"notes-mode-button",icon:"comment-outline",active:i,onClick:()=>{const n=!i;n&&e.trackGuiEvent("notes_mode_click_open"),t.issueCommand(new h.yU(A.S0.NOTES,n))},tooltip:r,nudgeDisabled:!0},"notes-mode-button")}var Wt=n(87419),zt=n(5013);function $t(e){const t=(0,zt.M)(),[n,r]=(0,i.useState)((null==t?void 0:t.getPolicy(e))||null);return(0,i.useEffect)((()=>{if(!t)return()=>{};function n(){r((null==t?void 0:t.getPolicy(e))||null)}const i=t.onChanged(n);return n(),()=>null==i?void 0:i.cancel()}),[t,e]),n}var Kt,Yt=n(56547),qt=n(62876),Qt=n(47613);function Xt({editMode:e=!1,includeDefurnish:t=!1,includeDisabled:n=!1}={}){const r=(0,Qt._)(),o=(0,Y.i)(qt._H,!1),s=!!Ee(Wt.bx,!1),[a,l]=(0,i.useState)([]);return(0,i.useEffect)((()=>{if(!r)return()=>{};function i(){e&&(null==r?void 0:r.mdsContext.isPrivateSession)?l([r.getInitialView()]):l((null==r?void 0:r.getOrderedModelViews({includeDefurnish:t||s,includeInsights:o,includeDisabled:n||e}))||[])}const a=r.onModelViewsChanged(i),c=r.onPropertyChanged("currentViewId",i);return i(),()=>{null==a||a.cancel(),null==c||c.cancel()}}),[e,t,n,s,o,r]),a}function Jt(){const e=Xt({includeDefurnish:!0,editMode:(0,q.B)()}).filter((e=>(0,Yt.AF)(e)))||[];return e.sort(((e,t)=>t.created.getTime()-e.created.getTime())),e[0]}function Zt(e){const t=!!Jt(),n=(0,q.B)(),i=(0,Y.i)(Se.Q$.DefurnishView,!1),r=(0,Y.i)(Wt.cB,!1),o=!!$t(Wt.NT);return r&&(o||"viewer"===e)&&(i&&t||n)}function en(e=Kt.Default){const t=Zt("viewer");if(e===Kt.Default)return{show:5e3,dismiss:1e4};const n=[Kt.Defurnish,Kt.Measurements,Kt.FloorplanMode,Kt.DollhouseMode],i=new Map;let r=5e3;return n.forEach((e=>{(e=>e!==Kt.Defurnish||t)(e)&&(i.set(e,{show:r,dismiss:1e4}),r+=2e4)})),i.has(e)?i.get(e):{show:Number.MAX_SAFE_INTEGER,dismiss:1}}!function(e){e[e.Default=0]="Default",e[e.DollhouseMode=1]="DollhouseMode",e[e.FloorplanMode=2]="FloorplanMode",e[e.Measurements=3]="Measurements",e[e.Defurnish=4]="Defurnish"}(Kt||(Kt={}));var tn=n(38039);function nn(){const e=(0,ce.s)(),t=(0,Je.L)(),n=(0,Z.Y)(),i=(0,Gt.T)(),r=i===A.S0.MEASUREMENTS,o=n.t(E.A.TOOLS.MEASUREMENTS),s=n.t(E.A.MEASUREMENT_NUDGE_TITLE),a=n.t(E.A.MEASUREMENT_NUDGE_MESSAGE),l=K.Y.MeasurementUserNudgeSeen,c=tn.Z,{show:u,dismiss:d}=en(Kt.Measurements);return(0,se.jsx)(Vt,{className:"measure-mode-button",icon:"tape-measure",active:r,onClick:()=>{const n=!r;n&&e.trackToolGuiEvent("measurements","measure_mode"),t.issueCommand(new h.yU(A.S0.MEASUREMENTS,n))},tooltip:o,nudgeDisabled:!!i,nudgeFeatureKey:c,nudgeTitle:s,nudgeMessage:a,nudgeLocalStorage:l,onNudgeDismissed:()=>{e.trackGuiEvent("measurement_nudge_dismissed")},showTimeout:u,dismissTimeout:d},"measure-mode-button")}var rn,on,sn,an=n(94448);let ln=function(e){return e.UP="up",e.DOWN="down",e}({}),cn=(rn=Reflect.metadata("design:type",Function),on=Reflect.metadata("design:paramtypes",["undefined"==typeof DropdownProps?Object:DropdownProps]),(0,rt.A)(sn=rn(sn=on(sn=class extends i.Component{elementRef=(()=>(0,i.createRef)())();static defaultProps=(()=>({direction:ln.DOWN}))();transitionTimeout;constructor(e){super(e),this.state={open:!1,transitioning:!1}}componentWillUnmount(){window.removeEventListener("click",this.onOutsideClick)}onOutsideClick=e=>{this.toggleDropdown(!1)};onToggleClick=e=>{e.stopPropagation(),this.toggleDropdown()};onTransitionEnd=e=>{e&&e.target!==e.currentTarget||(window.clearTimeout(this.transitionTimeout),this.setState({transitioning:!1}))};toggleDropdown=e=>{const{open:t}=this.state,n=void 0!==e?e:!t;n?window.addEventListener("click",this.onOutsideClick):window.removeEventListener("click",this.onOutsideClick),this.transitionTimeout=window.setTimeout(this.onTransitionEnd,1e3),this.setState({open:n,transitioning:!0})};render(){const{open:e,transitioning:t}=this.state,{children:n,className:i,direction:r,...o}=this.props,s={up:r===ln.UP,open:e,transitioning:t};return(0,se.jsxs)("div",{ref:this.elementRef,className:v()("dropdown",s,i),...o,children:[(0,se.jsx)("div",{className:"dropdown-mask",children:(0,se.jsx)("div",{className:"dropdown-menu",onTransitionEnd:this.onTransitionEnd,children:n})}),(0,se.jsx)("div",{className:"dropdown-toggle",children:(0,se.jsx)(an.K0,{iconClass:"icon-toolbar-more-horiz",onClick:this.onToggleClick,className:"dropdown-toggle"})})]})}})||sn)||sn)||sn);const un="offsetWidth",dn="collapsed";function hn(e,t,n){const r=[];return i.Children.forEach(e,((e,o)=>{("expanded"===n?o<t:o>=t)&&r.push((0,se.jsx)(i.Fragment,{children:e},o))})),r}function pn(e){const t=(0,i.useRef)(null),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(null),{leftControls:s,rightControls:a,className:l,highPriorityLeftControlIndices:c,...u}=e,[d,h]=(0,i.useState)(0),p=s.concat(a);(0,i.useEffect)((()=>{const e=o.current?.elementRef.current,s=t.current,a=n.current,l=r.current;if(!(s&&a&&e&&l))return;const u=s.children,f=a.children,m=l.children;if(!u||u.length!==f.length)return;const g=()=>{for(const e of u)e.classList.remove(dn);for(const e of f)e.classList.remove(dn);for(const e of m)e.classList.remove(dn);const t=s[un],n=e[un]||0;let r=0,o=0;for(let e=0;e<u.length;e++){let i=u[e][un]||0;o||e!==u.length-1||(i-=n),r+=i,r>t&&o++}o!==d&&h(o);const a=i.Children.count(p)-o;for(let e=0;e<u.length;e++){const t=e<a,n=e>=a&&c.includes(e);t?f[e].classList.add(dn):u[e].classList.add(dn),n?(f[e].classList.add(dn),u[e].classList.add(dn)):m[e].classList.add(dn)}};g();const v=new ResizeObserver(g);return v.observe(s),()=>{if(v.disconnect(),!s||!l)return;const e=s.querySelectorAll(`.${dn}`);Array.from(e).forEach((e=>e.classList.remove(dn)));const t=l.querySelectorAll(`.${dn}`);Array.from(t).forEach((e=>e.classList.remove(dn)))}}));const f=`collapsible-list ${l}`,m={hidden:0===d};if(!p||!Array.isArray(p))return p;const g=i.Children.count(p)-d,y=hn(p,g,"expanded"),E=hn(p,g,"collapsed"),S=c.length>0;return(0,se.jsxs)("div",{className:"collapsible-list-container",children:[(0,se.jsxs)("div",{className:v()(f),...u,children:[(0,se.jsxs)("div",{ref:t,className:"collapsible-list-items",children:[(0,se.jsx)(N.Provider,{value:{outOfScope:!1},children:y}),(0,se.jsx)(N.Provider,{value:{outOfScope:!0},children:E})]}),(0,se.jsx)(cn,{ref:o,direction:ln.UP,className:v()(m),children:(0,se.jsxs)("div",{ref:n,className:"collapsible-list-menu",children:[(0,se.jsx)(N.Provider,{value:{outOfScope:!0},children:y}),(0,se.jsx)(N.Provider,{value:{outOfScope:!1},children:E})]})})]}),S&&(0,se.jsx)("div",{ref:r,className:"high-prio-overflow",children:p})]})}var fn=n(57447),mn=n(68419),gn=n(91977),vn=n(26432),yn=n(93702),En=n(35404),Sn=n(41616),bn=n(54866),_n=n(49812);var On=n(30901);const Tn=()=>{const e=(0,_n.h)(),t=(0,On.t)(),n=function(){const e=(0,Qt._)(),[t,n]=(0,i.useState)(null==e?void 0:e.getBaseModelId());return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){n(null==e?void 0:e.getBaseModelId())}const i=e.onModelViewsChanged(t);return t(),()=>null==i?void 0:i.cancel()}),[e]),t}(),r=(0,Y.i)(En.k5,"");if(r&&(null==e?void 0:e.model.hasDiscoverUrl())){const e=new URL(`${r}${n}`,"https://matterport.com");return t&&t!==n&&e.searchParams.set("view",t),e.toString()}return null};var An=n(25773);var wn=n(87263),Nn=n(10389);const In="https://matterport.com";function Rn(){const e=(0,Sn.a)(),t=null==e?void 0:e.listingUrl,n=(0,Sn.J)(),r=null==n?void 0:n.brand,o=$t(wn.km),s=Tn(),a=(0,k.Z)(An.d,"applicationKeys",new B.X).values();return(0,i.useMemo)((()=>r!==Nn.$.MATTERPORT?t&&o?t:null:a.some((({sdkType:e})=>e===bn.pd.Type.BUNDLE||e===bn.pd.Type.EMBED))?In:s||In),[a,t,o,r,s])}var kn=n(70400);const Ln=()=>{const e=(0,Z.Y)(),t=!(0,Y.i)(En.qu,!1),n=(0,yn.K)(),r=(0,Sn.J)(),o=r?e.t(r.logoPhraseKey):"",s=r?.logoWhite,a=(0,se.jsx)("img",{className:"footer-logo",alt:o,src:s}),l=Rn();return(0,i.useEffect)((()=>{n.broadcast(new kn.cq(l??""))}),[n,l]),t&&l?(0,se.jsx)("a",{className:"link logo-link",href:l,target:"_blank","data-testid":"footer-logo-link",children:a}):a};var Pn=n(4717),Dn=n(12103);const Mn="gui";function Cn(e){const t=(0,Z.Y)(),n=(0,ce.s)(),i=(0,Je.L)(),r=(0,Pn.G)(),o=!!r&&(0,Yt.AF)(r),s=(0,Y.i)(Dn.Vg,!1),{isWorkshop:a=!1,modelRatingEnabled:l,disabled:c}=e;if(a&&!l)return null;const u=!c&&o&&!a&&l,d=v()("showcase-footer-button-group",u?"showcase-footer-button-group-wrap":"");return(0,se.jsxs)("div",{className:"showcase-footer","data-testid":"showcase-footer",children:[(0,se.jsxs)(gn.e,{className:d,children:[!c&&o&&!a&&!s&&(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(p.$,{variant:f.A.TERTIARY,size:"small",theme:"overlay",onClick:()=>{const t=e.openModal===Qe.a.DEFURNISH_AI;i.issueCommand(new Xe.X6(Qe.a.DEFURNISH_AI,!t)),n.trackGuiEvent("click_defurnish_ai_warning",{interactionSource:Mn})},className:"defurnish-ai-warning",ariaRole:"link",ariaHasPopup:"dialog",disabled:c,label:t.t(E.A.DEFURN_AI_WARNING)}),(0,se.jsx)(xn,{})]}),!c&&l&&!s&&(0,se.jsx)(p.$,{variant:f.A.TERTIARY,size:"small",theme:"overlay",onClick:()=>{i.issueCommand(new vn.c),n.trackGuiEvent("click_feedback_button",{interactionSource:Mn})},className:"model-feedback-link",ariaRole:"link",ariaHasPopup:"dialog",disabled:c,label:t.t(E.A.FEEDBACK)}),!c&&!a&&l&&!s&&(0,se.jsx)(xn,{}),!c&&!a&&!s&&(0,se.jsx)(p.$,{variant:f.A.TERTIARY,size:"small",theme:"overlay",onClick:()=>{const t=e.openModal===Qe.a.HELP;i.issueCommand(new Xe.X6(Qe.a.HELP,!t)),n.trackGuiEvent("click_help_button",{interactionSource:Mn})},ariaRole:"link",disabled:c,ariaHasPopup:"dialog",label:t.t(E.A.HELP)}),!c&&!a&&!s&&(0,se.jsx)(xn,{}),!c&&!a&&!s&&(0,se.jsx)(p.$,{variant:f.A.TERTIARY,size:"small",theme:"overlay",onClick:()=>{n.trackGuiEvent("click_terms_button",{interactionSource:Mn}),window.open("https://matterport.com/legal","_blank")},ariaRole:"link",disabled:c,ariaHasPopup:"dialog",label:t.t(E.A.TERMS)})]}),!c&&!a&&(0,se.jsx)(Ln,{})]})}function xn(){return(0,se.jsx)("span",{className:"footer-divider",children:" | "})}function Un(){const e=(0,Gt.T)(),t=(0,mn.t)(),n=(0,Y.i)(fn.n,!1),i=ge(),r=ie(),o=i&&!e&&r===w.cR.LEGACY,s=!e,a=!t||t===Qe.a.TERMS;return(0,se.jsx)("div",{className:v()("footer-ui",{"footer-ui-shaded":o,disabled:!a}),children:s&&(0,se.jsx)(Cn,{openModal:t,disabled:!a,modelRatingEnabled:n})})}var Fn=n(77489);const Hn=(0,k.u)(Fn.G,"isDialogVisible",!1);var Gn,Bn,Vn,jn=n(94380),Wn=n(50178);let zn=function(e){return e[e.OUTLINED=0]="OUTLINED",e[e.ADJUSTABLE=1]="ADJUSTABLE",e}({});const $n=function*(){let e=0;for(;;)yield e++}();let Kn=(Gn=Reflect.metadata("design:type",Function),Bn=Reflect.metadata("design:paramtypes",["undefined"==typeof TextareaProps?Object:TextareaProps]),(0,rt.A)(Vn=Gn(Vn=Bn(Vn=class extends i.Component{static contextType=(()=>y.B)();elementRef=(()=>(0,i.createRef)())();input;instanceId;constructor(e){super(e),this.instanceId=`textarea-${$n.next().value}`,this.state={currentText:e.text,isFocused:!1}}componentDidMount(){this.props.focusOnMount&&this.input&&this.input.focus(),this.props.scrollIntoViewOnMount&&this.input&&this.input.scrollIntoView(),this.updateHeight()}componentWillUnmount(){this.input&&this.input.blur()}UNSAFE_componentWillReceiveProps(e){e.text!==this.props.text&&this.setState({currentText:e.text})}componentDidUpdate(e,t){t.currentText!==this.state.currentText&&this.updateHeight()}getText(){return this.input?this.input.value:""}focus(){this.input.focus()}blur(){this.input.blur()}onInput=e=>{if(this.props.onInput){const t=e.target;this.props.onInput(t.value)}};onKeyPress=e=>{e.stopPropagation();const t=e.which||e.keyCode,n=[T.D.RETURN];if("keydown"===e.type&&!n.includes(t))return!1;const i=e.target;if(this.props.maxLength&&i.value.length>this.props.maxLength&&e.preventDefault(),t===T.D.RETURN)e.shiftKey||(e.preventDefault(),this.blur(),this.props.onDone(i.value));return!1};stopPropagation=e=>e.stopPropagation();onChange=e=>{this.updateHeight()};updateHeight(){if(this.props.inputStyle===zn.ADJUSTABLE){const e=this.elementRef.current;if(!this.input||!e)return;e.style.height="",this.input.style.overflowY="";const t=this.input.scrollHeight;e.style.height=`${t}px`,t>e.scrollHeight&&(this.input.style.overflowY="auto")}}onFocus=e=>{this.context.messageBus.broadcast(new Wn.Yl(this.input,!0)),this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0})};onBlur=e=>{this.context.messageBus.broadcast(new Wn.Yl(this.input,!1)),this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1})};setRef=e=>{this.input=e};render(){const{placeholder:e,tabIndex:t,maxLength:n,inputStyle:i=zn.OUTLINED,label:r,name:o,readOnly:s,rows:a}=this.props,{currentText:l,isFocused:c}=this.state,u=o||this.instanceId,d=""===l,h=r&&(i!==zn.ADJUSTABLE||c||!d),p=i===zn.ADJUSTABLE?1:a;return(0,se.jsxs)("div",{className:v()("textarea-container",`textarea-style-${zn[i].toLowerCase()}`,{focused:c,readonly:s,placeholder:d}),ref:this.elementRef,children:[h&&(0,se.jsx)("label",{className:"label",htmlFor:u,children:r}),(0,se.jsx)("textarea",{className:"textarea",value:l,ref:this.setRef,name:u,placeholder:e,maxLength:n,onInput:this.onInput,onChange:this.onChange,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyPress,onKeyUp:this.stopPropagation,onBlur:this.onBlur,onFocus:this.onFocus,rows:p,tabIndex:t,readOnly:s})]})}})||Vn)||Vn)||Vn);var Yn=n(43960),qn=n(28422);const{MODEL_RATING:Qn}=E.A.WORKSHOP,Xn={HAPPINESS:"happiness",QUALITY:"quality",NAVIGATION:"navigation",FEEDBACK:"feedback"},Jn=Xn.HAPPINESS,Zn={[Xn.HAPPINESS]:Qn.HAPPINESS_TITLE,[Xn.QUALITY]:Qn.QUALITY_ISSUES_TITLE,[Xn.NAVIGATION]:Qn.NAVIGATION_ISSUES_TITLE,[Xn.FEEDBACK]:Qn.FEEDBACK_TITLE},ei={[Xn.HAPPINESS]:Qn.HAPPINESS_BODY},ti={[Xn.QUALITY]:[{text:Qn.QUALITY_ISSUES_LIGHTING,value:"lighting"},{text:Qn.QUALITY_ISSUES_3D_MESH,value:"3d_mesh"},{text:Qn.QUALITY_ISSUES_COLORING,value:"coloring"},{text:Qn.QUALITY_ISSUES_IMAGE_QUALITY,value:"image_quality"}],[Xn.NAVIGATION]:[{text:Qn.NAVIGATION_ISSUES_BLOCKED_DOORWAYS,value:"blocked_doorways"},{text:Qn.NAVIGATION_ISSUES_OBSTRUCTIONS,value:"obstructions"},{text:Qn.NAVIGATION_ISSUES_MISALIGNED_SCANS,value:"misaligned_scans"},{text:Qn.NAVIGATION_ISSUES_FLOOR_SEPARATION,value:"floor_separation"},{text:Qn.NAVIGATION_ISSUES_DISAPPEARING_FLOORS,value:"disappearing_floors"}]};var ni,ii;!function(e){e[e.Disappointed=0]="Disappointed",e[e.Unsatisfied=1]="Unsatisfied",e[e.Neutral=2]="Neutral",e[e.Satisfied=3]="Satisfied",e[e.Happy=4]="Happy"}(ni||(ni={}));let ri=(0,rt.A)(ii=class extends i.Component{render(){switch(this.props.icon){case ni.Disappointed:return(0,se.jsxs)("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,se.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 28C21.9557 28 28 21.9557 28 14.5C28 7.04503 21.9557 1 14.5 1C7.04506 1 1 7.04506 1 14.5C1 21.9557 7.04503 28 14.5 28ZM14.5 29C22.508 29 29 22.508 29 14.5C29 6.49278 22.508 0 14.5 0C6.49278 0 0 6.49278 0 14.5C0 22.508 6.49278 29 14.5 29Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M9.26389 16.1111C10.3761 16.1111 11.2778 14.8488 11.2778 13.2917C11.2778 11.7345 10.3761 10.4722 9.26389 10.4722C8.15165 10.4722 7.25 11.7345 7.25 13.2917C7.25 14.8488 8.15165 16.1111 9.26389 16.1111Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M19.7361 16.1111C20.8484 16.1111 21.75 14.8488 21.75 13.2917C21.75 11.7345 20.8484 10.4722 19.7361 10.4722C18.6239 10.4722 17.7222 11.7345 17.7222 13.2917C17.7222 14.8488 18.6239 16.1111 19.7361 16.1111Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M4.83253 9.66666C4.66497 9.66666 4.495 9.6143 4.35 9.50555C3.99394 9.23891 3.92225 8.73383 4.18889 8.37777C6.81661 4.87361 10.324 4.83333 10.4722 4.83333C10.9169 4.83333 11.2778 5.19422 11.2778 5.63888C11.2778 6.08274 10.9193 6.44283 10.4754 6.44444C10.3506 6.44605 7.60122 6.51372 5.47778 9.34444C5.31989 9.5555 5.07742 9.66666 4.83253 9.66666ZM24.1675 9.66666C23.9218 9.66666 23.6809 9.5555 23.5222 9.34444C21.3956 6.50808 18.6397 6.44605 18.5229 6.44444C18.0799 6.43961 17.7222 6.07711 17.7246 5.63486C17.7271 5.19099 18.0847 4.83333 18.5278 4.83333C18.676 4.83333 22.1826 4.87361 24.8111 8.37777C25.0786 8.73383 25.0061 9.23891 24.65 9.50555C24.505 9.6143 24.3358 9.66666 24.1675 9.66666V9.66666ZM18.9185 22.4581C18.9096 22.4226 17.9961 18.9306 14.5 18.9306C11.0039 18.9306 10.0904 22.4226 10.0815 22.4581C10.0388 22.6297 10.117 22.8053 10.2684 22.8963C10.4199 22.9865 10.6172 22.9656 10.7485 22.848C10.7558 22.8415 11.5646 22.1528 14.5 22.1528C17.3919 22.1528 18.2192 22.8214 18.2507 22.848C18.3272 22.9205 18.4271 22.9583 18.5278 22.9583C18.5954 22.9583 18.6639 22.9414 18.7259 22.9068C18.8838 22.8166 18.9628 22.6337 18.9185 22.4581V22.4581Z",fill:"#222222"})]});case ni.Unsatisfied:return(0,se.jsxs)("svg",{width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,se.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.125 28C22.5808 28 28.625 21.9558 28.625 14.5C28.625 7.04416 22.5808 1 15.125 1C7.66916 1 1.625 7.04416 1.625 14.5C1.625 21.9558 7.66916 28 15.125 28ZM29.625 14.5C29.625 22.5081 23.1331 29 15.125 29C7.11687 29 0.625 22.5081 0.625 14.5C0.625 6.49187 7.11687 0 15.125 0C23.1331 0 29.625 6.49187 29.625 14.5Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M21.1546 22.0553C21.1183 21.9111 20.2137 18.5278 15.125 18.5278C10.0355 18.5278 9.13167 21.9111 9.09542 22.0553C9.05111 22.2301 9.13006 22.4114 9.28633 22.5016C9.44342 22.591 9.63997 22.5644 9.76967 22.4395C9.78497 22.4242 11.3437 20.9444 15.125 20.9444C18.9063 20.9444 20.4658 22.4242 20.4803 22.4387C20.5577 22.5153 20.6608 22.5555 20.7639 22.5555C20.8316 22.5555 20.9 22.5386 20.9621 22.504C21.1199 22.4138 21.1989 22.2309 21.1546 22.0553Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M10.2917 13.6944C11.4039 13.6944 12.3055 12.4321 12.3055 10.875C12.3055 9.31787 11.4039 8.05556 10.2917 8.05556C9.17942 8.05556 8.27777 9.31787 8.27777 10.875C8.27777 12.4321 9.17942 13.6944 10.2917 13.6944Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M19.9583 13.6944C21.0706 13.6944 21.9722 12.4321 21.9722 10.875C21.9722 9.31787 21.0706 8.05556 19.9583 8.05556C18.8461 8.05556 17.9444 9.31787 17.9444 10.875C17.9444 12.4321 18.8461 13.6944 19.9583 13.6944Z",fill:"#222222"})]});case ni.Neutral:return(0,se.jsxs)("svg",{width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,se.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 28C22.2057 28 28.25 21.9557 28.25 14.5C28.25 7.04503 22.2057 1 14.75 1C7.29506 1 1.25 7.04506 1.25 14.5C1.25 21.9557 7.29503 28 14.75 28ZM14.75 29C22.758 29 29.25 22.508 29.25 14.5C29.25 6.49278 22.758 0 14.75 0C6.74278 0 0.25 6.49278 0.25 14.5C0.25 22.508 6.74278 29 14.75 29Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M9.51389 16.1111C10.6261 16.1111 11.5278 14.8488 11.5278 13.2917C11.5278 11.7345 10.6261 10.4722 9.51389 10.4722C8.40165 10.4722 7.5 11.7345 7.5 13.2917C7.5 14.8488 8.40165 16.1111 9.51389 16.1111Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M19.9861 16.1111C21.0984 16.1111 22 14.8488 22 13.2917C22 11.7345 21.0984 10.4722 19.9861 10.4722C18.8739 10.4722 17.9722 11.7345 17.9722 13.2917C17.9722 14.8488 18.8739 16.1111 19.9861 16.1111Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M20.3889 20.9444H9.11111C8.66645 20.9444 8.30556 20.5844 8.30556 20.1389C8.30556 19.6934 8.66645 19.3333 9.11111 19.3333H20.3889C20.8344 19.3333 21.1944 19.6934 21.1944 20.1389C21.1944 20.5844 20.8344 20.9444 20.3889 20.9444Z",fill:"#222222"})]});case ni.Satisfied:return(0,se.jsxs)("svg",{width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,se.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.375 28C22.8308 28 28.875 21.9558 28.875 14.5C28.875 7.04416 22.8308 1 15.375 1C7.91916 1 1.875 7.04416 1.875 14.5C1.875 21.9558 7.91916 28 15.375 28ZM29.875 14.5C29.875 22.5081 23.3831 29 15.375 29C7.36687 29 0.875 22.5081 0.875 14.5C0.875 6.49187 7.36687 0 15.375 0C23.3831 0 29.875 6.49187 29.875 14.5Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M9.34541 19.028C9.38166 19.1722 10.2863 22.5555 15.375 22.5555C20.4645 22.5555 21.3683 19.1722 21.4046 19.028C21.4489 18.8532 21.3699 18.672 21.2137 18.5817C21.0566 18.4923 20.86 18.5189 20.7303 18.6438C20.715 18.6591 19.1563 20.1389 15.375 20.1389C11.5937 20.1389 10.0342 18.6591 10.0197 18.6446C9.94233 18.568 9.83922 18.5278 9.73611 18.5278C9.66844 18.5278 9.59997 18.5447 9.53794 18.5793C9.38005 18.6695 9.30111 18.8524 9.34541 19.028V19.028Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M10.5417 13.6944C11.6539 13.6944 12.5556 12.4321 12.5556 10.875C12.5556 9.31787 11.6539 8.05556 10.5417 8.05556C9.42943 8.05556 8.52778 9.31787 8.52778 10.875C8.52778 12.4321 9.42943 13.6944 10.5417 13.6944Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M20.2083 13.6944C21.3206 13.6944 22.2222 12.4321 22.2222 10.875C22.2222 9.31787 21.3206 8.05556 20.2083 8.05556C19.0961 8.05556 18.1944 9.31787 18.1944 10.875C18.1944 12.4321 19.0961 13.6944 20.2083 13.6944Z",fill:"#222222"})]});case ni.Happy:return(0,se.jsxs)("svg",{width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,se.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 28C22.4558 28 28.5 21.9558 28.5 14.5C28.5 7.04416 22.4558 1 15 1C7.54416 1 1.5 7.04416 1.5 14.5C1.5 21.9558 7.54416 28 15 28ZM29.5 14.5C29.5 22.5081 23.0081 29 15 29C6.99187 29 0.5 22.5081 0.5 14.5C0.5 6.49187 6.99187 0 15 0C23.0081 0 29.5 6.49187 29.5 14.5Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M8.97042 19.028C9.00667 19.1722 9.9113 22.5555 15 22.5555C20.0895 22.5555 20.9933 19.1722 21.0296 19.028C21.0739 18.8532 20.9949 18.672 20.8387 18.5817C20.6816 18.4923 20.485 18.5189 20.3553 18.6438C20.34 18.6591 18.7813 20.1389 15 20.1389C11.2187 20.1389 9.65917 18.6591 9.64467 18.6446C9.56733 18.568 9.46422 18.5278 9.36111 18.5278C9.29344 18.5278 9.22497 18.5447 9.16294 18.5793C9.00505 18.6695 8.92611 18.8524 8.97042 19.028V19.028Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M15 17.6006C12.6107 17.6006 11.0246 17.3218 9.06388 16.9408C8.61519 16.8554 7.74438 16.9408 7.74438 18.2603C7.74438 20.8985 10.7757 24.1965 15 24.1965C19.2244 24.1965 22.2557 20.8985 22.2557 18.2603C22.2557 16.9408 21.3841 16.8546 20.9362 16.9408C18.9754 17.3218 17.3901 17.6006 15 17.6006Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M10.1667 13.6944C11.2789 13.6944 12.1806 12.4321 12.1806 10.875C12.1806 9.31787 11.2789 8.05556 10.1667 8.05556C9.05443 8.05556 8.15278 9.31787 8.15278 10.875C8.15278 12.4321 9.05443 13.6944 10.1667 13.6944Z",fill:"#222222"}),(0,se.jsx)("path",{d:"M19.8333 13.6944C20.9456 13.6944 21.8472 12.4321 21.8472 10.875C21.8472 9.31787 20.9456 8.05556 19.8333 8.05556C18.7211 8.05556 17.8194 9.31787 17.8194 10.875C17.8194 12.4321 18.7211 13.6944 19.8333 13.6944Z",fill:"#222222"})]})}}})||ii;function oi(e){let{emoji:t,label:n,active:i,onClick:r}=e;return(0,se.jsx)(p.$,{ariaLabel:n,active:i,variant:f.A.TERTIARY,size:"small",onClick:()=>r(t.value),children:(0,se.jsx)(ri,{icon:t.icon})})}const si=[{value:1,altText:E.A.REUSABLES.EMOJI_ALT_DISAPPOINTED,icon:ni.Disappointed},{value:2,altText:E.A.REUSABLES.EMOJI_ALT_UNSATISFIED,icon:ni.Unsatisfied},{value:3,altText:E.A.REUSABLES.EMOJI_ALT_NEUTRAL,icon:ni.Neutral},{value:4,altText:E.A.REUSABLES.EMOJI_ALT_SATISFIED,icon:ni.Satisfied},{value:5,altText:E.A.REUSABLES.EMOJI_ALT_HAPPY,icon:ni.Happy}];function ai(e){let{happiness:t,setHappiness:n}=e;const i=(0,Z.Y)();return(0,se.jsx)("div",{className:"rating-picker",children:(0,se.jsx)(gn.e,{children:si.map((e=>(0,se.jsx)(oi,{emoji:e,onClick:n,label:i.t(e.altText),active:t===e.value},e.value)))})})}const{MODEL_RATING:li}=E.A.WORKSHOP,ci=Object.values(Xn);class ui extends i.Component{static contextType=(()=>y.B)();constructor(e){super(e),this.state={currentQuestionId:Jn}}componentWillUnmount(){this.submitCurrentRating(),this.context.commandBinder.issueCommand(new vn.c(!1))}submitCurrentRating=(()=>{var e=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{currentQuestionId:n}=e.state;let i={};switch(n){case Xn.QUALITY:i={quality:e.state.quality};break;case Xn.NAVIGATION:i={navigation:e.state.navigation};break;case Xn.FEEDBACK:i={feedback:e.state.feedback},e.resetValues()}i&&e.context.commandBinder.issueCommand(new vn.i(i,t))}})();resetValues=()=>{this.setState({happiness:void 0,quality:void 0,navigation:void 0,feedback:void 0})};hasPerfectHappinessRating=()=>5===this.state.happiness;handleButtonClick=()=>{const{currentQuestionId:e}=this.state;let t;switch(this.submitCurrentRating(e===Xn.FEEDBACK),e){case Xn.QUALITY:t=Xn.NAVIGATION;break;case Xn.NAVIGATION:t=Xn.FEEDBACK}t&&this.setState({currentQuestionId:t})};handleHappinessClick=e=>{this.context.commandBinder.issueCommand(new vn.i({happiness:e})),5!==e?this.setState({happiness:e,currentQuestionId:Xn.QUALITY}):this.submitCurrentRating(!0)};handleCheckboxChange=(e,t,n)=>{const i=n.value,r={},o=(this.state[t]||[]).slice();o.includes(i)?o.splice(o.indexOf(i),1):o.push(i),r[t]=o,this.setState(r)};handleFeedbackChange=e=>{this.setState({feedback:e})};handleClose=()=>{this.context.commandBinder.issueCommand(new vn.c(!1))};renderCurrentQuestion(){const{locale:e}=this.context,{currentQuestionId:t,happiness:n}=this.state;if(t===Xn.FEEDBACK)return(0,se.jsx)("div",{className:"question-type text-entry",children:(0,se.jsx)(Kn,{text:this.state.feedback||"",label:e.t(li.FEEDBACK_LABEL),onInput:this.handleFeedbackChange,onDone:this.handleFeedbackChange,maxLength:200,rows:3,focusOnMount:!0,scrollIntoViewOnMount:!0})});if(t===Xn.HAPPINESS)return(0,se.jsx)(ai,{happiness:n,setHappiness:this.handleHappinessClick});if(t===Xn.QUALITY||t===Xn.NAVIGATION){const n=(t===Xn.QUALITY?this.state.quality:this.state.navigation)||[],i=ti[t];return(0,se.jsx)("div",{className:"question-type multi-select",children:i.map((i=>(0,se.jsx)(jn.S,{enabled:!0,checkboxStyle:jn.x.FILTER,onChange:this.handleCheckboxChange,onChangeArgs:[t,i],checked:n.includes(i.value),label:e.t(i.text)},i.text)))})}return null}renderProgress=()=>{const{locale:e}=this.context,{currentQuestionId:t}=this.state;if(!t)return null;if(t===Xn.HAPPINESS||this.hasPerfectHappinessRating())return;const n=ci.indexOf(t);return(0,se.jsx)("span",{className:"model-rating-progress",children:e.t(li.PROGRESS,{"current-question-number":n,"max-question-number":ci.length-1})})};render(){const{locale:e}=this.context,{currentQuestionId:t}=this.state,n=t===Jn,i=Zn[t],r=ei[t],o=t===Xn.FEEDBACK?li.SAVE:li.NEXT;return(0,se.jsxs)(Yn.l,{className:v()("model-rating-dialog",{"in-progress":!n}),onClose:this.handleClose,children:[(0,se.jsx)(qn.J,{onClose:this.handleClose}),(0,se.jsxs)("div",{className:"model-rating-form",children:[(0,se.jsxs)("div",{className:"model-rating-question",children:[(0,se.jsx)("h3",{className:"question-title",children:e.t(i)}),r&&(0,se.jsx)("p",{className:"question-body",children:e.t(r)}),this.renderCurrentQuestion()]}),(0,se.jsxs)("footer",{className:"model-rating-footer",children:[(0,se.jsx)("div",{children:t!==Xn.HAPPINESS&&(0,se.jsx)(p.$,{onClick:this.handleButtonClick,variant:f.A.TERTIARY,label:e.t(o)})}),this.renderProgress()]})]})]})}}function di(){const e=Hn(),t=(0,Gt.T)();return!e||t?null:(0,se.jsx)(ui,{})}var hi=n(87766),pi=n(88581);function fi(){const e=(0,pi.o)(),[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.viewmodeChangeEnabledObservable.onChanged(n);return n(e.viewmodeChangeEnabled),()=>t.cancel()}),[e]),t}var mi=n(78063),gi=n(78115);const{DEFURNISH:vi}=E.A.WORKSHOP;function yi(e){let{viewmode:t}=e;const n=(0,q.B)(),r=(0,ce.s)(),o=(0,Z.Y)(),s=Zt("viewer"),a=(0,de.H)(),l=Jt(),c=(0,Pn.G)(),u=(0,ve.j)(J.az),d=!!c&&(0,Yt.AF)(c),h=fi(),p=function(){const e=(0,mi.B)(),[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const t=[];return e&&t.push(e.subscribe(gi.uU,(()=>n(!0))),e.subscribe(gi.Yp,(()=>n(!1)))),()=>t.forEach((e=>e.cancel()))}),[e]),t}(),{show:m,dismiss:g}=en(Kt.Defurnish),v=!!(0,Gt.T)(),y=(0,i.useCallback)((async()=>{r.trackGuiEvent("click_defurnish_mode_button"),u.toggleDefurnishView()}),[r,u]);if(!s||!l)return null;const E=a&&n,S=!l?.enabled||!h||p||t===ke.w5.TRANSITIONING,b=d,_=b?"furniture":"furniture-slash",O=E&&b?void 0:f.A.TERTIARY,T=E&&b?"light":"overlay",A=E?f.M.LARGE:void 0,w={placement:E?"bottom":"top",offset:E?[0,10]:void 0},N=b?o.t(vi.DEFURN_MODE_BUTTON_ACTIVE):o.t(vi.DEFURN_MODE_BUTTON),I=o.t(vi.DEFURN_NUDGE_TITLE),R=o.t(vi.DEFURN_NUDGE_TEXT);return(0,se.jsx)("div",{className:"mode-button mode-buttons mode-defurnish",children:(0,se.jsx)(Vt,{onClick:y,className:"mode-defurnish-glow",icon:_,variant:O,theme:T,size:A,active:b,disabled:S,tooltip:N,ariaLabel:N,nudgeDisabled:S||v,nudgeTitle:I,nudgeMessage:R,nudgeLocalStorage:K.Y.DefurnishNudgeSeen,nudgeSessionKey:R,tooltipOptions:w,showTimeout:m,dismissTimeout:g})})}var Ei=n(99438),Si=n(1932),bi=n(15580),_i=n(12715);const Oi=(0,C.v_)(_i.O);var Ti=n(642);var Ai=n(21728);const wi={[De.N.Dollhouse]:Ai.f.Dollhouse,[De.N.Floorplan]:Ai.f.Floorplan,[De.N.Mesh]:Ai.f.InsideMesh,[De.N.Panorama]:Ai.f.Inside,[De.N.ExteriorSplat]:Ai.f.Exterior},Ni={[De.N.Dollhouse]:E.A.VIEW_DOLLHOUSE,[De.N.Floorplan]:E.A.VIEW_FLOORPLAN,[De.N.Mesh]:E.A.VIEW_INSIDE_MESH,[De.N.Panorama]:E.A.VIEW_INSIDE,[De.N.ExteriorSplat]:E.A.VIEW_EXTERIOR},Ii={[De.N.Dollhouse]:E.A.HOTKEY_VIEW_DOLLHOUSE,[De.N.Floorplan]:E.A.HOTKEY_VIEW_FLOORPLAN,[De.N.Mesh]:null,[De.N.Panorama]:E.A.HOTKEY_VIEW_INSIDE,[De.N.ExteriorSplat]:null},Ri={[De.N.Dollhouse]:Ai.r.Dollhouse,[De.N.Floorplan]:Ai.r.Floorplan,[De.N.Mesh]:Ai.r.InsideMesh,[De.N.Panorama]:Ai.r.Inside,[De.N.ExteriorSplat]:Ai.r.Exterior};function ki(e){const{disabled:t,mode:n,changeViewmode:r,currentOptimisticTargetMode:o,responsiveToNarrrowLayout:s}=e,a=(0,de.H)()&&s,l=(0,q.B)(),u=(0,ce.s)(),h=(e=>{const[t]=(0,i.useState)((()=>new c.Vy(e)));return t})("mode-buttons"),m=n===o,g=Ri[n],v=wi[n],y=function(e,t){const n=(0,i.useMemo)((()=>!(0,d.C8)()),[]),r=(0,Z.Y)(),o=r.t(e);return n&&null!=t?`${o} ${r.t(t)}`:o}(Ni[n],Ii[n]),E=a&&l,S={placement:E?"bottom":"top",offset:E?[0,10]:void 0},b=E&&m?void 0:f.A.TERTIARY,_=E&&m?"light":"overlay",O=E?f.M.LARGE:void 0,T=(0,i.useCallback)((async()=>{if(!m){u.trackGuiEvent(g);try{await r(n)}catch(e){h.warn(e)}}}),[g,m,u,r,n,h]);return(0,se.jsx)("div",{className:`mode-button mode-${v}`,children:(0,se.jsx)(p.$,{onClick:T,icon:v,variant:b,theme:_,size:O,active:m,disabled:t,tooltip:y,tooltipOptions:S,ariaLabel:y,disableInteraction:m})})}function Li(e){let{allowedModes:t,responsiveToNarrowLayout:n}=e;const r=function(){const e=(0,ee.F)(),t=(0,q.B)(),n=(0,Ei._)(),i=(0,Si.m)(),r=Oi();if(!n||!r)return[];const o=[];r.hasSplats&&o.push(De.N.ExteriorSplat),(!!t||e.tryGetSetting(bi.n9,!1))&&o.push(De.N.Dollhouse),(t||e.tryGetSetting(bi._z,!1))&&o.push(De.N.Floorplan);!function(e,t){return!t&&!e}(n.hasEnabledAlignedSweeps(i),t)&&o.push(De.N.Panorama);return!function(e){return!e}(t)&&o.push(De.N.Mesh),o}();t=t||r,n=n??!0;const o=fi(),s=function(){const e=(0,pi.o)();return(0,D.A)(e?e.transitionActiveObservable:new M.L(!1))}(),a=function(){const e=(0,Pe.x)(),t=(0,Ti.R)(),n=(0,D.A)(t?t.pose.isPitchFactorOrthoObservable:new M.L(!1));return e===De.N.Dollhouse&&n?De.N.Floorplan:e}(),l=(0,I.S)(J.yT),c=!o,[u,d]=(0,i.useState)(null),h=(0,i.useCallback)((async e=>{l&&o&&!s&&(d(e),await l.changeViewmode(e))}),[l,o,s]);if(t.length<2)return null;const p=s&&null!=u?u:a,f=null!=p&&((m=p)===De.N.Dollhouse||m===De.N.Floorplan||m===De.N.Mesh||m===De.N.Panorama||m===De.N.ExteriorSplat)?t.indexOf(p):0;var m;const g=Math.max(f,0),y=`offset-${g}`,E=t[g],S=t.map((e=>(0,se.jsx)(ki,{mode:e,currentOptimisticTargetMode:E,disabled:c,responsiveToNarrrowLayout:n,changeViewmode:h},e.toString())));return(0,se.jsxs)("div",{className:"mode-buttons-container",children:[(0,se.jsx)("div",{className:v()("current-mode-pill",y)}),(0,se.jsx)("div",{className:v()("mode-buttons","viewmode-controls",e.className),children:S})]})}class Pi extends i.Component{static contextType=(()=>y.B)();isUnmounting=!1;onResize;bindings=[];viewmodeToClass=(()=>({[ke.w5.INSIDE]:"inside",[ke.w5.OUTSIDE]:"outside",[ke.w5.DOLLHOUSE]:"dollhouse",[ke.w5.FLOORPLAN]:"floorplan",[ke.w5.TRANSITIONING]:"transitioning"}))();tourModule;constructor(e,t){super(e,t),this.state={viewportHeight:ut(t).height,autohide:!1,reelSeen:!1,minimalistMode:!1},this.onResize=(0,S.s)(this.updateViewportSize,250)}componentDidMount(){const{messageBus:e,market:t,engine:n,settings:i}=this.context,r=i.tryGetSetting(Dn.Vg,!1);this.setState({minimalistMode:r}),this.bindings.push(i.onSettingChanged(Dn.Vg,(e=>{this.setState({minimalistMode:!!e})}))),n.getModuleBySymbol(J.XQ).then((e=>{this.isUnmounting||(this.tourModule=e,this.checkShowReel())})),t.waitForData(ct.G).then((e=>{this.isUnmounting||this.bindings.push(e.onPropertyChanged("size",this.onResize))})),this.bindings.push(e.subscribe(nt.Vk,this.onViewingControlsToggle))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.map((e=>e.cancel()))}componentDidUpdate(e){!(e.tourState.totalSteps>0)&&this.props.tourState.totalSteps>0&&this.checkShowReel()}checkShowReel=()=>{const{tourState:e}=this.props,{settings:t}=this.context,n=t.tryGetSetting(Se.Q$.HighlightReel,!0),{reelSeen:i}=this.state;if(e.totalSteps>0&&n&&!i){const e=this.getHlStartupValue();switch(e){case it.expanded:case it.flash:(0,b.c)(100).then((()=>this.showReel(e)))}}};getHlStartupValue(){const{settings:e}=this.context;if(e.getOverrideParam("note","")||e.getOverrideParam("tag",""))return it.collapsed;const t=this.props.tourState.highlights.some((e=>e.snapshot.is360))?it.expanded:it.flash,n=e.getOverrideParam("hl",t);return(0,_.U)(it,n)?n:t}showReel=e=>{this.isUnmounting||(this.tourModule?.toggleReel(!0),this.setState({reelSeen:!0}),e===it.flash&&(0,b.c)(3e3).then(this.dismissReel))};dismissReel=()=>{this.isUnmounting||this.tourModule?.toggleReel(!1)};onViewingControlsToggle=e=>{let{show:t}=e;this.setState({autohide:!t})};updateViewportSize=e=>{this.isUnmounting||this.setState({viewportHeight:e.height})};isReelEnabled=()=>{if(this.props.tourMode===w.cR.STORIES)return!0;return this.state.viewportHeight>=400&&(0,tt.cJ)(this.context.settings)};isPluginSystemEnabled=()=>{const{settings:e}=this.context;return e.tryGetSetting(hi.XX,!1)};isFloorsEnabled=()=>{const{settings:e}=this.context,t=e.tryGetSetting(qe.p,!0),n=e.tryGetSetting(Se.Q$.FloorSelect,!0);return t&&n};toggleShareModal=()=>{const e=this.props.openModal===Qe.a.SHARE;this.context.analytics.trackGuiEvent("click_share_button"),this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.SHARE,!e))};renderHighlightReel=()=>{const{openTool:e,tourState:t,tourMode:n}=this.props;if(e&&e!==A.S0.SEARCH)return null;const{tourPlaying:i,highlights:r,activeStep:o,transition:s}=t;return(0,se.jsx)(Ut,{openTool:e,tourMode:n,transition:s,activeStep:o,highlights:r,tourPlaying:i})};renderRightControls=()=>{const e=[],{vrEnabled:t,shareEnabled:n}=this.props,i=(0,d.YR)();e.push((0,se.jsx)("span",{className:"divider"},"divider_1"));const r=this.context.locale.t(E.A.SOCIAL_SHARING),o={placement:"top"};return n&&e.push((0,se.jsx)(p.$,{onClick:this.toggleShareModal,ariaLabel:r,ariaHasPopup:"dialog",tooltip:r,tooltipOptions:o,icon:"share",theme:"overlay",variant:f.A.TERTIARY},"toggle_share_modal")),t&&e.push((0,se.jsx)(Ze,{},"vr_modal_controls")),i&&e.push((0,se.jsx)(et,{},"fullscreen_controls")),e};render(){const{measurementsModeEnabled:e,notesEnabled:t,openModal:n,openTool:i,showStoryTour:r,toolPanelLayout:o,tourMode:s,tourState:a,unaligned:l,viewmode:c}=this.props,{tourPlaying:u,tourEnded:d,totalSteps:h,currentStep:p,highlights:f,hasTours:g}=a,{autohide:y,viewportHeight:E,minimalistMode:S}=this.state,{settings:b}=this.context,_=this.viewmodeToClass[c]||"",O=0===h,T=s===w.cR.STORIES,N=E>=400,I=this.isReelEnabled()&&!O,R=i!==A.S0.MEASUREMENTS,k=this.isFloorsEnabled(),L=this.isPluginSystemEnabled(),P=t&&!l,D=e&&!l,M=b.tryGetSetting(fn.n,!1),C=u||r,x=y||!!n&&(n!==Qe.a.CTA||!T)&&!i,U={"logo-gradient":!0,"modal-open":!!n,"tour-playing":u,"stories-tour-showing":r&&!S,autohide:x},F=[],H=[(0,se.jsx)(Re,{toolPanelLayout:o,activeTool:i,currentStep:p,highlights:f||[],tourPlaying:u,tourMode:s,hideReel:!N,hasTours:g,minimalistMode:S},"tour_controls")],G=[];return S||(H.push((0,se.jsx)(m.w,{className:"mode-controls",open:!C,children:(0,se.jsx)(Li,{className:"showcase-viewmode-controls"},"mode_controls")},H.length)),k&&H.push((0,se.jsx)(m.w,{className:"mode-controls",open:!C,children:(0,se.jsx)(Ve,{viewmode:c,iconStyle:!0,className:"showcase-floor-controls"},"floor_controls")},H.length)),L&&H.push((0,se.jsx)(m.w,{className:"mode-controls",open:!C,children:(0,se.jsx)(Ye,{viewmode:c,className:"showcase-plugin-controls"},"plugin_visibility_controls")},H.length)),P&&H.push((0,se.jsx)(m.w,{className:"mode-controls",open:!C,children:(0,se.jsx)(jt,{},"notes_mode_button")},H.length)),D&&(F.push(H.length),H.push((0,se.jsx)(m.w,{className:"mode-controls",open:!C,children:(0,se.jsx)(nn,{},"measurement_mode_button")},H.length))),F.push(H.length),H.push((0,se.jsx)(m.w,{className:"mode-controls",open:!C,children:(0,se.jsx)(yi,{viewmode:c},"defurnish_mode_button")},H.length)),R&&G.push(...this.renderRightControls())),(0,se.jsxs)("div",{id:"bottom-ui",className:v()("bottom-ui",U,_),children:[(0,se.jsx)(Ht,{tourPlaying:u,tourEnded:d}),(0,se.jsxs)(m.w,{className:v()("bottom-controls",{"faded-out":x||S}),open:!x,children:[(0,se.jsx)(pn,{className:"controls",leftControls:H,rightControls:G,highPriorityLeftControlIndices:F}),M&&(0,se.jsx)(di,{})]}),!S&&I&&this.renderHighlightReel(),(0,se.jsx)(Un,{})]})}}const Di=oe(Pi);var Mi=n(78197),Ci=n(64057),xi=n(78956);var Ui=n(91406),Fi=n(79723);var Hi=n(8323),Gi=n(69340),Bi=n(3645);var Vi=n(4130),ji=n(28577);function Wi(e,t,n){const i=n===Vi.co;function r(e,t){return e.enabled&&((0,Yt.xF)(e)||(0,Yt.V6)(e)||(0,Yt.XF)(e)||t&&(0,Yt.AF)(e))}const o=e&&r(e,!0),s=t.slice().filter((e=>r(e,!1)));return!(!o||i||s.length<2)}function zi(e,t,n){return!Wi(e,t,n)&&!!e&&((0,Yt.xF)(e)||(0,Yt.V6)(e))}function $i(){const e=(0,Y.i)(ji.rX,!1),t=(0,Pn.G)(),n=Xt(),r=Ee(Vi.GB),[o,s]=(0,i.useState)(e&&Wi(t,n,r));return(0,i.useEffect)((()=>(s(e&&Wi(t,n,r)),()=>{})),[e,t,n,r]),o}function Ki(){const e=(0,Y.i)(ji.rX,!1),t=(0,Pn.G)(),n=Xt(),r=Ee(Vi.GB),[o,s]=(0,i.useState)(e&&zi(t,n,r));return(0,i.useEffect)((()=>(s(e&&zi(t,n,r)),()=>{})),[e,t,n,r]),o}var Yi=n(78379);function qi(){const e=(0,Yi.S)(),t=(0,Qt._)(),[n,r]=(0,i.useState)(e&&(null==t?void 0:t.getCurrentUserLayers())||[]);return(0,i.useEffect)((()=>{if(!t)return()=>{};function n(){r(e&&(null==t?void 0:t.getCurrentUserLayers())||[])}const i=t.onCurrentLayersChanged(n);return n(),()=>i.cancel()}),[t,e]),n}var Qi=n(73943),Xi=n(92237);const Ji=new M.L({from:null,to:null,progress:new Xi.z(0),promise:Promise.resolve()});var Zi,er=n(38253);function tr(){const e=function(){const e=(0,Ei._)();return(0,D.A)(e?e.transitionObservable:Ji)}();return(0,er.P)((null==e?void 0:e.to)||null)}function nr(e){const t=(0,I.S)(J.QW),n=(0,Qi.a)(),r=function(){const e=(0,Ge.X)(),t=tr(),[n,r]=(0,i.useState)(e?e.name:"");return(0,i.useEffect)((()=>(e?r(e.name):t&&r(t.name),()=>{})),[e,t]),n}(),o=(0,Ue.m)(),s=(0,i.useCallback)((()=>{t?.moveToFloor(null,{suppressCameraMovement:!1})}),[t]);if(n!==l.Jj.PLAYING)return null;const a=v()("floor-container",e.className);return(0,se.jsxs)("div",{className:a,children:[(0,se.jsx)("div",{className:"floor-title h4",children:r||""}),o&&(0,se.jsx)(qn.J,{theme:"dark",onClose:s,tooltip:""})]})}function ir(e){let{toolName:t,showing:n=!0,attached:i=!1}=e;const r=(0,ce.s)(),o=(0,Je.L)(),s=(0,Z.Y)(),a=(0,Ui.M)(t),l=(0,Gt.T)();if(!a)return null;const{id:c,namePhraseKey:u,icon:d,analytic:g}=a,y=l===a.id,E=s.t(u),S=d.replace("icon-",""),b=i?"dark":"overlay";return(0,se.jsx)(m.w,{open:n,className:v()("top-tool-button",{"faded-out":!n}),children:(0,se.jsx)(p.$,{onClick:()=>{o.issueCommand(new h.yU(c,!y)),r.trackToolGuiEvent(g,`click_${g}_button`,{interactionSource:"gui"})},tooltip:E,tooltipOptions:{placement:"bottom"},icon:S,theme:b,variant:f.A.FAB,active:y})})}let rr=(0,rt.A)(Zi=class extends i.Component{static contextType=(()=>y.B)();getFilteredValue(e,t,n,i){return!this.context.settings.tryGetSetting(t,n)||i&&!this.props.brandingEnabled?"":e}handleTitleClick=async e=>{e.stopPropagation();const{commandBinder:t,analytics:n}=this.context;await t.issueCommand(new h.yU(A.S0.SUMMARY,!0)),t.issueCommand(new h.li(!1)),n.trackGuiEvent("click_model_title",{interactionSource:"gui"})};render(){const{locale:e}=this.context,{className:t,modelDetails:n}=this.props,{name:i,presentedBy:r}=n,o=this.getFilteredValue(i,Se.Q$.DetailsModelName,!0,!1),s=this.getFilteredValue(r,Se.Q$.PresentedBy,!1,!0),a=s?`${e.t(E.A.PRESENTED_BY)}${s}`:"",l=`${o} ${a}`;return(0,se.jsx)("div",{id:"model-title",onClick:this.handleTitleClick,children:(0,se.jsx)(p.$,{id:"gui-name",variant:f.A.TERTIARY,onClick:this.handleTitleClick,className:v()(t,{"co-branded":!!a}),label:o,ariaLabel:l,theme:"dark",icon:"location",appendChildren:!1,children:!!a&&(0,se.jsx)("div",{className:"co-brand",children:(0,se.jsx)("span",{className:"title",id:"cobrandTitle",children:a})})})})}})||Zi;var or=n(38939),sr=n(19072);var ar=n(30051),lr=n(93877);const{LAYERS:cr}=E.A.WORKSHOP;function ur(e,t,n){let i;try{i=n?null==e?void 0:e.getView(n):null}catch(e){}let r=null==i?void 0:i.name;if(!r)switch(null==i?void 0:i.viewType){case lr.jK.INSIGHTS:r=t.t(cr.DEFAULT_INSIGHTS_VIEW_NAME);break;case lr.jK.TRUEPLAN:r=t.t(cr.DEFAULT_TRUEPLAN_VIEW_NAME);break;case lr.jK.DIGIPRO_SESSION:r=t.t(cr.DEFAULT_DIGIPRO_VIEW_NAME);break;case lr.jK.DEFURNISH:r=t.t(cr.DEFAULT_DEFURNISH_VIEW_NAME);break;default:r=t.t(cr.DEFAULT_VIEW_NAME)}return(0,ar.W)(r,Vi.cp)}function dr(e){const t=(0,Qt._)(),n=(0,Z.Y)(),[r,o]=(0,i.useState)(ur(t,n,e));return(0,i.useEffect)((()=>{if(!t)return()=>{};function i(){o(ur(t,n,e))}const r=t.onModelViewsChanged(i);return i(),()=>r.cancel()}),[t,e,n]),r}var hr=n(56453);function pr(e){let{id:t,name:n,visible:i}=e;const r=(0,ce.s)(),o=(0,ve.j)(J.az);return(0,se.jsx)(hr.S,{className:"data-layer-menu-item",id:`layer-toggle-${t}`,label:n||"Untitled Layer",defaultChecked:i,onChange:e=>{const n=e.target;if(!n)return;const i=n.checked;o.layersData.toggleLayer(t,i),r.trackToolGuiEvent("layers","layers_toggle_layer")},onClick:e=>{e.stopPropagation()}})}const{SHOWCASE:fr}=E.A;function mr(){const e=function(){const e=(0,_n.h)(),[t,n]=(0,i.useState)((null==e?void 0:e.model.details.name)||"");return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged((e=>{n(e.model.details.name)}));return n(e.model.details.name),()=>t.cancel()}),[e]),t}(),t=(0,Pn.G)(),n=dr(t?.id),r=qi(),o=Xt({includeDefurnish:Zt("viewer")}),s=$i(),a=Ki(),l=(0,ce.s)(),c=(0,Je.L)(),u=(0,Z.Y)(),[d,h]=(0,i.useState)(!1),m=(0,sr.x)().getRootNode()instanceof ShadowRoot,g=async()=>{l.trackToolGuiEvent("layers","layers_view_goto_start_location"),await c.issueCommand(new or.W)},y=e=>{h(e)};if((0,i.useEffect)((()=>{if(!t||m)return;const{name:n}=t;let i;return i=(0,Yt.xF)(t)||(0,Yt.V6)(t)?`${e}: ${n}`:e,document.title=i,()=>{}}),[e,t,m]),!t)return null;const E=r.map((e=>{const{id:t,name:n,toggled:i}=e;return(0,se.jsx)(pr,{id:t,name:n,visible:i},t)})),S=u.t(fr.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP),b=[];return o.forEach((e=>{const{id:n}=e,i=n===t.id,r=i&&E.length>0?E:void 0,o=r?"parent-menu-item":void 0;b.push((0,se.jsx)(gr,{view:e,active:i,className:o},n)),r&&b.push(...r)})),s&&o.length>1?(0,se.jsxs)("div",{className:v()("views-layers-toggles","model-view-selector",{open:d}),children:[(0,se.jsx)(p.$,{className:"start-location-btn",icon:"start-location",variant:f.A.PRIMARY,size:f.M.SMALL,onClick:g,tooltip:S}),(0,se.jsx)(xe.y,{ariaLabel:n,menuClassName:"views-layers-menu",variant:f.A.PRIMARY,size:f.M.SMALL,label:n,onMenuToggled:y,caret:!0,children:b})]}):E.length>0?(0,se.jsx)("div",{className:v()("views-layers-toggles",{open:d}),children:(0,se.jsx)(xe.y,{ariaLabel:u.t(fr.LAYERS.TOGGLE_LAYERS),menuClassName:v()("views-layers-menu","data-layers-only-menu"),variant:f.A.PRIMARY,size:f.M.SMALL,label:n,onMenuToggled:y,caret:!0,children:E})}):a?(0,se.jsx)("div",{className:"model-view-display",children:n}):null}function gr(e){let{view:t,active:n,className:i}=e;const r=(0,ce.s)(),{id:o}=t,s=dr(o),a=(0,ve.j)(J.az),l=(0,ve.j)(J.di);return(0,se.jsx)(p.$,{className:v()("view-name",i),label:s,size:f.M.SMALL,onClick:async()=>{r.trackToolGuiEvent("layers","layers_view_switch"),l.setMoveCameraOnViewChange(!1),await a.setActiveModelView(o),l.setMoveCameraOnViewChange(!0)},active:n,variant:f.A.TERTIARY},o)}var vr=n(60818),yr=n(6909);const{SUBSCRIBER_PROMPT:Er}=E.A.SHOWCASE,Sr=e=>{e.preventDefault()},br=()=>{const e=(0,ce.s)(),t=(0,Z.Y)(),{popupDelay:n}=(0,Hi.E)(),[r,o]=(0,i.useState)(0),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!0),[u,d]=(0,O.Mj)(Bi.ZZ,!1),h=(0,Sn.J)(),f=h?.iconBlack;(0,Q.J)(yr.h,(e=>{if(s)return;const t=e.durationDollhouse+e.durationFloorplan+e.durationInside,i=r+t;vr.r.debug(`Check Visibility: ${i}/${n}ms, User has dismissed popup: ${u.toString()}`),i>=n&&!u&&a(!0),o(i)}));const m=(0,i.useCallback)((()=>{d(!0)}),[d]),g=(0,i.useCallback)((t=>{t.stopPropagation(),e.trackGuiEvent("subscriber_prompt_a_popup_dismissed"),m()}),[m,e]),v=(0,i.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_a_popup_cta_click"),window.open(Bi.oZ,"_blank"),m()}),[m,e]);return(0,i.useEffect)((()=>(s&&l&&(e.trackGuiEvent("subscriber_prompt_a_popup_viewed"),c(!1)),()=>{})),[e,s,l]),s?(0,se.jsxs)("div",{className:"subscriber-prompt-popup",onClick:v,children:[(0,se.jsx)("img",{className:"matterport-app-icon",alt:"Matterport App Icon",src:f,width:"48",height:"48"}),(0,se.jsxs)("div",{className:"subscriber-prompt-body",children:[(0,se.jsx)("div",{className:"h5 subscriber-prompt-heading",children:t.t(Er.POPUP_CTA_HEADING)}),(0,se.jsx)("a",{className:"link",target:"_blank",onClick:Sr,href:Bi.oZ,children:t.t(Er.POPUP_CTA_LINK_TEXT)})]}),(0,se.jsx)(p.$,{icon:"close",onClick:g})]}):null};var _r=n(80490),Or=n(43718),Tr=n(99325),Ar=n(4933),wr=n(78835),Nr=n(41519),Ir=n(2993);const{ROOMS:Rr}=E.A.SHOWCASE,kr=new M.L(!0);function Lr(e){const t=(0,Z.Y)(),n=t.t(Rr.ROOM_BOUNDS_TOGGLES_TITLE),r=(0,ce.s)(),{allowImageryToggle:o}=e,s=(0,Or.v)(),a=(0,Nr.g)(),l=(0,I.S)(J.GR),c=function(){const e=(0,I.S)(J.GR);return(0,D.A)(e?.getMeshGroupVisuals()?.allFloorsVisibleInOrtho??kr)}(),{roomNamesVisible:u,roomDimensionsVisible:d,roomWallsVisible:h}=(0,Tr.W)(),p=(0,Gt.T)(),f=(0,Pe.x)(),m=(0,pi.o)(),g=(0,i.useCallback)((()=>{const e=!c,t=l?.getMeshGroupVisuals()?.allFloorsVisibleInOrtho;t&&(t.value=e),e||h||a?.toggleRoomWallsVisible(),r.trackToolGuiEvent("rooms","room_imagery_showcase_toggle_"+(c?"off":"on"))}),[r,l,c,a,h]);if(!s||!a||!l)return null;const v=p&&p===A.S0.MEASUREMENTS,y=t.t(Rr.ROOM_BOUNDS_WALL_TOGGLE_LABEL),E=t.t(Rr.ROOM_BOUNDS_ROOM_TOGGLE_LABEL),S=t.t(Rr.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL),b=t.t(Rr.ROOM_BOUNDS_MODEL_TOGGLE_LABEL),_=c,O=!(0,Ir.nI)(f),T=O&&!m?.isFloorplanDisabled(),w=O,N=o&&T;return(0,se.jsxs)("div",{children:[(0,se.jsx)("div",{className:"floorplan-overlay-title",children:n}),(0,se.jsxs)(Ar.t,{className:"floorplan-overlay-tooltip",children:[T&&(0,se.jsx)(wr.A,{onToggle:()=>{a.toggleRoomWallsVisible(),r.trackToolGuiEvent("rooms","room_walls_showcase_toggle_"+(h?"off":"on"))},toggled:h,label:y,enabled:_}),w&&(0,se.jsx)(wr.A,{onToggle:()=>{a.toggleRoomNamesVisible(),r.trackToolGuiEvent("rooms","room_names_showcase_toggle_"+(u?"off":"on"))},toggled:u,label:E,enabled:!0}),v&&(0,se.jsx)(wr.A,{onToggle:()=>{a.toggleRoomDimensionsVisible(),r.trackToolGuiEvent("rooms","room_dimensions_showcase_toggle_"+(d?"off":"on"))},toggled:d,label:S,enabled:!0}),N&&(0,se.jsx)(wr.A,{onToggle:g,toggled:c,label:b,enabled:!0})]})]})}const{ROOMS:Pr}=E.A.SHOWCASE;function Dr(e){const t=(0,Z.Y)(),{additionalPanel:n}=e,r=(0,Qi.a)()===l.Jj.PLAYING,o=function(){const e=(0,pi.o)(),[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=()=>{n(0===e.insideModeTransitionProgress())},i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}(),s=!!(0,Ge.X)(),a=(0,Or.v)()&&o&&r&&s;if(!n&&!a)return null;const c=n?20:20.01,u=t.t(Pr.SETTINGS);return(0,se.jsxs)(_r.Q,{icon:"settings",tooltip:u,theme:"overlay",variant:f.A.FAB,tooltipPlacement:"bottom",analytic:"showcase_settings_click",className:"showcase-settings",preventOverflow:{padding:c},children:[(0,se.jsx)(Lr,{allowImageryToggle:!0}),n]})}function Mr(e){const{brandingEnabled:t,modelDetails:n,tourPlaying:r,toolElements:o,toolSettings:s}=e,a=(0,Mi.A)(),l=(0,Gt.T)(),c=(0,mn.t)(),u=re(),d=(0,Y.i)(Dn.Vg,!1),h=function(){const e=(0,Ui.M)(A.S0.SEARCH),t=(0,ee.F)();return!!t&&(0,Fi.W)(t)&&!!e}(),p=function(){const e=(0,Ei._)(),[t,n]=(0,i.useState)(!!e&&e.showFloorSelection);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.onShowFloorSelectionChanged(n);return n(e.showFloorSelection),()=>t.cancel()}),[e]),t}(),f=function(){const e=$i(),t=Ki(),[n,r]=(0,i.useState)(e||t);return(0,i.useEffect)((()=>(r(e||t),()=>{})),[e,t]),n}(),g=function(){const e=qi(),[t,n]=(0,i.useState)(e.length>0);return(0,i.useEffect)((()=>(n(e.length>0),()=>{})),[e.length]),t}(),y=(f||g)&&!d,E=function(){const e=(0,Y.i)(En.wx,!0),t=(0,Y.i)(Se.Q$.DetailsModelName,!0);return e&&t}()&&n,S=!!E&&!p&&(!y||a.width>Dn.IU),b=(()=>{const e=(0,Gi.l)(),t=(0,Hi.E)(),n=(0,O.QH)(Bi.ZZ);return t.popupEnabled&&e&&!n})(),_=(0,Ci.J)(),T=(0,xi.O)();if(!_&&T===A.L$.BOTTOM_PANEL)return null;if(!(h||E||p||y||o))return null;const w=r||u,N=l||c||w,I=!S||w||l,R=!!n,k=!R||w;return(0,se.jsxs)(se.Fragment,{children:[b&&!l&&(0,se.jsx)(br,{}),(0,se.jsxs)("div",{className:"top-ui",children:[h&&!d&&(0,se.jsx)(m.w,{open:!N,className:v()("top-ui-button",{"faded-out":N}),children:(0,se.jsx)(ir,{toolName:A.S0.SEARCH})}),(0,se.jsxs)("div",{className:"child-container",children:[(0,se.jsx)(m.w,{open:p&&!w,className:v()("floor-name-container",{collapsed:!p||N}),children:(0,se.jsxs)("div",{children:[(0,se.jsx)(nr,{}),h&&(0,se.jsx)("div",{className:"search-button-spacer"})]})}),E&&(0,se.jsx)(m.w,{open:S&&!w&&!l,className:v()("title-bar-container",{collapsed:I}),children:(0,se.jsx)(rr,{modelDetails:n,brandingEnabled:!!t})}),y&&(0,se.jsx)(m.w,{open:y&&!N,className:v()("model-view-container",{collapsed:!y||N}),children:(0,se.jsx)(mr,{})})]}),(0,se.jsxs)(m.w,{open:R,className:v()("top-ui-tool-container",{collapsed:k}),children:[(0,se.jsx)(Dr,{additionalPanel:s}),o]})]})]})}var Cr,xr,Ur,Fr=n(81923);let Hr=(Cr=Reflect.metadata("design:type",Function),xr=Reflect.metadata("design:paramtypes",["undefined"==typeof LoadIndicatorProps?Object:LoadIndicatorProps]),(0,rt.A)(Ur=Cr(Ur=xr(Ur=class extends i.Component{constructor(e){super(e)}render(){const{showing:e}=this.props;return(0,se.jsx)(m.w,{open:e,className:v()("load-indicator",{"fade-in":e,"fade-out":!e}),children:(0,se.jsx)("div",{className:"center-container",children:(0,se.jsx)(Fr.A,{progress:33,barWidth:4,progressColor:"#ffffff"})})})}})||Ur)||Ur)||Ur);var Gr=n(22937);class Br extends i.Component{static contextType=(()=>y.B)();bindings=[];constructor(e){super(e),this.state={loadSpinnerOn:!1,loadSpinnerSuppress:!1}}componentDidMount(){this.bindings.push(this.context.messageBus.subscribe(Wn.XR,this.onLoadSpinnerMessage),this.context.messageBus.subscribe(Wn.c7,this.onLoadSpinnerSuppressMessage),this.context.messageBus.subscribe(Gr.zM,(()=>this.setState({loadSpinnerSuppress:!0}))),this.context.messageBus.subscribe(Gr.pT,(()=>this.setState({loadSpinnerSuppress:!1}))))}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}onLoadSpinnerMessage=e=>{this.state.loadSpinnerOn!==e.isOpen&&this.setState({loadSpinnerOn:e.isOpen})};onLoadSpinnerSuppressMessage=e=>{this.state.loadSpinnerSuppress!==e.suppress&&this.setState({loadSpinnerSuppress:e.suppress})};render(){const{loadSpinnerOn:e,loadSpinnerSuppress:t}=this.state,n=e&&!t;return(0,se.jsx)("div",{className:"overlay-ui",children:(0,se.jsx)(Hr,{showing:n})})}}var Vr=n(34184);function jr(e){const t=function(){const[e,t]=(0,i.useState)(!1),n=(0,i.useCallback)((()=>{t(!0)}),[]),r=(0,i.useCallback)((()=>{t(!1)}),[]);return(0,Q.J)(Gr.n1,n),(0,Q.J)(Vr.A,r),e}(),{activeStep:n,currentStep:r,highlights:o}=e,s=o[r],a=n!==r,l=(s?.title||s?.description)&&t&&!a;return(0,se.jsx)("div",{className:"overlay-layer",children:(0,se.jsx)("div",{className:v()("tour-story-scrim",{active:l})})})}const Wr={mouse:{click_old:n(16391),click:n(11400),clickInside:n(53228),dragLeft:n(46997),dragRight:n(2710),ctrlClick:n(61273),dragRightHoriz:n(38826),dragRightVert:n(5293),play:n(54322),positionLeft_old:n(56048),positionLeft:n(45663),positionRight:n(85893),zoom_old:n(93582),zoom:n(713)},gesture:{drag_old:n(99713),drag:n(45894),dragTwoFinger:n(99484),dragTwoFingerVert:n(40783),pinch_old:n(13179),pinch:n(58780),dragTwoFingerRotate:n(62979),position:n(96558),positionTwoFinger:n(60497),tap_old:n(50968),tap:n(64727),tapInside:n(68117),play:n(23672)},keyboard:{all:n(64268),inside:n(34715),leftRight:n(31873),spaceBar:n(28301),upDown:n(88691),zoom:n(35235)},moreHelp:{view360:n(94246),mattertag:n(65224)}};var zr=n(78649),$r=n(59760);const Kr={rotate:{desktop:{icon:[Wr.mouse.ctrlClick,Wr.mouse.dragRight],phrase:E.A.SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.DESKTOP},touch:{icon:[Wr.gesture.dragTwoFingerRotate],phrase:E.A.SHOWCASE.HELP.TOUCH_DOLLHOUSE_ROTATE}},inside:{desktop:{icon:[Wr.mouse.clickInside],phrase:E.A.SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.DESKTOP},touch:{icon:[Wr.gesture.tapInside],phrase:E.A.SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.TOUCH}}},Yr=()=>{const e=(0,mi.B)(),t=(0,Z.Y)(),n=(0,d.C8)(),[r,o]=(0,O.Mj)("peekaboo_dh_prompt_dismissed",0),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)(Kr.rotate),p=(0,Pe.x)(),f=(0,$r.O)(),g=(0,Y.i)(Dn.Vg,!1),y=t.t(E.A.SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.OR),S=p===De.N.Dollhouse&&!f&&!s&&r<3;(0,i.useEffect)((()=>{let e;return S&&(h(Kr.rotate),e=setTimeout((()=>{c(!0)}),1e4)),()=>{e&&clearTimeout(e)}}),[S]),(0,i.useEffect)((()=>{const t=S&&u===Kr.rotate?e.subscribe(zr.i,(()=>{h(Kr.inside)})):null;return()=>{t?.cancel()}}),[S,e,u]);const b=(0,i.useCallback)((()=>{o(r+1),a(!0),c(!1)}),[r,o]);(0,i.useEffect)((()=>{!S&&l&&b()}),[S,l,b]);const{icon:_,phrase:T}=u[n?"touch":"desktop"],A=_.length>0&&_[0],w=_.length>1&&_[1],N=(0,se.jsx)("svg",{width:"2",height:"16",viewBox:"0 0 2 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,se.jsx)("path",{d:"M1 0L1 16",stroke:"white"})});return(0,se.jsxs)(m.w,{open:l&&!g,className:v()("peekaboo-dh-prompt",!l&&"unloading"),children:[A&&(0,se.jsx)("img",{src:_[0],alt:"",height:n?26:50}),w&&(0,se.jsxs)("div",{className:"separator",children:[N,(0,se.jsx)("span",{children:y}),N]}),w&&(0,se.jsx)("img",{src:_[1],alt:"",height:n?26:50}),(0,se.jsx)("span",{className:"text",children:t.t(T)}),(0,se.jsx)(qn.J,{theme:"dark",onClose:b,tooltip:""})]})};var qr=n(76057),Qr=n(82769),Xr=n(76191),Jr=n(97191),Zr=n(94814),eo=n(43591);class to extends i.Component{resizeObserver;outerWrapper;innerWrapper;horizontal=(()=>(0,lt.O$)())();vertical=(()=>(0,lt.O$)())();firstChild;scrollCenter;inputFilter;prevSuppressDrag=!1;manuallyMoved=!1;isUnmounting=!1;rAFHandle;scrollPosition=(()=>({horizontal:lt.BB.Beginning,vertical:lt.BB.End}))();constructor(e){super(e),this.state={horizontal:(0,lt.XU)(),vertical:(0,lt.XU)()},this.scrollTo=this.scrollTo.bind(this),this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.handleDragStart=this.handleDragStart.bind(this),this.handleWheelEvent=this.handleWheelEvent.bind(this),this.handleClick=this.handleClick.bind(this),this.toggleVisibility=this.toggleVisibility.bind(this),this.hasManuallyMoved=this.hasManuallyMoved.bind(this),this.prevSuppressDrag=!!e.suppressDrag,this.inputFilter=new Jr.A({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick});const t=this.handleEvent;window.PointerEvent||(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t)),window.addEventListener("pointermove",t),window.addEventListener("pointerup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t)}componentDidMount(){if(this.resizeObserver=new eo.A((()=>this.handleResize())),this.resizeObserver.observe(this.outerWrapper),this.innerWrapper.addEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly)this.innerWrapper.addEventListener("click",this.handleClick);else{const e=this.handleEvent;this.innerWrapper.addEventListener("mousedown",e),this.innerWrapper.addEventListener("pointerdown",e),this.innerWrapper.addEventListener("touchstart",e)}this.firstChild=this.innerWrapper.firstElementChild,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(),this.props.hasOwnProperty("suppressDrag")&&this.inputFilter.setEnabled(!!this.props.suppressDrag)}componentWillUnmount(){this.isUnmounting=!0;const e=this.handleEvent;this.resizeObserver?.disconnect(),window.PointerEvent||(window.removeEventListener("mousemove",e),window.removeEventListener("mouseleave",e),window.removeEventListener("mouseup",e)),window.removeEventListener("pointermove",e),window.removeEventListener("touchmove",e),window.removeEventListener("pointerup",e),window.removeEventListener("touchend",e),window.removeEventListener("touchcancel",e),this.innerWrapper.removeEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly?this.innerWrapper.removeEventListener("click",this.handleClick):(this.innerWrapper.removeEventListener("mousedown",e),this.innerWrapper.removeEventListener("pointerdown",e),this.innerWrapper.removeEventListener("touchstart",e))}handleEvent=e=>{this.inputFilter.handleEvent(e)};getScrollableContainer=()=>this.innerWrapper;componentDidUpdate(){if(this.props.waitToUpdate||this.handleExternalChange(),this.prevSuppressDrag!==this.props.suppressDrag&&(this.inputFilter.setEnabled(!!this.props.suppressDrag),this.props.suppressDrag&&(this.manuallyMoved=!1),this.prevSuppressDrag=!!this.props.suppressDrag),!this.horizontal.animation&&!this.vertical.animation)return;const e={};for(const t in this.state){const n=t,i=this[n].animation;if(i)if(i.isAnimating){const t=(0,lt.s4)(n);e[t]=i.getUpdatedValue()}else this[n].animation=null}Object.keys(e).length>0&&window.requestAnimationFrame((()=>{this.innerWrapper&&this.scrollTo(e)}))}scrollTo(e){if(!e.hasOwnProperty(lt._0.x)&&!e.hasOwnProperty(lt._0.y))return;const t={};for(const n of this.getVisibleAxes(e)){const i=(0,lt.mn)(n),r=lt.RX[i].scrollOffset,o=e[n];if(void 0!==o){if(isNaN(o))return;this.innerWrapper[r]=Math.max(Math.min(1,o)*this.state[i].childLength,0),t[i]={...this.state[i],scrollOffset:this.innerWrapper[r]}}}this.setState(t)}getScrolledOffset=e=>{const t=lt.RX[e].scrollOffset;return this.innerWrapper[t]/this.state[e].childLength};animatedScrollTo(e,t){if(e.hasOwnProperty(lt._0.x)||e.hasOwnProperty(lt._0.y))for(const n of this.getVisibleAxes(e)){const i=(0,lt.mn)(n),r=lt.RX[i].scrollOffset;this[i].animation=new Xr.A({duration:t||lt.RL,startValue:this.innerWrapper[r]/this.state[i].childLength,endValue:Math.max(0,Math.min(1,e[n]))})}}setScrollCenter(e){if(!(e&&e.compareDocumentPosition(this.innerWrapper)&Node.DOCUMENT_POSITION_CONTAINS))return;this.scrollCenter=e;const t={},n={};for(const i of this.getVisibleAxes(this.state)){const r=(0,lt.s4)(i);t[r]=e[lt.RX[i].positionOffset]+e[lt.RX[i].offsetLength]/2;let o=e;const s=t[r];for(;o.parentElement&&o!==this.innerWrapper;)o=o.parentElement,s&&(t[r]=s+o[lt.RX[i].positionOffset]);if(this.outerWrapper.parentElement){const e=this.outerWrapper.parentElement[lt.RX[i].offsetLength];s&&(n[r]=(s-e/2)/this.state[i].childLength)}}Object.keys(n).length>0&&this.animatedScrollTo(n)}getVisibleAxes(e){const t=[];for(const n in e)(e[n]||"number"==typeof e[n])&&(n in lt._0&&this.state[(0,lt.mn)(n)].isVisible||n in lt.OP&&this.state[n].isVisible)&&t.push(n);return t}handleDragStart(){delete this.scrollCenter,this.hasManuallyMoved()}handlePressStart(){this.horizontal.dragStartScroll=this.innerWrapper.scrollLeft,this.vertical.dragStartScroll=this.innerWrapper.scrollTop}handlePressMove(e){const t={};for(const n of this.getVisibleAxes(e)){const i=(0,lt.mn)(n);t[n]=(e[n]+this[i].dragStartScroll)/this.state[i].childLength}this.scrollTo(t)}handleWheelEvent(e){this.props.singleScrollDirection===lt.OP.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.hasManuallyMoved(),this.handleExternalChange())}handleClick(e){this.props.handleClick&&this.props.handleClick(e)}toggleVisibility(e){return t=>{const n={...this.state[e],isVisible:t};if((0,Qr._)(this.state[e],n)){const t={};t[e]=n,this.setState(t),this.props.onScrollbarVisibilityChange&&this.props.onScrollbarVisibilityChange()}}}toggleScrollPosition(e){return t=>{this.scrollPosition[e]=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)}}handleDragEnd(e,t){for(const n of this.getVisibleAxes(e)){const i=(0,lt.mn)(n),r=e[n]/t,o=Math.min(lt.RL,Math.abs(lt.RL*r)),s=this.innerWrapper[lt.RX[i].scrollOffset],a=r*o/2;this[i].animation=new Xr.A({duration:o,startValue:s/this.state[i].childLength,endValue:Math.max(0,Math.min((s+a)/this.state[i].childLength,1)),easingFunction:Zr.WD})}this.setState({})}handleResize(){this.isUnmounting||(this.scrollCenter&&this.setScrollCenter(this.scrollCenter),this.handleExternalChange())}handleExternalChange(){if(this.isUnmounting)return;const e={};for(const t in this.state){const n=t,i=lt.RX[n].clientLength,r={...this.state[n],wrapperLength:Number(this.innerWrapper&&this.innerWrapper[i])||1,childLength:Number(this.firstChild&&this.firstChild[i])||1,scrollOffset:this.innerWrapper&&this.innerWrapper[lt.RX[n].scrollOffset]};(0,Qr._)(this.state[n],r)&&(e[n]=r)}Object.keys(e).length>0&&this.debouncedSetState(e)}debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))};hasManuallyMoved(){this.manuallyMoved=!0,this.props.onScrolled&&this.props.onScrolled()}resetManuallyMoved(){this.manuallyMoved=!1}renderScrollbar(e,t){const{forceHidden:n}=this.props,{wrapperLength:i,childLength:r,scrollOffset:o}=t;return(0,se.jsx)(qr.Z,{direction:e,ref:e=>{this.horizontal.scrollbar=e},wrapperLength:i,childLength:r,scrollOffset:o,scrollTo:this.scrollTo,onVisibilityChange:this.toggleVisibility(e),onScrollPositionChange:this.toggleScrollPosition(e),forceHidden:n,onThumbDrag:this.hasManuallyMoved})}render(){const{scrollbarHeight:e,singleScrollDirection:t,name:n,children:i}=this.props,r={maxHeight:e||""},o=t||`${lt.OP.vertical} ${lt.OP.horizontal}`;return(0,se.jsxs)("div",{className:v()("outerScrollbarWrapper",o,`scrollbar-${n}`),ref:e=>{e&&(this.outerWrapper=e)},style:r,children:[(0,se.jsx)("div",{className:"innerScrollbarWrapper",ref:e=>{e&&(this.innerWrapper=e)},children:(0,se.jsx)("div",{className:"paddingScrollbarWrapper",children:i})}),t!==lt.OP.vertical&&this.renderScrollbar(lt.OP.horizontal,this.state.horizontal),t!==lt.OP.horizontal&&this.renderScrollbar(lt.OP.vertical,this.state.vertical)]})}}var no=n(53061);const io={"en-US":"./terms/terms-en-US.html",es:"./terms/terms-es-MX.html",fr:"./terms/terms-fr-FR.html",de:"./terms/terms-de-DE.html",ru:"./terms/terms-ru-RU.html",ja:"./terms/terms-ja-JP.html","zh-CN":"./terms/terms-zh-CN.html","zh-TW":"./terms/terms-zh-TW.html",ko:"./terms/terms-ko-KR.html",nl:"./terms/terms-nl-NL.html",it:"./terms/terms-it-IT.html",pt:"./terms/terms-pt-BR.html"};class ro extends i.Component{static contextType=(()=>y.B)();termsTextDiv;scrollbars;isUnmounting=!1;resizeSubscription;constructor(e,t){super(e,t),this.state={termsText:"",hideScrollbar:(0,st.c)(ut(t)),scrollClass:lt.BB.None}}async componentDidMount(){const e=function(e){if((0,no.D4)(e)&&e in io)return io[e]}(this.context.locale?this.context.locale.languageCode:no.Nm);let t="";if(e)try{t=await this.context.queue.get(e)}catch(e){t=this.context.locale.t(E.A.TERMS_FAIL)}else t=this.context.locale.t(E.A.TERMS_FAIL);this.context.market.waitForData(ct.G).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,st.c)(e)})})))})),window.requestAnimationFrame((()=>{this.isUnmounting||this.setState({termsText:t})}))}componentWillUnmount(){this.isUnmounting=!0,this.resizeSubscription?.cancel()}componentDidUpdate(e,t){this.state.termsText!==t.termsText&&(this.termsTextDiv.innerHTML=this.state.termsText,[].slice.call(this.termsTextDiv.querySelectorAll("a")).forEach((e=>{e.setAttribute("target","_blank"),e.classList.add("link")})))}onScrollPositionChange=()=>{this.scrollbars&&this.setState({scrollClass:this.scrollbars.scrollPosition.vertical})};onClose=()=>{this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.TERMS,!1))};setScrollbars=e=>{e&&(this.scrollbars=e)};setTermsTextDiv=e=>{e&&(this.termsTextDiv=e)};render(){const{hideScrollbar:e,scrollClass:t}=this.state;return(0,se.jsxs)(Yn.l,{className:v()("terms-modal","full-modal",t),theme:"dark",onClose:this.onClose,children:[(0,se.jsx)(qn.J,{theme:"dark",onClose:this.onClose}),(0,se.jsx)("div",{id:"terms-wrapper",children:(0,se.jsx)(to,{name:"terms",ref:this.setScrollbars,onScrollPositionChange:this.onScrollPositionChange,forceHidden:e,children:(0,se.jsx)("div",{ref:this.setTermsTextDiv,id:"terms-text"})})})]})}}var oo,so=n(4896),ao=n(94165);!function(e){e.MAIL="mail",e.META="meta",e.PINTEREST="pinterest",e.LINKEDIN="linkedin",e.TWITTER="twitter",e.FACEBOOK="facebook",e.COPYLINK="copylink",e.NATIVE="native"}(oo||(oo={}));const{FACEBOOK:lo,TWITTER:co,MAIL:uo,META:ho,PINTEREST:po,LINKEDIN:fo,COPYLINK:mo,NATIVE:go}=oo,vo={[uo]:"em",[ho]:"mt",[po]:"pn",[fo]:"ln",[co]:"tw",[lo]:"fb",[mo]:"cp",[go]:"os"},yo={[lo]:{width:626,height:436},[co]:{width:550,height:440},[po]:{width:750,height:749},[fo]:{width:550,height:453},[mo]:{},[uo]:{},[ho]:{},[go]:{}},Eo=async(e,t=!0)=>{let n;const i=await e.engine.getModuleBySymbol(ao.r),r=["ref","gclid","fbclid","cloudEdit","back","note","comment","apiHost","applicationKey","host","sdkKey","tag"],o=e=>!r.includes(e);return n=t?i.creator.createDeepLink({paramFilter:o}):i.creator.createLink({paramFilter:o}),n.searchParams.forEach(((e,t)=>{(r.includes(t)||0===t.indexOf("utm_"))&&n.searchParams.delete(t)})),decodeURIComponent(n.href)},So=e=>new URLSearchParams(e).toString(),bo=(e,t,n)=>{const i=e.replace("?",`?ref=${vo[lo]}&`);return`http://www.facebook.com/sharer.php?${So({display:"popup",u:i})}`},_o=(e,t,n)=>{const i=e.replace("?",`?ref=${vo[co]}&`),r={text:n.t(E.A.SHARED_MESSAGE_HASHTAG,{title:t,url:i,hashtag:"#Matterport"})};return`http://twitter.com/intent/tweet?${So(r)}`},Oo=(e,t,n)=>{const i=e.replace("?",`?ref=${vo[uo]}&`),r={subject:n.t(E.A.SHARED_TITLE,{title:t}),body:n.t(E.A.SHARED_MESSAGE,{title:t,url:i})};return`mailto:?${So(r)}`},To=e=>{const t=e.replace("?",`?ref=${vo[ho]}&qs=1&`);return`https://www.oculus.com/open_url/?${So({url:t})}`},Ao=(e,t,n,i)=>{const r={url:e.replace("?",`?ref=${vo[po]}&`),media:n,description:i.t(E.A.SHARED_TITLE,{title:t})};return`http://pinterest.com/pin/create/link/?${So(r)}`},wo=(e,t,n)=>{const i=e.replace("?",`?ref=${vo[fo]}&`);return`https://www.linkedin.com/shareArticle?${So({mini:"true",url:i})}`},No=(e,t,n,i)=>({[lo]:bo(e),[co]:_o(e,t,i),[uo]:Oo(e,t,i),[po]:Ao(e,t,n,i),[fo]:wo(e),[ho]:To(e),[mo]:e,[go]:e});var Io=n(21320),Ro=n(26059),ko=n(86721);const Lo=new c.Vy("vr-select");class Po extends i.Component{isUnmounting=!1;static contextType=(()=>y.B)();async componentDidMount(){Io.A.apiExists()&&navigator.xr?.addEventListener("ondevicechange",this.updatePlatformState),await this.updatePlatformState()}componentWillUnmount(){this.isUnmounting=!0,Io.A.apiExists()&&navigator.xr?.removeEventListener("ondevicechange",this.updatePlatformState)}async updatePlatformState(){const{settings:e}=this.context,t=e.tryGetSetting(Ro.F7,Ro.qy),n=await(0,so.M1)(t);this.isUnmounting||(this.setState({vrPlatform:n}),Lo.debug(this.state))}startWebXR=()=>{const{analytics:e,commandBinder:t}=this.context;t.issueCommand(new ko.X({type:"immersive-vr",features:["local-floor"]})).then((t=>{if(t){e.trackGuiEvent("vr_enter_app");const n=()=>{e.trackGuiEvent("vr_exit_app"),t.removeEventListener("end",n)};t.addEventListener("end",n)}else Lo.error("requestPresent Failed"),e.trackGuiEvent("vr_present_error"),this.updatePlatformState()})).catch((t=>{Lo.error("requestPresent Failed:",t),e.trackGuiEvent("vr_present_error")}))}}var Do,Mo,Co;const xo=new c.Vy("vr-select");let Uo=(Do=Reflect.metadata("design:type",Function),Mo=Reflect.metadata("design:paramtypes",["undefined"==typeof VrModalProps?Object:VrModalProps]),(0,rt.A)(Co=Do(Co=Mo(Co=class extends Po{constructor(e){super(e),this.state={vrPlatform:null,metaLink:null}}async componentDidMount(){await super.componentDidMount(),this.updateUrls(),this.context.analytics.trackGuiEvent("click_vr_button")}render(){const{isMobile:e}=this.props,{locale:t}=this.context,n=v()("vr-modal","full-modal",{mobile:e,desktop:!e});return(0,se.jsxs)(Yn.l,{className:n,onClose:this.onCloseClicked,children:[(0,se.jsxs)("header",{className:"modal-header",children:[(0,se.jsx)("div",{className:"modal-title",children:t.t(E.A.VR_VIEW_SPACE)}),(0,se.jsx)(qn.J,{onClose:this.onCloseClicked})]}),this.renderHeadsetHeader(),(0,se.jsx)("div",{className:"modal-body",children:this.renderBodyText()}),(0,se.jsx)("div",{className:"modal-footer",children:this.getFooterButtons()})]})}renderHeadsetHeader=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case so.wc.unsupported:case so.wc.webxr:return(0,se.jsxs)("div",{className:"headset-header dark",children:[(0,se.jsxs)("span",{className:"headset-titles",children:[(0,se.jsx)("p",{children:e.t(E.A.VR_RECOMMENDED)}),(0,se.jsx)("p",{children:e.t(E.A.VR_QUEST)})]}),(0,se.jsx)("img",{className:"headset-quest",src:n(51),height:200,width:342})]});default:return null}};renderBodyText=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case so.wc.unsupported:case so.wc.webxr:return(0,se.jsx)("div",{children:(0,se.jsx)("p",{children:e.t(E.A.VR_SUPPORTS)})});default:return null}};getFooterButtons=()=>{const{locale:e}=this.context,{vrPlatform:t,metaLink:n}=this.state,i=[];i.push((0,se.jsx)(p.$,{variant:f.A.SECONDARY,className:v()("button-inline","cancel"),onClick:this.onLearnMoreClicked,label:e.t(E.A.VR_LEARN_MORE_CAPS),size:"small"},"learn-more"));return t===so.wc.webxr?i.push((0,se.jsx)(p.$,{variant:f.A.PRIMARY,onClick:this.onActionClicked,label:e.t(E.A.VR_ENTER),size:"small"},"enter-vr")):i.push((0,se.jsx)(p.$,{variant:f.A.PRIMARY,disabled:!n,onClick:this.onMetaDeepLinkClicked,label:e.t(E.A.VR_META_LINK),size:"small"},"enter-vr")),(0,se.jsx)(gn.e,{spacing:"small",children:i})};closeModal=()=>{this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.VR_SELECT,!1))};onCloseClicked=()=>{this.context.analytics.trackGuiEvent("vr_modal_close"),this.closeModal()};onActionClicked=()=>{if(this.state.vrPlatform===so.wc.webxr)this.startWebXR(),this.closeModal()};onMetaDeepLinkClicked=()=>{this.state.metaLink&&(window.open(this.state.metaLink,"_blank"),this.context.analytics.trackGuiEvent("vr_meta_link"))};onLearnMoreClicked=()=>{window.open("https://support.matterport.com/hc/en-us/articles/360050098973-Exploring-Matterport-Spaces-in-VR-","_blank"),this.context.analytics.trackGuiEvent("vr_learn_more")};async updateUrls(){const[e]=await Promise.all([Eo(this.context,!0)]),t=No(e,"","",this.context.locale);xo.debug("Social Share URLs, with current location",t),this.isUnmounting||this.setState({metaLink:t.meta})}})||Co)||Co)||Co);var Fo=n(7477);class Ho extends i.Component{static contextType=(()=>y.B)();render(){const{isMobile:e}=this.props,{locale:t}=this.context;return(0,se.jsx)("div",{className:"cta",children:(0,se.jsx)("header",{className:v()({mobile:e}),children:t.t(e?E.A.MOBILE_SHORT_CTA:E.A.DESKTOP_SHORT_CTA)})})}}const{HELP:Go}=E.A.SHOWCASE;class Bo extends i.Component{static contextType=(()=>y.B)();keys=(()=>({header:E.A.DESKTOP_SHORT_CTA,tourHeader:E.A.CTA_TOUR_COMPLETE,tourSubhead:E.A.CTA_EXPLORE_SPACE,restartTour:E.A.CTA_RESTART_TOUR,share:E.A.CTA_SHARE,move:E.A.MOVE,inside:E.A.INSIDE,rotate:E.A.ROTATE,play:E.A.PLAY,zoom:E.A.ZOOM}))();clickInside=(()=>({Icon:Wr.mouse.clickInside,Label:this.keys.inside,FooterIcon:Wr.keyboard.inside,Alt:Go.ALT_MOUSE_CLICKINSIDE,FooterAlt:Go.ALT_KEYBOARD_INSIDE}))();clickMove=(()=>({Icon:Wr.mouse.positionRight,Label:this.keys.move,FooterIcon:"",Alt:Go.ALT_MOUSE_POSITIONRIGHT}))();moveUpDown=(()=>({Icon:Wr.mouse.click_old,Label:this.keys.move,FooterIcon:Wr.keyboard.upDown,Alt:Go.ALT_MOUSE_CLICK,FooterAlt:Go.ALT_KEYBOARD_UPDOWN}))();play=(()=>({Icon:Wr.mouse.play,Label:this.keys.play,FooterIcon:null,Alt:Go.ALT_MOUSE_PLAY}))();zoom=(()=>({Icon:Wr.mouse.zoom_old,Label:this.keys.zoom,FooterIcon:Wr.keyboard.zoom,Alt:Go.ALT_MOUSE_ZOOM,FooterAlt:Go.ALT_KEYBOARD_ZOOM}))();dragMove=(()=>({Icon:Wr.mouse.positionLeft_old,Label:this.keys.move,FooterIcon:null,Alt:Go.ALT_MOUSE_POSITIONLEFT}))();dragRotateLeft=(()=>({Icon:Wr.mouse.dragLeft,Label:this.keys.rotate,FooterIcon:Wr.keyboard.leftRight,Alt:Go.ALT_MOUSE_DRAGLEFT,FooterAlt:Go.ALT_KEYBOARD_LEFTRIGHT}))();dragRotateRight=(()=>({Icon:Wr.mouse.dragRight,Label:this.keys.rotate,FooterIcon:Wr.keyboard.leftRight,Alt:Go.ALT_MOUSE_DRAGRIGHT,FooterAlt:Go.ALT_KEYBOARD_LEFTRIGHT}))();left=this.clickInside;center=this.clickMove;right=this.play;close=async()=>{const{commandBinder:e}=this.context;await e.issueCommand(new Xe.X6(Qe.a.CTA,!1))};restartTour=async()=>{this.context.analytics.trackGuiEvent("restart_highlights_from_cta"),this.close();const e=await this.context.engine.getModuleBySymbol(J.Xf);await e.tourGoTo(0,{instant:!0}),e.startTour()};share=async()=>{const{commandBinder:e}=this.context;this.context.analytics.trackGuiEvent("click_share_button_from_cta"),this.close(),e.issueCommand(new Xe.X6(Qe.a.SHARE,!0))};render(){const{viewmode:e,isHelpCta:t,shareEnabled:n}=this.props,{locale:i}=this.context;this.configureViewmodeSpecifics(e);const r=i.t(t?this.keys.header:this.keys.tourHeader),o=t?"":i.t(this.keys.tourSubhead),s=i.t(E.A.CTA_SHARE),a=i.t(E.A.CTA_RESTART_TOUR);return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"cta",children:[(0,se.jsxs)("header",{children:[r,(0,se.jsx)("div",{className:"subhead",children:o})]}),(0,se.jsx)("img",{src:this.left.Icon,alt:i.t(this.left.Alt)}),(0,se.jsx)("h2",{children:i.t(this.left.Label)}),this.left.FooterIcon?(0,se.jsx)("img",{className:"footer-icon",src:this.left.FooterIcon,alt:this.left.FooterAlt&&i.t(this.left.FooterAlt)}):(0,se.jsx)("span",{}),(0,se.jsx)("img",{src:this.center.Icon,alt:i.t(this.center.Alt)}),(0,se.jsx)("h2",{children:i.t(this.center.Label)}),this.center.FooterIcon?(0,se.jsx)("img",{className:"footer-icon",src:this.center.FooterIcon,alt:this.center.FooterAlt&&i.t(this.center.FooterAlt)}):(0,se.jsx)("span",{}),(0,se.jsx)("img",{src:this.right.Icon,alt:i.t(this.right.Alt)}),(0,se.jsx)("h2",{children:i.t(this.right.Label)}),this.right.FooterIcon?(0,se.jsx)("img",{className:"footer-icon",src:this.right.FooterIcon,alt:this.right.FooterAlt&&i.t(this.right.FooterAlt)}):(0,se.jsx)("span",{})]}),(0,se.jsx)(p.$,{className:"close-button",theme:"dark",icon:"close",variant:f.A.TERTIARY,onClick:this.close}),!t&&(0,se.jsxs)("div",{className:"footer",children:[(0,se.jsx)(p.$,{onClick:this.restartTour,theme:"dark",label:a,icon:"restart",variant:f.A.TERTIARY}),n&&(0,se.jsx)(p.$,{className:"share",theme:"dark",label:s,icon:"share2",variant:f.A.SECONDARY,onClick:this.share})]})]})}configureViewmodeSpecifics(e){switch(e){case ke.w5.INSIDE:this.left=this.dragRotateLeft,this.center=this.moveUpDown,this.right=this.props.isHelpCta?this.play:this.zoom;break;case ke.w5.OUTSIDE:this.left=this.dragRotateLeft,this.center=this.clickMove,this.right=this.clickInside;break;case ke.w5.FLOORPLAN:this.left=this.dragMove,this.center=this.dragRotateRight,this.right=this.clickInside}}}const{HELP:Vo}=E.A.SHOWCASE;class jo extends i.Component{static contextType=(()=>y.B)();keys=(()=>({shortCta:E.A.MOBILE_SHORT_CTA,tourHeader:E.A.CTA_TOUR_COMPLETE,tourSubhead:E.A.CTA_EXPLORE_SPACE,move:E.A.MOVE,inside:E.A.INSIDE,rotate:E.A.ROTATE,play:E.A.PLAY,zoom:E.A.ZOOM}))();clickInside=(()=>({Icon:Wr.gesture.tapInside,Label:this.keys.inside,Alt:Vo.ALT_GESTURE_TAPINSIDE}))();clickMove=(()=>({Icon:Wr.gesture.tap_old,Label:this.keys.move,Alt:Vo.ALT_GESTURE_TAP}))();dragRotate=(()=>({Icon:Wr.gesture.drag_old,Label:this.keys.rotate,Alt:Vo.ALT_GESTURE_DRAG}))();dragMove=(()=>({Icon:Wr.gesture.position,Label:this.keys.move,Alt:Vo.ALT_GESTURE_POSITION}))();play=(()=>({Icon:Wr.gesture.play,Label:this.keys.play,Alt:Vo.ALT_GESTURE_PLAY}))();zoom=(()=>({Icon:Wr.gesture.pinch_old,Label:this.keys.zoom,Alt:Vo.ALT_GESTURE_PINCH}))();left=this.dragRotate;center=this.clickInside;right=this.play;render(){const{viewmode:e,isHelpCta:t}=this.props,{locale:n}=this.context;this.configureViewmodeSpecifics(e);const i=n.t(t?this.keys.shortCta:this.keys.tourHeader),r=t?"":n.t(this.keys.tourSubhead);return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"cta mobile",children:[(0,se.jsxs)("header",{className:"mobile",children:[i,(0,se.jsx)("div",{className:"subhead",children:r})]}),(0,se.jsx)("h2",{className:"mobile",children:n.t(this.left.Label)}),(0,se.jsx)("img",{src:this.left.Icon,alt:n.t(this.left.Alt)}),(0,se.jsx)("h2",{className:"mobile",children:n.t(this.center.Label)}),(0,se.jsx)("img",{src:this.center.Icon,alt:n.t(this.center.Alt)}),(0,se.jsx)("h2",{className:"mobile",children:n.t(this.right.Label)}),(0,se.jsx)("img",{src:this.right.Icon,alt:n.t(this.right.Alt)})]}),!t&&(0,se.jsx)("div",{className:"footer",children:(0,se.jsx)(p.$,{onClick:this.restartTour,theme:"dark",label:n.t(E.A.CTA_RESTART_TOUR),icon:"restart",variant:f.A.TERTIARY})})]})}configureViewmodeSpecifics(e){switch(e){case ke.w5.INSIDE:this.left=this.dragRotate,this.center=this.clickMove,this.right=this.props.isHelpCta?this.zoom:this.play;break;case ke.w5.DOLLHOUSE:case ke.w5.OUTSIDE:this.left=this.dragRotate,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play;break;case ke.w5.FLOORPLAN:this.left=this.dragMove,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play}}restartTour=async()=>{this.context.analytics.trackGuiEvent("restart_highlights_from_cta"),await this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.CTA,!1));(await this.context.engine.getModuleBySymbol(J.Xf)).startTour({index:0})}}var Wo=function(e){return e[e.NONE=0]="NONE",e[e.LARGE=1]="LARGE",e[e.SMALL=2]="SMALL",e}(Wo||{});const zo="cta-seen";function $o(e){const t=(0,ee.F)(),n=(0,Je.L)(),{touchDevice:r,viewmode:o,shareEnabled:s}=e,a=(0,Y.i)(Dn.Vg,!1),l=j(),c=-1!==Ee("ts",-1),u=Ee("tourcta",1),d=(0,_.U)(Wo,u)?u:Wo.LARGE,h=!!d&&l>0,[p,f]=(0,i.useState)(h&&c),g=Ee("help",0),y=(0,_.U)(Wo,g)?g:Wo.NONE,E=(0,Y.i)(zo,!1),S=E?Wo.NONE:p?d:y,[b,O]=(0,i.useState)(S),T=(0,mn.t)(),[A,w]=(0,i.useState)(T===Qe.a.CTA),N=(0,i.useCallback)((()=>{n.issueCommand(new Xe.X6(Qe.a.CTA,!1)),w(!1)}),[n]),I=function(){const e=(0,Fo.a)();return(null==e?void 0:e.canvas)||null}();if((0,i.useEffect)((()=>(I&&(I.addEventListener("mousedown",N),I.addEventListener("pointerdown",N),I.addEventListener("touchstart",N)),()=>{I&&(I.removeEventListener("mousedown",N),I.removeEventListener("pointerdown",N),I.removeEventListener("touchstart",N))})),[I,N]),(0,Q.J)(Gr.YH,(()=>{!E&&h&&(f(!0),O(d),n.issueCommand(new Xe.X6(Qe.a.CTA,!0)))})),(0,i.useEffect)((()=>{const e=T===Qe.a.CTA;w(e),e&&t.setSetting(zo,!0)}),[T,t]),b===Wo.NONE)return null;const R=b===Wo.SMALL,k=!R&&!r,L=!R&&r,P={mobile:r,small:R,helpCta:!p};return a?null:(0,se.jsx)(m.w,{open:A,className:v()("modal-background","dark-modal-background",{open:A}),children:(0,se.jsxs)("div",{className:v()("modal","ctaContainer",P),children:[R&&(0,se.jsx)(Ho,{isMobile:r}),k&&(0,se.jsx)(Bo,{viewmode:o,isHelpCta:!p,shareEnabled:s}),L&&(0,se.jsx)(jo,{viewmode:o,isHelpCta:!p,shareEnabled:s})]})})}var Ko,Yo,qo,Qo,Xo,Jo;!function(e){e[e.navigation=0]="navigation",e[e.moreHelp=1]="moreHelp"}(Ko||(Ko={})),function(e){e.left="left",e.middle="middle",e.right="right"}(Yo||(Yo={})),function(e){e.topInfo="topInfo",e.bigImage="bigImage",e.bottomInfo="bottomInfo",e.keyboard="keyboard"}(qo||(qo={})),function(e){e.desktop="desktop",e.mobile="mobile"}(Qo||(Qo={})),function(e){e.hlr="hlr",e.dollhouse="dollhouse",e.floors="floors",e.mattertag="mattertag",e.floorplan="floorplan",e.tour="tour",e.inside="inside",e.vr="vr",e.view360="view360",e.fullscreen="fullscreen"}(Xo||(Xo={})),function(e){e.landscape="landscape",e.portrait="portrait"}(Jo||(Jo={}));var Zo=n(3617);const es=E.A.SHOWCASE.HELP,ts={[Qo.desktop]:{title:es.NAV_DOLLHOUSE_TITLE,items:[{iconSrc:Wr.mouse.positionLeft,iconAlt:es.ALT_MOUSE_POSITIONLEFT,header:es.DESKTOP_DOLLHOUSE_PAN_HEADER,text:es.DESKTOP_DOLLHOUSE_PAN},{iconSrc:Wr.mouse.zoom,iconAlt:es.ALT_MOUSE_ZOOM,header:es.DESKTOP_DOLLHOUSE_ZOOM_HEADER,text:es.DESKTOP_DOLLHOUSE_ZOOM},{iconSrc:Wr.mouse.dragRightHoriz,iconAlt:es.ALT_MOUSE_DRAGRIGHT_HORIZ,header:es.DESKTOP_DOLLHOUSE_ROTATE_HEADER,text:es.DESKTOP_DOLLHOUSE_ROTATE},{iconSrc:Wr.mouse.dragRightVert,iconAlt:es.ALT_MOUSE_DRAGRIGHT_VERT,header:es.DESKTOP_DOLLHOUSE_2D3D_HEADER,text:es.DESKTOP_DOLLHOUSE_2D3D,badge:E.A.GENERIC.NEW_MESSAGE}]},[Qo.mobile]:{title:es.NAV_DOLLHOUSE_TITLE,items:[{iconSrc:Wr.gesture.position,iconAlt:es.ALT_GESTURE_POSITION,text:es.TOUCH_DOLLHOUSE_PAN},{iconSrc:Wr.gesture.dragTwoFingerVert,iconAlt:es.ALT_GESTURE_DRAGTWOFINGER_VERT,text:es.TOUCH_DOLLHOUSE_2D3D,badge:E.A.GENERIC.NEW_MESSAGE},{iconSrc:Wr.gesture.dragTwoFingerRotate,iconAlt:es.ALT_GESTURE_TOUCH_ROTATE,text:es.TOUCH_DOLLHOUSE_ROTATE,badge:E.A.GENERIC.NEW_MESSAGE},{iconSrc:Wr.gesture.pinch,iconAlt:es.ALT_GESTURE_PINCH,text:es.TOUCH_DOLLHOUSE_ZOOM}]}},ns={[Qo.desktop]:{...ts[Qo.desktop],title:es.NAV_FLOORPLAN_TITLE},[Qo.mobile]:{...ts[Qo.mobile],title:es.NAV_FLOORPLAN_TITLE}},is={[Qo.desktop]:{title:es.NAV_INSIDE_TITLE,items:[{iconSrc:Wr.mouse.positionLeft,iconAlt:es.ALT_MOUSE_POSITIONLEFT,header:es.DESKTOP_INSIDE_LOOK_HEADER,text:es.DESKTOP_INSIDE_LOOK},{iconSrc:Wr.mouse.zoom,iconAlt:es.ALT_MOUSE_ZOOM,header:es.DESKTOP_INSIDE_ZOOM_HEADER,text:es.DESKTOP_INSIDE_ZOOM},{iconSrc:Wr.mouse.click,iconAlt:es.ALT_MOUSE_CLICK,header:es.DESKTOP_INSIDE_MOVE_HEADER,text:es.DESKTOP_INSIDE_MOVE}]},[Qo.mobile]:{title:es.NAV_INSIDE_TITLE,items:[{iconSrc:Wr.gesture.position,iconAlt:es.ALT_GESTURE_POSITION,text:es.TOUCH_INSIDE_LOOK},{iconSrc:Wr.gesture.tap,iconAlt:es.ALT_GESTURE_TAP,text:es.TOUCH_INSIDE_MOVE},{iconSrc:Wr.gesture.pinch,iconAlt:es.ALT_GESTURE_PINCH,text:es.TOUCH_INSIDE_ZOOM}]}},rs=(0,i.memo)((e=>{let{viewmode:t,device:n}=e;const i=(0,Z.Y)(),r=(t===ke.w5.FLOORPLAN?ns:t===ke.w5.DOLLHOUSE?ts:is)[n];return(0,se.jsx)("div",{className:v()("navigation",n),children:(0,se.jsx)(Zo.H,{disabled:!1,hideThumb:!1,children:(0,se.jsxs)("section",{children:[r.title&&(0,se.jsx)("h2",{children:i.t(r.title)}),(0,se.jsxs)("ul",{children:[r.items.map(((e,t)=>{let{iconSrc:n,iconAlt:r,header:o,text:s,badge:a}=e;return(0,se.jsxs)("li",{children:[(0,se.jsx)("img",{src:n,alt:i.t(r)}),(o||a)&&(0,se.jsxs)("h3",{children:[o&&i.t(o)+" ",a&&(0,se.jsx)("span",{className:"help_badge",children:i.t(a)})]}),(0,se.jsx)("div",{children:i.t(s)})]},t)})),r.items.length%2?(0,se.jsx)("li",{children:(0,se.jsx)("div",{style:{width:440}})}):null]})]})})})})),os={[Xo.hlr]:{[qo.topInfo]:"HELP_MORE_HLR_A",[qo.bigImage]:"icon-hlr",[qo.bottomInfo]:"HELP_DESKTOP_MORE_HLR_B"},[Xo.dollhouse]:{[qo.topInfo]:"HELP_MORE_DOLLHOUSE_A",[qo.bigImage]:"icon-dollhouse",[qo.bottomInfo]:"HELP_MOBILE_MORE_DOLLHOUSE_B"},[Xo.floors]:{[qo.topInfo]:"HELP_MORE_FLOORS_A",[qo.bigImage]:"icon-floor-controls",[qo.bottomInfo]:"HELP_DESKTOP_MORE_FLOORS_B"},[Xo.mattertag]:{[qo.topInfo]:"HELP_MORE_MATTERTAG_A",[qo.bigImage]:Wr.moreHelp.mattertag,[qo.bottomInfo]:"HELP_MOBILE_MORE_MATTERTAG_B"},[Xo.tour]:{[qo.topInfo]:"HELP_MORE_TOUR_A",[qo.bigImage]:"icon-play",[qo.bottomInfo]:"HELP_DESKTOP_MORE_TOUR_B"},[Xo.inside]:{[qo.topInfo]:"HELP_MORE_INSIDE_A",[qo.bigImage]:"icon-panorama",[qo.bottomInfo]:"HELP_MOBILE_MORE_INSIDE_B"},[Xo.vr]:{[qo.topInfo]:"HELP_MORE_VR_A",[qo.bigImage]:"icon-vr",[qo.bottomInfo]:"HELP_MOBILE_MORE_VR_B"},[Xo.view360]:{[qo.topInfo]:"HELP_MORE_360_A",[qo.bigImage]:Wr.moreHelp.view360,[qo.bottomInfo]:"HELP_MOBILE_MORE_360_B"},[Xo.floorplan]:{[qo.topInfo]:"HELP_MORE_FLOORPLAN_A",[qo.bigImage]:"icon-floorplan",[qo.bottomInfo]:"HELP_MOBILE_FLOORPLAN_B"}},ss=JSON.parse(JSON.stringify(os));ss[Xo.fullscreen]={[qo.topInfo]:"HELP_MORE_FULLSCREEN_A",[qo.bigImage]:"icon-fullscreen",[qo.bottomInfo]:"HELP_DESKTOP_MORE_FULLSCREEN_B"},ss[Xo.dollhouse][qo.bottomInfo]="HELP_DESKTOP_MORE_DOLLHOUSE_B",ss[Xo.mattertag][qo.bottomInfo]="HELP_DESKTOP_MORE_MATTERTAG_B",ss[Xo.inside][qo.bottomInfo]="HELP_DESKTOP_MORE_INSIDE_B",ss[Xo.vr][qo.bottomInfo]="HELP_DESKTOP_MORE_VR_B",ss[Xo.view360][qo.bottomInfo]="HELP_DESKTOP_MORE_360_B",ss[Xo.floorplan][qo.bottomInfo]="HELP_DESKTOP_FLOORPLAN_B";const as={[Qo.desktop]:ss,[Qo.mobile]:os};var ls=n(44879);const cs=[qo.topInfo,qo.bigImage,qo.bottomInfo];class us extends i.Component{static contextType=(()=>y.B)();scrollbarsRef=(()=>(0,i.createRef)())();constructor(e){super(e)}componentDidMount(){const e=this.scrollbarsRef.current;e&&e.scrollTo({x:0,y:0})}buildInstructions(){const e=[],t=this.props.device===Qo.desktop?5:this.props.orientation===ls.U.LANDSCAPE?3:2,n=Object.keys(as[this.props.device]);for(let i=0;i<n.length;i+=t){for(const r of cs){const o=[];for(let e=0;e<t;e++){if(i+e>=n.length)continue;const t=as[this.props.device][n[i+e]][r],s=v()(r,n[i+e],{noAsset:!t}),a=`${i}_${r}_${e}`;switch(r){case qo.topInfo:o.push((0,se.jsx)("div",{className:s,children:this.context.locale.t(t)},`${a}_top_info`));break;case qo.bigImage:o.push((0,se.jsx)("div",{className:s,children:t.indexOf(".png")>-1?(0,se.jsx)("img",{src:t}):(0,se.jsx)("span",{className:t,children:"floors"===n[i+e]?(0,se.jsx)("span",{children:"2"}):null})},`${a}_big_img`));break;case qo.bottomInfo:o.push((0,se.jsx)("div",{className:s,children:this.context.locale.t(t)},`${a}_bottom_info`))}}e.push((0,se.jsx)("div",{className:v()("innerRow",r),children:o},`${i}_${r}_top_info`))}e.push((0,se.jsx)("div",{className:"rowPadding"},`${i}_row_padding`))}return e.pop(),e}render(){return(0,se.jsx)("div",{className:v()("more-help-wrapper",this.props.device),children:(0,se.jsx)(to,{name:"more-help-wrapper",ref:this.scrollbarsRef,forceHidden:!1,children:(0,se.jsx)("div",{className:v()("more-help"),children:this.buildInstructions()})})})}}var ds,hs,ps;let fs=(ds=Reflect.metadata("design:type",Function),hs=Reflect.metadata("design:paramtypes",["undefined"==typeof HelpProps?Object:HelpProps,"undefined"==typeof AppContextType?Object:AppContextType]),(0,rt.A)(ps=ds(ps=hs(ps=class extends i.Component{static contextType=(()=>y.B)();device;orientationSubscription;isUnmounting=!1;constructor(e,t){super(e,t),this.device=this.props.isMobile?Qo.mobile:Qo.desktop,this.state={tab:Ko.navigation,orientation:t.market.tryGetData(ct.G)?.orientation??ls.U.LANDSCAPE}}componentDidMount(){this.context.market.waitForData(ct.G).then((e=>{this.isUnmounting||(this.orientationSubscription=e.onPropertyChanged("orientation",(e=>{this.setState({orientation:e})})))}))}componentWillUnmount(){this.isUnmounting=!0,this.orientationSubscription?.cancel()}handleTabClick=e=>()=>{this.setState({tab:e})};closeHelp=()=>{this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.HELP,!1))};render(){const{tab:e,orientation:t}=this.state;return(0,se.jsxs)(Yn.l,{className:v()("full-modal","help-modal",this.device),theme:"dark",onClose:this.closeHelp,children:[(0,se.jsx)(qn.J,{theme:"dark",onClose:this.closeHelp}),(0,se.jsxs)("div",{className:v()("tabs",e),children:[(0,se.jsx)("div",{className:v()("navigation-tab",{active:e===Ko.navigation}),onClick:this.handleTabClick(Ko.navigation),children:(0,se.jsx)("span",{children:this.context.locale.t(E.A.HELP_NAVIGATION_TAB)})}),(0,se.jsx)("div",{className:v()("more-help-tab",{active:e===Ko.moreHelp}),onClick:this.handleTabClick(Ko.moreHelp),children:(0,se.jsx)("span",{children:this.context.locale.t(E.A.HELP_MORE_HELP_TAB)})})]}),e===Ko.navigation&&(0,se.jsx)(rs,{device:this.device,viewmode:this.props.viewmode}),e===Ko.moreHelp&&(0,se.jsx)(us,{device:this.device,orientation:t})]})}})||ps)||ps)||ps);var ms=n(55057),gs=n(12837),vs=n(81609);const ys=new c.Vy("share-modal");class Es extends i.Component{static contextType=(()=>y.B)();urlInputRef;sweepData;openEmail;openFacebook;openLinkedIn;openPinterest;openTwitter;isUnmounting=!1;constructor(e){super(e),this.state={urls:{},deeplinkUrls:{},title:"",excerpt:"",image:"",copied:!1,deeplink:!1,webShareEnabled:(0,d.Yk)()},this.openFacebook=this.openShareWindow.bind(this,oo.FACEBOOK),this.openTwitter=this.openShareWindow.bind(this,oo.TWITTER),this.openPinterest=this.openShareWindow.bind(this,oo.PINTEREST),this.openLinkedIn=this.openShareWindow.bind(this,oo.LINKEDIN),this.openEmail=this.openShareWindow.bind(this,oo.MAIL)}async componentDidMount(){const{market:e}=this.context,[t,n]=await Promise.all([e.waitForData(ms.q),e.waitForData(gs.A)]);this.sweepData=n;const i=`${window.location.origin}/api/v1/player/models/${t.model.sid}/thumb`,r=t.model.details.name;this.isUnmounting||this.setState({title:r,image:i},this.updateUrls)}componentWillUnmount(){this.isUnmounting=!0}copyURL=()=>{const{deeplink:e}=this.state,t=this.urlInputRef;if(t){const n=new URL(t.value);n.hash="",(0,vs.l)(n.toString()),this.setState({copied:!0}),this.context.analytics.track("showcase_share_action",{channel:oo.COPYLINK,pano_id:this.sweepData.state.currentSweep,deeplink:e}),window.setTimeout((()=>{this.setState({copied:!1})}),2500)}};toggleDeeplinks=()=>{const{deeplink:e}=this.state;this.setState({deeplink:!e})};close=()=>{this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.SHARE,!1))};openShareWindow=e=>{const{urls:t,deeplink:n,deeplinkUrls:i}=this.state,{width:r,height:o}=yo[e],s=n?i[e]:t[e];let a;if(r&&o){a="top="+(window.screenY+(window.innerHeight-o)/2)+",left="+(window.screenX+(window.innerWidth-r)/2)+",width="+r+",height="+o}this.context.analytics.track("showcase_share_action",{channel:e,pano_id:this.sweepData.state.currentSweep,deeplink:n}),window.open(s,"",a)};openWebShareApi=e=>{if(!navigator.share)return;const{excerpt:t,title:n,urls:i,deeplinkUrls:r}=this.state,o={url:e?r[oo.COPYLINK]:i[oo.COPYLINK],text:t,title:n};ys.debug("Launching Web Share API",o),navigator.share(o),this.context.analytics.track("showcase_share_action",{channel:oo.NATIVE,pano_id:this.sweepData.state.currentSweep,deeplink:e})};async updateUrls(){const{title:e,image:t}=this.state,[n,i]=await Promise.all([Eo(this.context,!1),Eo(this.context,!0)]),r=No(n,e,t,this.context.locale),o=No(i,e,t,this.context.locale);ys.debug("Social Share URLs:",r),ys.debug("Social Share URLs, with current location",o),this.isUnmounting||this.setState({urls:r,deeplinkUrls:o})}onWebShareClick=()=>{this.openWebShareApi(!1)};onWebShareDeeplinkClick=()=>{this.openWebShareApi(!0)};setUrlInputRef=e=>{this.urlInputRef=e};renderWebShareDialog(){return(0,se.jsxs)("div",{className:"share-controls",children:[(0,se.jsx)(p.$,{className:"share-modal-button",variant:f.A.PRIMARY,size:f.M.LARGE,onClick:this.onWebShareDeeplinkClick,label:this.context.locale.t(E.A.SHARE_CURRENT_LOCATION)}),(0,se.jsx)(p.$,{className:"share-modal-button",variant:f.A.SECONDARY,size:f.M.LARGE,onClick:this.onWebShareClick,label:this.context.locale.t(E.A.SHARE_DEFAULT_LOCATION)})]})}renderShareDialog(){const{copied:e,deeplink:t,urls:n,deeplinkUrls:i}=this.state,{locale:r}=this.context,o=t?i[oo.COPYLINK]:n[oo.COPYLINK],s=this.sweepData&&this.sweepData.isSweepDisabled(),a=s?r.t(E.A.SHARE_ERROR_SWEEP_DISABLED):void 0;return(0,se.jsxs)("div",{className:"share-controls",children:[(0,se.jsxs)("div",{className:"social-icons",children:[(0,se.jsx)(p.$,{onClick:this.openFacebook,icon:"facebook",variant:f.A.FAB,size:"large",theme:"dark",ariaLabel:r.t(E.A.SHARE_FACEBOOK)}),(0,se.jsx)(p.$,{onClick:this.openTwitter,icon:"twitter",variant:f.A.FAB,size:"large",theme:"dark",ariaLabel:r.t(E.A.SHARE_TWITTER)}),(0,se.jsx)(p.$,{onClick:this.openLinkedIn,icon:"linkedin",variant:f.A.FAB,size:"large",theme:"dark",ariaLabel:r.t(E.A.SHARE_LINKEDIN)}),(0,se.jsx)(p.$,{onClick:this.openPinterest,icon:"pinterest",variant:f.A.FAB,size:"large",theme:"dark",ariaLabel:r.t(E.A.SHARE_PINTEREST)}),(0,se.jsx)(p.$,{onClick:this.openEmail,icon:"email",variant:f.A.FAB,size:"large",theme:"dark",ariaLabel:r.t(E.A.SHARE_MAIL)})]}),(0,se.jsxs)("div",{className:"input-group",children:[(0,se.jsx)("input",{className:"input",type:"text",value:o||"",ref:this.setUrlInputRef,readOnly:!0}),(0,se.jsx)(p.$,{className:"input-addon",variant:f.A.SECONDARY,onClick:this.copyURL,label:this.context.locale.t(E.A.COPY),tooltip:e?this.context.locale.t(E.A.SHARE_COPIED):this.context.locale.t(E.A.COPY_URL)})]}),(0,se.jsx)(hr.S,{defaultChecked:t,disabled:s,label:this.context.locale.t(E.A.SHARE_LINK_TO_LOCATION),onChange:this.toggleDeeplinks}),s&&(0,se.jsx)("p",{className:"error-message",children:a})]})}render(){const{webShareEnabled:e}=this.state,t=v()("share-modal","modal-dialog",{"share-dialog":!e,"web-share-dialog":e}),n=e?this.renderWebShareDialog():this.renderShareDialog();return(0,se.jsxs)(Yn.l,{className:t,onClose:this.close,children:[(0,se.jsxs)("header",{className:"modal-header",children:[(0,se.jsx)("div",{className:"modal-title",children:this.context.locale.t(E.A.SHARE_MODAL_TITLE)}),(0,se.jsx)(qn.J,{onClose:this.close})]}),(0,se.jsx)("div",{className:"modal-body",children:n})]})}}class Ss extends i.Component{static contextType=(()=>y.B)();locale;constructor(e,t){super(e),this.locale={headerString:t.locale.t(E.A.MEASUREMENT_MODE),subHeaderString:t.locale.t(E.A.MEASUREMENT_HELP_MODAL_SUB_HEADER),body1String:t.locale.t(E.A.MEASUREMENT_HELP_MODAL_BODY_1),body2String:t.locale.t(E.A.MEASUREMENT_HELP_MODAL_BODY_2)}}closeModal=()=>{this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.MEASUREMENT_HELP,!1))};render(){const{headerString:e,subHeaderString:t,body1String:n,body2String:i}=this.locale,{mobile:r}=this.props;return(0,se.jsxs)(Yn.l,{className:v()("full-modal","measurement-mode-help-modal",{mobile:r}),onClose:this.closeModal,children:[(0,se.jsxs)("header",{className:"modal-header",children:[(0,se.jsx)("div",{className:"modal-title",children:e}),(0,se.jsx)(qn.J,{onClose:this.closeModal})]}),(0,se.jsx)("div",{className:"modal-subheader",children:t}),(0,se.jsxs)("div",{className:"modal-body",children:[(0,se.jsx)("p",{className:"modal-paragraph",children:n}),(0,se.jsx)("p",{className:"modal-paragraph",children:i})]})]})}}var bs;!function(e){e.HandsRaised="hands-raised",e.RotatePhone="rotate-phone"}(bs||(bs={}));const _s=new Map;var Os,Ts,As;_s.set(bs.HandsRaised,{alt:"Hands Raised",json:n(32244),fallback:n(10086)}),_s.set(bs.RotatePhone,{alt:"Rotate your device to portrait orientation",json:n(2377),fallback:n(28659)});let ws=(Os=Reflect.metadata("design:type",Function),Ts=Reflect.metadata("design:paramtypes",["undefined"==typeof LottieProps?Object:LottieProps]),(0,rt.A)(As=Os(As=Ts(As=class extends i.Component{lottieLib;lottieTargetRef=(()=>(0,i.createRef)())();isUnmounting=!1;constructor(e){super(e),this.state={fallbackActive:!1}}componentDidMount(){this.updateAnimation()}componentDidUpdate(e){e.animation===this.props.animation&&e.loop===this.props.loop||this.updateAnimation()}componentWillUnmount(){this.isUnmounting=!0}loadLottie=async()=>this.lottieLib?this.lottieLib:await n.e(4456).then(n.t.bind(n,49891,23));updateAnimation=async()=>{const{animation:e,loop:t=!1}=this.props;let n;this.setState({fallbackActive:!1});try{n=await this.loadLottie()}catch(e){if(this.isUnmounting)return;return void this.setState({fallbackActive:!0})}const i=_s.get(e);if(n&&i&&this.lottieTargetRef.current){const e=n.loadAnimation({loop:t,container:this.lottieTargetRef.current,renderer:"svg",autoplay:!1,animationData:i.json});e.addEventListener("data_failed",(()=>{this.isUnmounting||this.setState({fallbackActive:!0})})),setTimeout((()=>{this.isUnmounting||e.play()}),50)}};renderFallback=()=>{const{animation:e}=this.props,t=_s.get(e);return t?(0,se.jsx)("img",{className:"lottie-fallback",src:t.fallback,alt:t.alt}):null};render(){return(0,se.jsxs)("div",{className:"lottie",children:[(0,se.jsx)("div",{className:"lottie-animation",ref:this.lottieTargetRef}),this.state.fallbackActive&&this.renderFallback()]})}})||As)||As)||As);const Ns=ws;var Is=n(23635),Rs=E.A.WORKSHOP.MODEL_RATING;function ks(e){let{onSupportClicked:t,showSupportCTA:n=!0}=e;const i=(0,Z.Y)();return(0,se.jsxs)("div",{className:"rating-thank-you",children:[(0,se.jsx)("h4",{children:i.t(Rs.THANK_YOU_HEADING)}),(0,se.jsx)(Ns,{animation:bs.HandsRaised}),(0,se.jsx)("p",{className:"p4",children:i.t(Rs.THANK_YOU_BODY)}),n&&(0,se.jsxs)("small",{className:"model-rating-cta",children:[i.t(Rs.THANK_YOU_CTA),"",(0,se.jsx)(Is.N,{href:"//matterport.com/resources/support",onClick:t,children:i.t(Rs.THANK_YOU_CTA_LINK_TEXT)})]})]})}class Ls extends i.Component{static contextType=(()=>y.B)();onClose=()=>{this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.RATING_THANK_YOU,!1))};render(){return(0,se.jsxs)(Yn.l,{className:"model-rating-thank-you open",onClose:this.onClose,children:[(0,se.jsx)(qn.J,{onClose:this.onClose}),(0,se.jsx)(ks,{onSupportClicked:this.onClose})]})}}var Ps=n(29106),Ds=n(68920),Ms=n(16700);function Cs(e){let{commandBinder:t,buttonSize:n=f.M.LARGE}=e;const[r,o]=(0,i.useState)(!1),[s,a]=(0,i.useState)(),[l,c]=(0,i.useState)(),u=(0,Z.Y)(),d=(0,Ms.bt)("confirm-modal"),h=(0,i.useCallback)((async e=>{s?.resolve(e),o(!1),t.issueCommand(new Xe.rH)}),[t,s]),g=(0,i.useCallback)((()=>{h(Ps.$.CLOSE)}),[h]),y=(0,i.useCallback)((()=>{h(Ps.$.CONFIRM)}),[h]),E=(0,i.useCallback)((async e=>{switch(e.action){case Ps.Y.DISPLAY:if(r){if(!l?.cancellable)return Promise.reject("Cannot close non-cancellable modal");await h(Ps.$.CLOSE)}o(!0),t.issueCommand(new Xe.X6(Qe.a.CONFIRM,!0)),c(e.properties);const n=new Ds.i;return a(n),n.nativePromise();case Ps.Y.UPDATE:return c(e.properties),s?.nativePromise();case Ps.Y.CLOSE:return r?(h(Ps.$.CLOSE),s?.nativePromise()):Promise.reject("Cannot cancel a closed modal")}}),[h,t,l,r,s]);(0,i.useEffect)((()=>(t.addBinding(Xe.nX,E),()=>{t.removeBinding(Xe.nX,E)})),[t,E]);const S=(0,i.useCallback)((e=>e.stopPropagation()),[]),b=(0,i.useCallback)((e=>{"Escape"===e.key?g():"Enter"===e.key&&y&&y(),e.stopPropagation()}),[g,y]);if(!l)return null;const{title:_,titleLocalizationOptions:O,message:T,messageLocalizationOptions:A,confirmPhraseKey:w,cancelPhraseKey:N,closeButton:I,modalClass:R,confirmDisabled:k,cancelVariant:L}=l,P=l.cancel??(N?u.t(N):void 0),D=l.confirm??(w?u.t(w):void 0);let M=_;if("string"==typeof _&&0!==_.length){const e=void 0===O?{}:O,t=u.t(_,e);M=(0,se.jsx)("span",{children:t})}let C=T;if("string"==typeof T){const e=void 0===A?{}:A,t=u.t(T,e);C=(0,se.jsx)("p",{className:"modal-message",children:t})}return(0,se.jsx)(m.w,{open:r,className:v()("modal-background","confirm-modal-background",{open:r}),onClick:S,onPointerDown:S,onPointerUp:S,onKeyDown:b,children:(0,se.jsxs)(Yn.l,{testId:"confirm-modal",className:v()("confirm-modal",d,R),onClose:g,children:[(0,se.jsxs)("header",{className:"modal-header",children:[(0,se.jsx)("div",{className:"modal-title",children:M}),I&&(0,se.jsx)(p.$,{icon:"close",onClick:g})]}),(0,se.jsx)("div",{className:"modal-body",children:C}),(0,se.jsxs)(gn.e,{spacing:"small",children:[P&&(0,se.jsx)(p.$,{size:n,onClick:g,variant:L||f.A.SECONDARY,children:P}),D&&(0,se.jsx)(p.$,{disabled:k,variant:f.A.PRIMARY,size:n,onClick:y,children:D})]})]})})}var xs=n(94609),Us=n(19968);function Fs(){const e=(0,Z.Y)(),t=(0,Je.L)(),n=(0,i.useCallback)((()=>{t.issueCommand(new Xe.X6(Qe.a.DEFURNISH_AI,!1))}),[t]);return(0,se.jsxs)(Yn.l,{className:v()("defurnish-ai-modal","full-modal"),theme:"dark",onClose:n,children:[(0,se.jsx)(qn.J,{theme:"dark",onClose:n}),(0,se.jsxs)("div",{className:"modal-body",children:[(0,se.jsx)("h6",{className:"defurnish-ai-modal-title",children:e.t(E.A.SHOWCASE.DEFURNISH_AI_MODAL.TITLE)}),(0,se.jsx)("p",{className:"defurnish-ai-modal-content",children:e.t(E.A.SHOWCASE.DEFURNISH_AI_MODAL.TEXT1)}),(0,se.jsx)("p",{className:"defurnish-ai-modal-content",children:e.t(E.A.SHOWCASE.DEFURNISH_AI_MODAL.TEXT2)})]})]})}function Hs(e){const{viewmode:t,shareEnabled:n}=e,r=(0,Je.L)(),o=(0,mn.t)(),s=(0,xs.I)(),a=(0,i.useMemo)((()=>(0,d.C8)()),[]),l=t===ke.w5.DOLLHOUSE&&(0,Us.aY)(s)?ke.w5.FLOORPLAN:t,c=o===Qe.a.SHARE,u=o===Qe.a.TERMS,h=o===Qe.a.HELP,p=o===Qe.a.MEASUREMENT_HELP,f=o===Qe.a.VR_SELECT,g=o===Qe.a.RATING_THANK_YOU,y=o===Qe.a.DEFURNISH_AI,E=u||h||y,S=c||E||p||g||f;return(0,se.jsx)(i.Suspense,{children:(0,se.jsxs)("div",{id:"showcase-modals",children:[(0,se.jsx)(Cs,{commandBinder:r}),(0,se.jsx)($o,{touchDevice:a,viewmode:l,shareEnabled:n}),(0,se.jsxs)(m.w,{className:v()("modal-background",{"dark-modal-background":E,open:S}),open:S,selectChild:!0,childKey:o||void 0,onClick:()=>{r.issueCommand(new Xe.rH)},children:[(0,se.jsx)(Es,{},Qe.a.SHARE),(0,se.jsx)(Ss,{mobile:a},Qe.a.MEASUREMENT_HELP),(0,se.jsx)(Uo,{isMobile:a},Qe.a.VR_SELECT),u&&(0,se.jsx)(ro,{},Qe.a.TERMS),h&&(0,se.jsx)(fs,{isMobile:a,viewmode:l,allModes:ke.w5},Qe.a.HELP),g&&(0,se.jsx)(Ls,{},Qe.a.RATING_THANK_YOU),y&&(0,se.jsx)(Fs,{},Qe.a.DEFURNISH_AI)]})]})})}var Gs=n(1197),Bs=n(99583),Vs=n(85204),js=n(76853);const Ws=function(e,t){const n=e.classList;switch(t){case A.L$.NORMAL:case A.L$.SIDE_PANEL:n.replace("narrow-layout","standard-layout")||n.add("standard-layout");break;case A.L$.NARROW:case A.L$.BOTTOM_PANEL:n.replace("standard-layout","narrow-layout")||n.add("narrow-layout")}};var zs,$s,Ks,Ys=n(95439);let qs=(zs=Reflect.metadata("design:type",Function),$s=Reflect.metadata("design:paramtypes",["undefined"==typeof ToastrProps?Object:ToastrProps]),(0,rt.F)(Ks=zs(Ks=$s(Ks=class extends i.Component{static contextType=(()=>y.B)();timeout;constructor(e){super(e),this.state=this.getInitialState()}componentDidMount(){this.context.commandBinder.addBinding(Ys.Q,this.show),this.context.commandBinder.addBinding(Ys.v,this.hide)}componentWillUnmount(){window.clearTimeout(this.timeout),this.context.commandBinder.removeBinding(Ys.Q,this.show),this.context.commandBinder.removeBinding(Ys.v,this.hide)}render(){const{locale:e}=this.context,t=this.props.className||"",{active:n,multiline:i,messagePhraseKey:r,ctaPhraseKey:o,dismissesOnAction:s}=this.state,a={active:n,multiline:i},l=r?e.t(r):null,c=o?e.t(o):null;return(0,se.jsx)("div",{className:"toastr-wrapper",onClick:s?this.hide:void 0,children:(0,se.jsxs)("div",{className:v()("toastr-contents",`${t}`,a),children:[(0,se.jsx)("div",{className:"toastr-text",children:l}),c&&(0,se.jsx)("a",{className:"link",onClick:this.triggerAction,children:c})]})})}getInitialState=()=>({messagePhraseKey:"",active:!1,ctaPhraseKey:"",timeout:0,multiline:!1,dismissesOnAction:!1,actionHandler:()=>{}});triggerAction=e=>{e.stopPropagation(),this.state.actionHandler&&this.state.actionHandler(),this.state.dismissesOnAction&&this.hide()};hide=async()=>{window.clearTimeout(this.timeout),this.setState({active:!1})};show=async e=>{const t=Object.assign(this.getInitialState(),e,{active:!0});this.setState(t),window.clearTimeout(this.timeout),t.timeout>0&&(this.timeout=window.setTimeout((()=>{this.setState({active:!1})}),t.timeout))}})||Ks)||Ks)||Ks);const{PANELS:Qs}=E.A;function Xs(e){let{children:t,className:n,sidePanelCollapsible:r,panelLeft:o}=e;const s=(0,ce.s)(),a=(0,Je.L)(),l=(0,Ci.J)(),c=(0,$r.O)(),u=(0,Z.Y)(),d=(0,de.H)(),p=(0,i.useCallback)((()=>{d||(s.track("showcase_gui",{gui_action:"toggle_side_panel"}),a.issueCommand(new h.li(!l)))}),[d,s,a,l]),f=l?u.t(Qs.EXPAND_PANEL):u.t(Qs.COLLAPSE_PANEL),m=l?"icon-dpad-left":"icon-dpad-right",g=!(!c||!c.panel)&&!!o==!!c?.panelLeft,y=!!c?.panelLeft&&!d,E=!y&&!d,S={"panel-open":g&&!l,"panel-collapsed":g&&l,"panel-bottom":d,"panel-side":!d,"panel-left":y,"panel-right":E};return(0,se.jsxs)(se.Fragment,{children:[g&&E&&r&&(0,se.jsx)("div",{className:"panel-track",children:(0,se.jsx)("div",{className:"panel-track-thumb right","data-balloon":f,"data-balloon-pos":"left",onClick:p,children:(0,se.jsx)("span",{className:`icon ${m}`})})}),(0,se.jsx)("div",{className:v()("panels",S,n),children:t})]})}var Js=n(96556),Zs=n(37887);function ea(e){let{children:t,className:n}=e;const{setLeftPanelContainer:r,setRightPanelContainer:o}=(0,Js.OB)(),s=(0,q.B)(),a=(0,sr.x)(),l=(0,$r.O)(),c=(0,mn.t)(),u=(0,Ci.J)(),d=(0,xi.O)(),h=d===A.L$.BOTTOM_PANEL;return(0,i.useEffect)((()=>{Ws(a,d)}),[a,d]),(0,i.useEffect)((()=>{u?a.classList.add("tool-collapsed"):a.classList.remove("tool-collapsed"),ia(a,l,h)}),[a,u,l,h]),(0,i.useEffect)((()=>{a.classList.remove("bottom-panel","left-panel","right-panel"),l&&l.panel&&a.classList.add(h?"bottom-panel":l.panelLeft?"left-panel":"right-panel"),ia(a,l,h)}),[a,l,h]),(0,i.useEffect)((()=>{c?a.classList.add("modal-open"):a.classList.remove("modal-open")}),[a,c]),(0,se.jsxs)("div",{className:v()("app-ui",n),children:[(0,se.jsx)(Xs,{sidePanelCollapsible:!1,panelLeft:!0,children:(0,se.jsx)(ta,{id:Js.Cz.LEFT_PANEL_PORTAL,containerRef:r})}),(0,se.jsx)("div",{className:"scene-overlay",children:(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(Zs.Q,{}),t]})}),(0,se.jsx)(Xs,{sidePanelCollapsible:s,children:(0,se.jsx)(ta,{id:Js.Cz.RIGHT_PANEL_PORTAL,containerRef:o})}),(0,se.jsx)(qs,{}),(0,se.jsx)(na,{tool:l})]})}function ta(e){let{id:t,containerRef:n}=e;return(0,se.jsx)("div",{className:"tool-panel",id:t,ref:n})}function na(e){let{tool:t}=e;const n=(0,js.v)(),i=(0,Js.EG)();if(!t)return null;const r=n.getToolUi(t.id);return(0,se.jsx)(se.Fragment,{children:r.map(((e,n)=>{const r=e;return(0,se.jsx)(r,{...i},`${t.id}_ui_${n}`)}))})}function ia(e,t,n){n&&!0===t?.searchModeType?e.classList.add("with-search-bar"):e.classList.remove("with-search-bar")}var ra,oa,sa,aa=n(23863);let la=(ra=Reflect.metadata("design:type",Function),oa=Reflect.metadata("design:paramtypes",["undefined"==typeof Props?Object:Props]),(0,rt.A)(sa=ra(sa=oa(sa=class extends Po{static contextType=(()=>y.B)();constructor(e){super(e),this.state={vrPlatform:null}}render(){return this.state.vrPlatform===so.wc.webxr?this.renderOverlayCta():null}renderOverlayCta(){const{locale:e}=this.context;return(0,se.jsx)("div",{id:"vr-overlay-layer",className:"overlay grid-overlay",children:(0,se.jsx)(aa.E,{small:!0,children:(0,se.jsx)(p.$,{size:f.M.SMALL,variant:f.A.FAB,theme:"dark",label:e.t(E.A.VR_ENTER),onClick:this.startWebXR})})})}})||sa)||sa)||sa);const{TOURS:ca}=E.A.SHOWCASE;function ua(e){const t=(0,Z.Y)(),n=(0,mi.B)(),r=(0,ee.F)(),o=(0,I.S)(J.Xf),{highlights:s,tourPlaying:a}=e,l=(0,de.H)(),c=t.t(ca.TOUR_CONTROLS_TITLE),u=t.t(ca.TOUR_CONTROLS_CTA),d=0===s.length,[h,p]=(0,i.useState)(!1),f=(0,i.useCallback)((async e=>{!d&&o&&(e.stopPropagation(),await o.tourGoNext({resumeIfPlaying:!0}))}),[d,o]),m=(0,i.useCallback)((async e=>{!d&&o&&(e.stopPropagation(),await o.tourGoPrevious({resumeIfPlaying:!0}))}),[d,o]);return(0,i.useEffect)((()=>{const e=[];let t=0;const i=()=>{p(!1)};return e.push(n.subscribe(Gr.zM,(()=>{})),n.subscribe(Gr.pT,i)),()=>{e.forEach((e=>e.cancel())),clearInterval(t)}}),[n,r,l]),(0,se.jsxs)("div",{className:v()("tour-story-controls-mobile",{prompt:h,tourPlaying:a}),children:[(0,se.jsx)("div",{className:"tour-story-help-title",children:c}),(0,se.jsx)("div",{className:"tour-story-help-cta",children:u}),(0,se.jsx)("div",{className:"tour-story-prev",onClick:m,children:(0,se.jsx)("div",{className:"icon icon-dpad-left"})}),(0,se.jsx)("div",{className:"tour-story-next",onClick:f,children:(0,se.jsx)("div",{className:"icon icon-dpad-right"})})]})}var da=n(7584);const ha=new c.Vy("showcase-ui"),pa=(0,u.EN)();class fa extends i.Component{static contextType=(()=>y.B)();tourData;toursViewData;bindings=[];sweepData;viewmodeData;propertiesToRefreshUi=(()=>[Se.Q$.Measurements,Se.Q$.DetailsModelName,qe.p,Se.Q$.FloorSelect,Vs.nc,Se.Q$.RoomBounds])();isUnmounting=!1;constructor(e,t){super(e,t),this.state={viewmode:ke.ty,activeToolName:null,openModal:null,toolsLoaded:!1,toolsCount:0,toolPanelLayout:t.toolsData.toolPanelLayout,tourState:{},tourMode:w.cR.NONE,modelDetails:null,measurementsModeEnabled:!1,notesEnabled:!1,vrEnabled:!1,brandingEnabled:!1,shareEnabled:!1,unaligned:!0,showExternalUrl:!1}}getModeChange=e=>({viewmode:(0,ke.gB)(e.toMode)});async componentDidMount(){const{settings:e,messageBus:t,market:n,toolsData:i,mainDiv:r}=this.context;r.classList.remove("with-toolbar");for(const t of this.propertiesToRefreshUi)this.bindings.push(e.onSettingChanged(t,this.updatePerSettings));try{this.cancelBindings(),this.bindings=[i.onPropertyChanged("activeToolName",this.updateActiveTool),i.onPropertyChanged("openModal",this.openModalChanged),i.onPropertyChanged("toolPanelLayout",this.updateToolPanelLayout),i.toolsMap.onChanged(this.updateTools)],this.handleStartUpHelp();const[e,r,o,s,a]=await Promise.all([n.waitForData(ms.q),n.waitForData(Bs.X),n.waitForData(gs.A),n.waitForData(L.R),n.waitForData(ne.F)]);if(this.isUnmounting)return;this.bindings.push(t.subscribe(Gs.A,(e=>this.setState({...this.getModeChange(e),...this.getUnalignedSweepState()}))),t.subscribe(Gr.pT,this.updateTourState),t.subscribe(Gr.zM,this.updateTourState),t.subscribe(Gr.n1,this.updateTourState),t.subscribe(Gr.YH,this.updateTourState),t.subscribe(Gr.zb,this.updateTourState),s.getReel().onChanged(this.updateTourState),a.onPropertyChanged("currentTourMode",this.updateTourMode),o.makeSweepChangeSubscription((()=>this.setState(this.getUnalignedSweepState()))));const l=(0,ke.gB)(r.currentMode||De.N.Panorama);this.tourData=s,this.toursViewData=a,this.sweepData=o,this.viewmodeData=r,this.setState({viewmode:l,modelDetails:e.model.details,brandingEnabled:this.isBrandingEnabled()&&!this.isMlsEnabled(),shareEnabled:this.isShareEnabled()&&!this.isMlsEnabled(),showExternalUrl:this.isBrandingEnabled()&&!this.isMlsEnabled(),vrEnabled:this.isVrButtonEnabled(),...this.getUnalignedSweepState()}),this.props.onAppReadyChanged(!0,!1)}catch(e){ha.debug(e)}this.updateTourState(),this.updateTourMode(),this.updateActiveTool(),this.updateToolPanelLayout(),this.updateTools(),this.updatePerSettings()}async componentWillUnmount(){this.isUnmounting=!0,this.cancelBindings(),this.props.onAppReadyChanged(!1,!1)}handleStartUpHelp(){const{settings:e,messageBus:t,commandBinder:n}=this.context,i=e.getOverrideParam("help",0);if(1===i||2===i){const i=1===e.getOverrideParam("ts",0),r=!0===e.tryGetSetting("quickstart",!1);i||(r?n.issueCommand(new Xe.X6(Qe.a.CTA,!0)):t.subscribe(a.uv,this.showHelpOnPlaying))}}updateToolPanelLayout=()=>{const{toolsData:e}=this.context,t=e.toolPanelLayout;this.setState({toolPanelLayout:t})};showHelpOnPlaying=e=>{e.phase===l.Jj.PLAYING&&(this.context.commandBinder.issueCommand(new Xe.X6(Qe.a.CTA,!0)),this.context.messageBus.unsubscribe(a.uv,this.showHelpOnPlaying))};updateTools=()=>{const{toolsData:e}=this.context,{toolsLoaded:t}=this.state,n=e.toolsMap;this.setState({toolsCount:n.length}),n.length>0&&!t&&(this.setState({toolsLoaded:!0}),window.setTimeout((()=>{this.context.commandBinder.issueCommand(new h.M_)}),750))};updatePerSettings=()=>{const{settings:e,policyData:t}=this.context;this.setState({measurementsModeEnabled:"0"!==e.getOverrideParam(Se.Q$.Measurements)&&(e.tryGetSetting(Se.Q$.Measurements,!0)||(0,da.m2)(t,e,!1)),notesEnabled:e.tryGetSetting(Vs.nc,!1)})};getUnalignedSweepState(){if(!this.sweepData||!this.viewmodeData)return{unaligned:this.state.unaligned};return{unaligned:this.viewmodeData.isInside()&&this.sweepData.isSweepUnaligned(this.sweepData.state.currentSweep)}}cancelBindings(){for(const e of this.bindings)e.cancel()}updateTourState=()=>{this.tourData&&this.setState({tourState:this.tourData.getCurrentTourState()})};updateTourMode=()=>{this.toursViewData&&this.setState({tourMode:this.toursViewData.currentTourMode})};isShareEnabled(){const{settings:e}=this.context,t=e.tryGetSetting(En.wD,!1)&&e.tryGetSetting("is_public",!1),n=(0,d.sv)()&&"0"===pa.share;return t&&!n}isMlsEnabled(){return this.context.settings.tryGetSetting(En.qu,!1)}isBrandingEnabled(){const{settings:e}=this.context;return e.tryGetSetting(En.Lj,!0)}isVrButtonEnabled=()=>(0,so.ni)(this.context.settings);updateActiveTool=()=>{const{tourState:e}=this.state,{toolsData:t}=this.context,n=t.activeToolName;n&&e.tourPlaying&&this.stopTour(),this.setState({activeToolName:n})};openModalChanged=()=>{const{toolsData:e}=this.context,t=e.openModal;this.setState({openModal:t}),t&&this.stopTour()};stopTour(){this.context.engine.getModuleBySymbol(J.Xf).then((e=>e.stopTour()))}render(){return(0,se.jsx)(ya,{...this.state})}}function ma(e){let{activeToolName:t}=e;const{setViewOverlayContainer:n}=(0,Js.OB)();return(0,se.jsx)("div",{className:"tool-overlay",id:Js.Cz.VIEW_OVERLAY_PORTAL,ref:n,children:!t&&(0,se.jsx)(la,{})})}function ga(e){let{toolsData:t}=e;const n=(0,Js.EG)(),r=t.toolsMap,o=(0,i.useMemo)((()=>r.values.map((e=>{const t=e.ui.renderPersistent;return t&&(0,se.jsx)(t,{...n},e.id)})).filter((e=>!!e))),[r.values,n]);return(0,se.jsx)("div",{className:"overlay-ui",children:o})}function va(){const{setTopUIContainer:e}=(0,Js.OB)();return(0,se.jsx)("span",{className:"top-ui-tool-portal-container",ref:e})}function ya(e){const{viewmode:t,unaligned:n,tourState:i,modelDetails:r,measurementsModeEnabled:o,notesEnabled:s,shareEnabled:a,brandingEnabled:l,vrEnabled:c,openModal:u,toolsLoaded:d,toolPanelLayout:h,activeToolName:p,tourMode:f}=e,{tourPlaying:m,activeStep:g,currentStep:v,highlights:y}=i,E=f===w.cR.STORIES,S=(0,js.v)(),b=S.toolsMap,_=(0,se.jsx)(va,{}),O=p&&b.get(p)?.ui,T=O?.renderShowcaseSettingsPanel;return(0,se.jsxs)("div",{id:"gui",className:"showcase-ui",children:[(0,se.jsx)(Hs,{viewmode:t,shareEnabled:a}),(0,se.jsx)(Js.s6,{children:(0,se.jsx)(ea,{children:(0,se.jsxs)(se.Fragment,{children:[!!r&&(0,se.jsx)(Mr,{modelDetails:r,tourPlaying:m,brandingEnabled:l,toolElements:_,toolSettings:T&&(0,se.jsx)(T,{})}),E&&(0,se.jsx)(jr,{currentStep:v,activeStep:g,highlights:y}),E&&(0,se.jsx)(ua,{highlights:y,tourPlaying:m}),(0,se.jsx)(Br,{}),(0,se.jsx)(Yr,{}),d&&(0,se.jsx)(ma,{activeToolName:p}),d&&(0,se.jsx)(ga,{toolsData:S}),(0,se.jsx)(Di,{openModal:u,openTool:p,unaligned:n,viewmode:t,tourState:i,tourMode:f,measurementsModeEnabled:o,notesEnabled:s,shareEnabled:a,vrEnabled:c,toolPanelLayout:h})]})})})]})}var Ea=n(22e3),Sa=n(25443),ba=n(23864),_a=n(52721),Oa=n(68965),Ta=n(2964),Aa=n(45548),wa=n(92637),Na=n(8647),Ia=n(99104),Ra=n(81519),ka=n(61767);const{TOOLS:La}=E.A;class Pa extends o.n{constructor(){super(),this.name="showcase-gui-module",this.onSaveError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new wa.P(E.A.ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE,{throttle:30,timeout:10,type:Na.v.ERROR,error:t}))},this.onForbiddenError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new wa.P(E.A.ERRORS.UNAUTHORIZED_ERROR_MESSAGE,{throttle:0,timeout:0,type:Na.v.ERROR,error:t}))},this.loadUi=this.loadUi.bind(this)}async init(e,t){this.engine=t,[this.settingsData,this.containerData]=await Promise.all([t.market.waitForData(Sa.o),t.market.waitForData(ct.G)]),this.bindings.push(t.subscribe(Aa.xi,this.onSaveError),t.subscribe(Aa.xt,this.onForbiddenError))}async loadUi(e,t,n){e.editMode=!1;const o={locale:e.locale};this.viewportHeight=new Ea.A(this.containerData),this.viewportHeight.update(),this.reactRoot=(0,r.createRoot)(t),this.reactRoot.render((0,i.createElement)(y.B.Provider,{value:e},[(0,i.createElement)(ka.Y,{key:"showcase-ui-locale",value:o},[(0,i.createElement)(Ra.u,{key:"error-bar"}),(0,i.createElement)(i.Suspense,{key:"showcase-ui"},(0,i.createElement)(fa,{onAppReadyChanged:n}))])])),this.initializeTools()}async unloadUi(){return this.viewportHeight&&this.viewportHeight.dispose(),!!this.reactRoot&&(this.reactRoot.unmount(),!0)}initializeTools(){const e=[new ba.N({id:A.S0.MEASUREMENTS,searchModeType:s.jM.MEASUREMENTPATH,namePhraseKey:La.MEASUREMENTS,panel:!1,icon:"icon-tape-measure",analytic:"measurements",dimmed:!1,enabled:this.settingsData.tryGetSetting(Se.Q$.Measurements,!0),ui:new Ta.o,manager:new _a.R(this.engine,this.settingsData)}),new ba.N({id:A.S0.SUMMARY,namePhraseKey:La.SUMMARY,panel:!0,panelLeft:!0,analytic:"summary",dimmed:!1,enabled:!0,hidesAppBar:!0,ui:new Oa.t})];this.engine.commandBinder.issueCommand(new h.Kw(e)),this.engine.commandBinder.issueCommandWhenBound(new Ia.eo),this.engine.getModuleBySymbol(J.TN).then((e=>{e&&e.registerNotesTool()}))}}},47058:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>G});var i=n(11165);class r extends i.u{}r.id="SHOWCASE_START";class o extends i.u{}o.id="SHOWCASE_STOP";class s extends i.u{}s.id="SHOWCASE_READY";var a=n(64882),l=n(68920),c=n(14614),u=n(45987),d=n(27200),h=n(82748),p=n(9139),f=n(93136),m=n(71687),g=n(25443),v=n(25773),y=n(58480),E=n(85935),S=n(12837),b=n(55057),_=n(74328),O=n(78711),T=n(56147),A=n(7478);class w extends A.QB{constructor(e){super(),this.expanded=e}}var N=n(44345);class I{constructor(e,t){this.lastProgress=0,this.currentProgress=0,this.webpackChunks=[],this.meshAlloc={alloc:2e6,loaded:0},this.showingProgress=!1,this.onWebpackChunkProgress=e=>{this.webpackChunks[e.chunkID]?this.webpackChunks[e.chunkID].loaded=e.loaded:this.webpackChunks[e.chunkID]={loaded:e.loaded,total:e.total},this.calcProgress()},this.progressElm=t.querySelector("#bar"),window.addEventListener("WebpackChunkProgress",this.onWebpackChunkProgress),this.engine=e,this.meshProgressBinding=this.onMeshLoadProgress.bind(this),this.engine.subscribe(N.EX,this.meshProgressBinding)}dispose(){window.removeEventListener("WebpackChunkProgress",this.onWebpackChunkProgress)}showProgress(){this.showingProgress=!0,this.setProgress(this.currentProgress)}setDone(){this.currentProgress=100,this.setProgress(this.currentProgress),this.engine.unsubscribe(N.EX,this.meshProgressBinding)}setProgress(e){if(!this.progressElm||isNaN(e))return;this.lastProgress=Math.max(this.lastProgress,e),e=this.lastProgress;const t=Number.parseFloat(this.progressElm.getAttribute("r")||"0"),n=Math.PI*(2*t),i=(100-(e=Math.max(Math.min(e,100),0)))/100*n;this.progressElm.style.strokeDasharray=n.toString(10),this.progressElm.style.strokeDashoffset=i.toString(10)}calcProgress(){let e=0,t=0;this.webpackChunks.forEach((n=>{e+=n.loaded,t+=n.total})),e+=this.meshAlloc.loaded,t+=this.meshAlloc.alloc,this.currentProgress=95*Math.min(e/t,1),this.showingProgress&&this.setProgress(this.currentProgress)}onMeshLoadProgress(e){this.meshAlloc.loaded=e.loaded/e.total*this.meshAlloc.alloc,this.calcProgress()}}class R extends i.u{constructor(e,t){super(),this.payload={startup:e,editMode:t}}}R.id="START_APPLICATION";class k extends i.u{constructor(e){super(),this.payload={expand:e}}}k.id="EXPAND_APP";var L=n(27612);function P(e){const{width:t,height:n}=window.screen;return d.al()&&(0,L.c)({width:t,height:n})&&e.height<.6*n}function D(){return d.qL()&&!d.vQ("xr-spatial-tracking")}class M{constructor(e,t,n,i){this.config=e,this.settingsData=t,this.containerData=n,this.sdkData=i,this.bindings=[]}async autoPlayIfWhenAllowed(e){const{editMode:t,openingTool:n,disabled:i,allowAutoPlay:r}=this.config;let o=!1;if(function(e,t,n){return!d.al()||!!(e||n||t)}(this.settingsData.getOverrideParam("play",!1),n,t)&&(o=r||this.sdkConnected,!o)){const t=function(e){return e||d.al()&&D()}(i);t||(o=!P(this.containerData.size),o||(this.bindings.push(this.containerData.onPropertyChanged("size",(t=>{P(t)||(e(),this.bindings.forEach((e=>e.cancel())))}))),this.bindings.push(this.sdkData.onChanged((()=>{this.sdkConnected&&(e(),this.bindings.forEach((e=>e.cancel())))})))))}return o&&e(),o}get sdkConnected(){return this.sdkData.applicationKeys.length>0}dispose(){this.bindings.forEach((e=>e.cancel()))}}var C=n(35404),x=n(12103),U=n(83772);function F(e,t){let n=function(e){return document.querySelector(`link[rel=${e}]`)}(e);n||(n=document.createElement("link"),document.head.appendChild(n)),n.setAttribute("rel",e),n.setAttribute("href",t)}var H=n(29200);class G extends a.n{constructor(){super(...arguments),this.name="loading-ui",this.playPromise=new l.i,this.onClick=()=>{this.resolvePlayPromise(!0,!1)},this.autoPlay=()=>{this.autoPlaying=!0,this.updatePlayAnalytics(),this.resolvePlayPromise(!0,this.config.editMode)},this.resolvePlayPromise=async(e,t)=>{var n,i;null===(n=this.autoPlayer)||void 0===n||n.dispose();const r=this.config.allowPlayInIframe||!d.Fr()&&!D(),o=t&&(0,d.al)()&&(r||1===this.settings.getOverrideParam("expand",0));if(!this.autoPlaying){if(!r&&1===this.settings.getOverrideParam("nt",0)){const e=(0,U.RP)(window.location.href);return void window.open(e,"_blank")}if((0,d.al)()&&!o&&!r){const e=(0,h.DE)();t&&e.set("edit","1"),e.set("back","1"),e.delete("cloudEdit");const n=e.toString(),i=`${window.location.origin}${window.location.pathname}?${n}`;try{return void(window.top&&(window.top.location.href=i))}catch(e){p.Vy.for(this).debug("Couldn't set top window location; was Showcase sandboxed?",e)}}}o&&this.toggleIframeExpansion(!0),t&&this.settings.setSetting("quickstart",!0),e&&(this.config.disabled||(null===(i=this.uiRoot)||void 0===i||i.removeEventListener("click",this.onClick),this.playIcon.remove(),this.progressUI.showProgress()),this.playPromise.resolve())},this.toggleIframeExpansion=e=>{const t=e?new r:new o;this.engine.commandBinder.issueCommand(t),this.engine.broadcast(new w(e))},this.onAppPhaseChangeMessage=async e=>{var t;e.phase!==c.Jj.STARTING&&e.phase!==c.Jj.PLAYING&&e.phase!==c.Jj.ERROR||(this.progressUI.setDone(),this.config.quickstart?this.showQuickstartUI():null===(t=this.uiRoot)||void 0===t||t.classList.add("faded-out"),this.engine.unsubscribe(u.uv,this.onAppPhaseChangeMessage))}}async init(e,t){this.engine=t,this.config=e;const{market:n,commandBinder:i}=this.engine;[this.locale,this.settings,this.containerData,this.sdkData,this.logoViewData]=await Promise.all([t.getModuleBySymbol(m.gS),n.waitForData(g.o),n.waitForData(y.G),n.waitForData(v.d),n.waitForData(H.b)]);const r=await t.market.waitForData(b.q);this.model=r.model.details,this.updateHtmlMetadata(r,this.settings),this.autoPlaying=1===this.settings.getOverrideParam("play",0),this.bindings.push(i.addBinding(R,(async e=>{this.resolvePlayPromise(e.startup,e.editMode)})),i.addBinding(k,(async e=>{this.toggleIframeExpansion(e.expand)})),this.containerData.onPropertyChanged("size",(e=>{this.updatePlayAnalytics()})),this.settings.onSettingChanged(x.Vg,(()=>this.loadUi()))),e.disabled||(this.bindings.push(this.settings.onSettingChanged(C.ov,(()=>this.renderTitle())),this.settings.onSettingChanged(C.Lj,(()=>this.renderBranding())),this.settings.onSettingChanged(C.qu,(()=>this.renderBranding())),t.subscribe(u.uv,this.onAppPhaseChangeMessage)),this.progressUI=new I(t,this.containerData.element),this.loadUi(),this.getLoadingElements(),this.renderSplashScreen())}dispose(e){var t,n;super.dispose(e),null===(t=this.progressUI)||void 0===t||t.dispose(),null===(n=this.autoPlayer)||void 0===n||n.dispose()}get waitForPlaying(){return this.playPromise.nativePromise()}loadUi(){if(this.uiRoot=this.containerData.element.querySelector("#loading-gui"),!this.uiRoot)throw Error("Loading GUI root not found");this.settings.tryGetSetting(x.Vg,!1)?this.uiRoot.classList.add("hidden"):this.uiRoot.classList.remove("hidden"),this.config.quickstart&&(this.uiRoot.style.pointerEvents="none")}getPresentationOptions(){const{hideTitle:e,hideBranding:t,quickstart:n}=this.config,i=!n&&(void 0!==e?!e:this.settings.tryGetSetting(C.ov,!0)),r=this.settings.tryGetSetting(C.qu,!1),o=this.settings.tryGetSetting(C.Lj,!0);return{title:i,presentedBy:void 0!==t?!t:o&&!r}}getLoadingElements(){const e=this.containerData.element;this.presentedBy=e.querySelector("#loading-presented-by"),this.poweredBy=e.querySelector("#loading-powered-by"),this.mpLogo=e.querySelector("#loading-mp-logo"),this.mpLogo.src=this.logoViewData.logoWhiteR,this.mpLogo.alt=this.locale.t(this.logoViewData.logoPhraseKey),this.circleLoader=e.querySelector("#circleLoader"),this.nameHeader=e.querySelector("#loading-header"),this.background=e.querySelector("#loading-background"),this.tint=e.querySelector("#tint"),this.playIcon=e.querySelector("#showcase-play"),this.playIcon.setAttribute("aria-label",this.locale.t(T.A.PLAY)),this.playIcon.setAttribute("alt",this.locale.t(T.A.PLAY))}addCobrand(){var e;if(null===(e=this.model)||void 0===e?void 0:e.presentedBy){const e=this.presentedBy.querySelector(".loading-label");e&&(e.textContent=this.locale.t(T.A.PRESENTED_BY_CAPS));const t=this.presentedBy.querySelector(".subheader");t&&(t.textContent=this.model.presentedBy),this.presentedBy.classList.remove("hidden")}}hidePlayButtonUI(){var e;this.background.style.backgroundImage="none",this.presentedBy.style.transition="none",this.presentedBy.classList.remove("faded-in"),this.poweredBy.style.transition="none",this.poweredBy.classList.remove("faded-in"),this.nameHeader.classList.add("hidden"),this.tint.classList.add("hidden"),this.circleLoader.classList.add("hidden"),null===(e=this.uiRoot)||void 0===e||e.classList.add("quickstart")}async showQuickstartUI(){var e;this.background.classList.add("faded-out"),await(0,f.c)(500),this.presentedBy.style.transition="",this.presentedBy.classList.add("faded-in"),this.poweredBy.style.transition="",this.poweredBy.classList.add("faded-in"),await(0,f.c)(2500),this.presentedBy.classList.remove("faded-in"),this.poweredBy.classList.remove("faded-in"),null===(e=this.uiRoot)||void 0===e||e.classList.add("faded-out")}showLoadingUI(e){const t=document.createAttribute("data-status");t.value=this.locale.t(T.A.LOADING);const n=this.containerData.element.querySelector("#loader-cont");n&&(n.attributes.setNamedItem(t),n.classList.add(this.locale.languageCode),n.classList.add("loading")),e.classList.add("faded-out"),this.presentedBy.classList.add("faded-in")}renderTitle(){const{title:e}=this.getPresentationOptions();this.nameHeader.classList.toggle("hidden",!e)}renderBranding(){const{presentedBy:e}=this.getPresentationOptions();e?this.addCobrand():this.presentedBy.classList.add("hidden")}async renderSplashScreen(){var e;const{editMode:t,allowPlayInIframe:n,allowAutoPlay:i,disabled:r,openingTool:o,quickstart:s,hidePoweredBy:a}=this.config;this.renderTitle(),this.renderBranding(),a&&this.poweredBy.classList.add("hidden"),this.nameHeader.textContent=this.model.name,this.poweredBy.classList.add("faded-in"),this.tint.classList.add("faded-in");const l=this.containerData.element.querySelector("#play-prompt");this.playPromise.then((()=>{s?this.hidePlayButtonUI():this.showLoadingUI(l)})),this.autoPlayer=new M({editMode:t,allowPlayInIframe:n,allowAutoPlay:i,disabled:r,openingTool:o},this.settings,this.containerData,this.sdkData),this.autoPlaying=await this.autoPlayer.autoPlayIfWhenAllowed(this.autoPlay),this.autoPlaying||(l.classList.remove("hidden"),l.innerText=this.locale.t(T.A.EXPLORE_3D_SPACE),this.playIcon.classList.remove("hidden"),null===(e=this.uiRoot)||void 0===e||e.addEventListener("click",this.onClick)),this.renderBackground(),n||window.scrollTo(0,0)}async renderBackground(){const e=_.s.deserialize();if(this.autoPlaying&&e){const t=await this.engine.market.waitForData(S.A),n=(0,O.d)(e,t);if(n&&(0,O.X)(n,t))return}const t=window.devicePixelRatio||1,n=Math.max(window.innerWidth,400);this.background.style.backgroundImage=`url(${this.config.baseUrl}/api/v1/player/models/${this.config.viewId}/thumb?width=${n}&dpr=${t}&disable=upscale)`}updatePlayAnalytics(){this.engine.getModuleBySymbol(m.aF).then((e=>{e.setOptions(Object.assign({},(0,E.Q9)(this.autoPlaying)))}))}updateHtmlMetadata(e,t){if("function"==typeof ShadowRoot&&this.containerData.rootNode instanceof ShadowRoot)return;const n=t.tryGetSetting(C.k5,null);if(e.model.hasDiscoverUrl()&&n){const{baseModelId:t,sid:i}=e.model,r=new URL(`${n}${t}`,"https://matterport.com");i&&i!==t&&r.searchParams.set("view",i),F("canonical",r.toString())}}}},6909:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t,n,i,r,o,s,a,l){super(),this.durationDollhouse=e,this.durationFloorplan=t,this.durationInside=n,this.durationOverlay=i,this.mainMode=r,this.totalBytesDownloaded=o,this.tilesDownloaded=s,this.durationTour=a,this.tourMode=l}}},65256:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,l:()=>r});var i=n(7478);class r extends i.QB{}class o extends i.QB{constructor(e){super(),this.errorType=e}}},38939:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,c:()=>r});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload={pose:e}}}r.id="START_LOCATION_FLY_IN_COMMAND";class o extends i.u{}o.id="START_LOCATION_GOTO_COMMAND"},46771:(e,t,n)=>{"use strict";n.d(t,{u:()=>o,k:()=>o});var i=n(68909);class r{constructor(e){this.elements=[],e?(e=>void 0!==e.elements)(e)?this.elements=e.elements.slice():i.Matrix4.prototype.set.apply(this,e):i.Matrix4.prototype.set.apply(this,r.identity)}equals(e){return i.Matrix4.prototype.equals.call(this,e)}clone(){return new r(this)}}r.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];class o extends r{constructor(e){e instanceof Array||e?super(e):super(),this.threeMatrix=new i.Matrix4}set(e,t,n,r,o,s,a,l,c,u,d,h,p,f,m,g){return i.Matrix4.prototype.set.call(this,e,t,n,r,o,s,a,l,c,u,d,h,p,f,m,g),this}makeScale(e,t,n){return i.Matrix4.prototype.makeScale.call(this,e,t,n),this}copy(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e.elements[t];return this}clone(){return(new o).copy(this)}transpose(){return i.Matrix4.prototype.transpose.call(this)}lookAt(e,t,n){return i.Matrix4.prototype.lookAt.call(this,e,t,n),this}setPosition(e){return i.Matrix4.prototype.setPosition.call(this,e.x,e.y,e.z),this}extractRotation(e){return i.Matrix4.prototype.extractRotation.call(this,e),this}makePerspective(e,t,n,r,o,s){return i.Matrix4.prototype.makePerspective.call(this,e,t,n,r,o,s),this}makePerspectiveFov(e,t,n=.1,r=1e3){const o=n*Math.tan(e*(Math.PI/180)/2),s=-o,a=o*t,l=-a;return i.Matrix4.prototype.makePerspective.call(this,l,a,o,s,n,r),this}makeOrthographic(e,t,n,r,o,s){return i.Matrix4.prototype.makeOrthographic.call(this,e,t,n,r,o,s),this}identity(){return this.set.apply(this,r.identity)}makeRotationFromQuaternion(e){return i.Matrix4.prototype.makeRotationFromQuaternion.call(this,e),this}makeRotationFromEuler(e){return i.Matrix4.prototype.makeRotationFromEuler.call(this,e),this}getInverse(e){return i.Matrix4.prototype.copy.call(this,e),i.Matrix4.prototype.invert.call(this),this}premultiply(e){return i.Matrix4.prototype.premultiply.call(this,e),this}multiplyMatrices(e,t){return i.Matrix4.prototype.multiplyMatrices.call(this,e,t),this}scale(e){return i.Matrix4.prototype.scale.call(this,e),this}compose(e,t,n){return i.Matrix4.prototype.compose.call(this,e,t,n),this}asThreeMatrix4(){return this.threeMatrix.set(this.elements[0],this.elements[4],this.elements[8],this.elements[12],this.elements[1],this.elements[5],this.elements[9],this.elements[13],this.elements[2],this.elements[6],this.elements[10],this.elements[14],this.elements[3],this.elements[7],this.elements[11],this.elements[15])}}},33007:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=Object.freeze({signedUrlDefaultExpireTime:24e4,signedUrlCheckInterval:1e4,signedUrlRefreshBuffer:15e3,visionTilingStartDate:new Date("8/26/2016"),visionTilingStartVersion:"1.1.407.13667",defurnishableStartDate:new Date("03/10/2023"),defurnishableStartVersion:"1.2.29221.4-gcac59bd3ec.REL_1425",epsilon:1e-5,skyboxMeshGroup:"_group_skybox_",skysphereMeshGroup:"_group_skysphere_"})},73943:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var i=n(96540),r=n(98236),o=n(14614);const s=(0,r.v_)(o.zH);function a(){const e=s(),[t,n]=(0,i.useState)(e?e.phase:null);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.onPropertyChanged("phase",n);return n(e.phase),()=>t.cancel()}),[e]),t}},86e3:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var i=n(87805),r=n(14614);const o=(0,i.u)(r.zH,"application",r.lg.UNKNOWN)},90082:(e,t,n)=>{"use strict";n.d(t,{S1:()=>r,WJ:()=>i,ZF:()=>o});const i="IAppPhaseModule",r="Sdk",o="ISettingsModule"},39018:(e,t,n)=>{"use strict";var i;n.d(t,{a:()=>i}),function(e){e.POSTMESSAGE="postmessage",e.DIRECT="direct",e.WEBSOCKET="websocket"}(i||(i={}))},25773:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var i=n(12625),r=n(4850);class o extends i.B{constructor(){super(...arguments),this.name="sdk",this.applicationKeys=new r.X}}},54866:(e,t,n)=>{"use strict";n.d(t,{pd:()=>it,Bp:()=>nt});var i,r=n(97084),o=n(77778),s=n(86867),a=n(10833),l=n(48059),c=n(71687),u=n(64882),d=n(88325),h=n(97994),p=n(9139),f=n(69304),m=n(25773);!function(e){e.CONNECTION="sdk.connection",e.DISCONNECT="sdk.disconnect",e.MESSAGED="sdk.messaged",e.SUBSCRIBED="sdk.subscribed",e.UNSUBSCRIBED="sdk.unsubscribed",e.OBSERVABLE_SUB="sdk.obs.subscribe",e.OBSERVABLE_UNSUB="sdk.obs.unsubscribe",e.COLLECTION_SUB="sdk.coll.subscribe",e.COLLECTION_UNSUB="sdk.coll.unsubscribe"}(i||(i={}));class g{constructor(e){this.analytics=e,this.trackedEvents=new o.kc}track(e,t,n){this.trackedEvents.has(e,t)||(this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({},n)))}alwaysTrack(e,t,n){this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({},n))}setOptions(e){this.analytics.setOptions(e)}}class v{constructor(e){this.analytics=e,this.messageType="client call"}onMessage(e,t){const{namespace:n,name:i}=e,r={applicationKey:t.applicationKey,namespace:n,name:i,method:t.communicationMethod,provider:t.context.provider,sdkType:t.context.sdkType};this.analytics.track("sdk_call",n+i,r)}}class y{constructor(){this.usedIds=new Set,this.usedIds.add(0)}generate(){let e;do{e=Math.floor(1e6*Math.random())}while(this.usedIds.has(e));return this.usedIds.add(e),e}isInUse(e){return this.usedIds.has(e)}}class E{constructor(e){this.messageReceiver=e}notify(e,t){this.messageReceiver.onMessageReceived(e,t)}}class S{constructor(e,t){this.sourceId=e,this.listenerBridge=t,this.observers=new o.kc}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new E(e);this.listenerBridge.listen(t)}dispose(){this.listenerBridge.stopListening()}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e,t,n,i){n.send(Object.assign(Object.assign({},e),{fromId:this.sourceId,toId:t,timestamp:Date.now()}),i)}onMessageReceived(e,t){const n=e.type,i=this.observers.getValuesAtKey(n);if(i)for(const n of i){const i=e.payload||e;n.notify(i,t,e.timestamp)}}}class b{constructor(e){this.targetWindow=e,this.messageObserver=null,this.onMessage=e=>{if(this.messageObserver){const t=e.data;this.messageObserver.notify(Object.assign({},t),{id:t.fromId,origin:e.origin,source:e.source},e.data.timestamp)}}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetWindow.addEventListener("message",this.onMessage))}stopListening(){this.targetWindow.removeEventListener("message",this.onMessage),this.messageObserver=null}}class _{constructor(e,t="*"){this.targetWindow=e,this.targetOrigin=t}send(e,t){this.targetWindow.postMessage(e,this.targetOrigin)}}class O{listen(){}stopListening(){}send(){throw Error("The sdk has been disconnected and can't make any new calls")}}class T{constructor(e,t,n){this.sourceId=e,this.targetId=t,this.messageBridge=n,this.observers=new o.kc}static toFilteredMessenger(e,t,n){const i=new A(e.sourceId,e.targetId,e,t);for(const t of n)for(const n of e.observers.getValuesAtKey(t))i.addObserver(n);return i}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new E(e);this.messageBridge.listen(t)}dispose(){this.messageBridge.stopListening(),this.messageBridge=new O}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e){const t=this.sourceId,n=this.targetId;this.messageBridge.send(Object.assign(Object.assign({},e),{fromId:t,toId:n,timestamp:Date.now()}))}onMessageReceived(e,t){if(!this.filterMessageId(e))return;const n=e.type,i=this.observers.getValuesAtKey(n);if(i)for(const n of i){const i=e.payload||e;n.notify(i,t,e.timestamp)}}filterMessageId(e){const t=e.toId,n=e.fromId;return t instanceof Array?t.indexOf(this.sourceId)>-1:(void 0===t||t===this.sourceId)&&n===this.targetId}}class A extends T{constructor(e,t,n,i){super(e,t,new O),this.messenger=n,this.sendFilter=i,this.errorBridge=new O}send(e){this.sendFilter.includes(e.type)?this.messenger.send(e):this.errorBridge.send()}}class w{constructor(e,t,n="*"){this.sourceWindow=e,this.listener=new b(e),this.sender=new _(t,n)}listen(e){this.listener.listen(e)}stopListening(){this.listener.stopListening()}send(e){this.sender.send(e,this.sourceWindow)}}class N{constructor(e,t,n,i,r="*"){this.sourceId=e,this.sourceWindow=t,this.targetId=n,this.targetWindow=i,this.targetOrigin=r}createMessenger(){const e=new w(this.sourceWindow,this.targetWindow,this.targetOrigin);return new T(this.sourceId,this.targetId,e)}}var I,R,k,L=n(39018);!function(e){e.CONNECT="postmessage.connect"}(I||(I={})),function(e){e.HANDSHAKE="postmessage.handshake",e.ACCEPT="postmessage.accept",e.REJECT="postmessage.reject"}(R||(R={}));class P{constructor(e){this.receiver=e,this.messageType=I.CONNECT}notify(e,t){this.receiver.onConnectionReceived(e,t)}}class D{constructor(e,t,n,i,r){this.type=R.ACCEPT,this.payload={scriptUrl:e,interface:t,sourceId:n,targetId:i,targetOrigin:r},this.interface=t}}class M{constructor(){this.type=R.HANDSHAKE,this.payload={}}}class C{constructor(e){this.type=R.REJECT,this.payload={reason:e.message,errorType:e.type},this.reason=e.message}}class x{constructor(e,t,n,i,r){this.hostWindow=e,this.hostId=t,this.applicationKey=n,this.idGenerator=i,this.connectionReceiver=r,this.inFlightClients=new Set,this.connectionHandler=new S(t,new b(window)),this.connectionHandler.addObserver(new P({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){var n,i;if(this.inFlightClients.has(t.id))return;e=e||{},this.inFlightClients.add(t.id);const r=e&&e.bootstrapVersion?this.idGenerator.generate():t.id,o=this.hostId,s=t.source,a=this.hostWindow,l=new N(o,a,r,s).createMessenger();this.connectionReceiver.onConnectionReceived(t.origin,e.options,{applicationKey:e.applicationKey||this.applicationKey,id:r,messenger:l,communicationMethod:L.a.POSTMESSAGE,context:{provider:(null===(n=e.options)||void 0===n?void 0:n.provider)||"",sdkType:(null===(i=e.options)||void 0===i?void 0:i.sdkType)||"",bootstrap:{version:e.bootstrapVersion,providedAppKey:!!e.applicationKey}}},{accept(e,t){l.send(new D(e,t,r,o,window.location.origin))},handshake(){l.send(new M)},reject(e){l.send(new C(e)),l.dispose()}})}}class U{constructor(e){this.origin=e,this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}post(e,t){for(const n of this.observers)n.notify(e,t)}}class F{constructor(e){this.targetNode=e,this.messageObserver=null,this.onMessage=(e,t)=>{this.messageObserver&&this.messageObserver.notify({payload:Object.assign({},e.payload),type:e.type},{id:e.fromId,source:t},e.timestamp)}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetNode.addObserver({notify:(e,t)=>{this.onMessage(e,t)}}))}stopListening(){this.messageObserver=null}}class H{constructor(e,t){this.source=e,this.target=t,this.messageObserver=null}listen(e){this.messageObserver||(this.messageObserver=e,this.source.addObserver(e))}stopListening(){this.messageObserver&&this.source.removeObserver(this.messageObserver)}send(e){const t=this.target;t&&t.post(Object.assign({},e),this.source)}}class G{constructor(e,t,n,i){this.sourceId=e,this.sourceNode=t,this.targetId=n,this.targetNode=i}createMessenger(){const e=new H(this.sourceNode,this.targetNode);return new T(this.sourceId,this.targetId,e)}}class B{constructor(e,t={}){this.type=I.CONNECT,this.payload={bootstrapVersion:e,options:{auth:t.auth,provider:t.provider,sdkType:t.sdkType},applicationKey:t.applicationKey}}}class V{constructor(e){this.receiver=e,this.messageType=R.ACCEPT}notify(e,t,n){const{sourceId:i,scriptUrl:r,targetId:o,targetOrigin:s}=e,a=e.interface;this.receiver.accept(i,r,a,o,s)}}!function(e){e.CANCELLED="ConnectionCancelled",e.REFUSED="ConnectionRefused",e.INVALID_PROVIDER="InvalidProvider",e.KEY_MISMATCH="KeyReferrerMismatch"}(k||(k={}));class j extends Error{constructor(){super(),this.type=k.REFUSED,this.name="ConnectionRefusedError"}}class W extends Error{constructor(e){super(e),this.type=k.INVALID_PROVIDER,this.name="InvalidProviderError"}}class z extends Error{constructor(e){super(e),this.type=k.KEY_MISMATCH,this.name="KeyReferrerMismatchError"}}const $={[k.REFUSED]:j,[k.KEY_MISMATCH]:z,[k.INVALID_PROVIDER]:W};class K{constructor(e){this.receiver=e,this.messageType=R.REJECT}notify(e,t,n){const i=$[e.errorType];if(i){const t=new i(e.reason);this.receiver.reject(t)}}}var Y,q,Q,X,J,Z,ee,te,ne,ie,re,oe,se,ae,le,ce,ue,de,he,pe,fe,me;!function(e){e.CONNECT_PLUGIN="connect.plugin"}(Y||(Y={}));class ge{constructor(e,t,n,i){this.type=Y.CONNECT_PLUGIN,this.payload={bootstrapVersion:e,applicationKey:n,pluginId:i,options:{auth:t.auth,provider:t.provider,sdkType:t.sdkType}}}}class ve{constructor(e){this.receiver=e,this.messageType=Y.CONNECT_PLUGIN}notify(e,t){this.receiver.onConnectionReceived(e,t)}}function ye(e){return(0,l.G)(e)&&void 0!==e.pluginId}class Ee{constructor(e,t,n){this.idGenerator=t,this.connectionReceiver=n,this.host={id:e,node:new U(window.location.origin)},this.connectionHandler=new S(e,new F(this.host.node)),this.connectionHandler.addObserver(new ve({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){_e(e,this.host,{info:t,applicationKey:e.applicationKey},this.connectionReceiver,{pluginId:e.pluginId})}connect(e){const t={id:this.idGenerator.generate(),node:new U(origin)};return be(this.host,t,(t=>t.send(new ge("plugin",{sdkType:it.Type.PLUGIN},e.applicationKey,e.pluginId))))}}class Se{constructor(e,t,n,i){this.applicationKey=t,this.idGenerator=n,this.connectionReceiver=i,this.host={id:e,node:new U(window.location.origin)},this.connectionHandler=new S(e,new F(this.host.node)),this.connectionHandler.addObserver(new P({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){_e(e,this.host,{info:t,applicationKey:this.applicationKey},this.connectionReceiver)}connect(e,t={}){const n={id:this.idGenerator.generate(),node:new U(e)};return be(this.host,n,(e=>e.send(new B("direct",t))))}}function be(e,t,n){const{id:i,node:r}=e,{id:o,node:s}=t,a=new G(o,s,i,r);return new Promise(((e,t)=>{const l=new G(o,s,i,r).createMessenger();l.init();const c=new class{accept(t,n,i,r){e({targetOrigin:origin,sourceId:t,targetId:r,scriptUrl:n,serializedInterface:i,messengerFactory:a}),l.dispose()}reject(e){t(e),l.dispose()}};l.addObserver(new V(c)),l.addObserver(new K(c)),n(l)}))}function _e(e,t,n,i,r){var o,s;const{id:a,node:l}=t,{id:c,source:u,source:{origin:d}}=n.info,h=new G(a,l,c,u).createMessenger();i.onConnectionReceived(d,e.options,{id:c,applicationKey:n.applicationKey,messenger:h,communicationMethod:L.a.DIRECT,context:{provider:(null===(o=e.options)||void 0===o?void 0:o.provider)||"",sdkType:(null===(s=e.options)||void 0===s?void 0:s.sdkType)||"",pluginId:ye(r)?r.pluginId:void 0,bootstrap:{version:ye(r)?"plugin":"direct",providedAppKey:!!e.applicationKey}}},{accept(e,t){h.send(new D(e,t,c,a,d))},handshake(){h.send(new M)},reject(e){h.send(new C(e)),h.dispose()}})}!function(e){e.EVENT="postmessage.event",e.RESPONSE="postmessage.response",e.OBSERVATION="postmessage.observation",e.COLLECTION_UPDATE="collection.updated",e.PRIVATE_MESSAGE="private.message"}(q||(q={})),function(e){e.ITEM_ADDED="collection.item.added",e.ITEM_REMOVED="collection.item.removed",e.ITEM_UPDATED="collection.item.updated",e.COLL_UPDATED="collection.coll.updated"}(Q||(Q={}));!function(e){e.DISCONNECT="sdk.client.disconnect",e.ACTION="postmessage.action",e.EVENT_SUB="postmessage.subscribe",e.EVENT_UNSUB="postmessage.unsubscribe",e.OBSERVABLE_SUB="postmessage.observe",e.OBSERVABLE_UNSUB="postmessage.unobserve",e.COLLECTION_SUB="collection.sub",e.COLLECTION_UNSUB="collection.unsub",e.PRIVATE_MESSAGE="private.message"}(X||(X={}));!function(e){let t,n,i,r;!function(e){e.PHASE_CHANGE="application.phasechange"}(t=e.Event||(e.Event={})),function(e){e.UNINITIALIZED="appphase.uninitialized",e.WAITING="appphase.waiting",e.LOADING="appphase.loading",e.STARTING="appphase.starting",e.PLAYING="appphase.playing",e.ERROR="appphase.error"}(n=e.Phase||(e.Phase={})),function(e){e.UNKNOWN="application.unknown",e.WEBVR="application.webvr",e.SHOWCASE="application.showcase",e.WORKSHOP="application.workshop"}(i=e.Application||(e.Application={})),function(e){e.RoomBounds="feature.roombounds",e.Defurnish="feature.defurnish"}(r=e.Feature||(e.Feature={}))}(J||(J={})),function(e){let t,n,i;!function(e){e.MOVE="camera.move"}(t=e.Event||(e.Event={})),function(e){e.FORWARD="FORWARD",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BACK="BACK",e.UP="UP",e.DOWN="DOWN"}(n=e.Direction||(e.Direction={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade",e.MOVEFADE="transition.movefade",e.ORBIT="transition.orbit"}(i=e.TransitionType||(e.TransitionType={}))}(Z||(Z={})),function(e){let t;!function(e){let t,n,i;!function(e){e.TO_API="coordinatesToAPI",e.TO_SDK="coordinatesToSDK"}(t=e.Coordinates||(e.Coordinates={})),function(e){e.TO_API="sweepRotationToAPI",e.TO_SDK="sweepRotationToSDK"}(n=e.SweepRotation||(e.SweepRotation={})),function(e){e.TO_API="cameraRotationToAPI",e.TO_SDK="cameraRotationToSDK"}(i=e.CameraRotation||(e.CameraRotation={}))}(t=e.TransformType||(e.TransformType={}))}(ee||(ee={})),function(e){let t;!function(e){e.CHANGE_START="floors.changestart",e.CHANGE_END="floors.changeend"}(t=e.Event||(e.Event={}))}(te||(te={})),function(e){let t;!function(e){e.SUCCESS="astar.status.success",e.NO_PATH="astar.status.no_path",e.TIMEOUT="astar.status.timeout",e.NO_START_VERTEX="astar.status.no_start",e.NO_END_VERTEX="astar.status.no_end"}(t=e.AStarStatus||(e.AStarStatus={}))}(ne||(ne={})),function(e){let t;!function(e){e.POSITION_UPDATED="label.positionupdated"}(t=e.Event||(e.Event={}))}(ie||(ie={})),function(e){let t,n,i;!function(e){e.WINDOW="link.creationpolicy.window",e.REFERRER="link.creationpolicy.referrer",e.MATTERPORT="link.creationpolicy.matterport"}(t=e.CreationPolicy||(e.CreationPolicy={})),function(e){e.DEFAULT="link.openpolicy.default",e.NEW_WINDOW="link.openpolicy.newwindow",e.SAME_FRAME="link.openpolicy.sameframe",e.CURRENT_WINDOW="link.openpolicy.current"}(n=e.OpenPolicy||(e.OpenPolicy={})),function(e){e.DEFAULT="link.destination.default",e.MATTERPORT="link.destination.matterport"}(i=e.DestinationPolicy||(e.DestinationPolicy={}))}(re||(re={})),function(e){let t,n,i,r;e.Transition=Z.TransitionType,function(e){e.NAVIGATION="tag.link.nav",e.MODEL="tag.link.model",e.EXT_LINK="tag.link.ext"}(t=e.LinkType||(e.LinkType={})),function(e){e.NONE="tag.chunk.none",e.TEXT="tag.chunk.text",e.LINK="tag.chunk.link"}(n=e.DescriptionChunkType||(e.DescriptionChunkType={})),function(e){e.HOVER="tag.hover",e.CLICK="tag.click",e.LINK_OPEN="tag.linkopen"}(i=e.Event||(e.Event={})),function(e){e.NONE="mattertag.media.none",e.PHOTO="mattertag.media.photo",e.VIDEO="mattertag.media.video",e.RICH="mattertag.media.rich"}(r=e.MediaType||(e.MediaType={}))}(oe||(oe={})),function(e){let t,n;!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning",e.EXTERIOR="mode.exterior"}(t=e.Mode||(e.Mode={})),function(e){e.CHANGE_START="viewmode.changestart",e.CHANGE_END="viewmode.changeend"}(n=e.Event||(e.Event={})),e.TransitionType=Z.TransitionType}(se||(se={})),function(e){let t;!function(e){e.MODEL_LOADED="model.loaded"}(t=e.Event||(e.Event={}))}(ae||(ae={})),function(e){let t;!function(e){e.NONE="intersectedobject.none",e.MODEL="intersectedobject.model",e.TAG="intersectedobject.tag",e.SWEEP="intersectedobject.sweep",e.UNKNOWN="intersectedobject.unknown"}(t=e.Colliders||(e.Colliders={}))}(le||(le={})),function(e){let t,n;!function(e){e.CAMERA="sensor.sensortype.camera"}(t=e.SensorType||(e.SensorType={})),function(e){e.SPHERE="sensor.sourcetype.sphere",e.BOX="sensor.sourcetype.box",e.CYLINDER="sensor.sourcetype.cylinder"}(n=e.SourceType||(e.SourceType={}))}(ce||(ce={})),function(e){let t,n,i;!function(e){e.ENTER="sweep.enter",e.EXIT="sweep.exit"}(t=e.Event||(e.Event={})),e.Transition=Z.TransitionType,function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(n=e.Alignment||(e.Alignment={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(i=e.Placement||(e.Placement={}))}(ue||(ue={})),function(e){let t;!function(e){e.UNKNOWN="tag.attachment.unknown",e.APPLICATION="tag.attachment.application",e.AUDIO="tag.attachment.audio",e.IMAGE="tag.attachment.image",e.MODEL="tag.attachment.model",e.PDF="tag.attachment.pdf",e.RICH="tag.attachment.rich",e.TEXT="tag.attachment.text",e.VIDEO="tag.attachment.video",e.ZIP="tag.attachment.zip",e.SANDBOX="tag.attachment.sandbox"}(t=e.AttachmentType||(e.AttachmentType={}))}(de||(de={})),function(e){let t,n;!function(e){e.STARTED="tour.started",e.STOPPED="tour.stopped",e.ENDED="tour.ended",e.STEPPED="tour.stepped"}(t=e.Event||(e.Event={})),function(e){e.INACTIVE="tour.inactive",e.ACTIVE="tour.active",e.STOP_SCHEDULED="tour.stopscheduled"}(n=e.PlayState||(e.PlayState={}))}(he||(he={})),function(e){let t,n;!function(e){e.BASE="viewtype.base",e.LAYERED_BASE="viewtype.layeredbase",e.USER="viewtype.user",e.DEFURNISH="viewtype.defurnish",e.OTHER="viewtype.other"}(t=e.ViewType||(e.ViewType={})),function(e){e.BASE="layertype.base",e.VIEW_DATA="layertype.viewdata",e.USER="layertype.user",e.IN_MEMORY="layertype.inmemory",e.OTHER="layertype.other"}(n=e.LayerType||(e.LayerType={}))}(pe||(pe={})),function(e){let t,n,i;!function(e){e.OBJ_LOADER="mp.objLoader",e.FBX_LOADER="mp.fbxLoader",e.DAE_LOADER="mp.daeLoader",e.GLTF_LOADER="mp.gltfLoader",e.SCROLLING_TUBE="mp.scrollingTube",e.TRANSFORM_CONTROLS="mp.transformControls",e.LIGHTS_COMPONENT="mp.lights",e.POINT_LIGHT="mp.pointLight",e.DIRECTIONAL_LIGHT="mp.directionalLight",e.AMBIENT_LIGHT="mp.ambientLight",e.CAMERA="mp.camera",e.INPUT="mp.input",e.XR="mp.xr"}(t=e.Component||(e.Component={})),function(e){e.CLICK="INTERACTION.CLICK",e.HOVER="INTERACTION.HOVER",e.DRAG="INTERACTION.DRAG",e.DRAG_BEGIN="INTERACTION.DRAG_BEGIN",e.DRAG_END="INTERACTION.DRAG_END",e.POINTER_MOVE="INTERACTION.POINTER_MOVE",e.POINTER_BUTTON="INTERACTION.POINTER_BUTTON",e.SCROLL="INTERACTION.SCROLL",e.KEY="INTERACTION.KEY",e.LONG_PRESS_START="INTERACTION.LONG_PRESS_START",e.LONG_PRESS_END="INTERACTION.LONG_PRESS_END",e.MULTI_SWIPE="INTERACTION.MULTI_SWIPE",e.MULTI_SWIPE_END="INTERACTION.MULTI_SWIPE_END",e.PINCH="INTERACTION.PINCH",e.PINCH_END="INTERACTION.PINCH_END",e.ROTATE="INTERACTION.ROTATE",e.ROTATE_END="INTERACTION.ROTATE_END"}(n=e.InteractionType||(e.InteractionType={})),function(e){e.INPUT="input",e.OUTPUT="output",e.EVENT="event",e.EMIT="emit"}(i=e.PathType||(e.PathType={}))}(fe||(fe={})),function(e){let t;!function(e){e.ON="on",e.OFF="off"}(t=e.Visibility||(e.Visibility={}))}(me||(me={}));Math.PI;se.Mode.DOLLHOUSE,new Float32Array(16);var Oe=n(9130);Oe.E.Success,ne.AStarStatus.SUCCESS,Oe.E.NoPath,ne.AStarStatus.NO_PATH,Oe.E.Timeout,ne.AStarStatus.TIMEOUT;var Te,Ae,we,Ne,Ie,Re=n(51219),ke=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Le=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};Te=new WeakMap,Ae=new WeakMap,we=new WeakMap,Ne=new WeakMap,Ie=new WeakMap;var Pe;Symbol.iterator;!function(e){e.SETUP="sandbox.setup",e.TO_SANDBOX="sandbox.to.sandbox",e.TO_CLIENT="sandbox.to.client"}(Pe||(Pe={}));var De;!function(e){e.map=new Map}(De||(De={}));new WeakMap,new WeakMap,new WeakMap,Symbol.iterator;var Me;!function(e){e.ADD="view.add.layer",e.REMOVE="view.remove.layer"}(Me||(Me={}));new WeakMap,new WeakMap,new WeakMap;new WeakMap;new WeakMap,new WeakMap,new WeakMap;const Ce=new p.Vy("SDK client");"undefined"!=typeof __SDK_CLIENT_VERSION__&&Ce.info("Showcase SDK client version:",__SDK_CLIENT_VERSION__);class xe{constructor(e,t,n,i){this.type=q.RESPONSE,this.payload={uid:e,message:t,success:n,error:i},this.uid=e,this.message=t,this.success=n,this.error=i}}class Ue{constructor(e,t){this.type=q.EVENT,this.payload={eventType:e,eventData:t},this.eventType=e,this.eventData=t}}class Fe{constructor(e,t){this.type=q.OBSERVATION,this.payload={observableKey:e,observableData:t}}}class He{constructor(e,t,n,i){this.type=q.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n,item:i}}}class Ge{constructor(e,t,n){this.type=q.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n}}}class Be{constructor(e,t,n,i){this.type=q.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n,item:i}}}class Ve{constructor(e,t){this.type=q.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t}}}class je{constructor(e,t){this.type=q.PRIVATE_MESSAGE,this.payload={messageType:e,messagePayload:t}}}class We{constructor(e,t){this.receiver=e,this.clientInfo=t,this.messageType=X.ACTION}notify(e){this.receiver.onActionReceived(e,this.clientInfo)}}class ze{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=X.EVENT_SUB}notify(e){this.observer.onEventSubReceived(e,this.clientInfo)}}class $e{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=X.EVENT_UNSUB}notify(e){this.observer.onEventUnsubReceived(e,this.clientInfo)}}class Ke{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=X.OBSERVABLE_SUB}notify(e){this.observer.onObservableSubReceived(e,this.clientInfo)}}class Ye{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=X.OBSERVABLE_UNSUB}notify(e){this.observer.onObservableUnsubReceived(e,this.clientInfo)}}class qe{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=X.COLLECTION_SUB}notify(e){this.observer.onCollectionSubReceived(e,this.clientInfo)}}class Qe{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=X.COLLECTION_UNSUB}notify(e){this.observer.onCollectionUnsubReceived(e,this.clientInfo)}}class Xe{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=X.PRIVATE_MESSAGE}notify(e){this.observer.onPrivateMessageReceived(e,this.clientInfo)}}class Je{constructor(){this.dirty=!1}dispose(){}}const Ze=new p.Vy("FactAnalytics");class et{constructor(e){this.proxy=e}track(e,t,n){const i={};let r=0,o=0,s=0;if(null==n?void 0:n.records)for(const e in n.records){const t=n.records[e];let a="",l=!1;if("number"==typeof t){const e=t.toString();Number.isInteger(t)&&!e.includes(".")?r<3&&(a="integer"+r++,l=!0):o<3&&(a="float"+o++,l=!0)}else"string"==typeof t&&s<3&&(a="string"+s++,l=!0);l?i[a]={name:e,value:t}:Ze.info(`Omitting key: ${a} value: ${t} from fact`)}const a={applicationKey:e.client.applicationKey,pluginId:e.client.pluginId,fact:Object.assign({name:t,version:(null==n?void 0:n.version)||1},i)};(null==n?void 0:n.alwaysTrack)?this.proxy.alwaysTrack("sdk_fact",t,a):this.proxy.track("sdk_fact",t,a)}}const tt=new p.Vy("sdk");class nt extends u.n{constructor(){super(...arguments),this.name="sdk",this.hostId=Math.floor(1e6*Math.random()),this.connectionHandlers=[],this.clientInterface=(0,f.A4)(Object.assign({},nt.emptyInterface)),this.perOriginInterfaces=new o.kG((()=>(0,f.A4)(Object.assign({},nt.emptyInterface)))),this.perSdkTypeInterfaces=new o.kG((()=>(0,f.A4)(Object.assign({},nt.emptyInterface)))),this.pendingClients=new d.E,this.clientConnections=new Map,this.eventToClientSubMap=new o.kc,this.clientToEventSubMap=new o.kc,this.observableToClientSubMap=new o.kc,this.clientToObservableSubMap=new Map,this.collectionToClientSubMap=new o.kc,this.clientToCollectionSubMap=new Map,this.privateMessageHandlers=new o.kc,this.valueToClientInterface={},this.commandCreators={},this.commands={},this.asyncCommands={},this.observables={},this.collections={},this.commandExecutionOrder=0,this.firstTimeCollectionSubs=new o.kc,this.sdkTypeByBuild=it.Type.EMBED}async init(e,t){this.config=e,this.validationUrl=e.validationUrl,this.facade=new nt.MessengerHostFacade(this),this.clientIdGenerator=new y,this.postmessageConnectHandler=new x(window,this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.directConnectHandler=new Se(this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.pluginConnectHandler=new Ee(this.hostId,this.clientIdGenerator,this.facade),this.connectionHandlers.push(this.postmessageConnectHandler,this.directConnectHandler,this.pluginConnectHandler),this.sdkTypeByBuild=it.Type.BUNDLE,this.analytics=new g(await t.getModuleBySymbol(c.aF)),this.factAnalytics=new et(this.analytics),this.clientFilter=e.clientFilter||(()=>!0),this.issueCommand=t.commandBinder.issueCommand.bind(t.commandBinder),this.getSdkConfig=e.getSdkConfig,this.requestQueue=e.queue,this.data=new m.d,t.market.register(m.d,this.data),this.addPrivateMessageHandler(new v(this.analytics)),this.enableHandshaking()}dispose(){for(const e of this.connectionHandlers)e.dispose();this.clearInterface()}connect(e,t){try{new URL(e)}catch(e){return Promise.reject(e)}return this.directConnectHandler.connect(e,t)}connectPlugin(e,t){return this.pluginConnectHandler.connect({applicationKey:e,pluginId:t})}getClientAuth(e){const t=this.pendingClients.get(e);return t?Promise.resolve(t):new Promise((t=>{const n=this.pendingClients.onElementChanged({onAdded(i,r){r===e&&(t(i),n.cancel())}})}))}enableHandshaking(){for(const e of this.connectionHandlers)e.init()}async setupInterface(){return this.interfaceLoading||(this.interfaceLoading=this.config.setupExternalSdk(this)),this.interfaceLoading}clearInterface(){this.clientInterface.functions={},this.clientInterface.commands={},this.clientInterface.enums={},this.clientInterface.observables={},this.clientInterface.collections={},this.commandCreators={}}onUpdate(){for(const[e,t]of this.clientToObservableSubMap)for(const[n,[i,r]]of t)if(i.dirty){try{this.notifyObservableUpdate(n,r.getData(),e)}catch(t){tt.error(`Error notifying client ${e} of observable ${n} update:`,t)}i.dirty=!1}for(const[e,t]of this.clientToCollectionSubMap)for(const[n,[,i]]of t)if(i.dirty)try{this.notifyCollectionUpdates(n,i.readDiff(),e)}catch(t){tt.error(`Error notifying client ${e} of collection ${n} update:`,t)}}addCommandCreator(e,t){const n=ot(e);if(this.clientInterface.functions.hasOwnProperty(n)&&tt.debugInfo(`Overwriting ${n} function in sdk interface`),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t);i.functions[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t);i.functions[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.functions[n]=e,this.commandCreators[n]=t}addEnumToInterface(e){const t=ot(e);if(this.clientInterface.enums.hasOwnProperty(t)&&tt.debugInfo(`Overwriting ${t} enum in sdk interface`),e.sdkTypes)for(const n of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(n);i.enums[t]=Object.assign({},e),this.perSdkTypeInterfaces.set(n,i)}if(e.origins)for(const n of e.origins){const i=this.perOriginInterfaces.get(n);i.enums[t]=Object.assign({},e),this.perOriginInterfaces.set(n,i)}if(this.clientInterface.enums[t]=Object.assign(Object.assign({},e),{values:Object.assign({},e.values)}),"Event"===e.name){const t=Object.keys(e.values);for(const n in t){this.valueToClientInterface;const i=e.values[t[n]];this.valueToClientInterface.hasOwnProperty(i)?tt.warn(`Duplicate event detected for ${JSON.stringify(e)}`):this.valueToClientInterface[i]=e}}}addCommandToInterface(e,t){this.addCommand(e,t)}addAsyncCommandToInterface(e,t){this.addCommand(e,t,{canQueue:!0})}addCommandUnlisted(e,t,n=!1){this.addCommand(e,t,{canQueue:n,unlisted:!0})}addCommand(e,t,n={canQueue:!1,unlisted:!1}){n.unlisted?this.registerUnlistedCommand(e):this.registerCommandInInterface(e);const i=ot(e),r=n.canQueue?this.asyncCommands:this.commands;if(n.canQueue)return r[i]=t,{dispose(){delete r[i]}};const o=t.then((e=>r[i]=e));return{dispose(){o.then((()=>delete r[i]))}}}registerUnlistedCommand(e){const t=ot(e);this.clientInterface.unlistedCmds.hasOwnProperty(t)&&tt.debugInfo(`Overwriting ${t} unlisted command in sdk interface`),this.clientInterface.unlistedCmds[t]=Object.assign({},e)}registerCommandInInterface(e){const t=ot(e);if(this.clientInterface.commands.hasOwnProperty(t)&&tt.debugInfo(`Overwriting ${t} command in sdk interface`),e.sdkTypes)for(const n of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(n);i.commands[t]=Object.assign({},e),this.perSdkTypeInterfaces.set(n,i)}if(e.origins)for(const n of e.origins){const i=this.perOriginInterfaces.get(n);i.commands[t]=Object.assign({},e),this.perOriginInterfaces.set(n,i)}this.clientInterface.commands[t]=e}addObservableToInterface(e,t){const n=ot(e);if(this.addObservable(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t);i.observables[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t);i.observables[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.observables[n]=Object.assign({},e)}addObservable(e,t){this.clientInterface.observables.hasOwnProperty(e)&&tt.debugInfo(`Overwriting ${e} observable in sdk interface`),this.observables[e]=t;const n=this;return{dispose(){n.removeObservable(e)}}}removeObservable(e){var t;delete this.observables[e];for(const n of this.observableToClientSubMap.getValuesAtKey(e))null===(t=this.clientToObservableSubMap.get(n.id))||void 0===t||t.delete(e);this.observableToClientSubMap.removeKey(e)}addCollectionToInterface(e,t){const n=ot(e);if(this.addCollection(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t);i.collections[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t);i.collections[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.collections[n]=Object.assign({},e)}addCollection(e,t){this.clientInterface.collections.hasOwnProperty(e)&&tt.debugInfo(`Overwriting ${e} collection in sdk interface`),this.collections[e]=t;const n=this;return{dispose(){n.removeCollection(e)}}}removeCollection(e){var t;delete this.collections[e];for(const n of this.collectionToClientSubMap.getValuesAtKey(e))null===(t=this.clientToCollectionSubMap.get(n.id))||void 0===t||t.delete(e);this.collectionToClientSubMap.removeKey(e)}addPrivateMessageHandler(e){const{privateMessageHandlers:t}=this;return t.add(e.messageType,e),{dispose(){t.remove(e.messageType,e)}}}sendPrivateMessage(e,t,n){for(const[,i]of this.clientConnections)void 0!==n&&i.executing.id!==n||i.messaging.messenger.send(new je(e,t))}broadcast(e,t,n){for(const[,i]of this.clientConnections)if(t){const r=t(n);i.messaging.messenger.send(new Ue(e,r||[]))}else i.messaging.messenger.send(new Ue(e,[]))}notifyObservableUpdate(e,t,n){for(const i of this.observableToClientSubMap.getValuesAtKey(e))i.id===n&&i.messenger.send(new Fe(e,t))}notifyCollectionUpdates(e,t,n){const{added:i,removed:r,updated:o}=t,s=i.size>0,a=r.size>0,l=o.size>0,c=this.clientConnections.get(n);if(c){const t=c.messaging,n=t.id;if(s)for(const[n,r]of i)t.messenger.send(new He(Q.ITEM_ADDED,e,n,r));if(a)for(const[n]of r)t.messenger.send(new Ge(Q.ITEM_REMOVED,e,n));if(l)for(const[n,i]of o)t.messenger.send(new Be(Q.ITEM_UPDATED,e,n,i));(s||a||l||this.firstTimeCollectionSubs.has(n,e))&&(t.messenger.send(new Ve(Q.COLL_UPDATED,e)),this.firstTimeCollectionSubs.remove(n,e))}}verifyConnection(e,t){const n={cache:!1,headers:{"X-Matterport-Application-Key":t,"X-Matterport-Referrer":e},priority:r.QK.HIGH};return this.requestQueue.get(this.validationUrl,n)}async onConnectionReceived(e,t={},n,i){if(!this.clientFilter(e))return i.reject(new j);t&&(0,s.U)(it.Type,t.sdkType)?n.context.sdkType=t.sdkType:n.context.sdkType=this.sdkTypeByBuild;const r=new rt(t.auth,t.provider);if(!ye(n.context))try{await this.verifyConnection(e,n.applicationKey),this.pendingClients.set(n.applicationKey,r)}catch(t){return r.reject(),i.reject(new z(`${n.applicationKey}@${e} - Key/referrer mismatch`))}const o=()=>{const t=new URL(e).hostname,i=this.perOriginInterfaces.get(t.toLowerCase()),r=this.perSdkTypeInterfaces.get(n.communicationMethod),o={enums:{},functions:{},unlistedFcns:{},observables:{},collections:{}},s=function(e,t,n,i){const r=e[t].sdkTypes,o=e[t].origins;if(!r&&!o)return!0;const s=r&&o&&(null==n?void 0:n[t])&&(null==i?void 0:i[t]),a=r&&!o&&(null==n?void 0:n[t]),l=!r&&o&&(null==i?void 0:i[t]);return s||a||l};for(const e in this.clientInterface.enums)s(this.clientInterface.enums,e,null==r?void 0:r.enums,null==i?void 0:i.enums)&&(o.enums[e]=this.clientInterface.enums[e]);for(const e in this.clientInterface.observables)s(this.clientInterface.observables,e,null==r?void 0:r.observables,null==i?void 0:i.observables)&&(o.observables[e]=this.clientInterface.observables[e]);for(const e in this.clientInterface.collections)s(this.clientInterface.collections,e,null==r?void 0:r.collections,null==i?void 0:i.collections)&&(o.collections[e]=this.clientInterface.collections[e]);for(const e in this.clientInterface.functions)s(this.clientInterface.functions,e,null==r?void 0:r.functions,null==i?void 0:i.functions)&&(o.functions[e]=this.clientInterface.functions[e]);for(const e in this.clientInterface.commands)s(this.clientInterface.commands,e,null==r?void 0:r.commands,null==i?void 0:i.commands)&&(o.functions[e]=this.clientInterface.commands[e]);for(const e in this.clientInterface.unlistedCmds)o.unlistedFcns[e]=this.clientInterface.unlistedCmds[e];return o};i.handshake();try{if(!ye(n.context)){if(!await this.config.validateProvider(t.provider))throw r.reject(),new W}r.accept(),await this.setupInterface();const s=o();this.onConnectionAccepted(e,n,t);const a=new URL((await this.getSdkConfig).client);a.searchParams.append("applicationKey",n.applicationKey),i.accept(a.href,s),this.data.atomic((()=>{this.data.applicationKeys.push({key:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType}),this.data.commit()}))}catch(e){i.reject(e)}}onConnectionAccepted(e,t,n){const i=t.id,r=t.messenger,o={messaging:Object.assign(Object.assign({},t),{origin:e}),executing:{get id(){return t.context.pluginId||String(i)},applicationKey:t.applicationKey,pluginId:t.context.pluginId}};this.clientConnections.set(i,o);const s=this.facade;r.addObserver(new We(s,o.messaging)),r.addObserver(new ze(s,o.messaging)),r.addObserver(new $e(s,o.messaging)),r.addObserver(new Ke(s,o.messaging)),r.addObserver(new Ye(s,o.messaging)),r.addObserver(new qe(s,o.messaging)),r.addObserver(new Qe(s,o.messaging)),r.addObserver(new Xe(s,o.messaging)),r.init(),this.trackSdkConnect(o.messaging,n)}onDisconnectReceived(e,t){const n=t.messaging,i=this.clientToEventSubMap.getValuesAtKey(n.id),r=this.clientToObservableSubMap.get(n.id)||[],o=this.clientToCollectionSubMap.get(n.id)||[];for(const e of i)this.eventToClientSubMap.remove(e,n);for(const[e]of r)this.observableToClientSubMap.remove(e,n);for(const[e]of o)this.collectionToClientSubMap.remove(e,n);this.clientToEventSubMap.removeKey(n.id),this.clientToObservableSubMap.delete(n.id),this.clientToCollectionSubMap.delete(n.id);const s=this.data.applicationKeys.indexOf({key:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType});s>-1&&this.data.applicationKeys.splice(s,1)}onActionReceived(e,t){if(this.tryActionThroughCommand(e,t))return;const n=this.commandCreators[e.targetFunction];if(n){this.trackSdkCall(e,t.messaging.id);try{this.issueCommand(n(e.params,t.executing)).then((n=>t.messaging.messenger.send(new xe(e.uid,n,!0,"")))).catch((n=>t.messaging.messenger.send(new xe(e.uid,{},!1,n.message||n))))}catch(n){tt.debug(n),t.messaging.messenger.send(new xe(e.uid,{},!1,n.message))}}else t.messaging.messenger.send(new xe(e.uid,{},!1,`${e.targetFunction} is not a valid command`))}tryActionThroughCommand(e,t){if(this.tryActionThroughAsyncCommand(e,t))return!0;const n=this.commands[e.targetFunction];if(!n)return!!this.clientInterface.commands.hasOwnProperty(e.targetFunction)&&(t.messaging.messenger.send(new xe(e.uid,{},!1,`${e.targetFunction} is not ready to be called`)),!0);this.trackSdkCall(e,t.messaging.id);try{n.exec(e.params,Object.assign(Object.assign({},e.context),{client:t.executing,key:e.targetFunction,executionId:this.commandExecutionOrder++})).then((n=>{t.messaging.messenger.send(new xe(e.uid,n,!0,""))})).catch((n=>{t.messaging.messenger.send(new xe(e.uid,{},!1,n.message||n))}))}catch(n){tt.debug(n),t.messaging.messenger.send(new xe(e.uid,{},!1,n.message))}return!0}tryActionThroughAsyncCommand(e,t){const n=this.asyncCommands[e.targetFunction];return!!n&&(n.then((n=>{this.trackSdkCall(e,t.messaging.id);try{n.exec(e.params,Object.assign(Object.assign({},e.context),{client:t.executing,key:e.targetFunction,executionId:this.commandExecutionOrder++})).then((n=>{t.messaging.messenger.send(new xe(e.uid,n,!0,""))})).catch((n=>{t.messaging.messenger.send(new xe(e.uid,{},!1,n.message||n))}))}catch(n){tt.debug(n),t.messaging.messenger.send(new xe(e.uid,{},!1,n.message))}})),!0)}onEventSubReceived(e,t){const n=t.messaging;this.eventToClientSubMap.add(e.subscription,n),this.trackSdkEvent(i.SUBSCRIBED,e,n)}onEventUnsubReceived(e,t){const n=t.messaging;this.eventToClientSubMap.remove(e.subscription,n),this.trackSdkEvent(i.UNSUBSCRIBED,e,n)}async onObservableSubReceived(e,t){const n=t.messaging,r=e.observableKey,o=this.observables[r];if(o){const t=await o;if(!this.observables[r])return;if(!this.observableToClientSubMap.has(r,n)){const o=new Je,s=t.subscribe(o);this.observableToClientSubMap.add(r,n);const a=this.clientToObservableSubMap.get(n.id)||new Map;a.set(r,[o,t,s]),this.clientToObservableSubMap.set(n.id,a),this.trackClientObservableSub(i.OBSERVABLE_SUB,e,n)}}else tt.error(r,"is not a valid, registered observable")}onObservableUnsubReceived(e,t){const n=t.messaging,r=e.observableKey;this.observableToClientSubMap.remove(r,n);const o=this.clientToObservableSubMap.get(n.id);if(o){const t=o.get(r);if(t){const[,,s]=t;s.cancel(),o.delete(r),this.trackClientObservableSub(i.OBSERVABLE_UNSUB,e,n)}}}async onCollectionSubReceived(e,t){const n=t.messaging,r=e.collectionKey,o=this.collections[r];if(o){const t=await o;if(!this.collections[r])return;if(!this.collectionToClientSubMap.has(r,n)){const o=t.subscribe(n),s=[t,o];this.collectionToClientSubMap.add(r,n);const a=this.clientToCollectionSubMap.get(n.id)||new Map;a.set(r,s),this.clientToCollectionSubMap.set(n.id,a),this.firstTimeCollectionSubs.add(n.id,r),this.trackClientCollectionSub(i.COLLECTION_SUB,e,n)}}else tt.error(r,"is not a valid, registered collection")}onCollectionUnsubReceived(e,t){const n=t.messaging,r=e.collectionKey;this.collectionToClientSubMap.remove(r,n);const o=this.clientToCollectionSubMap.get(n.id);if(o){const t=o.get(r);if(t){const[,s]=t;s.cancel(),o.delete(r),this.trackClientCollectionSub(i.COLLECTION_UNSUB,e,n)}}}onPrivateMessageReceived(e,t){const{messageType:n,messagePayload:i}=e;for(const e of this.privateMessageHandlers.getValuesAtKey(n))(e.clientId||e.clientId===t.executing.id)&&e.onMessage(i,t.messaging)}trackSdkConnect(e,t){if(!this.analytics)return;const n="string"==typeof(null==t?void 0:t.auth),i={origin:e.origin,applicationKey:e.applicationKey,provider:e.context.provider,method:e.communicationMethod,sdkType:e.context.sdkType,pluginId:e.context.pluginId,authTokenProvided:n,bootstrapVersion:e.context.bootstrap.version,bootstrapProvidedAppKey:e.context.bootstrap.providedAppKey};this.analytics.setOptions({authTokenProvided:n}),this.analytics.alwaysTrack("sdk_connect","connect",i)}trackSdkEvent(e,t,n){if(!this.analytics)return;const r=e===i.SUBSCRIBED?"on":"off",o=this.valueToClientInterface[t.subscription];if(!o)return;const s=Object.keys(o.values),a=s.find(((e,n)=>{const i=s[n];return o.values[i]===t.subscription}));if(!a)return;const l={origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType,name:r,namespace:o.namespace,eventType:a,count:this.eventToClientSubMap.valuesPerKey(t.subscription),method:n.communicationMethod,pluginId:n.context.pluginId};this.analytics.track("sdk_event",t.subscription,l)}trackSdkCall(e,t){const n=this.clientConnections.get(t);if(!n)return;const i=this.clientInterface.functions[e.targetFunction]||this.clientInterface.commands[e.targetFunction],r=n.messaging,o=Object.assign(Object.assign({origin:r.origin,applicationKey:r.applicationKey,provider:r.context.provider,sdkType:r.context.sdkType},i),{method:r.communicationMethod,pluginId:r.context.pluginId});if(this.analytics.track("sdk_call",e.targetFunction,o),i&&"Settings"===i.namespace&&"update"===i.name){const{key:t,value:n}=e.params;(0,a.K)(t)&&this.analytics.track("sdk_settings",t,{origin:r.origin,applicationKey:r.applicationKey,provider:r.context.provider,sdkType:r.context.sdkType,pluginId:r.context.pluginId,settingKey:t,settingValue:(0,l.G)(n)?{}.toString():(0,a.K)(n)?n:JSON.stringify(n)})}}trackClientObservableSub(e,t,n){const r=e===i.OBSERVABLE_SUB,o=this.clientInterface.observables[t.observableKey],s=Object.assign(Object.assign({origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType},o),{is_collection:!1,action:r?"subscribe":"cancel",method:n.communicationMethod,pluginId:n.context.pluginId});this.analytics.track("sdk_subscribe",t.observableKey,s)}trackClientCollectionSub(e,t,n){const r=e===i.COLLECTION_SUB,o=this.clientInterface.collections[t.collectionKey],s=Object.assign(Object.assign({origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType},o),{is_collection:!0,action:r?"subscribe":"cancel",method:n.communicationMethod,pluginId:n.context.pluginId});this.analytics.track("sdk_subscribe",t.collectionKey,s)}track(e,t,n){e.client.pluginId&&this.factAnalytics.track(e,t,n)}}var it;nt.emptyInterface={functions:{},commands:{},unlistedCmds:{},enums:{},observables:{},collections:{}},nt.MessengerHostFacade=class{constructor(e){this.messageHandler=e}onConnectionReceived(e,t,n,i){this.messageHandler.onConnectionReceived(e,t,n,i)}onDisconnectReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onDisconnectReceived(e,n)}onActionReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onActionReceived(e,n)}onEventSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onEventSubReceived(e,n)}onEventUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onEventUnsubReceived(e,n)}onObservableSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onObservableSubReceived(e,n)}onObservableUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onObservableUnsubReceived(e,n)}onCollectionSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onCollectionSubReceived(e,n)}onCollectionUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onCollectionUnsubReceived(e,n)}onPrivateMessageReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onPrivateMessageReceived(e,n)}},function(e){let t;e.name="sdk",function(e){e.EMBED="sdk.embed",e.BUNDLE="sdk.bundle",e.PLUGIN="sdk.plugin",e.NPM_SDK="npm.embed",e.NPM_WEB_COMPONENT="npm.webcomponent",e.NPM_R3F="npm.r3f"}(t=e.Type||(e.Type={}))}(it||(it={}));class rt{constructor(e,t){this.token=e,this.provider=t,this.isAccepted=new h.L(null)}get accepted(){if(null!==this.isAccepted.value){if(this.isAccepted.value)return Promise.resolve();if(!this.isAccepted.value)return Promise.reject()}return new Promise(((e,t)=>{if(null===this.isAccepted.value){const n=this.isAccepted.onChanged((i=>{i?e():t(),n.cancel()}))}}))}accept(){this.isAccepted.value=!0}reject(){this.isAccepted.value=!1}}function ot(e){let t=`${e.name}`;return e.namespace&&(t=`${e.namespace}.${t}`),t}},87965:(e,t,n)=>{"use strict";var i;n.d(t,{Y:()=>i}),function(e){e.BlursAddNudgeSeen="user_preference/blurs_add_nudge",e.DefurnishNudgeSeen="user_preference/defurnish_nudge",e.DefurnishRated="user_preference/defurnish_rated",e.DollhouseUserNudgeSeen="user_preference/dollhouse_nudge",e.FloorplanRoomsUserNudgeSeen="user_preference/floorplan_rooms_nudge",e.HighlightReelSettingsTab="user_preference/highlight_reel_settings_tab",e.LastRatingPromptTime="user_preference/model_rating_last_prompt_time",e.MeasurementContinuousLines="user_preference/measurement_continuous",e.MeasurementSnapping="user_preference/measurement_snapping",e.MeasurementUserNudgeSeen="user_preference/measurement_nudge",e.NotesAddNudgeSeen="user_preference/notes_add_nudge",e.NotesModeNudgeSeen="user_preference/notes_mode_nudge",e.SubscriberPromptDismissed="user_preference/subscriber_prompt_dismissed",e.TagsAddNudgeSeen="user_preference/tags_add_nudge",e.TourMobileNavigationPromptSeen="user_preference/tour_mobile_nav_prompt_seen",e.TourTextNudgeDismissed="user_preference/tour_text_nudge_dismissed",e.UnitType="user_preference/unit_type",e.AutoToursRated="user_preference/auto_tours_rated"}(i||(i={}))},81459:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});class i{constructor(e,t){this.settingsData=e,this.settings=t,this.cache={},this.toggle=e=>{e?this.apply():this.reset()}}apply(){Object.keys(this.cache).length>0&&this.reset(),this.cache={};for(const e of Object.keys(this.settings)){const t=this.settingsData.tryGetSetting(e,void 0);t!==this.settings[e]&&(this.cache[e]=t,this.settingsData.setSetting(e,this.settings[e]))}}reset(){for(const e of Object.keys(this.cache)){const t=this.cache[e];this.settingsData.setSetting(e,void 0!==t&&t)}this.cache={}}}},25443:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var i=n(12625),r=n(88325),o=n(53282);class s{constructor(){this.callbacks=new Set}add(e){return(0,o.Sh)((()=>this.callbacks.add(e)),(()=>this.callbacks.delete(e)))}triggerCb(...e){for(const e of this.callbacks)e(...arguments)}}var a=n(51182),l=n(82748);class c extends i.B{constructor(e={}){super(),this.overrideParams=e,this.name="settings",this.settings=(0,r.y)(),this.listeners=new Map}setSetting(e,t){const n=this.settings.get(e);if(null==t||n!==t){this.settings.set(e,t);const n=this.listeners.get(e);n&&n.triggerCb(t)}}setLocalStorageSetting(e,t){(0,a.lk)(e,t),this.setSetting(e,t)}hasSetting(e){return this.settings.has(e)}tryGetSetting(e,t){return this.hasSetting(e)?this.settings.get(e):t}getSetting(e){if(this.hasSetting(e))return this.settings.get(e);throw new Error("SettingsData: "+e+" not found")}onSettingChanged(e,t){let n=this.listeners.get(e);return n||(n=new s,this.listeners.set(e,n)),n.add(t)}getOverrideParam(e,t=null,n=typeof t){var i;return(0,l.R5)(null!==(i=this.overrideParams[e])&&void 0!==i?i:null,t,n)}iterate(e){for(const t of this.settings.keys)e(t,this.getSetting(t))}}},50747:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var i=n(77570),r=n(96540);const o=()=>(0,r.useContext)(i.B).settings},26072:(e,t,n)=>{"use strict";var i;n.d(t,{u:()=>i}),function(e){e[e.NONE=0]="NONE",e[e.LOCAL_STORAGE=1]="LOCAL_STORAGE"}(i||(i={}))},38069:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var i=n(68909);class r{}r.MP_BRAND=Object.freeze(new i.Color(16724312)),r.MATTERTAG_BLUE=Object.freeze(new i.Color(223357)),r.WHITE=Object.freeze(new i.Color(16777215)),r.BLACK=Object.freeze(new i.Color(0)),r.RED=Object.freeze(new i.Color(16711680)),r.GREEN=Object.freeze(new i.Color(65280)),r.BLUE=Object.freeze(new i.Color(255)),r.YELLOW=Object.freeze(new i.Color(16776960)),r.SINE=Object.freeze(new i.Color(11908275)),r.NEPTUNE=Object.freeze(new i.Color(4217846)),r.LENS_GRAY=Object.freeze(new i.Color(4473924)),r.MIRROR=Object.freeze(new i.Color(14342874)),r.PORTAL=Object.freeze(new i.Color(2236962)),r.SILVER=Object.freeze(new i.Color(13421772))},37458:(e,t,n)=>{"use strict";var i;n.d(t,{X:()=>i}),function(e){e[e.boundingSkybox=-100]="boundingSkybox",e[e.exteriorSplat=-1]="exteriorSplat",e[e.default=0]="default",e[e.panoMarker=4]="panoMarker",e[e.reticule=5]="reticule",e[e.grid=5]="grid",e[e.meshTrims=5]="meshTrims",e[e.pins360=6]="pins360",e[e.roomBounds=7]="roomBounds",e[e.portals=9]="portals",e[e.rotators=10]="rotators",e[e.pins=14]="pins",e[e.pinSelectedHalo=15]="pinSelectedHalo",e[e.lines=20]="lines",e[e.endpoints=21]="endpoints",e[e.labels=22]="labels",e[e.gizmos=23]="gizmos",e[e.ghostFloorDepthPrepass=50]="ghostFloorDepthPrepass",e[e.ghostFloor=51]="ghostFloor",e[e.transformGizmo=999]="transformGizmo",e[e.colorOverlay=1e3]="colorOverlay"}(i||(i={}))},75742:(e,t,n)=>{"use strict";var i;n.d(t,{n:()=>i}),function(e){e.TEXT="text",e.LINK="link",e.HASH="hash",e.USER="user"}(i||(i={}))},81662:(e,t,n)=>{"use strict";n.d(t,{B1:()=>o,YF:()=>s,os:()=>i});var i,r=n(68909);class o{}o.UP=Object.freeze(new r.Vector3(0,1,0)),o.DOWN=Object.freeze(new r.Vector3(0,-1,0)),o.LEFT=Object.freeze(new r.Vector3(-1,0,0)),o.RIGHT=Object.freeze(new r.Vector3(1,0,0)),o.FORWARD=Object.freeze(new r.Vector3(0,0,-1)),o.BACK=Object.freeze(new r.Vector3(0,0,1)),o.ZERO=Object.freeze(new r.Vector3(0,0,0)),o.UNIT=Object.freeze(new r.Vector3(1,1,1)),o.HORIZONTAL_PLANE=Object.freeze(new r.Vector3(1,0,1)),function(e){e.NONE="NONE",e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT",e.FORWARD="FORWARD",e.BACK="BACK",e.ZERO="ZERO",e.UNIT="UNIT",e.HORIZONTAL_PLANE="HORIZONTAL_PLANE"}(i||(i={}));class s{}s.DOWNWARD=new r.Quaternion(-Math.SQRT1_2,0,0,Math.SQRT1_2)},66806:(e,t,n)=>{"use strict";var i;n.d(t,{N:()=>i}),function(e){e[e.Panorama=1]="Panorama",e[e.Dollhouse=2]="Dollhouse",e[e.Floorplan=3]="Floorplan",e[e.Outdoor=4]="Outdoor",e[e.Orthographic=5]="Orthographic",e[e.Mesh=6]="Mesh",e[e.ExteriorSplat=7]="ExteriorSplat",e[e.Transition=-1]="Transition"}(i||(i={}))},52018:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var i=n(80610);class r extends Error{constructor(e,t){super(e instanceof Error?e.message:e),this.name="BaseException",t&&(this.code=t),e instanceof Error&&(this.originalError=e,(0,i.zi)(e)&&(this.isMock=!0))}}},23775:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(52018);class r extends i.t{constructor(e="Not implemented"){super(e),this.name="NotImplemented"}}},80610:(e,t,n)=>{"use strict";function i(e){return!!(e&&e instanceof Error&&e.code)}function r(e){return!!(e&&e instanceof Error&&e.originalError)}function o(e){return!!(e&&e instanceof Error&&e.isMock)}function s(e){return i(e)?e.code:""}function a(e){const t=[];let n=e;for(;n;)i(n)&&t.push(n.code),n=r(n)?n.originalError:void 0;return t}n.d(t,{E2:()=>s,Ue:()=>i,fS:()=>a,zi:()=>o})},73237:(e,t,n)=>{"use strict";n.d(t,{OD:()=>s,QG:()=>l,dI:()=>a,n4:()=>o});var i=n(46771),r=n(68909);const o=2,s=1;class a extends r.ShaderMaterial{constructor(e){super(e),this.injectDepthFadeUniforms()}injectDepthFadeUniforms(){this.uniforms.screenSize={value:new r.Vector2},this.uniforms.pixelRatio={value:1},this.uniforms.fadeMaxDepth={value:100},this.uniforms.depthTex={value:null},this.includeCameraMatrices&&(this.uniforms.cameraMatrix={value:new i.k},this.uniforms.inverseProjectionMatrix={value:new i.k})}get fadeDepth(){return o}get fadeWidth(){return s}get includeCameraMatrices(){return!1}setFadeDepthTexture(e){e?(this.defines.FADE_DEPTH=this.fadeDepth.toFixed(3),this.defines.FADE_WIDTH=this.fadeWidth.toFixed(3),this.uniforms.depthTex.value=e):(delete this.defines.FADE_DEPTH,delete this.defines.FADE_WIDTH,this.uniforms.depthTex.value=null),this.needsUpdate=!0}}const l=(e,t,n,i=!0)=>{t.getSize(e.uniforms.screenSize.value),e.uniforms.pixelRatio.value=t.getPixelRatio(),i&&(e.uniforms.cameraMatrix.value.copy(n.matrixWorld),e.uniforms.inverseProjectionMatrix.value.copy(n.projectionMatrixInverse))}},9114:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(99625),r=n(24790);class o{constructor(e){this.baseUrl="",this.apqEnabled=!1,this.anonymousHeaderEnabled=!1,this.simulateApiOutage=i.u.NONE,this.nonBaseLayerWriteEnabled=!1,this.startedInPrivateSession=!1,this.startedInCompositeView=!1,this.refreshableStores=new Set,this.sharedCaches=new Set,this.updateForAutoProvisionedLayer=async e=>{if(this.autoProvisionLayerCheckCallback)return this.autoProvisionLayerCheckCallback(e)},this._baseViewId=null!=e?e:null}get baseViewId(){return this.startedInCompositeView||this.startedInPrivateSession?this.initialViewId:this._baseViewId}set baseViewId(e){this._baseViewId=e}toggleNonBaseLayeredWrites(e){this.nonBaseLayerWriteEnabled=e}get isPrivateSession(){return this.startedInPrivateSession}togglePrivateSession(e){this.startedInPrivateSession=e}get isCompositeModel(){return this.startedInCompositeView}toggleCompositeView(e){this.startedInCompositeView=e}shouldWriteLayerId(e){return!!this.nonBaseLayerWriteEnabled&&(""!==e&&e!==r.qw)}async setViewManually(e){const t=Array.from(this.refreshableStores.values());this.currentViewId=e,await Promise.all(t.map((e=>e.manualRefresh())))}async setCurrentViewId(e){const t=Array.from(this.refreshableStores.values());this.currentViewId=e,await Promise.all(t.map((e=>e.refresh())))}async refreshLayeredStores(e){const t=Array.from(this.refreshableStores.values()).filter((t=>e.includes(t.layeredType)));await Promise.all(t.map((e=>e.refresh())))}getViewLookupMode({firstLoad:e=!1}){return this.startedInPrivateSession||this.startedInCompositeView?"self":e?"default":"self"}}o.key="$MdsContext"},20968:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var i=n(53282),r=n(82748),o=n(23775),s=n(84651),a=n(96276);class l{constructor(e){this.viewId=null,this.newDataCallbacks=new Set,this.refreshPromiseMap=new Map;const{baseUrl:t,viewId:n,server:i}=e;this.config=e,this.context=e.context,this.client=new s.t({baseUrl:t,server:i,mdsContext:e.context}),n&&(this.viewId=n)}dispose(){this.context.refreshableStores.delete(this)}async create(...e){throw new o.E}async read(e={}){throw new o.E}async update(...e){throw new o.E}async delete(...e){throw new o.E}onNewData(e){this.context.refreshableStores.add(this);return(0,i.Sh)((()=>this.newDataCallbacks.add(e)),(()=>this.newDataCallbacks.delete(e)))}async refresh(e){const t=(null==e?void 0:e.modelId)||"default";let n=this.refreshPromiseMap.get(t);return n||(n=this.read(e).then((e=>this.newDataCallbacks.size>0?Promise.all(Array.from(this.newDataCallbacks.values()).map((t=>(t(e),e)))):[e])).then((([e])=>e)).finally((()=>{this.refreshPromiseMap.set(t,null)})),this.refreshPromiseMap.set(t,n)),n}async manualRefresh(){return Promise.resolve({})}async query(e,t,n={}){if(!this.getViewId())throw new a.V("No model view specified for query");const i=Object.assign({fetchPolicy:"cache-first",prefetchKey:this.prefetchKey},n);return this.client.query(e,t,i)}async mutate(e,t,n){const{readonly:i}=this.config;if(i)throw new a.n8("Cannot mutate in read-only mode");if(!this.getViewId())throw new a.V("Cannot mutate, no view was specified");return this.client.mutate(e,t,n).then((e=>{const t="53100"===(0,r.P3)("error","");if(!s.t.isOk(e)||t){const n=new a.YA(s.t.getErrorMessage(e));throw t&&(n.isMock=!0),n}return e}))}setStoreViewId(e){this.viewId=e}getViewId(){const e=this.viewId||this.context.currentViewId||this.context.baseViewId;if(!e)throw new Error("Invalid view id!");return e}getBaseViewId(){const e=this.context.baseViewId;if(!e)throw new Error("MdsStore baseViewId invalid!");return e}readLayerId(){return!!this.context.readLayerId}writeLayerId(e){return this.context.shouldWriteLayerId(e)}}},84651:(e,t,n)=>{"use strict";n.d(t,{t:()=>ir,H:()=>tr});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};Object.create;Object.create;var r="Invariant Violation",o=Object.setPrototypeOf,s=void 0===o?function(e,t){return e.__proto__=t,e}:o,a=function(e){function t(n){void 0===n&&(n=r);var i=e.call(this,"number"==typeof n?r+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return i.framesToPop=1,i.name=r,s(i,t.prototype),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function l(e,t){if(!e)throw new a(t)}var c=["debug","log","warn","error","silent"],u=c.indexOf("log");function d(e){return function(){if(c.indexOf(e)>=u)return(console[e]||console.log).apply(console,arguments)}}!function(e){e.debug=d("debug"),e.log=d("log"),e.warn=d("warn"),e.error=d("error")}(l||(l={}));var h="3.14.0";function p(e){try{return e()}catch(e){}}const f=p((function(){return globalThis}))||p((function(){return window}))||p((function(){return self}))||p((function(){return global}))||p((function(){return p.constructor("return this")()}));var m=new Map;function g(e){var t=m.get(e)||1;return m.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function v(e){return function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if("number"==typeof t){var r=t;(t=_(r))||(t=O(r,n),n=[])}e.apply(void 0,[t].concat(n))}}var y=Object.assign((function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e||l(e,_(t,n)||O(t,n))}),{debug:v(l.debug),log:v(l.log),warn:v(l.warn),error:v(l.error)});function E(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new a(_(e,t)||O(e,t))}var S=Symbol.for("ApolloErrorMessageHandler_"+h);function b(e){if("string"==typeof e)return e;try{return function(e,t){void 0===t&&(t=0);var n=g("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?n:t}),t).split(JSON.stringify(n)).join("<undefined>")}(e,2).slice(0,1e3)}catch(e){return"<non-serializable>"}}function _(e,t){if(void 0===t&&(t=[]),e)return f[S]&&f[S](e,t.map(b))}function O(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:h,message:e,args:t.map(b)})))}globalThis.__DEV__;function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function N(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=function(){return"function"==typeof Symbol},R=function(e){return I()&&Boolean(Symbol[e])},k=function(e){return R(e)?Symbol[e]:"@@"+e};I()&&!R("observable")&&(Symbol.observable=Symbol("observable"));var L=k("iterator"),P=k("observable"),D=k("species");function M(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function C(e){var t=e.constructor;return void 0!==t&&null===(t=t[D])&&(t=void 0),void 0!==t?t:z}function x(e){return e instanceof z}function U(e){U.log?U.log(e):setTimeout((function(){throw e}))}function F(e){Promise.resolve().then((function(){try{e()}catch(e){U(e)}}))}function H(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=M(t,"unsubscribe");n&&n.call(t)}}catch(e){U(e)}}function G(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function B(e,t,n){e._state="running";var i=e._observer;try{var r=M(i,t);switch(t){case"next":r&&r.call(i,n);break;case"error":if(G(e),!r)throw n;r.call(i,n);break;case"complete":G(e),r&&r.call(i)}}catch(e){U(e)}"closed"===e._state?H(e):"running"===e._state&&(e._state="ready")}function V(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void F((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(B(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void B(e,t,n);e._queue.push({type:t,value:n})}}var j=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new W(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(G(this),H(this))},N(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),W=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){V(this._subscription,"next",e)},t.error=function(e){V(this._subscription,"error",e)},t.complete=function(){V(this._subscription,"complete")},N(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),z=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new j(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,i){if("function"==typeof e)var r=t.subscribe({next:function(t){try{e(t,o)}catch(e){i(e),r.unsubscribe()}},error:i,complete:n});else i(new TypeError(e+" is not a function"));function o(){r.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(C(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(C(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=C(this),i=arguments.length>1,r=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var s=!r;if(r=!0,!s||i)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!r&&!i)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=C(this);return new r((function(t){var i,o=0;return function e(s){i=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(i=void 0,t.complete()):e(r.from(n[o++]))}})}(e),function(){i&&(i.unsubscribe(),i=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=C(this);return new n((function(i){var r=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return i.error(e)}var o=n.from(t).subscribe({next:function(e){i.next(e)},error:function(e){i.error(e)},complete:function(){var e=r.indexOf(o);e>=0&&r.splice(e,1),s()}});r.push(o)},error:function(e){i.error(e)},complete:function(){s()}});function s(){o.closed&&0===r.length&&i.complete()}return function(){r.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[P]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var i=M(t,P);if(i){var r=i.call(t);if(Object(r)!==r)throw new TypeError(r+" is not an object");return x(r)&&r.constructor===n?r:new n((function(e){return r.subscribe(e)}))}if(R("iterator")&&(i=M(t,L)))return new n((function(e){F((function(){if(!e.closed){for(var n,r=T(i.call(t));!(n=r()).done;){var o=n.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){F((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new("function"==typeof this?this:e)((function(e){F((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},N(e,null,[{key:D,get:function(){return this}}]),e}();I()&&Object.defineProperty(z,Symbol("extensions"),{value:{symbol:P,hostReportError:U},configurable:!0});var $=function(e,t){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},$(e,t)};function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}$(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Y.apply(this,arguments)};function q(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function Q(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function X(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function J(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;function Z(e){return null!==e&&"object"==typeof e}function ee(){}const te=ee,ne="undefined"!=typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},ie="undefined"!=typeof WeakMap?WeakMap:Map,re="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:ee,unregister:ee}};class oe{constructor(e=1/0,t=te){this.max=e,this.dispose=t,this.map=new ie,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){const t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);const n=t.key;delete t.key,t.keyRef=new ne(n),this.registry.register(n,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new re(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(e,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}function se(){}class ae{constructor(e=1/0,t=se){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}var le=new WeakSet;function ce(e){e.size<=(e.max||-1)||le.has(e)||(le.add(e),setTimeout((function(){e.clean(),le.delete(e)}),100))}var ue=function(e,t){var n=new oe(e,t);return n.set=function(e,t){var n=oe.prototype.set.call(this,e,t);return ce(this),n},n},de=function(e,t){var n=new ae(e,t);return n.set=function(e,t){var n=ae.prototype.set.call(this,e,t);return ce(this),n},n},he=Symbol.for("apollo.cacheSize"),pe=Y({},f[he]),fe={};function me(e,t){fe[e]=t}var ge=!1!==globalThis.__DEV__?function(){var e,t,n,i,r;if(!1===globalThis.__DEV__)throw new Error("only supported in development mode");return{limits:Object.fromEntries(Object.entries({parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4}).map((function(e){var t=e[0],n=e[1];return[t,pe[t]||n]}))),sizes:Y({print:null===(e=fe.print)||void 0===e?void 0:e.call(fe),parser:null===(t=fe.parser)||void 0===t?void 0:t.call(fe),canonicalStringify:null===(n=fe.canonicalStringify)||void 0===n?void 0:n.call(fe),links:Oe(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:be(this.queryManager.documentTransform)}},null===(r=(i=this.cache).getMemoryInternals)||void 0===r?void 0:r.call(i))}}:void 0,ve=(globalThis.__DEV__,!1!==globalThis.__DEV__?ye:void 0);function ye(){return{cache:{fragmentQueryDocuments:Ee(this.getFragmentDoc)}}}function Ee(e){return function(e){return!!e&&"dirtyKey"in e}(e)?e.size:void 0}function Se(e){return null!=e}function be(e){return _e(e).map((function(e){return{cache:e}}))}function _e(e){return e?J(J([Ee(null==e?void 0:e.performWork)],_e(null==e?void 0:e.left),!0),_e(null==e?void 0:e.right),!0).filter(Se):[]}function Oe(e){var t;return e?J(J([null===(t=null==e?void 0:e.getMemoryInternals)||void 0===t?void 0:t.call(e)],Oe(null==e?void 0:e.left),!0),Oe(null==e?void 0:e.right),!0).filter(Se):[]}var Te,Ae=Object.assign((function(e){return JSON.stringify(e,we)}),{reset:function(){Te=new de(pe.canonicalStringify||1e3)}});function we(e,t){if(t&&"object"==typeof t){var n=Object.getPrototypeOf(t);if(n===Object.prototype||null===n){var i=Object.keys(t);if(i.every(Ne))return t;var r=JSON.stringify(i),o=Te.get(r);if(!o){i.sort();var s=JSON.stringify(i);o=Te.get(s)||i,Te.set(r,o),Te.set(s,o)}var a=Object.create(n);return o.forEach((function(e){a[e]=t[e]})),a}}return t}function Ne(e,t,n){return 0===t||n[t-1]<=e}function Ie(e,t,n,i){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var r={};n.fields.map((function(e){return Ie(r,e.name,e.value,i)})),e[t.value]=r}else if(function(e){return"Variable"===e.kind}(n)){var o=(i||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return Ie(n,t,e,i),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw E(124,t.value,n.kind);e[t.value]=null}}!1!==globalThis.__DEV__&&me("canonicalStringify",(function(){return Te.size})),Ae.reset();var Re=["connection","include","skip","client","rest","export","nonreactive"],ke=Ae;Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var i=n.connection.filter?n.connection.filter:[];i.sort();var r={};return i.forEach((function(e){r[e]=t[e]})),"".concat(n.connection.key,"(").concat(ke(r),")")}return n.connection.key}var o=e;if(t){var s=ke(t);o+="(".concat(s,")")}return n&&Object.keys(n).forEach((function(e){-1===Re.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(ke(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=ke;return ke=e,t}});function Le(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var i=e.name,r=e.value;return Ie(n,i,r,t)})),n}return null}function Pe(e){return e.alias?e.alias.value:e.name.value}function De(e){return"Field"===e.kind}function Me(e){y(e&&"Document"===e.kind,116);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw E(117,e.kind);return e}));return y(t.length<=1,118,t.length),e}function Ce(e){return Me(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function xe(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function Ue(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function Fe(e){y("Document"===e.kind,120),y(e.definitions.length<=1,121);var t=e.definitions[0];return y("FragmentDefinition"===t.kind,122),t}function He(e){var t;Me(e);for(var n=0,i=e.definitions;n<i.length;n++){var r=i[n];if("OperationDefinition"===r.kind){var o=r.operation;if("query"===o||"mutation"===o||"subscription"===o)return r}"FragmentDefinition"!==r.kind||t||(t=r)}if(t)return t;throw E(123)}const Ge=()=>Object.create(null),{forEach:Be,slice:Ve}=Array.prototype,{hasOwnProperty:je}=Object.prototype;class We{constructor(e=!0,t=Ge){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return Be.call(e,(e=>t=t.getChildTrie(e))),je.call(t,"data")?t.data:t.data=this.makeData(Ve.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let n=0,i=e.length;t&&n<i;++n){const i=t.mapFor(e[n],!1);t=i&&i.get(e[n])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const n=e[0],i=this.mapFor(n,!1),r=i&&i.get(n);r&&(t=r.removeArray(Ve.call(e,1)),r.data||r.weak||r.strong&&r.strong.size||i.delete(n))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let n=t.get(e);return n||t.set(e,n=new We(this.weakness,this.makeData)),n}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}let ze=null;const $e={};let Ke=1;function Ye(e){try{return e()}catch(e){}}const qe="@wry/context:Slot",Qe=Ye((()=>globalThis))||Ye((()=>global))||Object.create(null),Xe=Qe[qe]||Array[qe]||function(e){try{Object.defineProperty(Qe,qe,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",Ke++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=ze;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===$e)break;return e!==ze&&(ze.slots[this.id]=t),!0}return ze&&(ze.slots[this.id]=$e),!1}getValue(){if(this.hasValue())return ze.slots[this.id]}withValue(e,t,n,i){const r={__proto__:null,[this.id]:e},o=ze;ze={parent:o,slots:r};try{return t.apply(i,n)}finally{ze=o}}static bind(e){const t=ze;return function(){const n=ze;try{return ze=t,e.apply(this,arguments)}finally{ze=n}}}static noContext(e,t,n){if(!ze)return e.apply(n,t);{const i=ze;try{return ze=null,e.apply(n,t)}finally{ze=i}}}}),{bind:Je,noContext:Ze}=Xe;const et=new Xe;const{hasOwnProperty:tt}=Object.prototype,nt=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function it(e){const{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}const rt=[];function ot(e,t){if(!e)throw new Error(t||"assertion failure")}function st(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}function at(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function lt(e){return e.slice(0)}class ct{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++ct.count}peek(){if(1===this.value.length&&!ht(this))return ut(this),this.value[0]}recompute(e){return ot(!this.recomputing,"already recomputing"),ut(this),ht(this)?function(e,t){Et(e),et.withValue(e,dt,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{it(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,ht(e))return;ft(e)}(e);return at(e.value)}(this,e):at(this.value)}setDirty(){this.dirty||(this.dirty=!0,pt(this),it(this))}dispose(){this.setDirty(),Et(this),mt(this,((e,t)=>{e.setDirty(),St(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=rt.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(nt(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),rt.push(this.deps),this.deps=null)}}function ut(e){const t=et.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),ht(e)?gt(t,e):vt(t,e),t}function dt(e,t){e.recomputing=!0;const{normalizeResult:n}=e;let i;n&&1===e.value.length&&(i=lt(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&i&&!st(i,e.value))try{e.value[0]=n(e.value[0],i[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function ht(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function pt(e){mt(e,gt)}function ft(e){mt(e,vt)}function mt(e,t){const n=e.parents.size;if(n){const i=nt(e.parents);for(let r=0;r<n;++r)t(i[r],e)}}function gt(e,t){ot(e.childValues.has(t)),ot(ht(t));const n=!ht(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=rt.pop()||new Set;e.dirtyChildren.add(t),n&&pt(e)}function vt(e,t){ot(e.childValues.has(t)),ot(!ht(t));const n=e.childValues.get(t);0===n.length?e.childValues.set(t,lt(t.value)):st(n,t.value)||e.setDirty(),yt(e,t),ht(e)||ft(e)}function yt(e,t){const n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(rt.length<100&&rt.push(n),e.dirtyChildren=null))}function Et(e){e.childValues.size>0&&e.childValues.forEach(((t,n)=>{St(e,n)})),e.forgetDeps(),ot(null===e.dirtyChildren)}function St(e,t){t.parents.delete(e),e.childValues.delete(t),yt(e,t)}ct.count=0;let bt;function _t(...e){return(bt||(bt=new We("function"==typeof WeakMap))).lookupArray(e)}const Ot=new Set;function Tt(e,{max:t=Math.pow(2,16),keyArgs:n,makeCacheKey:i=_t,normalizeResult:r,subscribe:o,cache:s=ae}=Object.create(null)){const a="function"==typeof s?new s(t,(e=>e.dispose())):s,l=function(){const t=i.apply(null,n?n.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let s=a.get(t);s||(a.set(t,s=new ct(e)),s.normalizeResult=r,s.subscribe=o,s.forget=()=>a.delete(t));const l=s.recompute(Array.prototype.slice.call(arguments));return a.set(t,s),Ot.add(a),et.hasValue()||(Ot.forEach((e=>e.clean())),Ot.clear()),l};function c(e){const t=e&&a.get(e);t&&t.setDirty()}function u(e){const t=e&&a.get(e);if(t)return t.peek()}function d(e){return!!e&&a.delete(e)}return Object.defineProperty(l,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:t,keyArgs:n,makeCacheKey:i,normalizeResult:r,subscribe:o,cache:a}),l.dirtyKey=c,l.dirty=function(){c(i.apply(null,arguments))},l.peekKey=u,l.peek=function(){return u(i.apply(null,arguments))},l.forgetKey=d,l.forget=function(){return d(i.apply(null,arguments))},l.makeCacheKey=i,l.getKey=n?function(){return i.apply(null,n.apply(null,arguments))}:i,Object.freeze(l)}var At=Symbol.for("apollo.deprecations"),wt=f,Nt=new Xe;function It(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Nt.withValue.apply(Nt,J([Array.isArray(e)?e:[e]],t,!1))}function Rt(e,t,n,i){void 0===i&&(i="Please remove this option."),kt(t,(function(){t in e&&!1!==globalThis.__DEV__&&y.warn(104,n,t,i)}))}function kt(e,t){(function(e){return wt[At]||(Nt.getValue()||[]).includes(e)})(e)||t()}function Lt(e,t){return t?t(e):z.of()}function Pt(e){return"function"==typeof e?new Mt(e):e}function Dt(e){return e.request.length<=1}var Mt=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return z.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Pt).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,i){var r,o=Pt(n),s=Pt(i||new e(Lt));return r=Dt(o)&&Dt(s)?new e((function(e){return t(e)?o.request(e)||z.of():s.request(e)||z.of()})):new e((function(e,n){return t(e)?o.request(e,n)||z.of():s.request(e,n)||z.of()})),Object.assign(r,{left:o,right:s})},e.execute=function(e,t){return e.request(function(e,t){var n=Y({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=Y(Y({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Y({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?xe(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(t.indexOf(r)<0)throw E(58,r)}return e}(t))))||z.of()},e.concat=function(t,n){var i=Pt(t);if(Dt(i))return!1!==globalThis.__DEV__&&y.warn(47,i),i;var r,o=Pt(n);return r=Dt(o)?new e((function(e){return i.request(e,(function(e){return o.request(e)||z.of()}))||z.of()})):new e((function(e,t){return i.request(e,(function(e){return o.request(e,t)||z.of()}))||z.of()})),Object.assign(r,{left:i,right:o})},e.prototype.split=function(t,n,i){return this.concat(e.split(t,n,i||new e(Lt)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw E(48)},e.prototype.onError=function(e,t){if(!1!==globalThis.__DEV__&&kt("onError",(function(){!1!==globalThis.__DEV__&&y.warn(49)})),t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&y.warn(50),this.onError=e,this},e}(),Ct=n(84705),xt=n(43298);function Ut(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,i=e.name.value;y(n&&1===n.length,107,i);var r=n[0];y(r.name&&"if"===r.name.value,108,i);var o=r.value;y(o&&("Variable"===o.kind||"BooleanValue"===o.kind),109,i),t.push({directive:e,ifArgument:r})}}));return t}(n).every((function(e){var n=e.directive,i=e.ifArgument,r=!1;return"Variable"===i.value.kind?(r=t&&t[i.value.name.value],y(void 0!==r,106,n.name.value)):r=i.value.value,"skip"===n.name.value?!r:r}))}function Ft(e,t,n){var i=new Set(e),r=i.size;return(0,Ct.YR)(t,{Directive:function(e){if(i.delete(e.name.value)&&(!n||!i.size))return Ct.sP}}),n?!i.size:i.size<r}function Ht(e){return e&&Ft(["client","export"],e,!0)}function Gt(e){var t,n,i=null===(t=e.directives)||void 0===t?void 0:t.find((function(e){return"unmask"===e.name.value}));if(!i)return"mask";var r=null===(n=i.arguments)||void 0===n?void 0:n.find((function(e){return"mode"===e.name.value}));return!1!==globalThis.__DEV__&&r&&(r.value.kind===xt.b.VARIABLE?!1!==globalThis.__DEV__&&y.warn(110):r.value.kind!==xt.b.STRING?!1!==globalThis.__DEV__&&y.warn(111):"migrate"!==r.value.value&&!1!==globalThis.__DEV__&&y.warn(112,r.value.value)),r&&"value"in r.value&&"migrate"===r.value.value?"migrate":"unmask"}var Bt=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var i=E(54,t,e.message);throw i.parseError=e,i}return n},Vt="ReactNative"==p((function(){return navigator.product})),jt="function"==typeof WeakMap&&!(Vt&&!global.HermesInternal),Wt="function"==typeof WeakSet,zt="function"==typeof Symbol&&"function"==typeof Symbol.for,$t=zt&&Symbol.asyncIterator;p((function(){return window.document.createElement})),p((function(){return navigator.userAgent.indexOf("jsdom")>=0}));function Kt(e){var t=null,n=null,i=!1,r=[],o=[];function s(e){if(!n){if(o.length){var t=o.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}r.push(e)}}function a(e){n=e,o.slice().forEach((function(t){t[1](e)})),!t||t()}function l(){i=!0,o.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",l),e.removeListener("finish",l),e.removeListener("close",l)},e.on("data",s),e.on("error",a),e.on("end",l),e.on("finish",l),e.on("close",l);var c={next:function(){return new Promise((function(e,t){return n?t(n):r.length?e({value:r.shift(),done:!1}):i?e({value:void 0,done:!0}):void o.push([e,t])}))}};return $t&&(c[Symbol.asyncIterator]=function(){return this}),c}function Yt(e){var t={next:function(){return e.read()}};return $t&&(t[Symbol.asyncIterator]=function(){return this}),t}function qt(e){var t,n,i,r=e;if(e.body&&(r=e.body),function(e){return!(!$t||!e[Symbol.asyncIterator])}(r))return function(e){var t,n=e[Symbol.asyncIterator]();return(t={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},t}(r);if(function(e){return!!e.getReader}(r))return Yt(r.getReader());if(function(e){return!!e.stream}(r))return Yt(r.stream().getReader());if(function(e){return!!e.arrayBuffer}(r))return t=r.arrayBuffer(),n=!1,i={next:function(){return n?Promise.resolve({value:void 0,done:!0}):(n=!0,new Promise((function(e,n){t.then((function(t){e({value:t,done:!1})})).catch(n)})))}},$t&&(i[Symbol.asyncIterator]=function(){return this}),i;if(function(e){return!!e.pipe}(r))return Kt(r);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Qt=function(e,t,n){var i=new Error(n);throw i.name="ServerError",i.response=e,i.statusCode=e.status,i.result=t,i},Xt=Symbol();function Jt(e){return e.hasOwnProperty("graphQLErrors")}var Zt=function(e){function t(n){var i=n.graphQLErrors,r=n.protocolErrors,o=n.clientErrors,s=n.networkError,a=n.errorMessage,l=n.extraInfo,c=e.call(this,a)||this;return c.name="ApolloError",c.graphQLErrors=i||[],c.protocolErrors=r||[],c.clientErrors=o||[],c.networkError=s||null,c.message=a||function(e){var t=J(J(J([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map((function(e){return Z(e)&&e.message||"Error message not found."})).join("\n")}(c),c.extraInfo=l,c.cause=J(J(J([s],i||[],!0),r||[],!0),o||[],!0).find((function(e){return!!e}))||null,c.__proto__=t.prototype,c}return K(t,e),t}(Error),en=Array.isArray;function tn(e){return Array.isArray(e)&&e.length>0}var nn=Object.prototype.hasOwnProperty;function rn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return on(e)}function on(e){var t=e[0]||{},n=e.length;if(n>1)for(var i=new an,r=1;r<n;++r)t=i.merge(t,e[r]);return t}var sn=function(e,t,n){return this.merge(e[n],t[n])},an=function(){function e(e){void 0===e&&(e=sn),this.reconciler=e,this.isObject=Z,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return Z(t)&&Z(e)?(Object.keys(t).forEach((function(r){if(nn.call(e,r)){var o=e[r];if(t[r]!==o){var s=n.reconciler.apply(n,J([e,t,r],i,!1));s!==o&&((e=n.shallowCopyForMerge(e))[r]=s)}}else(e=n.shallowCopyForMerge(e))[r]=t[r]})),e):t},e.prototype.shallowCopyForMerge=function(e){return Z(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):Y({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function ln(e){return"incremental"in e}function cn(e){return Z(e)&&"payload"in e}function un(e,t){var n=e,i=new an;return ln(t)&&tn(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,r=e.path,o=r.length-1;o>=0;--o){var s=r[o],a=!isNaN(+s)?[]:{};a[s]=t,t=a}n=i.merge(n,t)})),n}var dn=Object.prototype.hasOwnProperty;function hn(e){var t={};return e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>-1){var i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();t[i]=r}})),t}function pn(e,t){if(e.status>=300){Qt(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(i){var n=i;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}var fn,mn=n(11751),gn=Object.assign((function(e){var t=fn.get(e);return t||(t=(0,mn.y)(e),fn.set(e,t)),t}),{reset:function(){fn=new ue(pe.print||2e3)}});gn.reset(),!1!==globalThis.__DEV__&&me("print",(function(){return fn?fn.size:0}));var vn={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},yn=function(e,t){return t(e)};function En(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={},o={};n.forEach((function(e){r=Y(Y(Y({},r),e.options),{headers:Y(Y({},r.headers),e.headers)}),e.credentials&&(r.credentials=e.credentials),o=Y(Y({},o),e.http)})),r.headers&&(r.headers=function(e,t){if(!t){var n={};return Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]=e[t]})),n}var i={};Object.keys(Object(e)).forEach((function(t){i[t.toLowerCase()]={originalName:t,value:e[t]}}));var r={};return Object.keys(i).forEach((function(e){r[i[e].originalName]=i[e].value})),r}(r.headers,o.preserveHeaderCase));var s=e.operationName,a=e.extensions,l=e.variables,c=e.query,u={operationName:s,variables:l};return o.includeExtensions&&(u.extensions=a),o.includeQuery&&(u.query=t(c,gn)),{options:r,body:u}}function Sn(e){return new z((function(t){t.error(e)}))}function bn(e,t){var n=t,i=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw E(113,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&i.push(e)})),void 0===n&&(y(1===i.length,114,i.length),n=i[0].name.value),Y(Y({},e),{definitions:J([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function _n(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}var On={kind:xt.b.FIELD,name:{kind:xt.b.NAME,value:"__typename"}};function Tn(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===xt.b.FRAGMENT_SPREAD&&Tn(t[e.name.value],t)}))}function An(e){return Tn(Ce(e)||Fe(e),_n(Ue(e)))?null:e}function wn(e){var t=new Map,n=new Map;return e.forEach((function(e){e&&(e.name?t.set(e.name,e):e.test&&n.set(e.test,e))})),function(e){var i=t.get(e.name.value);return!i&&n.size&&n.forEach((function(t,n){n(e)&&(i=t)})),i}}function Nn(e){var t=new Map;return function(n){void 0===n&&(n=e);var i=t.get(n);return i||t.set(n,i={variables:new Set,fragmentSpreads:new Set}),i}}function In(e,t){Me(t);for(var n=Nn(""),i=Nn(""),r=function(e){for(var t=0,r=void 0;t<e.length&&(r=e[t]);++t)if(!en(r)){if(r.kind===xt.b.OPERATION_DEFINITION)return n(r.name&&r.name.value);if(r.kind===xt.b.FRAGMENT_DEFINITION)return i(r.name.value)}return!1!==globalThis.__DEV__&&y.error(125),null},o=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===xt.b.OPERATION_DEFINITION&&++o;var a=wn(e),l=function(e){return tn(e)&&e.map(a).some((function(e){return e&&e.remove}))},c=new Map,u=!1,d={enter:function(e){if(l(e.directives))return u=!0,null}},h=(0,Ct.YR)(t,{Field:d,InlineFragment:d,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,n,i,o){var s=r(o);s&&s.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,n,i,o){if(l(e.directives))return u=!0,null;var s=r(o);s&&s.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,n,i){c.set(JSON.stringify(i),e)},leave:function(e,t,n,r){return e===c.get(JSON.stringify(r))?e:o>0&&e.selectionSet.selections.every((function(e){return e.kind===xt.b.FIELD&&"__typename"===e.name.value}))?(i(e.name.value).removed=!0,u=!0,null):void 0}},Directive:{leave:function(e){if(a(e))return u=!0,null}}});if(!u)return t;var p=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){p(i(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},f=new Set;h.definitions.forEach((function(e){e.kind===xt.b.OPERATION_DEFINITION?p(n(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){f.add(e)})):e.kind!==xt.b.FRAGMENT_DEFINITION||0!==o||i(e.name.value).removed||f.add(e.name.value)})),f.forEach((function(e){p(i(e)).fragmentSpreads.forEach((function(e){f.add(e)}))}));var m={enter:function(e){if(t=e.name.value,!f.has(t)||i(t).removed)return null;var t}};return An((0,Ct.YR)(h,{FragmentSpread:m,FragmentDefinition:m,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=p(n(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return Y(Y({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}Object.assign((function(e){return(0,Ct.YR)(e,{SelectionSet:{enter:function(e,t,n){if(!n||n.kind!==xt.b.OPERATION_DEFINITION){var i=e.selections;if(i)if(!i.some((function(e){return De(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var r=n;if(!(De(r)&&r.directives&&r.directives.some((function(e){return"export"===e.name.value}))))return Y(Y({},e),{selections:J(J([],i,!0),[On],!1)})}}}}})}),{added:function(e){return e===On}});function Rn(e){return"query"===He(e).operation?e:(0,Ct.YR)(e,{OperationDefinition:{enter:function(e){return Y(Y({},e),{operation:"query"})}}})}function kn(e){return Me(e),In([{test:function(e){return"client"===e.name.value},remove:!0}],e)}function Ln(e){return Me(e),(0,Ct.YR)(e,{FragmentSpread:function(e){var t;if(!(null===(t=e.directives)||void 0===t?void 0:t.some((function(e){return"unmask"===e.name.value}))))return Y(Y({},e),{directives:J(J([],e.directives||[],!0),[{kind:xt.b.DIRECTIVE,name:{kind:xt.b.NAME,value:"nonreactive"}}],!1)})}})}var Pn=p((function(){return fetch})),Dn=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,i=e.fetch,r=e.print,o=void 0===r?yn:r,s=e.includeExtensions,a=e.preserveHeaderCase,l=e.useGETForQueries,c=e.includeUnusedVariables,u=void 0!==c&&c,d=q(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw E(51)}(i||Pn);var h={http:{includeExtensions:s,preserveHeaderCase:a},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new Mt((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")}(e,n),r=e.getContext(),s={};if(r.clientAwareness){var a=r.clientAwareness,c=a.name,d=a.version;c&&(s["apollographql-client-name"]=c),d&&(s["apollographql-client-version"]=d)}var f=Y(Y({},s),r.headers),m={http:r.http,options:r.fetchOptions,credentials:r.credentials,headers:f};if(Ft(["client"],e.query)){!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&y.warn(52);var g=kn(e.query);if(!g)return Sn(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=g}var v,E,S,b,_,O=En(e,o,vn,h,m),T=O.options,A=O.body;A.variables&&!u&&(A.variables=(v=A.variables,E=e.query,S=Y({},v),b=new Set(Object.keys(v)),(0,Ct.YR)(E,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&b.delete(e.name.value)}}),b.forEach((function(e){delete S[e]})),S)),T.signal||"undefined"==typeof AbortController||(_=new AbortController,T.signal=_.signal);var w,N="OperationDefinition"===(w=He(e.query)).kind&&"subscription"===w.operation,I=Ft(["defer"],e.query);if(l&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(T.method="GET"),I||N){T.headers=T.headers||{};var R="multipart/mixed;";N&&I&&!1!==globalThis.__DEV__&&y.warn(53),N?R+="boundary=graphql;subscriptionSpec=1.0,application/json":I&&(R+="deferSpec=20220824,application/json"),T.headers.accept=R}if("GET"===T.method){var k=function(e,t){var n=[],i=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&i("query",t.query),t.operationName&&i("operationName",t.operationName),t.variables){var r=void 0;try{r=Bt(t.variables,"Variables map")}catch(e){return{parseError:e}}i("variables",r)}if(t.extensions){var o=void 0;try{o=Bt(t.extensions,"Extensions map")}catch(e){return{parseError:e}}i("extensions",o)}var s="",a=e,l=e.indexOf("#");-1!==l&&(s=e.substr(l),a=e.substr(0,l));var c=-1===a.indexOf("?")?"?":"&";return{newURI:a+c+n.join("&")+s}}(t,A),L=k.newURI,P=k.parseError;if(P)return Sn(P);t=L}else try{T.body=Bt(A,"Payload")}catch(P){return Sn(P)}return new z((function(n){var r=i||p((function(){return fetch}))||Pn,o=n.next.bind(n);return r(t,T).then((function(t){var n;e.setContext({response:t});var i,r=null===(n=t.headers)||void 0===n?void 0:n.get("content-type");return null!==r&&/^multipart\/mixed/i.test(r)?function(e,t){return Q(this,void 0,void 0,(function(){var n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,E,S,b,_,O,T,A;return X(this,(function(w){switch(w.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),i=null===(A=e.headers)||void 0===A?void 0:A.get("content-type"),r="boundary=",o=(null==i?void 0:i.includes(r))?null==i?void 0:i.substring((null==i?void 0:i.indexOf(r))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s="\r\n--".concat(o),a="",l=qt(e),c=!0,w.label=1;case 1:return c?[4,l.next()]:[3,3];case 2:for(u=w.sent(),d=u.value,h=u.done,p="string"==typeof d?d:n.decode(d),f=a.length-s.length+1,c=!h,m=(a+=p).indexOf(s,f);m>-1;){if(g=void 0,O=[a.slice(0,m),a.slice(m+s.length)],a=O[1],v=(g=O[0]).indexOf("\r\n\r\n"),y=hn(g.slice(0,v)),(E=y["content-type"])&&-1===E.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(S=g.slice(v))if(b=pn(e,S),Object.keys(b).length>1||"data"in b||"incremental"in b||"errors"in b||"payload"in b)if(cn(b)){if(_={},"payload"in b){if(1===Object.keys(b).length&&null===b.payload)return[2];_=Y({},b.payload)}"errors"in b&&(_=Y(Y({},_),{extensions:Y(Y({},"extensions"in _?_.extensions:null),(T={},T[Xt]=b.errors,T))})),t(_)}else t(b);else if(1===Object.keys(b).length&&"hasNext"in b&&!b.hasNext)return[2];m=a.indexOf(s)}return[3,1];case 3:return[2]}}))}))}(t,o):(i=e,function(e){return e.text().then((function(t){return pn(e,t)})).then((function(t){return Array.isArray(t)||dn.call(t,"data")||dn.call(t,"errors")||Qt(e,t,"Server response was missing for query '".concat(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName,"'.")),t}))})(t).then(o)})).then((function(){_=void 0,n.complete()})).catch((function(e){_=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,n)})),function(){_&&_.abort()}}))}))},Mn=Mt.execute,Cn=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Dn(t).request)||this;return n.options=t,n}return K(t,e),t}(Mt);const{toString:xn,hasOwnProperty:Un}=Object.prototype,Fn=Function.prototype.toString,Hn=new Map;function Gn(e,t){try{return Vn(e,t)}finally{Hn.clear()}}const Bn=Gn;function Vn(e,t){if(e===t)return!0;const n=xn.call(e);if(n!==xn.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if($n(e,t))return!0;const n=jn(e),i=jn(t),r=n.length;if(r!==i.length)return!1;for(let e=0;e<r;++e)if(!Un.call(t,n[e]))return!1;for(let i=0;i<r;++i){const r=n[i];if(!Vn(e[r],t[r]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if($n(e,t))return!0;const i=e.entries(),r="[object Map]"===n;for(;;){const e=i.next();if(e.done)break;const[n,o]=e.value;if(!t.has(n))return!1;if(r&&!Vn(o,t.get(n)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let n=e.byteLength;if(n===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const n=Fn.call(e);return n===Fn.call(t)&&!function(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(n,zn)}}return!1}function jn(e){return Object.keys(e).filter(Wn,e)}function Wn(e){return void 0!==this[e]}const zn="{ [native code] }";function $n(e,t){let n=Hn.get(e);if(n){if(n.has(t))return!0}else Hn.set(e,n=new Set);return n.add(t),!1}function Kn(e){return e}var Yn=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=Wt?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(Kn,{cache:!1})},e.split=function(t,n,i){return void 0===i&&(i=e.identity()),Object.assign(new e((function(e){return(t(e)?n:i).transformDocument(e)}),{cache:!1}),{left:n,right:i})},e.prototype.resetCache=function(){var t=this;if(this.cached){var n=new We(jt);this.performWork=Tt(e.prototype.performWork.bind(this),{makeCacheKey:function(e){var i=t.getCacheKey(e);if(i)return y(Array.isArray(i),105),n.lookupArray(i)},max:pe["documentTransform.cache"],cache:oe})}},e.prototype.performWork=function(e){return Me(e),this.transform(e)},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},e.prototype.concat=function(t){var n=this;return Object.assign(new e((function(e){return t.transformDocument(n.transformDocument(e))}),{cache:!1}),{left:this,right:t})},e}();function qn(e,t,n){return new z((function(i){var r={then:function(e){return new Promise((function(t){return t(e())}))}};function o(e,t){return function(n){if(e){var o=function(){return i.closed?0:e(n)};r=r.then(o,o).then((function(e){return i.next(e)}),(function(e){return i.error(e)}))}else i[t](n)}}var s={next:o(t,"next"),error:o(n,"error"),complete:function(){r.then((function(){return i.complete()}))}},a=e.subscribe(s);return function(){return a.unsubscribe()}}))}function Qn(e){return tn(Xn(e))}function Xn(e){var t=tn(e.errors)?e.errors.slice(0):[];return ln(e)&&tn(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}function Jn(e,t,n){var i=[];e.forEach((function(e){return e[t]&&i.push(e)})),i.forEach((function(e){return e[t](n)}))}function Zn(e){function t(t){Object.defineProperty(e,t,{value:z})}return zt&&Symbol.species&&t(Symbol.species),t("@@species"),e}function ei(e){return e&&"function"==typeof e.then}var ti,ni=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],n.notify("next",e),Jn(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),n.notify("error",e),Jn(n.observers,"error",e))},complete:function(){var e=n,t=e.sub,i=e.sources;if(null!==t){var r=(void 0===i?[]:i).shift();r?ei(r)?r.then((function(e){return n.sub=e.subscribe(n.handlers)}),n.handlers.error):n.sub=r.subscribe(n.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),Jn(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.error(e)},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new z(t)]),ei(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return K(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach((function(n){return n(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(n,i){t||(t=!0,e(n,i))}))},t}(z);function ii(e){return!!e&&e<7}function ri(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var i=e[t];void 0!==i&&(n[t]=i)}))})),n}Zn(ni),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(ti||(ti={}));var oi=Object.prototype.toString;function si(e){return ai(e)}function ai(e,t){switch(oi.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,i){n[i]=ai(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach((function(n){i[n]=ai(e[n],t)})),i;default:return e}}function li(e,t,n,i){var r=t.data,o=q(t,["data"]),s=n.data,a=q(n,["data"]);return Bn(o,a)&&ci(He(e).selectionSet,r,s,{fragmentMap:_n(Ue(e)),variables:i})}function ci(e,t,n,i){if(t===n)return!0;var r=new Set;return e.selections.every((function(e){if(r.has(e))return!0;if(r.add(e),!Ut(e,i.variables))return!0;if(ui(e))return!0;if(De(e)){var o=Pe(e),s=t&&t[o],a=n&&n[o],l=e.selectionSet;if(!l)return Bn(s,a);var c=Array.isArray(s),u=Array.isArray(a);if(c!==u)return!1;if(c&&u){var d=s.length;if(a.length!==d)return!1;for(var h=0;h<d;++h)if(!ci(l,s[h],a[h],i))return!1;return!0}return ci(l,s,a,i)}var p=function(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=e.name.value;if("function"==typeof t)return t(n);var i=t&&t[n];return y(i,115,n),i||null;default:return null}}(e,i.fragmentMap);return p?!!ui(p)||ci(p.selectionSet,t,n,i):void 0}))}function ui(e){return!!e.directives&&e.directives.some(di)}function di(e){return"nonreactive"===e.name.value}var hi=Object.assign,pi=Object.hasOwnProperty,fi=function(e){function t(n){var i=n.queryManager,r=n.queryInfo,o=n.options,s=this,a=t.inactiveOnCreation.getValue();(s=e.call(this,(function(e){s._getOrCreateQuery();try{var t=e._subscription._observer;t&&!t.error&&(t.error=mi)}catch(e){}var n=!s.observers.size;s.observers.add(e);var i=s.last;return i&&i.error?e.error&&e.error(i.error):i&&i.result&&e.next&&e.next(s.maskResult(i.result)),n&&s.reobserve().catch((function(){})),function(){s.observers.delete(e)&&!s.observers.size&&s.tearDownQuery()}}))||this).observers=new Set,s.subscriptions=new Set,s.dirty=!1,s._getOrCreateQuery=function(){return a&&(i.queries.set(s.queryId,r),a=!1),s.queryManager.getOrCreateQuery(s.queryId)},s.queryInfo=r,s.queryManager=i,s.waitForOwnResult=vi(o.fetchPolicy),s.isTornDown=!1,s.subscribeToMore=s.subscribeToMore.bind(s),s.maskResult=s.maskResult.bind(s);var l=i.defaultOptions.watchQuery,c=(void 0===l?{}:l).fetchPolicy,u=void 0===c?"cache-first":c,d=o.fetchPolicy,h=void 0===d?u:d,p=o.initialFetchPolicy,f=void 0===p?"standby"===h?u:h:p;s.options=Y(Y({},o),{initialFetchPolicy:f,fetchPolicy:h}),s.queryId=r.queryId||i.generateQueryId();var m=Ce(s.query);return s.queryName=m&&m.name&&m.name.value,s}return K(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return!1!==globalThis.__DEV__&&kt("observableQuery.result",(function(){!1!==globalThis.__DEV__&&y.warn(23)})),new Promise((function(t,n){var i={next:function(n){t(n),e.observers.delete(i),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){r.unsubscribe()}),0)},error:n},r=e.subscribe(i)}))},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentFullResult=function(e){var t=this;void 0===e&&(e=!0);var n=It("getLastResult",(function(){return t.getLastResult(!0)})),i=this.queryInfo.networkStatus||n&&n.networkStatus||ti.ready,r=Y(Y({},n),{loading:ii(i),networkStatus:i}),o=this.options.fetchPolicy,s=void 0===o?"cache-first":o;if(vi(s)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(r.data=a.result),Gn(r.data,{})&&(r.data=void 0),a.complete?(delete r.partial,!a.complete||r.networkStatus!==ti.loading||"cache-first"!==s&&"cache-only"!==s||(r.networkStatus=ti.ready,r.loading=!1)):r.partial=!0,r.networkStatus===ti.ready&&(r.error||r.errors)&&(r.networkStatus=ti.error),!1===globalThis.__DEV__||a.complete||this.options.partialRefetch||r.loading||r.data||r.error||gi(a.missing)}return e&&this.updateLastResult(r),r},t.prototype.getCurrentResult=function(e){return void 0===e&&(e=!0),this.maskResult(this.getCurrentFullResult(e))},t.prototype.isDifferentFromLastResult=function(e,t){if(!this.last)return!0;var n=this.queryManager.getDocumentInfo(this.query),i=this.queryManager.dataMasking,r=i?n.nonReactiveQuery:this.query;return(i||n.hasNonreactiveDirective?!li(r,this.last.result,e,this.variables):!Gn(this.last.result,e))||t&&!Gn(this.last.variables,t)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||Gn(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return!1!==globalThis.__DEV__&&kt("getLastResult",(function(){!1!==globalThis.__DEV__&&y.warn(24)})),this.getLast("result",e)},t.prototype.getLastError=function(e){return!1!==globalThis.__DEV__&&kt("getLastError",(function(){!1!==globalThis.__DEV__&&y.warn(25)})),this.getLast("error",e)},t.prototype.resetLastResults=function(){!1!==globalThis.__DEV__&&kt("resetLastResults",(function(){!1!==globalThis.__DEV__&&y.warn(26)})),delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&y.warn(27),this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},i=this.options.fetchPolicy;if(n.fetchPolicy="no-cache"===i?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&pi.call(e,"variables")){var r=function(e){var t=Ce(e);return y(t&&"query"===t.operation,119),t}(this.query),o=r.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&y.warn(28,e,(null===(t=r.name)||void 0===t?void 0:t.value)||r)}return e&&!Gn(this.options.variables,e)&&(n.variables=this.options.variables=Y(Y({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,ti.refetch)},t.prototype.fetchMore=function(e){var t=this,n=Y(Y({},e.query?e:Y(Y(Y(Y({},this.options),{query:this.options.query}),e),{variables:Y(Y({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});n.query=this.transformDocument(n.query);var i=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):n.query;var r=this.queryInfo,o=r.networkStatus;r.networkStatus=ti.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var s=new Set,a=null==e?void 0:e.updateQuery,l="no-cache"!==this.options.fetchPolicy;return l||y(a,29),this.queryManager.fetchQuery(i,n,ti.fetchMore).then((function(c){if(t.queryManager.removeQuery(i),r.networkStatus===ti.fetchMore&&(r.networkStatus=o),l)t.queryManager.cache.batch({update:function(i){var r=e.updateQuery;r?i.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return r(e,{fetchMoreResult:c.data,variables:n.variables})})):i.writeQuery({query:n.query,variables:n.variables,data:c.data})},onWatchUpdated:function(e){s.add(e.query)}});else{var u=t.getLast("result"),d=a(u.data,{fetchMoreResult:c.data,variables:n.variables});t.reportResult(Y(Y({},u),{networkStatus:o,loading:ii(o),data:d}),t.variables)}return t.maskResult(c)})).finally((function(){l&&!s.has(t.query)&&t.reobserveCacheFirst()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var i=e.updateQuery;i&&t.updateQuery((function(e,t){return i(e,Y({subscriptionData:n},t))}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&y.error(30,t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return!1!==globalThis.__DEV__&&(Rt(e,"canonizeResults","setOptions"),kt("setOptions",(function(){!1!==globalThis.__DEV__&&y.warn(31)}))),this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=ri(this.options,e||{});hi(this.options,t)},t.prototype.setVariables=function(e){var t=this;return Gn(this.variables,e)?this.observers.size?It("observableQuery.result",(function(){return t.result()})):Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},ti.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),i=n.result,r=n.complete,o=e(i,{variables:this.variables,complete:!!r,previousData:i});o&&(t.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,i=void 0===n?"cache-first":n,r=t.initialFetchPolicy,o=void 0===r?i:r;"standby"===i||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(i,{reason:e,options:t,observable:this,initialFetchPolicy:o}):t.fetchPolicy="variables-changed"===e?o:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,n){var i=this._getOrCreateQuery();return i.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(i,e,t,n)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n&&this.hasObservers()){if(!t||t.interval!==n){y(n,32),(t||(this.pollingInfo={})).interval=n;var i=function(){var t,n;e.pollingInfo&&(ii(e.queryInfo.networkStatus)||(null===(n=(t=e.options).skipPollAttempt)||void 0===n?void 0:n.call(t))?r():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},ti.poll).then(r,r))},r=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(i,t.interval))};r()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){var n=this;void 0===t&&(t=this.variables);var i=It("getLastError",(function(){return n.getLastError()}));return i&&this.last&&!Gn(t,this.last.variables)&&(i=void 0),this.last=Y({result:this.queryManager.assumeImmutableResults?e:si(e),variables:t},i?{error:i}:null)},t.prototype.reobserveAsConcast=function(e,t){var n=this;this.isTornDown=!1;var i=t===ti.refetch||t===ti.fetchMore||t===ti.poll,r=this.options.variables,o=this.options.fetchPolicy,s=ri(this.options,e||{}),a=i?s:hi(this.options,s),l=this.transformDocument(a.query);this.lastQuery=l,i||(this.updatePolling(),!e||!e.variables||Gn(e.variables,r)||"standby"===a.fetchPolicy||a.fetchPolicy!==o&&"function"!=typeof a.nextFetchPolicy||(this.applyNextFetchPolicy("variables-changed",a),void 0===t&&(t=ti.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=vi(a.fetchPolicy));var c=function(){n.concast===h&&(n.waitForOwnResult=!1)},u=a.variables&&Y({},a.variables),d=this.fetch(a,t,l),h=d.concast,p=d.fromLink,f={next:function(e){Gn(n.variables,u)&&(c(),n.reportResult(e,u))},error:function(e){Gn(n.variables,u)&&(Jt(e)||(e=new Zt({networkError:e})),c(),n.reportError(e,u))}};return i||!p&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=f),h.addObserver(f),h},t.prototype.reobserve=function(e,t){return(n=this.reobserveAsConcast(e,t).promise.then(this.maskResult)).catch((function(){})),n;var n},t.prototype.resubscribeAfterError=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.last;It("resetLastResults",(function(){return e.resetLastResults()}));var r=this.subscribe.apply(this,t);return this.last=i,r},t.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this,i=It("getLastError",(function(){return n.getLastError()})),r=this.isDifferentFromLastResult(e,t);(i||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(i||r)&&Jn(this.observers,"next",this.maskResult(e))},t.prototype.reportError=function(e,t){var n=this,i=Y(Y({},It("getLastResult",(function(){return n.getLastResult()}))),{error:e,errors:e.graphQLErrors,networkStatus:ti.error,loading:!1});this.updateLastResult(i,t),Jn(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t.prototype.maskResult=function(e){return e&&"data"in e?Y(Y({},e),{data:this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):e},t.prototype.resetNotifications=function(){this.cancelNotifyTimeout(),this.dirty=!1},t.prototype.cancelNotifyTimeout=function(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0)},t.prototype.scheduleNotify=function(){var e=this;this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return e.notify()}),0)))},t.prototype.notify=function(){(this.cancelNotifyTimeout(),this.dirty)&&("cache-only"!=this.options.fetchPolicy&&"cache-and-network"!=this.options.fetchPolicy&&ii(this.queryInfo.networkStatus)||(this.queryInfo.getDiff().fromOptimisticTransaction?this.observe():this.reobserveCacheFirst()));this.dirty=!1},t.prototype.reobserveCacheFirst=function(){var e=this.options,t=e.fetchPolicy,n=e.nextFetchPolicy;return"cache-and-network"===t||"network-only"===t?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,i){return this.nextFetchPolicy=n,"function"==typeof this.nextFetchPolicy?this.nextFetchPolicy(e,i):t}}):this.reobserve()},t.inactiveOnCreation=new Xe,t}(z);function mi(e){!1!==globalThis.__DEV__&&y.error(33,e.message,e.stack)}function gi(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&y.debug(34,e)}function vi(e){return"network-only"===e||"no-cache"===e||"standby"===e}Zn(fi);var yi=new(jt?WeakMap:Map);function Ei(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return yi.set(e,(yi.get(e)+1)%1e15),n.apply(this,arguments)})}var Si=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.document=null,this.lastRequestId=1,this.stopped=!1,this.observableQuery=null;var n=this.cache=e.cache;yi.has(n)||(yi.set(n,0),Ei(n,"evict"),Ei(n,"modify"),Ei(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||ti.loading;return this.variables&&this.networkStatus!==ti.loading&&!Gn(this.variables,e.variables)&&(t=ti.setVariables),Gn(e.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var e=this,t=this.getDiffOptions();if(this.lastDiff&&Gn(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var i=It("canonizeResults",(function(){return e.cache.diff(t)}));return this.updateLastDiff(i,t),i},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t,n=this,i=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&It("getLastError",(function(){var e;return null===(e=n.observableQuery)||void 0===e?void 0:e.getLastError()}))||(this.updateLastDiff(e),Gn(i&&i.result,e&&e.result)||null===(t=this.observableQuery)||void 0===t||t.scheduleNotify())},e.prototype.setObservableQuery=function(e){e!==this.observableQuery&&(this.observableQuery=e,e&&(e.queryInfo=this))},e.prototype.stop=function(){var e;if(!this.stopped){this.stopped=!0,null===(e=this.observableQuery)||void 0===e||e.resetNotifications(),this.cancel();var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){var e;null===(e=this.cancelWatch)||void 0===e||e.call(this),this.cancelWatch=void 0},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var i=Y(Y({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&Gn(i,this.lastWatch)||(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=i))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===yi.get(this.cache)&&Gn(t,n.variables)&&Gn(e.data,n.result.data))},e.prototype.markResult=function(e,t,n,i){var r,o=this,s=new an,a=tn(e.errors)?e.errors.slice(0):[];if(null===(r=this.observableQuery)||void 0===r||r.resetNotifications(),"incremental"in e&&tn(e.incremental)){var l=un(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=s.merge(c.result,e.data)}this.graphQLErrors=a,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==i&&(bi(e,n.errorPolicy)?this.cache.performTransaction((function(r){if(o.shouldWrite(e,n.variables))r.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:1===i}),o.lastWrite={result:e,variables:n.variables,dmCount:yi.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete)return void(e.data=o.lastDiff.diff.result);var s=o.getDiffOptions(n.variables),a=It("canonizeResults",(function(){return r.diff(s)}));!o.stopped&&Gn(o.variables,n.variables)&&o.updateWatch(n.variables),o.updateLastDiff(a,s),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=ti.ready},e.prototype.markError=function(e){var t;return this.networkStatus=ti.error,this.lastWrite=void 0,null===(t=this.observableQuery)||void 0===t||t.resetNotifications(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function bi(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,i=!Qn(e);return!i&&n&&e.data&&(i=!0),i}function _i(e){var t=new Set([e]);return t.forEach((function(e){Z(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){Z(e[n])&&t.add(e[n])}))})),e}var Oi=jt?WeakMap:Map,Ti=Wt?WeakSet:Set,Ai=new Xe,wi=!1;function Ni(){wi||(wi=!0,!1!==globalThis.__DEV__&&y.warn(64))}function Ii(e,t,n){return Ai.withValue(!0,(function(){var i,r=Ri(e,t,n,!1);return Object.isFrozen(e)&&(i=r,!1!==globalThis.__DEV__&&_i(i)),r}))}function Ri(e,t,n,i,r){var o,s=n.knownChanged,a=function(e,t){if(t.has(e))return t.get(e);var n=Array.isArray(e)?[]:Object.create(null);return t.set(e,n),n}(e,n.mutableTargets);if(Array.isArray(e)){for(var l=0,c=Array.from(e.entries());l<c.length;l++){var u=c[l],d=u[0],h=u[1];if(null!==h){var p=Ri(h,t,n,i,!1!==globalThis.__DEV__?"".concat(r||"","[").concat(d,"]"):void 0);s.has(p)&&s.add(a),a[d]=p}else a[d]=null}return s.has(a)?a:e}for(var f=0,m=t.selections;f<m.length;f++){var g=m[f],v=void 0;if(i&&s.add(a),g.kind===xt.b.FIELD){var E=Pe(g),S=g.selectionSet;if(void 0===(v=a[E]||e[E]))continue;if(S&&null!==v){p=Ri(e[E],S,n,i,!1!==globalThis.__DEV__?"".concat(r||"",".").concat(E):void 0);s.has(p)&&(v=p)}!1===globalThis.__DEV__&&(a[E]=v),!1!==globalThis.__DEV__&&(i&&"__typename"!==E&&!(null===(o=Object.getOwnPropertyDescriptor(a,E))||void 0===o?void 0:o.value)?Object.defineProperty(a,E,ki(E,v,r||"",n.operationName,n.operationType)):(delete a[E],a[E]=v))}if(g.kind!==xt.b.INLINE_FRAGMENT||g.typeCondition&&!n.cache.fragmentMatches(g,e.__typename)||(v=Ri(e,g.selectionSet,n,i,r)),g.kind===xt.b.FRAGMENT_SPREAD){var b=g.name.value,_=n.fragmentMap[b]||(n.fragmentMap[b]=n.cache.lookupFragment(b));y(_,59,b);var O=Gt(g);"mask"!==O&&(v=Ri(e,_.selectionSet,n,"migrate"===O,r))}s.has(v)&&s.add(a)}return"__typename"in e&&!("__typename"in a)&&(a.__typename=e.__typename),Object.keys(a).length!==Object.keys(e).length&&s.add(a),s.has(a)?a:e}function ki(e,t,n,i,r){var o=function(){return Ai.getValue()||(!1!==globalThis.__DEV__&&y.warn(60,i?"".concat(r," '").concat(i,"'"):"anonymous ".concat(r),"".concat(n,".").concat(e).replace(/^\./,"")),o=function(){return t}),t};return{get:function(){return o()},set:function(e){o=function(){return e}},enumerable:!0,configurable:!0}}function Li(e,t,n,i){if(!n.fragmentMatches)return!1!==globalThis.__DEV__&&Ni(),e;var r=t.definitions.filter((function(e){return e.kind===xt.b.FRAGMENT_DEFINITION}));void 0===i&&(y(1===r.length,61,r.length),i=r[0].name.value);var o=r.find((function(e){return e.name.value===i}));return y(!!o,62,i),null==e||Bn(e,{})?e:Ii(e,o.selectionSet,{operationType:"fragment",operationName:o.name.value,fragmentMap:_n(Ue(t)),cache:n,mutableTargets:new Oi,knownChanged:new Ti})}var Pi=Object.prototype.hasOwnProperty,Di=Object.create(null),Mi=function(){function e(e){var t=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new ue(pe["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new We(!1),this.noCacheWarningsByQueryId=new Set;var n=new Yn((function(e){return t.cache.transformDocument(e)}),{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking;var i=e.documentTransform;this.documentTransform=i?n.concat(i).concat(n):n,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(E(35))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){return Q(this,arguments,void 0,(function(e){var t,n,i,r,o,s,a,l=e.mutation,c=e.variables,u=e.optimisticResponse,d=e.updateQueries,h=e.refetchQueries,p=void 0===h?[]:h,f=e.awaitRefetchQueries,m=void 0!==f&&f,g=e.update,v=e.onQueryUpdated,E=e.fetchPolicy,S=void 0===E?(null===(s=this.defaultOptions.mutate)||void 0===s?void 0:s.fetchPolicy)||"network-only":E,b=e.errorPolicy,_=void 0===b?(null===(a=this.defaultOptions.mutate)||void 0===a?void 0:a.errorPolicy)||"none":b,O=e.keepRootFields,T=e.context;return X(this,(function(e){switch(e.label){case 0:return y(l,36),y("network-only"===S||"no-cache"===S,37),t=this.generateMutationId(),l=this.cache.transformForLink(this.transform(l)),n=this.getDocumentInfo(l).hasClientExports,c=this.getVariables(l,c),n?[4,this.localState.addExportedVariables(l,c,T)]:[3,2];case 1:c=e.sent(),e.label=2;case 2:return i=this.mutationStore&&(this.mutationStore[t]={mutation:l,variables:c,loading:!0,error:null}),r=u&&this.markMutationOptimistic(u,{mutationId:t,document:l,variables:c,fetchPolicy:S,errorPolicy:_,context:T,updateQueries:d,update:g,keepRootFields:O}),this.broadcastQueries(),o=this,[2,new Promise((function(e,n){return qn(o.getObservableFromLink(l,Y(Y({},T),{optimisticResponse:r?u:void 0}),c,{},!1),(function(e){if(Qn(e)&&"none"===_)throw new Zt({graphQLErrors:Xn(e)});i&&(i.loading=!1,i.error=null);var n=Y({},e);return"function"==typeof p&&(p=p(n)),"ignore"===_&&Qn(n)&&delete n.errors,o.markMutationResult({mutationId:t,result:n,document:l,variables:c,fetchPolicy:S,errorPolicy:_,context:T,update:g,updateQueries:d,awaitRefetchQueries:m,refetchQueries:p,removeOptimistic:r?t:void 0,onQueryUpdated:v,keepRootFields:O})})).subscribe({next:function(n){o.broadcastQueries(),"hasNext"in n&&!1!==n.hasNext||e(Y(Y({},n),{data:o.maskOperation({document:l,data:n.data,fetchPolicy:S,id:t})}))},error:function(e){i&&(i.loading=!1,i.error=e),r&&o.cache.removeOptimistic(t),o.broadcastQueries(),n(e instanceof Zt?e:new Zt({networkError:e}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var i=e.result,r=[],o="no-cache"===e.fetchPolicy;if(!o&&bi(i,e.errorPolicy)){if(ln(i)||r.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),ln(i)&&tn(i.incremental)){var s=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),a=void 0;s.result&&(a=un(s.result,i)),void 0!==a&&(i.data=a,r.push({result:a,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var l=e.updateQueries;l&&this.queries.forEach((function(e,o){var s=e.observableQuery,a=s&&s.queryName;if(a&&Pi.call(l,a)){var c=l[a],u=n.queries.get(o),d=u.document,h=u.variables,p=t.diff({query:d,variables:h,returnPartialData:!0,optimistic:!1}),f=p.result;if(p.complete&&f){var m=c(f,{mutationResult:i,queryName:d&&xe(d)||void 0,queryVariables:h});m&&r.push({result:m,dataId:"ROOT_QUERY",query:d,variables:h})}}}))}if(r.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(t){o||r.forEach((function(e){return t.write(e)}));var s,a=e.update,l=!(ln(s=i)||function(e){return"hasNext"in e&&"data"in e}(s))||ln(i)&&!i.hasNext;if(a){if(!o){var c=t.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});c.complete&&("incremental"in(i=Y(Y({},i),{data:c.result}))&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}l&&a(t,i,{context:e.context,variables:e.variables})}o||e.keepRootFields||!l||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,i=t.DELETE;return"__typename"===n?e:i}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return c.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then((function(){return i}))}return Promise.resolve(i)},e.prototype.markMutationOptimistic=function(e,t){var n=this,i="function"==typeof e?e(t.variables,{IGNORE:Di}):e;return i!==Di&&(this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(Y(Y({},t),{result:{data:i}}),e)}catch(e){!1!==globalThis.__DEV__&&y.error(e)}}),t.mutationId),!0)},e.prototype.fetchQuery=function(e,t,n){return this.fetchConcastWithInfo(this.getOrCreateQuery(e),t,n).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t,n,i,r=this.transformCache;if(!r.has(e)){var o={hasClientExports:Ht(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:Ft(["nonreactive"],e),nonReactiveQuery:Ln(e),clientQuery:this.localState.clientQuery(e),serverQuery:In([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),defaultVars:(t=Ce(e),n=Object.create(null),i=t&&t.variableDefinitions,i&&i.length&&i.forEach((function(e){e.defaultValue&&Ie(n,e.variable.name,e.defaultValue)})),n),asQuery:Y(Y({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?Y(Y({},e),{operation:"query"}):e}))})};r.set(e,o)}return r.get(e)},e.prototype.getVariables=function(e,t){return Y(Y({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=Y(Y({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=new Si(this),i=new fi({queryManager:this,queryInfo:n,options:e});return i.lastQuery=t,fi.inactiveOnCreation.getValue()||this.queries.set(i.queryId,n),n.init({document:t,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(e,t){var n=this;void 0===t&&(t=this.generateQueryId()),y(e.query,38),y("Document"===e.query.kind,39),y(!e.returnPartialData,40),y(!e.pollInterval,41);var i=this.transform(e.query);return this.fetchQuery(t,Y(Y({},e),{query:i})).then((function(r){return r&&Y(Y({},r),{data:n.maskOperation({document:i,data:r.data,fetchPolicy:e.fetchPolicy,id:t})})})).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(E(42)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=ti.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,i=new Map,r=new Map,o=new Set;return Array.isArray(e)&&e.forEach((function(e){if("string"==typeof e)i.set(e,e),r.set(e,!1);else if(Z(s=e)&&"Document"===s.kind&&Array.isArray(s.definitions)){var n=gn(t.transform(e));i.set(n,xe(e)),r.set(n,!1)}else Z(e)&&e.query&&o.add(e);var s})),this.queries.forEach((function(t,i){var o=t.observableQuery,s=t.document;if(o){if("all"===e)return void n.set(i,o);var a=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||a&&r.has(a)||s&&r.has(gn(s)))&&(n.set(i,o),a&&r.set(a,!0),s&&r.set(gn(s),!0))}})),o.size&&o.forEach((function(e){var i=g("legacyOneTimeQuery"),r=t.getOrCreateQuery(i).init({document:e.query,variables:e.variables}),o=new fi({queryManager:t,queryInfo:r,options:Y(Y({},e),{fetchPolicy:"network-only"})});y(o.queryId===i),r.setObservableQuery(o),n.set(i,o)})),!1!==globalThis.__DEV__&&r.size&&r.forEach((function(e,t){if(!e){var n=i.get(t);n?!1!==globalThis.__DEV__&&y.warn(43,n):!1!==globalThis.__DEV__&&y.warn(44)}})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(i,r){var o=i.options.fetchPolicy;It("resetLastResults",(function(){return i.resetLastResults()})),(e||"standby"!==o&&"cache-only"!==o)&&n.push(i.refetch()),(t.queries.get(r)||i.queryInfo).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,i=e.variables,r=e.fetchPolicy,o=e.errorPolicy,s=void 0===o?"none":o,a=e.context,l=void 0===a?{}:a,c=e.extensions,u=void 0===c?{}:c;n=this.transform(n),i=this.getVariables(n,i);var d=function(e){return t.getObservableFromLink(n,l,e,u).map((function(i){"no-cache"!==r&&(bi(i,s)&&t.cache.write({query:n,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var o=Qn(i),a=function(e){return!!e.extensions&&Array.isArray(e.extensions[Xt])}(i);if(o||a){var l={};if(o&&(l.graphQLErrors=i.errors),a&&(l.protocolErrors=i.extensions[Xt]),"none"===s||a)throw new Zt(l)}return"ignore"===s&&delete i.errors,i}))};if(this.getDocumentInfo(n).hasClientExports){var h=this.localState.addExportedVariables(n,i,l).then(d);return new z((function(e){var t=null;return h.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return d(i)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){var t;this.fetchCancelFns.delete(e),this.queries.has(e)&&(null===(t=this.queries.get(e))||void 0===t||t.stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){var t;return null===(t=e.observableQuery)||void 0===t?void 0:t.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,i,r){var o,s,a=this;void 0===r&&(r=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var l=this.getDocumentInfo(e),c=l.serverQuery,u=l.clientQuery;if(c){var d=this.inFlightLinkObservables,h=this.link,p={query:c,variables:n,operationName:xe(c)||void 0,context:this.prepareContext(Y(Y({},t),{forceFetch:!r})),extensions:i};if(t=p.context,r){var f=gn(c),m=Ae(n),g=d.lookup(f,m);if(!(s=g.observable)){var v=new ni([Mn(h,p)]);s=g.observable=v,v.beforeNext((function e(t,n){"next"===t&&"hasNext"in n&&n.hasNext?v.beforeNext(e):d.remove(f,m)}))}}else s=new ni([Mn(h,p)])}else s=new ni([z.of({data:{}})]),t=this.prepareContext(t);return u&&(s=qn(s,(function(e){return a.localState.runResolvers({document:u,remoteResult:e,context:t,variables:n})}))),s},e.prototype.getResultsFromLink=function(e,t,n){var i=e.lastRequestId=this.generateRequestId(),r=this.cache.transformForLink(n.query);return qn(this.getObservableFromLink(r,n.context,n.variables),(function(o){var s=Xn(o),a=s.length>0,l=n.errorPolicy;if(i>=e.lastRequestId){if(a&&"none"===l)throw e.markError(new Zt({graphQLErrors:s}));e.markResult(o,r,n,t),e.markReady()}var c={data:o.data,loading:!1,networkStatus:ti.ready};return a&&"none"===l&&(c.data=void 0),a&&"ignore"!==l&&(c.errors=s,c.networkStatus=ti.error),c}),(function(t){var n=Jt(t)?t:new Zt({networkError:t});throw i>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchConcastWithInfo=function(e,t,n,i){var r=this;void 0===n&&(n=ti.loading),void 0===i&&(i=t.query);var o,s,a=this.getVariables(i,t.variables),l=this.defaultOptions.watchQuery,c=t.fetchPolicy,u=void 0===c?l&&l.fetchPolicy||"cache-first":c,d=t.errorPolicy,h=void 0===d?l&&l.errorPolicy||"none":d,p=t.returnPartialData,f=void 0!==p&&p,m=t.notifyOnNetworkStatusChange,g=void 0!==m&&m,v=t.context,y=void 0===v?{}:v,E=Object.assign({},t,{query:i,variables:a,fetchPolicy:u,errorPolicy:h,returnPartialData:f,notifyOnNetworkStatusChange:g,context:y}),S=function(i){E.variables=i;var o=r.fetchQueryByPolicy(e,E,n);return"standby"!==E.fetchPolicy&&o.sources.length>0&&e.observableQuery&&e.observableQuery.applyNextFetchPolicy("after-fetch",t),o},b=function(){return r.fetchCancelFns.delete(e.queryId)};if(this.fetchCancelFns.set(e.queryId,(function(e){b(),setTimeout((function(){return o.cancel(e)}))})),this.getDocumentInfo(E.query).hasClientExports)o=new ni(this.localState.addExportedVariables(E.query,E.variables,E.context).then(S).then((function(e){return e.sources}))),s=!0;else{var _=S(E.variables);s=_.fromLink,o=new ni(_.sources)}return o.promise.then(b,b),{concast:o,fromLink:s}},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,i=e.include,r=e.optimistic,o=void 0!==r&&r,s=e.removeOptimistic,a=void 0===s?o?g("refetchQueries"):void 0:s,l=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach((function(e,n){c.set(n,{oq:e,lastDiff:(t.queries.get(n)||e.queryInfo).getDiff()})}));var u=new Map;return n&&this.cache.batch({update:n,optimistic:o&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,n){var i=e.watcher instanceof Si&&e.watcher.observableQuery;if(i){if(l){c.delete(i.queryId);var r=l(i,t,n);return!0===r&&(r=i.refetch()),!1!==r&&u.set(i,r),r}null!==l&&c.set(i.queryId,{oq:i,lastDiff:n,diff:t})}}}),c.size&&c.forEach((function(e,n){var i,r=e.oq,o=e.lastDiff,s=e.diff;l&&(s||(s=It("canonizeResults",(function(){return t.cache.diff(r.queryInfo.getDiffOptions())}))),i=l(r,s,o)),l&&!0!==i||(i=r.refetch()),!1!==i&&u.set(r,i),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),a&&this.cache.removeOptimistic(a),u},e.prototype.maskOperation=function(e){var t,n,i,r=e.document,o=e.data;if(!1!==globalThis.__DEV__){var s=e.fetchPolicy,a=e.id,l=null===(t=Ce(r))||void 0===t?void 0:t.operation,c=(null!==(n=null==l?void 0:l[0])&&void 0!==n?n:"o")+a;!this.dataMasking||"no-cache"!==s||function(e){var t=!0;return(0,Ct.YR)(e,{FragmentSpread:function(e){if(!(t=!!e.directives&&e.directives.some((function(e){return"unmask"===e.name.value}))))return Ct.sP}}),t}(r)||this.noCacheWarningsByQueryId.has(c)||(this.noCacheWarningsByQueryId.add(c),!1!==globalThis.__DEV__&&y.warn(45,null!==(i=xe(r))&&void 0!==i?i:"Unnamed ".concat(null!=l?l:"operation")))}return this.dataMasking?function(e,t,n){var i;if(!n.fragmentMatches)return!1!==globalThis.__DEV__&&Ni(),e;var r=Ce(t);return y(r,63),null==e?e:Ii(e,r.selectionSet,{operationType:r.operation,operationName:null===(i=r.name)||void 0===i?void 0:i.value,fragmentMap:_n(Ue(t)),cache:n,mutableTargets:new Oi,knownChanged:new Ti})}(o,r,this.cache):o},e.prototype.maskFragment=function(e){var t=e.data,n=e.fragment,i=e.fragmentName;return this.dataMasking?Li(t,n,this.cache,i):t},e.prototype.fetchQueryByPolicy=function(e,t,n){var i=this,r=t.query,o=t.variables,s=t.fetchPolicy,a=t.refetchWritePolicy,l=t.errorPolicy,c=t.returnPartialData,u=t.context,d=t.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:r,variables:o,networkStatus:n});var p=function(){return e.getDiff()},f=function(t,n){void 0===n&&(n=e.networkStatus||ti.loading);var s=t.result;!1===globalThis.__DEV__||c||Gn(s,{})||gi(t.missing);var a=function(e){return z.of(Y({data:e,loading:ii(n),networkStatus:n},t.complete?null:{partial:!0}))};return s&&i.getDocumentInfo(r).hasForcedResolvers?i.localState.runResolvers({document:r,remoteResult:{data:s},context:u,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return a(e.data||void 0)})):"none"===l&&n===ti.refetch&&Array.isArray(t.missing)?a(void 0):a(s)},m="no-cache"===s?0:n===ti.refetch&&"merge"!==a?1:2,g=function(){return i.getResultsFromLink(e,m,{query:r,variables:o,context:u,fetchPolicy:s,errorPolicy:l})},v=d&&"number"==typeof h&&h!==n&&ii(n);switch(s){default:case"cache-first":return(y=p()).complete?{fromLink:!1,sources:[f(y,e.markReady())]}:c||v?{fromLink:!0,sources:[f(y),g()]}:{fromLink:!0,sources:[g()]};case"cache-and-network":var y;return(y=p()).complete||c||v?{fromLink:!0,sources:[f(y),g()]}:{fromLink:!0,sources:[g()]};case"cache-only":return{fromLink:!1,sources:[f(p(),e.markReady())]};case"network-only":return v?{fromLink:!0,sources:[f(p()),g()]}:{fromLink:!0,sources:[g()]};case"no-cache":return v?{fromLink:!0,sources:[f(e.getDiff()),g()]}:{fromLink:!0,sources:[g()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getOrCreateQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Si(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Y(Y(Y({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},e}();function Ci(e){return e.kind===xt.b.FIELD||e.kind===xt.b.FRAGMENT_SPREAD||e.kind===xt.b.INLINE_FRAGMENT}var xi=new Xe;new WeakMap;var Ui=function(){function e(e){var t=e.cache,n=e.client,i=e.resolvers,r=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),i&&this.addResolvers(i),r&&this.setFragmentMatcher(r)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=rn(t.resolvers,e)})):this.resolvers=rn(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){return Q(this,arguments,void 0,(function(e){var t=e.document,n=e.remoteResult,i=e.context,r=e.variables,o=e.onlyRunForcedResolvers,s=void 0!==o&&o;return X(this,(function(e){return t?[2,this.resolveDocument(t,n.data,i,r,this.fragmentMatcher,s).then((function(e){return Y(Y({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Ft(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return kn(e)},e.prototype.prepareContext=function(e){var t=this.cache;return Y(Y({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e){return Q(this,arguments,void 0,(function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),X(this,(function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Y(Y({},t),e.exportedVariables)}))]:[2,Y({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Ct.YR)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Ct.sP}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Rn(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t){return Q(this,arguments,void 0,(function(e,t,n,i,r,o){var s,a,l,c,u,d,h,p,f,m;return void 0===n&&(n={}),void 0===i&&(i={}),void 0===r&&(r=function(){return!0}),void 0===o&&(o=!1),X(this,(function(g){return s=He(e),a=Ue(e),l=_n(a),c=this.collectSelectionsToResolve(s,l),u=s.operation,d=u?u.charAt(0).toUpperCase()+u.slice(1):"Query",p=(h=this).cache,f=h.client,m={fragmentMap:l,context:Y(Y({},n),{cache:p,client:f}),variables:i,fragmentMatcher:r,defaultOperationType:d,exportedVariables:{},selectionsToResolve:c,onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(s.selectionSet,false,t,m).then((function(e){return{result:e,exportedVariables:m.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n,i){return Q(this,void 0,void 0,(function(){var r,o,s,a,l,c=this;return X(this,(function(u){return r=i.fragmentMap,o=i.context,s=i.variables,a=[n],l=function(e){return Q(c,void 0,void 0,(function(){var l,c;return X(this,(function(u){return(t||i.selectionsToResolve.has(e))&&Ut(e,s)?De(e)?[2,this.resolveField(e,t,n,i).then((function(t){var n;void 0!==t&&a.push(((n={})[Pe(e)]=t,n))}))]:(!function(e){return"InlineFragment"===e.kind}(e)?(l=r[e.name.value],y(l,21,e.name.value)):l=e,l&&l.typeCondition&&(c=l.typeCondition.name.value,i.fragmentMatcher(n,c,o))?[2,this.resolveSelectionSet(l.selectionSet,t,n,i).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(l)).then((function(){return on(a)}))]}))}))},e.prototype.resolveField=function(e,t,n,i){return Q(this,void 0,void 0,(function(){var r,o,s,a,l,c,u,d,h,p=this;return X(this,(function(f){return n?(r=i.variables,o=e.name.value,s=Pe(e),a=o!==s,l=n[s]||n[o],c=Promise.resolve(l),i.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=n.__typename||i.defaultOperationType,(d=this.resolvers&&this.resolvers[u])&&(h=d[a?o:s])&&(c=Promise.resolve(xi.withValue(this.cache,h,[n,Le(e,r),i.context,{field:e,fragmentMap:i.fragmentMap}])))),[2,c.then((function(n){var r,o;if(void 0===n&&(n=l),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(i.exportedVariables[e.value.value]=n)}))})),!e.selectionSet)return n;if(null==n)return n;var s=null!==(o=null===(r=e.directives)||void 0===r?void 0:r.some((function(e){return"client"===e.name.value})))&&void 0!==o&&o;return Array.isArray(n)?p.resolveSubSelectedArray(e,t||s,n,i):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t||s,n,i):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n,i){var r=this;return Promise.all(n.map((function(n){return null===n?null:Array.isArray(n)?r.resolveSubSelectedArray(e,t,n,i):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n,i):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var n=function(e){return!Array.isArray(e)},i=this.selectionsToResolveCache;return function e(r){if(!i.has(r)){var o=new Set;i.set(r,o),(0,Ct.YR)(r,{Directive:function(e,t,i,r,s){"client"===e.name.value&&s.forEach((function(e){n(e)&&Ci(e)&&o.add(e)}))},FragmentSpread:function(i,r,s,a,l){var c=t[i.name.value];y(c,22,i.name.value);var u=e(c);u.size>0&&(l.forEach((function(e){n(e)&&Ci(e)&&o.add(e)})),o.add(i),u.forEach((function(e){o.add(e)})))}})}return i.get(r)}(e)},e}();function Fi(e,t){return ri(e,t,t.variables&&{variables:ri(Y(Y({},e&&e.variables),t.variables))})}var Hi=!1,Gi=function(){function e(e){var t,n,i,r=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw E(16);var o=e.uri,s=e.credentials,a=e.headers,l=e.cache,c=e.documentTransform,u=e.ssrMode,d=void 0!==u&&u,p=e.ssrForceFetchDelay,f=void 0===p?0:p,m=e.connectToDevTools,g=e.queryDeduplication,v=void 0===g||g,S=e.defaultOptions,b=e.defaultContext,_=e.assumeImmutableResults,O=void 0===_?l.assumeImmutableResults:_,T=e.resolvers,A=e.typeDefs,w=e.fragmentMatcher,N=e.clientAwareness,I=e.name,R=e.version,k=e.devtools,L=e.dataMasking;!1!==globalThis.__DEV__&&(Rt(e,"connectToDevTools","ApolloClient","Please use `devtools.enabled` instead."),Rt(e,"uri","ApolloClient","Please initialize an instance of `HttpLink` with `uri` instead."),Rt(e,"credentials","ApolloClient","Please initialize an instance of `HttpLink` with `credentials` instead."),Rt(e,"headers","ApolloClient","Please initialize an instance of `HttpLink` with `headers` instead."),Rt(e,"name","ApolloClient","Please use the `clientAwareness.name` option instead."),Rt(e,"version","ApolloClient","Please use the `clientAwareness.version` option instead."),Rt(e,"typeDefs","ApolloClient"),e.link||!1!==globalThis.__DEV__&&y.warn(17));var P=e.link;P||(P=o?new Cn({uri:o,credentials:s,headers:a}):Mt.empty()),this.link=P,this.cache=l,this.disableNetworkFetches=d||f>0,this.queryDeduplication=v,this.defaultOptions=S||Object.create(null),this.typeDefs=A,this.devtoolsConfig=Y(Y({},k),{enabled:null!==(t=null==k?void 0:k.enabled)&&void 0!==t?t:m}),void 0===this.devtoolsConfig.enabled&&(this.devtoolsConfig.enabled=!1!==globalThis.__DEV__),f&&setTimeout((function(){return r.disableNetworkFetches=!1}),f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=h,this.localState=new Ui({cache:l,client:this,resolvers:T,fragmentMatcher:w}),this.queryManager=new Mi({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:b,documentTransform:c,queryDeduplication:v,ssrMode:d,dataMasking:!!L,clientAwareness:{name:null!==(n=null==N?void 0:N.name)&&void 0!==n?n:I,version:null!==(i=null==N?void 0:N.version)&&void 0!==i?i:R},localState:this.localState,assumeImmutableResults:O,onBroadcast:this.devtoolsConfig.enabled?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return Object.defineProperty(e.prototype,"prioritizeCacheValues",{get:function(){return this.disableNetworkFetches},set:function(e){this.disableNetworkFetches=e},enumerable:!1,configurable:!0}),e.prototype.connectToDevTools=function(){if("undefined"!=typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this,Hi||!1===globalThis.__DEV__||(Hi=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout((function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,n=void 0;"string"==typeof t&&(t.indexOf("Chrome/")>-1?n="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(n="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),n&&!1!==globalThis.__DEV__&&y.log("Download the Apollo DevTools for a better development experience: %s",n)}}),1e4))}},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Fi(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Y(Y({},e),{fetchPolicy:"cache-first"})),!1!==globalThis.__DEV__&&(Rt(e,"canonizeResults","client.watchQuery"),Rt(e,"partialRefetch","client.watchQuery")),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Fi(this.defaultOptions.query,e)),y("cache-and-network"!==e.fetchPolicy,18),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Y(Y({},e),{fetchPolicy:"cache-first"})),!1!==globalThis.__DEV__&&(Rt(e,"canonizeResults","client.query"),Rt(e,"notifyOnNetworkStatusChange","client.query","This option does not affect `client.query` and can be safely removed."),"standby"===e.fetchPolicy&&!1!==globalThis.__DEV__&&y.warn(19)),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Fi(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){var t=this,n=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(e).map((function(i){return Y(Y({},i),{data:t.queryManager.maskOperation({document:e.query,data:i.data,fetchPolicy:e.fetchPolicy,id:n})})}))},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.watchFragment=function(e){var t;return this.cache.watchFragment(Y(Y({},e),((t={})[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,t)))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Mn(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],i=[];t.forEach((function(e,t){n.push(t),i.push(e)}));var r=Promise.all(i);return r.queries=n,r.results=i,r.catch((function(e){!1!==globalThis.__DEV__&&y.debug(20,e)})),r},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();!1!==globalThis.__DEV__&&(Gi.prototype.getMemoryInternals=ge);function Bi(e){var t=Object.create(null),n=Object.create(null);return tn(e)&&e.forEach((function(e){var i;t[e.message]=e,"string"==typeof(null===(i=e.extensions)||void 0===i?void 0:i.code)&&(n[e.extensions.code]=e)})),{persistedQueryNotSupported:!(!t.PersistedQueryNotSupported&&!n.PERSISTED_QUERY_NOT_SUPPORTED),persistedQueryNotFound:!(!t.PersistedQueryNotFound&&!n.PERSISTED_QUERY_NOT_FOUND)}}var Vi={disable:function(e){return e.meta.persistedQueryNotSupported},retry:function(e){var t=e.meta;return t.persistedQueryNotSupported||t.persistedQueryNotFound},useGETForHashedQueries:!1};var ji=function(e){var t;function n(){t=void 0}y(e&&("function"==typeof e.sha256||"function"==typeof e.generateHash),55);var i=ri(Vi,e),r=i.sha256,o=i.generateHash,s=void 0===o?function(e){return Promise.resolve(r(gn(e)))}:o,a=i.disable,l=i.retry,c=i.useGETForHashedQueries,u=!0,d=function(e){return new Promise((function(t){return t(s(e))}))};return Object.assign(new Mt((function(e,i){y(i,56);var r=e.query;return new z((function(o){var s,h,p=!1,f=!1,m=function(t,r){var o=t.response,c=t.networkError;if(!p&&(o&&o.errors||c)){p=!0;var d=[],m=o&&o.errors;tn(m)&&d.push.apply(d,m);var v=void 0;"string"!=typeof(null==c?void 0:c.result)&&(v=c&&c.result&&c.result.errors),tn(v)&&d.push.apply(d,v);var y={response:o,networkError:c,operation:e,graphQLErrors:tn(d)?d:void 0,meta:Bi(d)};if((u=!a(y))||n(),l(y))return s&&s.unsubscribe(),e.setContext({http:{includeQuery:!0,includeExtensions:u},fetchOptions:{method:"POST"}}),f&&e.setContext({fetchOptions:h}),void(s=i(e).subscribe(g))}r()},g={next:function(e){m({response:e},(function(){return o.next(e)}))},error:function(e){m({networkError:e},(function(){return o.error(e)}))},complete:o.complete.bind(o)};return e.setContext({http:{includeQuery:!u,includeExtensions:u}}),c&&u&&!function(e){return e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))}(e)&&(e.setContext((function(e){var t=e.fetchOptions,n=void 0===t?{}:t;return h=n,{fetchOptions:Y(Y({},n),{method:"GET"})}})),f=!0),u?function(e){if(!e||"object"!=typeof e)return d(e);t||(t=new ue(pe["PersistedQueryLink.persistedQueryHashes"]||2e3));var n=t.get(e);return n||t.set(e,n=d(e)),n}(r).then((function(t){e.extensions.persistedQuery={version:1,sha256Hash:t},s=i(e).subscribe(g)})).catch(o.error.bind(o)):s=i(e).subscribe(g),function(){s&&s.unsubscribe()}}))})),{resetHashCache:n},!1!==globalThis.__DEV__?{getMemoryInternals:function(){var e;return{PersistedQueryLink:{persistedQueryHashes:null!==(e=null==t?void 0:t.size)&&void 0!==e?e:0}}}}:{})},Wi=n(31863),zi=n(50380),$i=n(9139),Ki=n(66790),Yi=n(96276),qi=n(24790),Qi=n(99625),Xi=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=Tt(bn,{max:pe["cache.fragmentQueryDocuments"]||1e3,cache:oe})}return e.prototype.lookupFragment=function(e){return null},e.prototype.batch=function(e){var t,n=this,i="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),i),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){var n=this;return void 0===t&&(t=!!e.optimistic),!1!==globalThis.__DEV__&&Rt(e,"canonizeResults","cache.readQuery"),It("canonizeResults",(function(){return n.read(Y(Y({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))}))},e.prototype.watchFragment=function(e){var t=this,n=e.fragment,i=e.fragmentName,r=e.from,o=e.optimistic,s=void 0===o||o,a=q(e,["fragment","fragmentName","from","optimistic"]),l=this.getFragmentDoc(n,i),c=void 0===r||"string"==typeof r?r:this.identify(r),u=!!e[Symbol.for("apollo.dataMasking")];if(!1!==globalThis.__DEV__){var d=i||Fe(n).name.value;c||!1!==globalThis.__DEV__&&y.warn(1,d)}var h,p=Y(Y({},a),{returnPartialData:!0,id:c,query:l,optimistic:s});return new z((function(r){return t.watch(Y(Y({},p),{immediate:!0,callback:function(o){var s=u?Li(o.result,n,t,i):o.result;if(!h||!li(l,{data:h.result},{data:s},e.variables)){var a={data:s,complete:!!o.complete};o.missing&&(a.missing=on(o.missing.map((function(e){return e.missing})))),h=Y(Y({},o),{result:s}),r.next(a)}}}))}))},e.prototype.readFragment=function(e,t){var n=this;return void 0===t&&(t=!!e.optimistic),!1!==globalThis.__DEV__&&Rt(e,"canonizeResults","cache.readFragment"),It("canonizeResults",(function(){return n.read(Y(Y({},e),{query:n.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,i=q(e,["id","data"]);return this.write(Object.assign(i,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,i=e.fragment,r=e.fragmentName,o=q(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,r),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return!1!==globalThis.__DEV__&&Rt(e,"canonizeResults","cache.updateQuery"),this.batch({update:function(n){var i=It("canonizeResults",(function(){return n.readQuery(e)})),r=t(i);return null==r?i:(n.writeQuery(Y(Y({},e),{data:r})),r)}})},e.prototype.updateFragment=function(e,t){return!1!==globalThis.__DEV__&&Rt(e,"canonizeResults","cache.updateFragment"),this.batch({update:function(n){var i=It("canonizeResults",(function(){return n.readFragment(e)})),r=t(i);return null==r?i:(n.writeFragment(Y(Y({},e),{data:r})),r)}})},e}();!1!==globalThis.__DEV__&&(Xi.prototype.getMemoryInternals=ve);const Ji={};class Zi extends Xi{read(e){return null}write(e){}diff(e){return{}}watch(e){return()=>{}}async reset(e){}evict(e){return!1}restore(e){return this}extract(e){return Ji}removeOptimistic(e){}performTransaction(e,t){}}const er=new $i.Vy("model-api-client");const tr=(e={})=>()=>new ir(e);let nr=!1;class ir{constructor(e={}){var t,n,i;const r=e.baseUrl||window.location.origin,o=e.server||qi.wD,s=e.httpOptions||{};this.graphUrl=e.url||`${r}${o}`,this.mdsContext=e.mdsContext,er.debug(`Initialized Model API client for ${this.graphUrl}`);let a=(l=(e,t)=>(t.headers=t.headers||{},(0,zi.v)(this.graphUrl,t.headers,t.spaceId),t),new Mt((function(e,t){var n=q(e,[]);return new z((function(i){var r,o=!1;return Promise.resolve(n).then((function(t){return l(t,e.getContext())})).then(e.setContext).then((function(){o||(r=t(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)}))})).catch(i.error.bind(i)),function(){o=!0,r&&r.unsubscribe()}}))})));var l;if(null===(t=e.mdsContext)||void 0===t?void 0:t.apqEnabled)if(null===(i=null===(n=window.crypto)||void 0===n?void 0:n.subtle)||void 0===i?void 0:i.digest){const e=ji({useGETForHashedQueries:!0,sha256:Wi.sc});a=a.concat(new Mt(((t,n)=>t.query.definitions.some((e=>"OperationDefinition"===e.kind&&"mutation"===e.operation))?n(t):e.request(t,n))))}else nr||(er.warn("Crypto API not available in non-secure context; disabling APQ graphql optimization"),nr=!0);a=a.concat(Dn(Object.assign({uri:this.graphUrl,fetch:(e,t)=>{if("POST"===t.method){const{operationName:n}=JSON.parse(t.body);return fetch(`${e}?operation=${n}`,t)}return fetch(e,t)}},s))),this.apollo=new Gi({link:a,cache:new Zi})}async query(e,t,n={}){var i,r,o,s,a,l,c;if("no-cache"!==n.fetchPolicy&&(null===(i=this.mdsContext)||void 0===i?void 0:i.sharedCaches))for(const i of this.mdsContext.sharedCaches){const r=await i.read(e,t,n);if(void 0!==r)return er.debug(`Using cached response for ${n.prefetchKey}`),r}const u=Object.assign(Object.assign({errorPolicy:"all"},n),{query:e,variables:t,fetchPolicy:"no-cache"});if((null===(r=this.mdsContext)||void 0===r?void 0:r.anonymousHeaderEnabled)&&n.anonymous){(null!==(s=(c=null!==(o=u.context)&&void 0!==o?o:u.context={}).headers)&&void 0!==s?s:c.headers={})["x-apiauthmode"]="PUBLIC"}else if((null===(a=this.mdsContext)||void 0===a?void 0:a.simulateApiOutage)===Qi.u.TIMEOUT)return rr(e);if(n.modelId){(null!==(l=u.context)&&void 0!==l?l:u.context={}).spaceId=n.modelId}return this.apollo.query(u).then((e=>{const{data:t,errors:n}=e,i={data:t,errors:n};return n&&n.length>0&&er.warn("GraphQL query returned errors: \n",e),i})).catch((e=>{throw er.error(e),new Yi.tW(e,this.getApolloErrorCode(e))}))}async mutate(e,t,n={}){var i;if((null===(i=this.mdsContext)||void 0===i?void 0:i.simulateApiOutage)===Qi.u.TIMEOUT)return rr(e);const r=Object.assign(Object.assign({errorPolicy:"all"},n),{mutation:e,variables:t});return this.apollo.mutate(r).then((e=>{const{data:t,errors:n}=e;return{data:t,errors:n}})).catch((e=>{throw er.error(e),new Yi.YA(e,this.getApolloErrorCode(e))}))}async upload(e,t,n,i,r){const o={};let s=0;(0,Ki.S)(n,((e,t,n)=>{if(e&&((i=e).filename&&i.blob&&i.blob instanceof Blob)){const i="file"+s++;o[i]=e,n[t]=`multipart:${i}`}var i}));const a=new FormData;for(const[e,t]of Object.entries(o))a.append(e,t.blob,t.filename);a.append("query",(0,mn.y)(e)),a.append("operation",t),a.append("variables",JSON.stringify(n));const l=(0,zi.v)(this.graphUrl,{},void 0);return this.uploadFormData(a,l,i,r).then((e=>{if(!ir.isOk(e)){const t=ir.getErrorCode(e)||"54200";throw new Yi.yr(ir.getErrorMessage(e),t)}return e}))}getApolloErrorCode(e){var t;if(e instanceof Zt){const n=null===(t=e.networkError)||void 0===t?void 0:t.statusCode;if(n)return`61${n}`}return"61000"}async uploadFormData(e,t,n,i=new XMLHttpRequest){const r=`${this.graphUrl}${e.has("operation")?`?operation=${e.get("operation")}`:""}`;i.open("POST",r,!0),i.responseType="json",i.setRequestHeader("Accept","application/json"),n&&(i.upload.onprogress=n);for(const e in t)i.setRequestHeader(e,t[e]);return new Promise(((t,n)=>{i.onreadystatechange=()=>{4===i.readyState&&(200===i.status?t(i.response):0!==i.status&&n(new Yi.yr(`${i.status} ${i.statusText}`,`54${i.status}`)))},i.onerror=()=>{n(new Yi.yr("Network error","54002"))},i.onabort=()=>{er.info("upload canceled!")},i.send(e)}))}static isOk(e,t){if(t){const n=t.split(".");return 0===(e.errors||[]).filter((e=>{if(!e.path)return!0;for(let t=0;t<Math.min(e.path.length,n.length);t++)if(e.path[t]!==n[t])return!1;return!0})).length}return!(null==e?void 0:e.errors)||0===e.errors.length}static getErrorCode({errors:e}){var t;return(null==e?void 0:e.length)&&""+(null===(t=e[0].extensions)||void 0===t?void 0:t.code)||""}static getErrorMessage({errors:e}){let t="";return Array.isArray(e)&&e[0]&&(t=e[0].message||e[0].toString(),e.length>1&&(t+=` (+${e.length-1})`)),t}}function rr(e){var t;const n=null===(t=e.definitions.find((e=>"OperationDefinition"===e.kind)).name)||void 0===t?void 0:t.value;return er.warn(`Simulating hang of API query: ${n}`),new Promise((()=>{}))}ir.version="2020.05.28"},99625:(e,t,n)=>{"use strict";var i,r;n.d(t,{G:()=>i,u:()=>r}),function(e){e.CACHE="cache",e.PRELOAD="preload",e.NONE="none"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.TIMEOUT=1]="TIMEOUT"}(r||(r={}))},96276:(e,t,n)=>{"use strict";n.d(t,{CU:()=>u,V:()=>l,YA:()=>s,n8:()=>c,tW:()=>o,yr:()=>a});var i=n(52018),r=n(44094);i.t;class o extends i.t{constructor(e,t="62001"){super(e),this.name="MdsReadError",this.code=t}}class s extends i.t{constructor(e,t="63001"){super(e),this.name="MdsWriteError",this.code=t}}class a extends i.t{constructor(e,t="63002"){super(e),this.name="MdsUploadError",this.code=t}}class l extends i.t{constructor(e,t="52404"){super(e),this.name="InvalidView",this.code=t}}class c extends i.t{constructor(e,t="53001"){super(e),this.name="ReadOnly",this.code=t}}class u extends Error{constructor(e={}){var t,n;super(e.message||(null===(n=null===(t=e.errors)||void 0===t?void 0:t[0])||void 0===n?void 0:n.message)||"GraphQL Error"),this.name="GraphException",this.operationName=e.operationName||(0,r.n4)(e.gql||""),this.errors=Array.isArray(e.errors)?[...e.errors]:[],this.code=e.code||(0,r.BP)(this.errors)||""}}},61430:(e,t,n)=>{"use strict";var i,r,o,s;n.d(t,{fd:()=>s,o9:()=>o,pi:()=>r,yg:()=>i}),function(e){e.PHOTO="photo",e.RICH="rich",e.VIDEO="video"}(i||(i={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(r||(r={})),function(e){e.ALPHA="alpha",e.COLORED_ROOMS="colored_rooms",e.MEASUREMENTS="measurements",e.PHOTOGRAMY="photogramy",e.SCHEMATIC="schematic"}(o||(o={})),function(e){e.AVAILABLE="available",e.LOCKED="locked",e.UNAVAILABLE="unavailable"}(s||(s={}))},74381:(e,t,n)=>{"use strict";var i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,E,S,b,_,O,T,A,w,N,I,R,k,L,P,D,M,C,x,U,F,H,G,B,V,j,W,z,$,K,Y,q,Q,X,J,Z,ee,te,ne,ie,re,oe,se,ae,le,ce,ue,de,he,pe,fe,me,ge,ve,ye,Ee,Se,be,_e,Oe,Te,Ae,we,Ne,Ie,Re,ke,Le,Pe,De,Me,Ce,xe,Ue,Fe,He,Ge,Be,Ve,je,We,ze,$e,Ke,Ye,qe,Qe,Xe,Je,Ze,et,tt,nt,it,rt,ot,st,at,lt,ct,ut,dt,ht,pt;n.d(t,{$X:()=>We,$h:()=>Le,Bu:()=>pt,D6:()=>Je,ES:()=>st,I$:()=>g,K7:()=>Ae,OQ:()=>ae,UR:()=>Q,UY:()=>H,WU:()=>lt,Zw:()=>ke,_f:()=>re,gP:()=>M,h6:()=>Re,hL:()=>xe,jG:()=>oe,jM:()=>ee,lJ:()=>Ne,n:()=>Pe,nE:()=>dt,pi:()=>Me,pu:()=>Ue,ve:()=>_e,w0:()=>ze,xx:()=>He,zf:()=>de}),function(e){e.NAME="NAME",e.ROLE="ROLE",e.TYPE="TYPE",e.USER_EMAIL="USER_EMAIL",e.USER_GROUP_NAME="USER_GROUP_NAME"}(i||(i={})),function(e){e.EMPTY="empty",e.PARSED="parsed",e.RAW="raw",e.VERIFIED="verified"}(r||(r={})),function(e){e.FULL="full",e.NONE="none",e.PARTIAL="partial"}(o||(o={})),function(e){e.FOREVER="FOREVER",e.LAST_7_DAYS="LAST_7_DAYS",e.LAST_30_DAYS="LAST_30_DAYS"}(s||(s={})),function(e){e.ESTIMATE="estimate",e.EXACT="exact",e.TRUNCATED="truncated"}(a||(a={})),function(e){e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.OPENED="OPENED",e.PENDING="PENDING"}(l||(l={})),function(e){e.IMPRESSION="impression",e.MODELLOADED="modelLoaded"}(c||(c={})),function(e){e.LAST7DAYS="last7Days",e.LAST30DAYS="last30Days",e.LIFETIME="lifetime"}(u||(u={})),function(e){e.CREATED="created",e.IMPRESSIONS="impressions",e.NAME="name",e.UNIQUE_VISITORS="unique_visitors",e.VIEWS="views"}(d||(d={})),function(e){e.CAPTURE="capture",e.LLM="llm",e.VISION="vision",e.WORKSHOP="workshop"}(h||(h={})),function(e){e.LZMA="lzma",e.NONE="none"}(p||(p={})),function(e){e.AVAILABLE="available",e.LOCKED="locked",e.UNAVAILABLE="unavailable"}(f||(f={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload"}(m||(m={})),function(e){e.IMAGE="image",e.PDF="pdf",e.RICH="rich",e.VIDEO="video",e.ZIP="zip"}(g||(g={})),function(e){e.PROVISIONED="provisioned",e.UPLOADED="uploaded"}(v||(v={})),function(e){e.LOCKED="locked",e.UNAVAILABLE="unavailable",e.UNLOCKED="unlocked"}(y||(y={})),function(e){e.V1="v1",e.V2="v2"}(E||(E={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.INPROGRESS="inprogress",e.ORDERED="ordered",e.PLACED="placed",e.PREVIEWABLE="previewable"}(S||(S={})),function(e){e.CANCELED="canceled",e.DELETED="deleted",e.DELETING="deleting",e.FAILED="failed",e.ORDERED="ordered",e.PLACED="placed",e.PREVIEWABLE="previewable",e.UNAVAILABLE="unavailable",e.UNKNOWN="unknown",e.UNLOCKED="unlocked",e.UNLOCKING="unlocking"}(b||(b={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.OUTDOOR="outdoor",e.PANORAMA="panorama",e.TRANSITION="transition",e.UNKNOWN="unknown"}(_||(_={})),function(e){e.CAP_SVCS="CAP_SVCS",e.DIGI_EXPRESS="DIGI_EXPRESS",e.DIGI_PRO="DIGI_PRO"}(O||(O={})),function(e){e.WALL="wall",e.WINDOW="window"}(T||(T={})),function(e){e.HANDHELD="handheld",e.OTHER="other",e.PRO="pro",e.SPHERICAL="spherical"}(A||(A={})),function(e){e.BUNDLE="bundle",e.USER="user",e.VISION="vision"}(w||(w={})),function(e){e.DUPLICATE="duplicate",e.FAIL="fail",e.REPLACE="replace",e.SKIP="skip"}(N||(N={})),function(e){e.CREATED="created",e.MODIFIED="modified"}(I||(I={})),function(e){e.COMPARE="compare",e.EXTERIOR="exterior",e.PROJECT="project",e.SITE="site"}(R||(R={})),function(e){e.FAST="fast",e.NORMAL="normal",e.URGENT="urgent"}(k||(k={})),function(e){e.ASPIRATIONAL="aspirational",e.CONVERSATIONAL="conversational",e.INFORMATIVE="informative"}(L||(L={})),function(e){e.ADDRESS="address",e.CAMERA="camera",e.CAMERAFAMILYID="cameraFamilyId",e.CAMERAGROUPID="cameraGroupId",e.CAMERAMANUFACTURER="cameraManufacturer",e.CAMERAMANUFACTURERID="cameraManufacturerId",e.CAMERAMODEL="cameraModel",e.CAMERAMODELID="cameraModelId",e.CAMERATYPEID="cameraTypeId",e.DESCRIPTION="description",e.EXTENSIONTAG="extensiontag",e.GEODISTANCE="geoDistance",e.GEOREGION="geoRegion",e.ID="id",e.MLSID="mlsId",e.MLSNAME="mlsName",e.NAME="name",e.SUMMARY="summary",e.USERPROPERTYCLASSIFICATION="userPropertyClassification",e.USERPROPERTYCLASSIFICATIONEXACT="userPropertyClassificationExact"}(P||(P={})),function(e){e.KILOMETERS="kilometers",e.MILES="miles"}(D||(D={})),function(e){e.INVISIBLE="invisible",e.WALL="wall"}(M||(M={})),function(e){e.CSV="CSV"}(C||(C={})),function(e){e.MATTERTAGS="Mattertags",e.NOTECOMMENTS="NoteComments",e.NOTES="Notes"}(x||(x={})),function(e){e.ACCOUNT_DELETED="ACCOUNT_DELETED",e.ACCOUNT_INACTIVE="ACCOUNT_INACTIVE",e.ACTIVE="ACTIVE",e.ARCHIVED="ARCHIVED",e.CORRUPT_MODEL="CORRUPT_MODEL",e.DELETED="DELETED",e.FAILED_PROCESSING="FAILED_PROCESSING",e.FLAGGED="FLAGGED",e.PENDING="PENDING",e.PROCESSING="PROCESSING",e.UNRECOVERABLE_ERRORS="UNRECOVERABLE_ERRORS"}(U||(U={})),function(e){e.SPLAT="SPLAT"}(F||(F={})),function(e){e.BLOCKED="blocked",e.DISABLED="disabled",e.GATED="gated",e.UNLOCKED="unlocked"}(H||(H={})),function(e){e.MAY="may",e.MUST="must",e.MUST_NOT="must_not"}(G||(G={})),function(e){e.ALPHA="alpha",e.COLORED_ROOMS="colored_rooms",e.MEASUREMENTS="measurements",e.PHOTOGRAMY="photogramy",e.SCHEMATIC="schematic"}(B||(B={})),function(e){e.ADMIN="Admin",e.FOLDERCREATOR="FolderCreator",e.FOLDERSHARES="FolderShares",e.USERGROUPFOLDERSHARES="UserGroupFolderShares"}(V||(V={})),function(e){e.ADDRESS="address",e.INTERNALID="internalId",e.MLSID="mlsId",e.MLSNAME="mlsName",e.STANDARD="standard"}(j||(j={})),function(e){e.USEREMAIL="UserEmail",e.USERGROUPID="UserGroupId",e.USERID="UserId"}(W||(W={})),function(e){e.ALL="all",e.ID="id",e.NAME="name"}(z||(z={})),function(e){e.CREATED="created",e.MODIFIED="modified",e.NAME="name"}($||($={})),function(e){e.PSEUDO_ORG="PSEUDO_ORG",e.STANDARD="STANDARD",e.TRASH_CAN="TRASH_CAN"}(K||(K={})),function(e){e.CLIENT="client",e.GSV="gsv",e.PROCESSING="processing",e.UNKNOWN="unknown"}(Y||(Y={})),function(e){e.COMPLETE="COMPLETE",e.ERROR="ERROR",e.PENDING="PENDING"}(q||(q={})),function(e){e.REEL="reel",e.STORY="story"}(Q||(Q={})),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.CREATED="created",e.FAILED="failed",e.INPROGRESS="inprogress"}(X||(X={})),function(e){e.FAMILY_36H11="FAMILY_36H11",e.STANDARD41H12="STANDARD41H12",e.UNSUPPORTED="UNSUPPORTED"}(J||(J={})),function(e){e.APRILTAG="apriltag"}(Z||(Z={})),function(e){e.ANCHORLOCATION="AnchorLocation",e.HIGHLIGHTREEL="HighlightReel",e.LABEL="Label",e.MATTERTAG="Mattertag",e.MEASUREMENTPATH="MeasurementPath",e.MODELFLOOR="ModelFloor",e.MODELROOM="ModelRoom",e.NOTE="Note",e.OBJECTANNOTATION="ObjectAnnotation",e.ORDEREDLIST="OrderedList",e.PANORAMICIMAGELOCATION="PanoramicImageLocation",e.PHOTO="Photo"}(ee||(ee={})),function(e){e.SHOWCASE="showcase"}(te||(te={})),function(e){e.PHOTO="photo",e.RICH="rich",e.VIDEO="video"}(ne||(ne={})),function(e){e.DEFAULT="default",e.LANDMARK="landmark",e.OBJECTANNOTATION="objectAnnotation"}(ie||(ie={})),function(e){e.LINETYPE_2D="linetype_2D",e.LINETYPE_3D="linetype_3D"}(re||(re={})),function(e){e.DISABLED="disabled",e.MEASURE="measure",e.MEASUREANDVIEW="measureAndView"}(oe||(oe={})),function(e){e.FLOORS="floors",e.HIGHLIGHTREEL="highlightReel",e.IMAGE="image",e.LABELS="labels",e.MATTERTAGS="mattertags",e.MEASUREMENTPATHS="measurementPaths",e.ORDEREDLISTS="orderedLists",e.PLAYEROPTIONS="playerOptions",e.SWEEPS="sweeps"}(se||(se={})),function(e){e.FULL="full",e.PUBLIC="public",e.VIEWER="viewer"}(ae||(ae={})),function(e){e.ADMIN="Admin",e.MODELCREATOR="ModelCreator",e.MODELSHARES="ModelShares",e.USERGROUPMODELSHARES="UserGroupModelShares"}(le||(le={})),function(e){e.PASSWORD="password",e.PRIVATE="private",e.PUBLIC="public",e.UNLISTED="unlisted"}(ce||(ce={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived",e.FLAGGED="flagged",e.PENDING="pending"}(ue||(ue={})),function(e){e.BLACK="black",e.GREY="grey",e.WHITE="white"}(de||(de={})),function(e){e.DEFAULT="default",e.MLS="mls",e.UNBRANDED="unbranded"}(he||(he={})),function(e){e.DESCRIPTION="description",e.SUMMARY="summary"}(pe||(pe={})),function(e){e.ACTIVATION_STATE_CHANGED="activation_state_changed",e.BUNDLE_COMPLETED="bundle_completed",e.BUNDLE_REQUESTED="bundle_requested",e.BUNDLE_UPDATED="bundle_updated",e.CREATED="created",e.DELETED="deleted",e.DETAILS_CHANGED="details_changed",e.INSERTED="inserted",e.PROCESSED="processed",e.REPLACED="replaced",e.RESTORED="restored",e.TRANSFERRED_IN="transferred_in",e.TRANSFERRED_OUT="transferred_out",e.UPDATED="updated",e.UPLOADED="uploaded",e.VISIBILITY_CHANGED="visibility_changed"}(fe||(fe={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived"}(me||(me={})),function(e){e.ID="id",e.INTERNALID="internalId",e.MLSID="mlsId"}(ge||(ge={})),function(e){e.DEFAULT="default",e.VR="vr"}(ve||(ve={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.PROCESSING="processing",e.STAGING="staging"}(ye||(ye={})),function(e){e.USEREMAIL="UserEmail",e.USERGROUPID="UserGroupId",e.USERID="UserId"}(Ee||(Ee={})),function(e){e.CREATED="created",e.INTERNALID="internalId",e.LAST7IMPRESSIONSEVENTCOUNT="last7ImpressionsEventCount",e.LAST7MODELSLOADEDEVENTCOUNT="last7ModelsLoadedEventCount",e.LAST7MODELSLOADEDUSERCOUNT="last7ModelsLoadedUserCount",e.LAST30IMPRESSIONSEVENTCOUNT="last30ImpressionsEventCount",e.LAST30MODELSLOADEDEVENTCOUNT="last30ModelsLoadedEventCount",e.LAST30MODELSLOADEDUSERCOUNT="last30ModelsLoadedUserCount",e.LIFETIMEIMPRESSIONSEVENTCOUNT="lifetimeImpressionsEventCount",e.LIFETIMEMODELSLOADEDEVENTCOUNT="lifetimeModelsLoadedEventCount",e.LIFETIMEMODELSLOADEDUSERCOUNT="lifetimeModelsLoadedUserCount",e.MLSID="mlsId",e.MODIFIED="modified",e.NAME="name",e.POSTALCODE="postalCode",e.SCORE="score"}(Se||(Se={})),function(e){e.COPY="copy",e.DEMO="demo",e.PROCESSING="processing",e.TRANSFER="transfer",e.UNKNOWN="unknown"}(be||(be={})),function(e){e.ACTIVATING="activating",e.ACTIVATION_PENDING="activation_pending",e.ACTIVE="active",e.FAILED="failed",e.INACTIVATING="inactivating",e.INACTIVATION_PENDING="inactivation_pending",e.INACTIVE="inactive",e.PENDING="pending",e.PROCESSING="processing",e.STAGING="staging"}(_e||(_e={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(Oe||(Oe={})),function(e){e.COPY="copy",e.DEMO="demo",e.ORIGINAL="original"}(Te||(Te={})),function(e){e.PRIVATE="private",e.PUBLIC="public"}(Ae||(Ae={})),function(e){e.SERIAL="serial"}(we||(we={})),function(e){e.DOORWAY="doorway",e.OPENING="opening"}(Ne||(Ne={})),function(e){e.CREATED="created",e.NAME="name",e.STATUS="status",e.SUBSCRIPTION_ID="subscription_id"}(Ie||(Ie={})),function(e){e.CENTER="center",e.START="start"}(Re||(Re={})),function(e){e.AUTO="auto",e.LEFT="left",e.RIGHT="right"}(ke||(ke={})),function(e){e.AUTO="auto",e.MANUAL="manual",e.UNPLACED="unplaced"}(Le||(Le={})),function(e){e.UPLOAD="upload",e.VISION="vision"}(Pe||(Pe={})),function(e){e.CYLINDRICAL="cylindrical",e.EQUIRECTANGULAR="equirectangular",e.SKYBOX="skybox"}(De||(De={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(Me||(Me={})),function(e){e.DISCOVER="discover",e.FOLDER="folder",e.GRANT="grant",e.JOB="job",e.MODEL="model",e.ORDER="order",e.ORGANIZATION="organization",e.USAGE="usage",e.USER="user"}(Ce||(Ce={})),function(e){e.SNAPSHOT="snapshot",e.TOUR="tour"}(xe||(xe={})),function(e){e.BUNDLE="bundle",e.USER="user",e.VISION="vision"}(Ue||(Ue={})),function(e){e.ICON="icon",e.ORIGINAL="original",e.PRESENTATION="presentation",e.PREVIEW="preview",e.THUMBNAIL="thumbnail",e.WEB="web"}(Fe||(Fe={})),function(e){e.EQUIRECTANGULAR="equirectangular",e.PHOTO2D="photo2D"}(He||(He={})),function(e){e.AVAILABILITY="availability",e.FLAG="flag",e.QUOTA="quota",e.VALUE="value"}(Ge||(Ge={})),function(e){e.COMPLETE="complete",e.FAILED="failed",e.INPROGRESS="inprogress",e.STAGING="staging"}(Be||(Be={})),function(e){e.USER="user",e.VISION="vision"}(Ve||(Ve={})),function(e){e.FLOORPLAN="FLOORPLAN",e.PHOTO="PHOTO",e.VIDEO="VIDEO"}(je||(je={})),function(e){e.OPEN="open",e.RESOLVED="resolved"}(We||(We={})),function(e){e.BOUNDARYEDGE="boundaryEdge",e.BOUNDARYVERTEX="boundaryVertex",e.ROOM="room"}(ze||(ze={})),function(e){e.ABORTED="aborted",e.ALIGNED="aligned",e.DELETED="deleted",e.FAILED="failed",e.UNALIGNED="unaligned"}($e||($e={})),function(e){e.ANCHOR="anchor",e.ID="id",e.LOCATION="location"}(Ke||(Ke={})),function(e){e.MESH="mesh",e.PANO="pano",e.UNKNOWN="unknown"}(Ye||(Ye={})),function(e){e.FACE_BLURRING="face_blurring",e.FIDUCIAL_DETECTION="fiducial_detection",e.FIDUCIAL_REMOVAL="fiducial_removal"}(qe||(qe={})),function(e){e.ADDRESS="ADDRESS",e.ALL="ALL",e.CREATED_BY="CREATED_BY",e.INTERNAL_ID="INTERNAL_ID",e.MLS_ID="MLS_ID",e.MLS_NAME="MLS_NAME"}(Qe||(Qe={})),function(e){e.DEMO="demo",e.DISCOVERABLE="discoverable",e.FLAGGED="flagged",e.INACTIVE="inactive"}(Xe||(Xe={})),function(e){e.DEFAULT="default",e.DISABLED="disabled",e.ENABLED="enabled"}(Je||(Je={})),function(e){e.FOLDER="Folder",e.MODEL="Model",e.ORGANIZATION="Organization"}(Ze||(Ze={})),function(e){e.USER="USER",e.USER_GROUP="USER_GROUP"}(et||(et={})),function(e){e.ASC="asc",e.DESC="desc"}(tt||(tt={})),function(e){e.ACCEPTED="accepted",e.DISMISSED="dismissed",e.REJECTED="rejected",e.UNREVIEWED="unreviewed"}(nt||(nt={})),function(e){e.HIGH="high",e.LOW="low"}(it||(it={})),function(e){e.AFTERNOON="afternoon",e.DAWN="dawn",e.DUSK="dusk",e.MORNING="morning",e.NIGHT="night"}(rt||(rt={})),function(e){e.ACCEPTED="accepted",e.CANCELLED="cancelled",e.INVALID="invalid",e.PENDING="pending",e.REJECTED="rejected"}(ot||(ot={})),function(e){e.FADE_TO_BLACK="fade_to_black",e.INSTANT="instant",e.INTERPOLATE="interpolate"}(st||(st={})),function(e){e.CAMERAUNSUPPORTED="cameraUnsupported",e.ENABLEMENTEXPIRED="enablementExpired",e.FEATUREBLOCKED="featureBlocked",e.NOTIMPLEMENTED="notImplemented",e.ORGSETTINGSDISABLED="orgSettingsDisabled",e.PERMISSIONMISSINGUNLOCK="permissionMissingUnlock",e.PERMISSIONMISSINGVIEW="permissionMissingView",e.QUOTAEXCEEDED="quotaExceeded"}(at||(at={})),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(lt||(lt={})),function(e){e.CREATED="created",e.EMAIL="email",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.MODIFIED="modified"}(ct||(ct={})),function(e){e.DEFAULT="default",e.ROOT="root",e.SELF="self"}(ut||(ut={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.MESH="mesh",e.PANORAMA="panorama"}(dt||(dt={})),function(e){e.BASIC="basic",e.NONE="none",e.TOKEN="token"}(ht||(ht={})),function(e){e.CANCELED="Canceled",e.COMPLETED="Completed",e.CONTINUEDASNEW="ContinuedAsNew",e.FAILED="Failed",e.RUNNING="Running",e.TERMINATED="Terminated",e.TIMEDOUT="TimedOut",e.UNRECOGNIZED="Unrecognized",e.UNSPECIFIED="Unspecified"}(pt||(pt={}))},24790:(e,t,n)=>{"use strict";n.d(t,{l9:()=>o,qw:()=>s,vE:()=>r,wD:()=>i});const i="/api/mp/models/graph",r="/api/mp/attachments/graph",o="data.model.views",s="aaaaaaaaaaaaaaaaaaaaaaaaa"},44094:(e,t,n)=>{"use strict";function i(e){return null!=e}n.d(t,{BP:()=>s,n4:()=>r,sw:()=>i});const r=e=>{var t,n;if(o(e)){const i=null===(t=e.definitions)||void 0===t?void 0:t.find((e=>"OperationDefinition"===e.kind));return(null===(n=null==i?void 0:i.name)||void 0===n?void 0:n.value)||""}if("string"==typeof e){const t=e.match(/(?:query|mutation)\s+(\w+)/);return(null==t?void 0:t[1])||""}return""},o=e=>!!e&&"object"==typeof e&&Array.isArray(e.definitions),s=e=>{var t,n;return a(e)?null===(n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.extensions)||void 0===n?void 0:n.code:void 0},a=e=>!(!Array.isArray(e)||!e.every((e=>(e=>"string"==typeof(null==e?void 0:e.message)&&"object"==typeof(null==e?void 0:e.extensions))(e))))},60662:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t,n){super(),this.sweepId=e,this.sweepIndex=t,this.totalSweeps=n}}},18855:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.sweepId=e,this.hovered=t}}},71687:(e,t,n)=>{"use strict";n.d(t,{$c:()=>s,$q:()=>qe,A5:()=>ce,AO:()=>_e,CE:()=>d,Et:()=>r,FI:()=>L,Fn:()=>Ye,GR:()=>G,Gw:()=>Ue,HX:()=>A,He:()=>ue,J$:()=>ge,JN:()=>$e,JY:()=>ve,KT:()=>de,Kv:()=>$,LG:()=>Ie,Ll:()=>fe,M7:()=>We,N4:()=>J,N7:()=>Me,N9:()=>F,Ne:()=>V,Np:()=>we,PD:()=>le,PJ:()=>pe,PM:()=>j,Pn:()=>be,QS:()=>z,QW:()=>w,Qj:()=>p,Qm:()=>He,SD:()=>Be,SH:()=>Fe,T9:()=>Oe,TN:()=>K,TV:()=>he,TY:()=>f,Tx:()=>ne,UN:()=>je,Uu:()=>te,Vc:()=>x,Vu:()=>se,Wh:()=>Te,X$:()=>B,X7:()=>g,XQ:()=>xe,Xf:()=>Ce,Xx:()=>T,YC:()=>ze,Yj:()=>me,Yr:()=>_,Z7:()=>h,ZF:()=>D,_q:()=>Q,_v:()=>E,aF:()=>i,aU:()=>k,az:()=>P,bj:()=>H,co:()=>ke,cy:()=>q,di:()=>u,eE:()=>l,ep:()=>S,et:()=>v,f0:()=>Re,fO:()=>W,gS:()=>M,gk:()=>Ne,gy:()=>Y,iV:()=>Se,jh:()=>c,kG:()=>ie,kM:()=>oe,kd:()=>X,lN:()=>De,lf:()=>Z,mL:()=>I,nu:()=>N,pR:()=>R,qD:()=>Ae,qL:()=>o,qy:()=>a,rA:()=>y,rz:()=>ae,sA:()=>re,sc:()=>Ee,se:()=>Le,tQ:()=>Ve,uq:()=>Ke,vM:()=>ee,vj:()=>C,wY:()=>Pe,xV:()=>ye,yR:()=>O,yT:()=>Ge,zX:()=>b,zj:()=>m,zy:()=>U});const i="IAnalytics",r="IAnnotationsModule",o="IApiClientModule",s="IAppAnalytics",a="IAttachmentsModule",l="IAutomationSupport",c="ICameraModule",u="ICameraStartModule",d="ICanvas",h="IContainerDataModule",p="IDefurnishModule",f="IPanoramaControls",m="IDollhouseControls",g="ICommonControlsForwarder",v="IZoomControls",y="ICurrentPanoMarker",E="ICursorController",S="ICursorDataModule",b="ICursorMesh",_="IDwellAnalytics",O="IFatcaster",T="IFloorCaster",A="IFloorsDataModule",w="IFloorsViewDataModule",N="IGuiModule",I="IInput",R="IInteractionModeModule",k="ILabelDataModule",L="ILabelRenderer",P="ILayersModule",D="ILineRenderer",M="ITranslate",C="IBrandModule",x="ILoginRedirect",U="IMeasurementModeModule",F="IMattertagDataModule",H="IModelDataModule",G="IModelMeshModule",B="IMouseCursor",V="IMeshApiFixup",j="IMeshQuery",W="IMeshTrimDataModule",z="IModelRatingModule",$="INavigationModule",K="INotesModule",Y="IObjectTagSuggestionsDataModule",q="IOrderedListModule",Q="IOrthographicControls",X="IPinsModule",J="IPluginRegistry",Z="IPluginConfigDataModule",ee="IPluginUIModule",te="IPolicyModule",ne="IPreRendererModule",ie="IExternalR3FModule",re="IRaycasterModule",oe="IRenderToTexture",se="IRoomBoundDataModule",ae="IRoomBoundModule",le="IRoomDataModule",ce="IRoomBoundRenderer",ue="IScanInfoDataModule",de="ISceneModule",he="ISchedulerModule",pe="IScreenshotsModule",fe="ISdkLanding",me="ISearchModule",ge="ISensorModule",ve="ISES",ye="ICompareModule",Ee="ICompareGuiModule",Se="ISkyboxModule",be="ISnapshotsModule",_e="ISnapshotsEditor",Oe="IStorageModule",Te="ISweepDataModule",Ae="ISweepPano",we="ISweepPathModule",Ne="ISweepPinMesh",Ie="ISweepPinNavigation",Re="ISweepPortalMesh",ke="ISweepPortalNavigation",Le="ISweepPucks",Pe="ISweepTextureLoader",De="ITagsModule",Me="IToolsModule",Ce="IToursControls",xe="IToursDataModule",Ue="IToursGenerator",Fe="IUsersModule",He="IViewportModule",Ge="IViewmodeChange",Be="IViewmodesDataModule",Ve="IVideoRecorder",je="IVisibleMeshBounds",We="IWebGLRendererModule",ze="IWebXR",$e="IFeatureUsageAnalytics",Ke="IToolAnnouncementView",Ye="ISplatsModule",qe="ISplatsDataModule"},68375:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).analytics}},37518:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,q:()=>i});const i="analytics_provider",r="features/analytics-beta"},85935:(e,t,n)=>{"use strict";n.d(t,{$E:()=>f,BX:()=>v,Q9:()=>m,oA:()=>l,uo:()=>p});var i=n(77232),r=n(27200),o=n(55326),s=n(54882);const a=e=>`${e}_3.0`,l=e=>e,c=e=>{var t,n;return{pme:null!==(n=(null!==(t=window.MP_PLATFORM_METADATA)&&void 0!==t?t:{}).pme)&&void 0!==n&&n}},u=e=>({height:e.innerHeight,width:e.innerWidth}),d=e=>({width:e.screen.width,height:e.screen.height,density:e.devicePixelRatio}),h=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}},p=()=>{const e=(new i.UAParser).getResult();let t=e.os.name,n=e.browser.name;const o=Object.assign({},e.device);return(0,r.J0)()&&(t="iPadOS",o.vendor="Apple",o.model="iPad",o.type="tablet","Safari"===n&&(n="Mobile Safari")),{browser:{name:n,major:e.browser.major,version:e.browser.version,language:navigator.language||"",languages:navigator.languages?navigator.languages.join(", "):"",prefers_color_scheme:(0,r.KS)(),prefers_reduced_motion:(0,r.Ow)()},os:{name:t,version:e.os.version},device:{vendor:o.vendor,model:o.model,type:o.type}}};function f(e){var t;const n=window,i=n.parent!==n,s="1"===e.play||"true"===e.play;return Object.assign({model_id:e.model||e.m||"",language_tag:null!==(t=e.lang)&&void 0!==t?t:null,quickstart:"1"===e.qs,is_mobile:(0,r.Fr)(),iframe:i,session_id:(0,o.e)(),platform:p(),pme:c(n),authTokenProvided:!!e.auth||!!e.connectauth},m(s))}function m(e){const t=window,n=t.innerWidth/t.innerHeight,i=t.parent!==t;return{start_source:e?"autoplay":i?"click":"fullpage",autoplay:e,aspect_ratio:isFinite(n)?n:1,window:u(t)}}function g(e,t){const n=window;return{app:{name:a(t),version:"26.1.3_webgl-190-ge117742b46"},locale:e,screen:d(n),timezone:h(),location:{}}}function v(e,t,n){const i=g(t,n);return(0,s.A)(e).then((e=>{i.location={city:e.city,locality:e.locality,continent:e.continent,country:e.country_name,country_code:e.country_code,region:e.region,timezone:e.timezone}})),i}},30926:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var i=n(12625),r=n(97994),o=n(46671);class s extends i.B{constructor(){super(),this.name="annotations-view-data",this.dockedAnnotationObservable=(0,r.p)(null),this.billboardAnnotationObservable=(0,r.p)(null),this.billboardSelectedObservable=(0,r.p)(!1),this.capabilities=new Map}setDockedAnnotation(e,t=null,n){const i=e&&n?{id:e,annotationType:n,layerId:t}:null;this.isEqual(i,this.dockedAnnotation)||this.atomic((()=>{this.dockedAnnotationObservable.value=i,i&&this.billboardSelected&&(this.billboardSelectedObservable.value=!1)}))}get dockedAnnotation(){return this.dockedAnnotationObservable.value}onDockedAnnotationChanged(e){return this.dockedAnnotationObservable.onChanged(e)}setBillboardAnnotation(e,t=null,n,i){const r=e&&n?{id:e,annotationType:n,layerId:t}:null;this.atomic((()=>{this.isEqual(r,this.billboardAnnotation)||(this.billboardAnnotationObservable.value=r),void 0===i&&r||(this.billboardSelectedObservable.value=!!i,i&&this.dockedAnnotation&&(this.dockedAnnotationObservable.value=null))}))}get billboardAnnotation(){return this.billboardAnnotationObservable.value}get billboardSelected(){return this.billboardSelectedObservable.value}get selectedAnnotation(){return this.billboardSelected?this.billboardAnnotation:null}updateCapabilities(e,t){const n=this.getCapabilities(e);n.atomic((()=>{n.dock=t.dock,n.preview=t.preview,n.share=t.share}))}getCapabilities(e){const t={dock:!0,preview:!0,select:!0,share:!0};this.capabilities.has(e)||this.capabilities.set(e,(0,o.c)(t));return this.capabilities.get(e)||(0,o.c)(t)}isEqual(e,t){return(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.annotationType)===(null==t?void 0:t.annotationType)}}},52678:(e,t,n)=>{"use strict";var i;n.d(t,{c:()=>i}),function(e){e.ACCESS_TOKEN_REQUIRED="object.access.token.required",e.FORBIDDEN="spaces.public.access.password.forbidden",e.INVALID_PASSWORD="spaces.public.access.invalid_password",e.TOO_MANY_ATTEMPTS="spaces.public.access.too_many_attempts",e.UNAUTHORIZED="user.unauthorized",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="model.unauthorized"}(i||(i={}))},30716:(e,t,n)=>{"use strict";var i;n.d(t,{L:()=>i}),function(e){e.INVALID_CREDENTIALS="invalidcredentials",e.TOO_MANY_ATTEMPTS="toomanyattempts",e.UNKNOWN="unknown"}(i||(i={}))},68137:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var i=n(82748);class r{constructor(){this.tokenMap=new Map;const e=(0,i.P3)("auth");if(this.authenticate(e),e)for(let e=1;e<=10;e++){const t=`auth${e}`,n=`m${e}`,r=(0,i.P3)(t),o=(0,i.P3)(n);if(!r||"string"!=typeof r||!o||"string"!=typeof o)break;{const e=r.replace(","," ");this.tokenMap.set(o,e)}}}isAuthenticated(){return!!this.token}authenticate(e){return!(!e||"string"!=typeof e)&&(this.token=e.replace(","," "),!0)}getAuthorizationHeader(e){let t=this.token?this.token:"";return e&&this.tokenMap.has(e)&&(t=this.tokenMap.get(e)),t}}},55066:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var i=n(9139),r=n(30716),o=n(52678),s=n(50380);const a=new i.Vy("mp-password-authentication");class l{constructor(e=window.location.origin){this.baseUrl=e,this.errorType=r.L.UNKNOWN}async authenticate(e,t){if(!e.match(/[a-zA-Z0-9]+/))return a.error(`Invalid Model ID ${e}`),!1;const n=`${this.baseUrl}/api/v2/models/${e}/public-access/`;return this.fetchToken(n,t).then((async e=>{let t={};return e&&(t=await e.json(),e.ok&&t.token)?(this.login(t.token),!0):(this.errorType=l.getErrorType(t.code),this.logout(),!1)}))}isAuthenticated(){return void 0!==l.token}login(e){l.token=e}logout(){l.token=void 0}getAuthorizationHeader(){return l.token?`Matterport-Object-Access ${l.token}`:""}async fetchToken(e,t){const n=JSON.stringify({password:t}),i={"Content-Type":"application/json"};return(0,s.v)(e,i,void 0),fetch(e,{method:"POST",cache:"no-cache",headers:i,body:n})}static getErrorType(e){switch(e){case o.c.TOO_MANY_ATTEMPTS:return r.L.TOO_MANY_ATTEMPTS;case o.c.INVALID_PASSWORD:return r.L.INVALID_CREDENTIALS}return r.L.UNKNOWN}}},80519:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});class i{static setToken(e){i.token="Bearer "+e}isAuthenticated(){return!!i.token}authenticate(e){return!(!e||"string"!=typeof e)}getAuthorizationHeader(){return i.token?i.token:""}}},76318:(e,t,n)=>{"use strict";var i,r;n.d(t,{MF:()=>i,Mo:()=>s,c5:()=>r,oY:()=>o}),function(e){e.BASE="base",e.STANDARD="standard",e.HIGH="high",e.ULTRAHIGH="ultrahigh"}(i||(i={})),function(e){e[e.BASE=512]="BASE",e[e.STANDARD=1024]="STANDARD",e[e.HIGH=2048]="HIGH",e[e.ULTRAHIGH=4096]="ULTRAHIGH"}(r||(r={}));const o={[i.BASE]:r.BASE,[i.STANDARD]:r.STANDARD,[i.HIGH]:r.HIGH,[i.ULTRAHIGH]:r.ULTRAHIGH},s={[r.BASE]:i.BASE,[r.STANDARD]:i.STANDARD,[r.HIGH]:i.HIGH,[r.ULTRAHIGH]:i.ULTRAHIGH}},56208:(e,t,n)=>{"use strict";n.d(t,{EY:()=>c,Q$:()=>i});var i,r=n(12625),o=n(3928),s=n(5601),a=n(23339),l=n(88664);class c extends r.B{constructor(e={}){super(),this.name="player-options",this.options=new u(e)}copy(e){e&&(this.modified=e.modified,this.options.copy(e.options),this.options.commit(),this.commit())}resetDefaultTourOptions(){this.options.fast_transitions=l.m7,this.options.transition_speed=l.iw,this.options.transition_time=l.SM,this.options.pan_speed=l.u7,this.options.dollhouse_pan_speed=l.qr,this.options.zoom_duration=l.R4,this.options.pan_angle=l.s8,this.options.pan_direction=l.ek,this.options.pan_alignment=l.K6,this.options.commit()}}class u extends o.v{constructor(e){super(),this.defurnish_view=!0,this.presented_by=!1,this.highlight_reel=!0,this.floor_plan=!0,this.tour_buttons=!0,this.room_bounds=!1,this.labels=!0,this.labels_dh=!0,this.floor_select=!0,this.space_search=!0,this.measurements=!0,this.measurements_saved=!0,this.dollhouse=!0,this.contact_email=!1,this.address=!1,this.contact_name=!1,this.model_summary=!1,this.contact_phone=!1,this.model_name=!1,this.external_url=!1,this.unit_type=a.t.IMPERIAL,this.background_color=s.v.default,this.fast_transitions=l.m7,this.transition_speed=l.iw,this.transition_time=l.SM,this.pan_speed=l.u7,this.dollhouse_pan_speed=l.qr,this.zoom_duration=l.R4,this.pan_angle=l.s8,this.pan_direction=l.ek,this.pan_alignment=l.K6,e&&this.copy(e)}copy(e){this.presented_by=!!e.presented_by,this.highlight_reel=!!e.highlight_reel,this.floor_plan=!!e.floor_plan,this.room_bounds=!!e.room_bounds,this.tour_buttons=!!e.tour_buttons,this.labels=!!e.labels,this.space_search=!!e.space_search,this.dollhouse=!!e.dollhouse,this.fast_transitions=!!e.fast_transitions,this.contact_email=!!e.contact_email,this.address=!!e.address,this.contact_name=!!e.contact_name,this.model_summary=!!e.model_summary,this.contact_phone=!!e.contact_phone,this.model_name=!!e.model_name,this.external_url=!!e.external_url,this.defurnish_view=!!e.defurnish_view,void 0!==e.measurements&&(this.measurements=e.measurements),void 0!==e.labels_dh&&(this.labels_dh=e.labels_dh),void 0!==e.floor_select&&(this.floor_select=e.floor_select),void 0!==e.measurements_saved&&(this.measurements_saved=e.measurements_saved),void 0!==e.unit_type&&(this.unit_type=e.unit_type),void 0!==e.background_color&&void 0!==s.v[e.background_color]&&(this.background_color=e.background_color),void 0!==e.transition_speed&&(this.transition_speed=e.transition_speed),void 0!==e.transition_time&&(this.transition_time=e.transition_time),void 0!==e.pan_speed&&(this.pan_speed=e.pan_speed),void 0!==e.dollhouse_pan_speed&&(this.dollhouse_pan_speed=e.dollhouse_pan_speed),void 0!==e.zoom_duration&&(this.zoom_duration=e.zoom_duration),void 0!==e.pan_angle&&(this.pan_angle=e.pan_angle),void 0!==e.pan_direction&&(this.pan_direction=e.pan_direction),void 0!==e.pan_alignment&&(this.pan_alignment=e.pan_alignment)}}!function(e){e.DefurnishView="defurnish_view",e.PresentedBy="presented_by",e.HighlightReel="highlight_reel",e.FloorPlan="floor_plan",e.RoomBounds="room_bounds",e.TourButtons="tour_buttons",e.Labels="labels",e.LabelsDollhouse="labels_dh",e.Measurements="measurements",e.FloorSelect="floor_select",e.SavedMeasurements="measurements_saved",e.Dollhouse="dollhouse",e.InstantTransitions="fast_transitions",e.TransitionSpeed="transition_speed",e.TransitionTime="transition_time",e.PanSpeed="pan_speed",e.DollhousePanSpeed="dollhouse_pan_speed",e.PanAlignment="pan_alignment",e.ZoomDuration="zoom_duration",e.PanAngle="pan_angle",e.PanDirection="pan_direction",e.Units="unit_type",e.DetailsEmail="contact_email",e.DetailsAddress="address",e.DetailsName="contact_name",e.DetailsSummary="model_summary",e.DetailsPhone="contact_phone",e.DetailsModelName="model_name",e.DetailsExternalUrl="external_url",e.BackgroundColor="background_color",e.SpaceSearch="space_search"}(i||(i={}))},5601:(e,t,n)=>{"use strict";n.d(t,{t:()=>r,v:()=>o});const i={bgPrimary:"#0F1011",bgSecondary:"#1e2023",gridPrimary:"#2d3035",gridSecondary:"#171a1c"},r={black:i,grey:{bgPrimary:"#c9cbcc",bgSecondary:"#9d9d9e",gridPrimary:"#c9cbcc",gridSecondary:"#b0b1b1"},white:{bgPrimary:"#fcfdff",bgSecondary:"#ced0d3",gridPrimary:"#fcfdff",gridSecondary:"#e2e3e5"},default:i};var o;!function(e){e.black="black",e.grey="grey",e.white="white",e.default="black"}(o||(o={}))},20563:(e,t,n)=>{"use strict";n.d(t,{GI:()=>c,Q8:()=>p,Wz:()=>l,X5:()=>u,X6:()=>a,ZT:()=>s,_W:()=>o,a_:()=>h,cC:()=>d});var i=n(52018);class r extends i.t{constructor(e="Api Exception"){super(e),this.name="ApiException"}}class o extends r{constructor(e="Unauthorized"){super(e),this.name="Unauthorized"}}class s extends r{constructor(e="Forbidden"){super(e),this.name="Forbidden"}}class a extends r{constructor(e="Not Found"){super(e),this.name="NotFound"}}class l extends r{constructor(e="Model Processing"){super(e),this.name="ModelProcessing",this.code="unavailable.processing"}}class c extends r{constructor(e="Model Failed"){super(e),this.name="ModelFailed",this.code="model.failed"}}class u extends r{constructor(e="Model Archived"){super(e),this.name="ModelArchived",this.code="unavailable.archived"}}class d extends r{constructor(e="Model Pending"){super(e),this.name="ModelPending",this.code="unavailable.pending"}}class h extends r{constructor(e="Model Deleted"){super(e),this.name="ModelDeleted",this.code="unavailable.gone"}}class p extends r{constructor(e="Model Compliance"){super(e),this.name="ModelCompliance",this.code="unavailable.compliance"}}},54882:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(97084),r=n(72853);async function o(e){return(0,r.J)(window.location.href)?e.get("https://static.matterport.com/geoip/",{responseType:"json",priority:i.QK.LOW}):{city:"",locality:"",continent:"",country_code:"",country_name:"",region:"",timezone:""}}},23338:(e,t,n)=>{"use strict";n.d(t,{Tw:()=>a,pN:()=>o,un:()=>s});var i=n(62366);let r=null;const o=e=>{r=e},s=()=>r,a=(e,t)=>(r&&(0,i.E)(e)&&(t["x-matterport-application-key"]=r),t)},20916:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,x:()=>o});var i=n(62366);let r=null;const o=e=>{r=e},s=(e,t)=>(r&&(0,i.E)(e)&&(t["x-matterport-application-name"]=r),t)},84217:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,k:()=>s});var i=n(62366);let r=null;const o=e=>{r=e},s=(e,t)=>(r&&(0,i.E)(e)&&(t["x-matterport-application-version"]=r),t)},50380:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var i=n(20916),r=n(84217),o=n(23338),s=n(55066),a=n(68137),l=n(80519);const c=[new a.e,new l.u,new s.l];var u=n(62366);const d=[(e,t,n,i=c)=>{const r=i.map((e=>e.getAuthorizationHeader(n))).find(Boolean);return r&&(0,u.E)(e)&&(t.authorization=r),t},i.F,r.k,o.Tw],h=(e,t,n,i=d)=>(i.forEach((i=>i(e,t,n))),t)},62366:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});const i=["matterport.com","matterportvr.cn","localhost"],r=["/api/"],o=e=>{let t;try{t=new URL(e.toLowerCase())}catch(e){return!1}const{hostname:n,pathname:o}=t,s=i.some((e=>n===e||n.endsWith(`.${e}`))),a=r.some((e=>o.startsWith(e)));return s&&a}},88664:(e,t,n)=>{"use strict";n.d(t,{K6:()=>f,R4:()=>d,SM:()=>l,ek:()=>p,iw:()=>a,m7:()=>s,qr:()=>u,s8:()=>h,u7:()=>c,zk:()=>o});var i=n(1333),r=n(60152);const o="TransitionType",s=!0,a=r.Dj,l=r.VD,c=r.BU,u=r.lo,d=r.cS,h=r.V4,p=i.ND.Auto,f="start"},30740:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var i=n(3928),r=n(3795);class o extends i.v{constructor(e){super(),this.category=r._A.EXTERNAL,this.mediaType=r.zu.IMAGE,this.mimeType="",this.src="",this.height=0,this.width=0,e&&Object.assign(this,e)}copy(e){return this.id=e.id,this.src=e.src,this.url=e.url,this.thumbnailUrl=e.thumbnailUrl,this.downloadUrl=e.downloadUrl,this.height=e.height,this.width=e.width,this.created=e.created,this.category=e.category,this.mediaType=e.mediaType,this.parentId=e.parentId||"",this.parentType=e.parentType,this.filename=e.filename,this.bytes=e.bytes,this.mimeType=e.mimeType||"",this}}},3795:(e,t,n)=>{"use strict";var i,r,o,s;n.d(t,{_A:()=>s,d3:()=>r,t2:()=>i,zu:()=>o}),function(e){e.FILE_TOO_LARGE="oversize",e.EMPTY_FILE="empty",e.OVER_QUOTA="overQuota",e.UPLOAD_FAILED="failed",e.PERMISSION_DENIED="permission"}(i||(i={})),function(e){e.EMBED_FAIL="embedFail",e.EMBED_SUCCESS="success"}(r||(r={})),function(e){e.IMAGE="image",e.PDF="pdf",e.VIDEO="video",e.RICH="rich",e.ZIP="zip",e.TEXT="text",e.AUDIO="audio",e.MODEL="model",e.APPLICATION="application"}(o||(o={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload",e.SANDBOX="sandbox"}(s||(s={}))},15684:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>o,LY:()=>r,iS:()=>i});const i=25,r=524288e3,o=["image/gif","image/png","image/jpeg","image/webp","image/bmp"]},87314:(e,t,n)=>{"use strict";n.d(t,{Y:()=>d,g:()=>u});var i=n(9139),r=n(64391),o=n(81587),s=n(3101),a=n(30740),l=n(3795);const c=new i.Vy("external-attachment-deserializer");class u{constructor(){}deserialize(e){if(!e||!this.validate(e))return c.debug("Deserialized invalid external attachment data from MDS",e),null;const t=new a.o;return t.id=e.id,t.created=(0,o.XH)(e.created),t.src=e.url||"",t.thumbnailUrl=new r.f(e.thumbnailUrl||"",(0,o.XH)(e.validUntil,null)),t.url=new r.f(e.url||"",(0,o.XH)(e.validUntil,null)),e.mediaType&&(t.mediaType=(0,s.P4)(e.mediaType)),t.category=l._A.EXTERNAL,e.width&&(t.width=e.width),e.height&&(t.height=e.height),t.parentType=e.parentDetails.type,t.parentId=e.parentDetails.parent.id,t}validate(e){if(!e)return!1;const t=["id","created","modified","mediaType","parentDetails"].filter((t=>!(t in e))),n=0===t.length;return n||c.debug("Attachment invalid:",{missingFields:t}),n}}const d=function(){return new u}},85275:(e,t,n)=>{"use strict";n.d(t,{V:()=>d,x:()=>u});var i=n(9139),r=n(64391),o=n(81587),s=n(3101),a=n(30740),l=n(3795);const c=new i.Vy("file-attachment-deserializer");class u{constructor(){}deserialize(e){if(!e||!this.validate(e))return c.debug("Deserialized invalid file attachment data from MDS",e),null;const t=new a.o;return t.id=e.id,t.created=(0,o.XH)(e.created),e.mimeType&&(t.mimeType=e.mimeType,t.mediaType=(0,s.uc)(e.mimeType)),t.category=l._A.UPLOAD,t.downloadUrl=new r.f(e.downloadUrl||"",(0,o.XH)(e.validUntil,null)),t.url=new r.f(e.url||"",(0,o.XH)(e.validUntil,null)),t.filename=e.filename||"",t.bytes=e.bytes||0,t.width=e.imageWidth||0,t.height=e.imageHeight||0,(0,s.L7)(t)&&(t.thumbnailUrl=t.url),t}validate(e){if(!e)return!1;return["id","created","url","mimeType","filename"].every((t=>t in e))}}const d=function(){return new u}},3101:(e,t,n)=>{"use strict";n.d(t,{L7:()=>s,P4:()=>d,X6:()=>p,c9:()=>l,ft:()=>h,rV:()=>a,rg:()=>c,uc:()=>u});var i=n(3795),r=n(15684),o=n(74381);function s(e){return e.category===i._A.EXTERNAL?e.mediaType===i.zu.IMAGE:!!e.mimeType&&r.Bo.includes(e.mimeType)}function a(e){return e.category===i._A.EXTERNAL||e.category===i._A.SANDBOX||!!e.mimeType&&r.Bo.includes(e.mimeType)}function l(e){return e.filter((e=>a(e)))}function c(e){return e.filter((e=>!a(e)))}function u(e){return e.startsWith("image")?i.zu.IMAGE:e.startsWith("video")?i.zu.VIDEO:e.startsWith("audio")?i.zu.AUDIO:e.startsWith("model")?i.zu.MODEL:e.startsWith("text")?i.zu.TEXT:"application/pdf"===e?i.zu.PDF:i.zu.APPLICATION}function d(e){switch(e){case o.I$.IMAGE:return i.zu.IMAGE;case o.I$.PDF:return i.zu.PDF;case o.I$.VIDEO:return i.zu.VIDEO;case o.I$.RICH:return i.zu.RICH;case o.I$.ZIP:return i.zu.ZIP;default:throw Error(`Unknown attachment media type ${e}`)}}function h(e){switch(e){case i.zu.IMAGE:return o.I$.IMAGE;case i.zu.PDF:return o.I$.PDF;case i.zu.VIDEO:return o.I$.VIDEO;case i.zu.RICH:return o.I$.RICH;case i.zu.ZIP:return o.I$.ZIP;default:throw Error(`Unknown media type ${e}`)}}function p(e){if(!e)return"0";const t=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),3),n=["B","kB","MB","GB"][t];return`${Number((e/Math.pow(1e3,t)).toFixed(1))}${n}`}},87263:(e,t,n)=>{"use strict";n.d(t,{ID:()=>r,Qi:()=>i,km:()=>o});const i="org.csgp.propertymatch.logo",r="org.csgp.propertymatch.tracking",o="org.csgp.propertymatch.backlink"},29200:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(12625);class r extends i.B{constructor(){super(...arguments),this.name="brand"}}},10389:(e,t,n)=>{"use strict";var i;n.d(t,{$:()=>i}),function(e){e.APARTMENTS="apartments",e.HOMES="homes",e.LOOPNET="loopnet",e.MATTERPORT="matterport"}(i||(i={}))},41616:(e,t,n)=>{"use strict";n.d(t,{a:()=>c,J:()=>l});var i=n(98236),r=n(29200),o=n(96540),s=n(17299),a=n(49812);const l=(0,i.v_)(r.b);function c(){const e=function(){var e;const t=(0,a.h)(),[n,i]=(0,o.useState)((null===(e=null==t?void 0:t.model)||void 0===e?void 0:e.externalListings)||[]);return(0,o.useEffect)((()=>{if(!t)return()=>{};function e(){t&&i(t.model.externalListings)}const n=t.onChanged(e);return e(),()=>n.cancel()}),[t]),n}(),t=(0,o.useMemo)((()=>(0,s.eO)(e)),[e]);return null!=t?t:null}},70400:(e,t,n)=>{"use strict";n.d(t,{$j:()=>r,Or:()=>s,cq:()=>o});var i=n(7478);class r extends i.QB{constructor(e){super(),this.brand=e}}class o extends i.QB{constructor(e){super(),this.backLink=e}}class s extends i.QB{constructor(e,t,n){super(),this.homesPropertyKey=e,this.listingType=t,this.listingId=n}}},17299:(e,t,n)=>{"use strict";n.d(t,{eO:()=>o,$Y:()=>s,R1:()=>a});const i=new Set(["0efc2d0d7d59174caebf82e4106fbe7ea8658679","3200e1619d5cd99a64826ebb5efee1d4a8416b00","a7932f15e3e81444061b143897c03f3d14e92fe2","baee3055c809401854bee5f766b04733e4ab8874","b05e433249e0f06c51976b10c9891144761a5249"]);const r=["Homes","Apartments","LoopNet"];function o(e){for(const t of r){const n=e.find((e=>e.listingType===t));if(n)return n}}function s(e){return e.find((e=>null!=e.homesPropertyKey))}async function a(e){if(!e)return!1;if(!window.crypto||!window.crypto.subtle)return!1;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-1",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(e);return i.has(t)}},28995:(e,t,n)=>{"use strict";n.d(t,{J:()=>f});var i=n(68909),r=n(3928),o=n(49988),s=n(12767),a=n(40397),l=n(81662),c=n(53172),u=n(52885),d=n(94814),h=n(19968),p=n(62568);class f extends r.v{constructor(e){super(),this.position=new i.Vector3,this.rotation=new i.Quaternion,this.focalDistance=-1,this._autoOrthoApplied=!1,this._shouldAutoOrtho=!0,this._frustum=new i.Frustum,this.fovCorrectedPosition=(()=>{const e=new i.Vector3;return()=>(e.copy(l.B1.FORWARD).applyQuaternion(this.rotation).multiplyScalar(this.fovCorrectionOffset()).add(this.position),e)})(),this.fovCorrectionOffsetVec=(()=>{const e=new i.Vector3;return()=>(e.copy(l.B1.FORWARD).applyQuaternion(this.rotation).multiplyScalar(-this.fovCorrectionOffset()),e)})(),this.focalPoint=(()=>{const e=new i.Vector3,t=new i.Vector3;return()=>(e.copy(l.B1.FORWARD).applyQuaternion(this.rotation).multiplyScalar(this.focalDistance),t.copy(this.position).add(e),t)})(),this.forward=(()=>{const e=new i.Vector3;return()=>(e.copy(l.B1.FORWARD).applyQuaternion(this.rotation),e)})(),this.right=(()=>{const e=new i.Vector3;return()=>(e.copy(l.B1.RIGHT).applyQuaternion(this.rotation),e)})(),this.left=(()=>{const e=new i.Vector3;return()=>(e.copy(l.B1.LEFT).applyQuaternion(this.rotation),e)})(),this.back=(()=>{const e=new i.Vector3;return()=>(e.copy(l.B1.BACK).applyQuaternion(this.rotation),e)})(),this.pitchFactor=(()=>{const e=(0,d.Bo)(.6,0,.88,.5);return()=>{const t=(0,c.H)(this.phi()),n=(0,c.H)(p.oO),i=Math.max((t-n)/(90-n),0),r=e(i),o=1-r,s=1-Math.round(r);return Math.abs(o-s)<=.001?s:o}})(),this.projection=(0,s.hn)(e),this.isPitchFactorOrthoObservable=new o.r((()=>(0,h.aY)(this.pitchFactor())),[this.onChanged.bind(this)]),this.isProjectionOrtho=new o.r((()=>(0,a.Gp)(this.projection)),[this.onChanged.bind(this)]),this.worldspaceFrustum=new o.r((()=>(0,h.tF)(this,this._frustum)),[this.onChanged.bind(this)]),this.isPitchFactorTransitionActive=new o.r((()=>{const e=Math.abs(this.pitchFactor());return e>0&&e<1}),[this.onChanged.bind(this)])}setAutoOrtho(e){this._shouldAutoOrtho=e}get autoOrtho(){return this._shouldAutoOrtho}get autoOrthoApplied(){return this._autoOrthoApplied}get isPitchFactorOrtho(){return this.isPitchFactorOrthoObservable.value}fovCorrectedFocalDistance(){return this.focalDistance/this.fovDistanceScale()}fovCorrectionOffset(){return this.focalDistance-this.fovCorrectedFocalDistance()}aspect(){return this.projection.elements[5]/this.projection.elements[0]}halfHeight(){return this.fovCorrectedFocalDistance()*Math.tan((0,c.pu)(s.Bv.fov/2))}fovDistanceScale(e){const{minFov:t}=s.Bv,n=null!=e?Math.max(e,t):this.isOrtho()?t:(0,c.H)(this.fovY());return Math.tan((0,c.pu)(s.Bv.fov/2))/Math.tan((0,c.pu)(n)/2)}phi(){return(0,h.rC)(this.rotation)}clone(e=new f(this.aspect())){return e.position.copy(this.position),e.rotation.copy(this.rotation),e.focalDistance=this.focalDistance,e.projection.copy(this.projection),e._autoOrthoApplied=this.autoOrthoApplied,e._shouldAutoOrtho=this.autoOrtho,e}applyPhiBasedFovSquish(){if(!this._shouldAutoOrtho)return;const e=(0,u.C)(0,s.Bv.fov,this.pitchFactor()),t=this.aspect(),n=this.fovCorrectedFocalDistance()*this.fovDistanceScale(e),{near:i,far:r}=(0,s.Li)(n);if(e>s.Bv.minFov)this.projection.makePerspectiveFov(e,t,i,r);else{const e=this.halfHeight(),t=this.aspect()*e;this.projection.makeOrthographic(-t,t,e,-e,i,r)}this.focalDistance=n,this.position.add(this.fovCorrectionOffsetVec()),this._autoOrthoApplied=!0}unapplyPhiBasedFovSquish(){if(!this._autoOrthoApplied)return;const e=this.fovCorrectedPosition().clone(),t=this.fovCorrectedFocalDistance();this.position.copy(e),this.focalDistance=t,this.resetProjMatrix(),this._autoOrthoApplied=!1}copy(e){return this.position.copy(e.position),this.rotation.copy(e.rotation),this.focalDistance=e.focalDistance,this.projection.copy(e.projection),this._autoOrthoApplied=e.autoOrthoApplied,this._shouldAutoOrtho=e.autoOrtho,this.commit(),this}isOrtho(){return(0,a.Gp)(this.projection)}fovX(){return 2*Math.atan(1*this.aspect()/this.projection.elements[5])}fovY(){return 2*Math.atan(1/this.projection.elements[5])}resetProjMatrix(){this.projection.makePerspectiveFov(s.Bv.fov,this.aspect(),s.Bv.near,s.Bv.far)}applyToCamera(e){e.position.copy(this.position),e.quaternion.copy(this.rotation);const t=this.projection.asThreeMatrix4();e.projectionMatrix.copy(t),e.projectionMatrixInverse.copy(t).invert(),e.updateMatrixWorld(!0)}}},10459:(e,t,n)=>{"use strict";n.d(t,{M:()=>v,q:()=>f});var i=n(12625),r=n(12767),o=n(40397),s=n(46771),a=n(53172),l=n(28995),c=n(13893),u=n(92237),d=n(68909),h=n(3928);class p extends h.v{constructor(){super(...arguments),this.startTime=0,this.duration=0,this.active=!1,this.autoOrtho=!1,this.type=null,this.progress=new u.z(0),this.blackoutProgress=new u.z(0),this.from={position:new d.Vector3,rotation:new d.Quaternion,projection:new s.k},this.to={position:new d.Vector3,rotation:new d.Quaternion,projection:new s.k},this.rotationDelay=0,this.rotationDuration=1,this.matrixDelay=0,this.matrixDuration=1,this.activeInternal=!1,this.promise=null,this.orbitTarget=null,this.orbitStartPhi=0,this.orbitStartDistance=0,this.instantOrbit=!1,this.fadeToBlackSubType=c.pw.Full}}const f=(e,t,n=!0)=>{t.position=m(e.position,t.position,n),t.rotation=m(e.rotation,t.rotation,n),t.projection=m(e.projection,t.projection,n),t.focalDistance=e.focalDistance},m=(e,t,n=!0)=>(e&&!t?t=e.clone():e&&t?t.copy(e):n&&(t=void 0),t);let g=0;class v extends i.B{constructor(e,t){super(),this.width=e,this.height=t,this.name="camera",this.id=""+g++,this.priority=0,this._baseProjection=new s.k,this._orthoMatrix=new s.k,this._lastOrthoZoom=1,this._perspectiveMatrix=new s.k,this._metersPerPx=null,this.pose=new l.J(e/t),this.transition=new p,this.setCameraDimensions(e,t),this._baseFovY=a.fy*r.Bv.fov,this.pose.onChanged((()=>this._metersPerPx=null))}setCameraDimensions(e,t){if(isNaN(e)||0===e||isNaN(t)||0===t)return;this.width=e,this.height=t,this._metersPerPx=null;const n=e/t,{near:i,far:s}=(0,r.Li)(this.pose.focalDistance),l=this.isOrtho()?(0,r.Ei)(e,t,t/(2*this.orthoZoom()),1,i,s,this._orthoMatrix):this._perspectiveMatrix.makePerspectiveFov(a.tm*this.fovY(),n,i,s);if(this.pose.projection.copy(l),this.transition.active&&this.transition.to.projection)if((0,o.Gp)(this.transition.to.projection)){const n=(0,o.BN)(this.transition.to.projection);this.transition.to.projection.copy((0,r.Ei)(e,t,t/(2*n),1))}else{const e=2*a.tm*Math.atan(1/this.transition.to.projection.elements[5]);this.transition.to.projection.makePerspectiveFov(e,n,r.Bv.near,r.Bv.far)}this.pose.commit(),this.commit()}setAutoOrtho(e){e!==this.pose.autoOrtho&&(this.pose.setAutoOrtho(e),e?this.pose.applyPhiBasedFovSquish():this.pose.unapplyPhiBasedFovSquish(),this.pose.commit())}setBaseProjection(e){this._baseProjection=e}get aspectRatio(){const e=this.width/this.height;return isFinite(e)?e:1}get screenDiagonalPx(){return Math.sqrt(this.width*this.width+this.height*this.height)}get baseFovY(){return this._baseFovY}aspect(){return this.pose.aspect()}fovY(){return this.pose.fovY()}fovX(){return this.pose.fovX()}isOrtho(){return this.pose.isOrtho()}baseZoom(){return this.pose.projection.elements[0]/2}defaultZoom(){return(0,o.Gp)(this._baseProjection)?(0,o.BN)(this._baseProjection):this.perspectiveZoom()}zoom(){return this.isOrtho()?this.orthoZoom():this.perspectiveZoom()}orthoZoom(){const e=(0,o.BN)(this.pose.projection);return isNaN(e)?this._lastOrthoZoom:(this._lastOrthoZoom=e,e)}perspectiveZoom(){return this.baseFovY/this.fovY()}metersPerPx(){return null==this._metersPerPx?(this._metersPerPx=(0,o.ff)(this.pose.focalDistance,this.pose.projection.asThreeMatrix4(),this.width),this._metersPerPx):this._metersPerPx}copyTransition(e){this.transition.active=e.active,this.transition.activeInternal=e.activeInternal,this.transition.type=e.type,this.transition.startTime=e.startTime,this.transition.duration=e.duration,this.transition.rotationDelay=e.rotationDelay,this.transition.rotationDuration=e.rotationDuration,this.transition.matrixDelay=e.matrixDelay,this.transition.matrixDuration=e.matrixDuration,this.transition.fadeToBlackSubType=e.fadeToBlackSubType,e.progress&&this.transition.progress.copy(e.progress),e.blackoutProgress&&this.transition.blackoutProgress.copy(e.blackoutProgress),e.from&&f(e.from,this.transition.from),e.to&&f(e.to,this.transition.to),this.transition.promise=e.promise}canTransition(){return!this.transition.active}clone(){const e=new v(this.width,this.height);return e.copy(this),e}copy(e){this.pose.copy(e.pose),this.pose.commit(),this._baseFovY=e.baseFovY,this.copyTransition(e.transition),this.transition.commit(),this.width=e.width,this.height=e.height}equals(e){return this.id===e.id}}},12767:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>r,Ei:()=>a,Li:()=>o,hn:()=>s});var i=n(46771);const r={fov:75,near:.1,far:3e3,minFov:1},o=e=>{const t=r.far-r.near,n=Math.max(r.near,e-t/2);return{near:n,far:n+t}},s=(e,t)=>(t||(t=new i.k),t.makePerspectiveFov(r.fov,e,r.near,r.far)),a=(e,t,n=1,o=1,s=r.near,a=r.far,l)=>{l||(l=new i.k);const c=e/2,u=t/2,d=l.makeOrthographic(-c,c,u,-u,s*o,a*o);return d.elements[0]*=n,d.elements[5]*=n,d}},642:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var i=n(98236),r=n(10459);const o=(0,i.v_)(r.M)},94609:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var i=n(96540),r=n(642);function o(){const e=(0,r.R)(),[t,n]=(0,i.useState)(e?e.pose.pitchFactor():1);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged((()=>{n(e.pose.pitchFactor())}));return n(e.pose.pitchFactor()),()=>{t.cancel()}}),[e]),t}},13893:(e,t,n)=>{"use strict";var i,r,o;n.d(t,{fl:()=>i,mG:()=>o,pw:()=>r}),function(e){e[e.Instant=0]="Instant",e[e.FadeToBlack=1]="FadeToBlack",e[e.Interpolate=2]="Interpolate",e[e.MoveToBlack=3]="MoveToBlack",e[e.OrbitTo=4]="OrbitTo"}(i||(i={})),function(e){e[e.Full=0]="Full",e[e.ClearToBlack=1]="ClearToBlack",e[e.BlackToClear=2]="BlackToClear"}(r||(r={})),function(e){e[e.Top=1]="Top",e[e.Bottom=2]="Bottom"}(o||(o={}))},62568:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>l,Xj:()=>h,l6:()=>a,mn:()=>s,oO:()=>d,xl:()=>c});var i=n(44351),r=n(13893),o=n(53172);const s=166,a="Transition time",l=Object.freeze({camera:{transitionBlackoutTime:300,transitionFadeTime:800,baseTransitionTime:200,transitionSpeed:3,autoOrbitMinVelocity:.002,autoOrbitMaxVelocity:.08,autoOrbitTransitionTIme:1e3,autoOrbitLowerPhiLimit:30*o.fy,autoOrbitUpperPhiLimit:90*o.fy}});function c(e){return e in u?u[e]:r.fl.FadeToBlack}const u={[i.o.Desktop]:r.fl.Interpolate,[i.o.Mobile]:r.fl.Interpolate,[i.o.VrOrientOnly]:r.fl.FadeToBlack,[i.o.VrWithController]:r.fl.FadeToBlack,[i.o.VrWithTrackedController]:r.fl.FadeToBlack,[i.o.VrTransientPointer]:r.fl.FadeToBlack,[i.o.VrUnknown]:r.fl.FadeToBlack},d=75*o.fy,h=d-.01*o.fy},19968:(e,t,n)=>{"use strict";n.d(t,{Ft:()=>g,OG:()=>m,aY:()=>y,bA:()=>d,bz:()=>u,jn:()=>h,n4:()=>b,rC:()=>E,tF:()=>S,wc:()=>f,zH:()=>v});var i=n(68909),r=n(81662),o=n(28995),s=n(3249),a=n(52885),l=n(62568),c=n(13893);const u=(()=>{const e=new i.Matrix4,t=new i.Matrix4;return(n,r,o,s)=>(o=o||new i.Vector2,s=s||new i.Vector3,p(n.pose,t),e.copy(t),e.invert(),s.set(r.x,r.y,r.z).applyMatrix4(e).applyMatrix4(n.pose.projection.asThreeMatrix4()),v(n.width,n.height,s,o),{screenPosition:o,ndcPosition:s})})(),d=(()=>{const e=new i.Vector3,t=new i.Vector2;return(n,i,r,o,s,a)=>(e.copy(h(n,i,r,a)),v(o,s,e,t),t)})(),h=(()=>{const e=new i.Matrix4,t=new i.Matrix4,n=new i.Vector3;return(i,o,s,a)=>(e.compose(o,s,r.B1.UNIT),t.copy(e),t.invert(),n.copy(i).applyMatrix4(t).applyMatrix4(a),n)})(),p=(e,t)=>(t=t||new i.Matrix4).compose(e.position,e.rotation,r.B1.UNIT),f=(e,t,n,r,o)=>((o=o||new i.Vector2).x=e/n*2-1,o.y=-t/r*2+1,o),m=(e,t,n=.5,r)=>((r=r||new i.Vector3).x=t.x,r.y=t.y,r.z=n,g(e.pose,r)),g=(()=>{const e=new i.Matrix4,t=new i.Matrix4;return(n,r,o)=>((o=o||new i.Vector3).copy(r),t.copy(n.projection.asThreeMatrix4()),t.invert(),p(n,e),o.applyMatrix4(t).applyMatrix4(e))})(),v=(e,t,n,r)=>((r=r||new i.Vector2).set((n.x+1)*e/2,(1-n.y)*t/2),r),y=e=>Math.abs(e)<.1,E=(()=>{const e=new i.Vector3,t=new i.Vector3,n=new i.Vector3;return i=>{e.copy(r.B1.FORWARD).applyQuaternion(i).multiplyScalar(-1),t.copy(r.B1.UP).applyQuaternion(i);const o=t.dot(r.B1.UP)<=0;n.set(e.x,0,e.z);const s=o?-n.length():n.length(),a=e.y;return Math.atan2(a,s)}})(),S=(()=>{const e=new i.Vector3(-1,-1,-1),t=new i.Vector3,n=new i.Vector3(1,-1,-1),r=new i.Vector3,o=new i.Vector3(1,1,-1),s=new i.Vector3,a=new i.Vector3(-1,1,-1),l=new i.Vector3,c=new i.Vector3(-1,-1,1),u=new i.Vector3,d=new i.Vector3(1,-1,1),h=new i.Vector3,f=new i.Vector3(1,1,1),m=new i.Vector3,g=new i.Vector3(-1,1,1),v=new i.Vector3,y=new i.Matrix4,E=new i.Matrix4;return(S,b)=>(b=b||new i.Frustum,E.copy(S.projection.asThreeMatrix4()),E.invert(),p(S,y),t.copy(e),t.applyMatrix4(E).applyMatrix4(y),r.copy(n),r.applyMatrix4(E).applyMatrix4(y),s.copy(o),s.applyMatrix4(E).applyMatrix4(y),l.copy(a),l.applyMatrix4(E).applyMatrix4(y),u.copy(c),u.applyMatrix4(E).applyMatrix4(y),h.copy(d),h.applyMatrix4(E).applyMatrix4(y),m.copy(f),m.applyMatrix4(E).applyMatrix4(y),v.copy(g),v.applyMatrix4(E).applyMatrix4(y),b.planes[0].setFromCoplanarPoints(t,l,s),b.planes[1].setFromCoplanarPoints(u,h,m),b.planes[2].setFromCoplanarPoints(t,u,v),b.planes[3].setFromCoplanarPoints(t,r,h),b.planes[4].setFromCoplanarPoints(r,s,m),b.planes[5].setFromCoplanarPoints(s,l,v),b)})(),b=(()=>{const e=new i.Vector3,t=new i.Vector3,n=new i.Quaternion,a=new i.Vector3,u=new i.Quaternion;let d=null;return(i,h,p,f,m,g)=>{null==d&&(d=new o.J(1));const v=l.Ay.camera.autoOrbitUpperPhiLimit,y=l.Ay.camera.autoOrbitLowerPhiLimit,S=i;d.copy(S),d.unapplyPhiBasedFovSquish();const b=S.phi(),T=y-b,A=v-b,w=h===c.mG.Top?A:T,N=m?w:_(b,p,h),I=(0,s.qE)(N,T,A),R=v-b<1e-10,k=b-y<1e-10;if(h===c.mG.Top?R:k)return 1;const L=f;e.copy(r.B1.FORWARD).applyQuaternion(S.rotation),e.setLength(L),e.addVectors(S.fovCorrectedPosition(),e),t.copy(r.B1.RIGHT),n.setFromAxisAngle(t.applyQuaternion(S.rotation),-I),a.copy(S.fovCorrectedPosition()).sub(e).applyQuaternion(n),u.copy(S.rotation).premultiply(n),a.add(e),u.normalize(),E(u)>=v&&O(u),d.position.copy(a),d.rotation.copy(u),d.focalDistance=L,d.applyPhiBasedFovSquish(),g.copy(d);const P=h===c.mG.Top?v:y,D=Math.abs((g.phi()-p)/(P-p));return(0,s.qE)(D,0,1)}})(),_=(e,t,n)=>{const i=n===c.mG.Top?1:-1,r=n===c.mG.Top?l.Ay.camera.autoOrbitUpperPhiLimit:l.Ay.camera.autoOrbitLowerPhiLimit,o=Math.abs((r-e)/(r-t));return i*(0,a.C)(l.Ay.camera.autoOrbitMinVelocity,l.Ay.camera.autoOrbitMaxVelocity,o)*2},O=(()=>{const e=r.B1.RIGHT.clone(),t=r.B1.UP.clone(),n=r.B1.BACK.clone(),o=new i.Matrix4;return i=>{e.copy(r.B1.RIGHT),t.copy(r.B1.UP),n.copy(r.B1.BACK),e.applyQuaternion(i),e.y=0,t.applyQuaternion(i),t.y=0,n.applyQuaternion(i),n.x=0,n.y=1,n.z=0,o.makeBasis(e,t,n),i.setFromRotationMatrix(o)}})()},26482:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,n:()=>s});var i=n(66806),r=n(12625);class o extends r.B{constructor(e,t,n){super(),this.name="cam-start",this.moveCameraOnViewChange=!0,this.icon=e,this.thumb=t,this.pose=new s,n&&this.pose.copy(n)}copy(e,t=!1){var n;return this.icon=e.icon,t?e.thumb&&(null===(n=this.thumb)||void 0===n||n.refreshFrom(e.thumb)):this.thumb=e.thumb,this.pose.copy(e.pose),this}getStartingPose(){return this.deepLinkPose||this.pose}get hasCameraPose(){return this.pose&&this.pose.camera&&void 0!==this.pose.camera.position}}class s{constructor(e=i.N.Panorama,t,n,r,o,s){this.mode=e,this.camera={position:t||void 0,rotation:n||void 0,zoom:r||void 0},this.pano=o||{uuid:void 0},this.floorVisibility=s||void 0}copy(e){return this.camera.position=a(e.camera.position,this.camera.position),this.camera.rotation=a(e.camera.rotation,this.camera.rotation),this.camera.zoom=e.camera.zoom,this.pano.uuid=e.pano.uuid?e.pano.uuid.slice():void 0,this.mode=e.mode,this.floorVisibility=e.floorVisibility?e.floorVisibility.slice():void 0,this}}const a=(e,t)=>e&&t?t.copy(e):e&&!t?e.clone():void 0},74328:(e,t,n)=>{"use strict";n.d(t,{s:()=>p});var i=n(68909),r=n(2993),o=n(66806),s=n(9139),a=n(82748),l=n(86866),c=n(44455),u=n(97696);const d=new s.Vy("navurl");class h extends Error{constructor(e,t){super(`view mode ${e} is invalid${t?` when ${t}`:""}`)}}class p{static encodeVector3(e,t=2){const{x:n,y:i,z:r}=e;return p.packFloats([n,i,r],t)}static decodeVector3(e){const t=p.unpackFloats(e,3);return t?new i.Vector3(...t):null}static encodeQuaternion(e,t=2){return p.packFloats([e.x,e.y,e.z,e.w],t)}static decodeQuaternion(e){const t=p.unpackFloats(e,4);return t&&!(0,c.PH)(t)?new i.Quaternion(...t):null}static encodeEuler(e,t=2){return p.packFloats([e.x,e.y,e.z],t)}static decodeEuler(e){const t=p.unpackFloats(e,3);return t?new i.Euler(t[0],t[1],t[2],"XYZ"):void 0}static packFloats(e,t=2){let n=e.map((e=>{const n=parseFloat(e.toFixed(t)).toString().replace(/^(\-)?0+.(\d+)/,"$1.$2");return"0"===n?"":n})).join(",");return n=n.replace(/,+$/,""),n}static unpackFloats(e,t=0){const n=e.split(",").map((e=>""===e?0:parseFloat(e)));if(!n||n.includes(NaN))return[];for(;n.length<t;)n.push(0);return n}static getQueryString(e,t=!0){return p.serialize(e,t).toString()}static serialize(e,t=!0){const n=p.removeNavigationKeys();try{if(t){const t=p.getShortPose(e);for(const[e,i]of Object.entries(t))n.set(e,i)}else{const t=p.getStartPose(e),i=JSON.stringify(t);n.set("start",i)}}catch(e){d.debug(e)}return n}static deserialize(e=window.location.href){try{const t=new URL(e.trim()).searchParams,n=t.get("start");return n?p.parseStartObject(n):p.parseShortUrl(t)}catch(e){d.debug(e)}return null}static removeNavigationKeys(){const e=(0,a.DE)();for(const t of p.navigationKeys)e.delete(t);return e}static get navigationKeys(){return new Set(["start","sm","sp","sq","sr","ss","sf","sz"])}static parseShortUrl(e){const t=e.get("sm"),n=e.get("sp"),o=e.get("sq"),s=e.get("sr"),a=e.get("ss"),c=e.get("sf"),u=e.get("sz"),f=p.parseViewmode(t),m=p.decodeEuler(s||"")||new i.Euler(0,0,0),g=p.decodeQuaternion(o||"")||new i.Quaternion(0,0,0,1),v=n?p.decodeVector3(n):void 0,y=a?parseInt(a,10)-1:void 0,E=c?p.unpackFloats(c,4):void 0,S=u?parseFloat(u):void 0;if((0,r.nI)(f)&&void 0===y)throw new h(f,"sweep index not defined");if(!(0,r.nI)(f)&&!v)throw new h(f,"position is falsy");let b=o?g:(new i.Quaternion).setFromEuler(m);(0,r.nI)(f)&&(b=(0,l.V5)(b));const _={mode:f,quaternion:b,position:v||void 0,sweepIndex:y,floorVisibility:E,zoom:S};return d.debug("Parsed short URL pose data:",_),_}static parseStartObject(e){const t=JSON.parse(decodeURIComponent(e));if(!t.camera_quaternion)throw Error("Start override is missing camera_quaternion");if(!t.camera_position)throw Error("Start override is missing camera_position");const n=p.parseViewmode(t.camera_mode),r=(new i.Quaternion).copy(t.camera_quaternion),o={mode:n,panoId:t.scan_id,position:(new i.Vector3).copy(t.camera_position),quaternion:r,zoom:t.ortho_zoom,floorVisibility:t.floor_visibility};return d.debug("Parsed &start URL pose data:",o),o}static getShortPose({cameraData:e,viewmodeData:t,floorsViewData:n,sweepData:r}){const s=(new i.Euler).setFromQuaternion(e.pose.rotation,"XYZ"),a=r.currentSweepIndex,l={};if(t.isInside())void 0!==a&&(l.ss=a+1),s.z=0,l.sr=p.encodeEuler(s),t.currentMode===o.N.Mesh&&(l.sm=p.validateViewmode(t.currentMode));else{const{position:i,viewmode:r}=(0,u.nF)(e,n,t);l.sm=p.validateViewmode(r),l.sr=p.encodeEuler(s),l.sp=p.encodeVector3(i);const a=n.getFloorsVisibility();a.length&&n.totalFloors>1&&(l.sf=a),r===o.N.Floorplan&&(l.sz=parseFloat(e.zoom().toFixed(2)))}return l.sq=p.encodeQuaternion(e.pose.rotation),d.debug(`Short URL params for current location ${JSON.stringify(l)}`),delete l.sq,l}static getStartPose({cameraData:e,viewmodeData:t,floorsViewData:n,sweepData:i}){const r={x:0,y:0,z:0,w:1};r.x=e.pose.rotation.x,r.y=e.pose.rotation.y,r.z=e.pose.rotation.z,r.w=e.pose.rotation.w;const{position:s,viewmode:a}=(0,u.nF)(e,n,t),l={x:0,y:0,z:0};l.x=s.x,l.y=s.y,l.z=s.z;const c={camera_mode:p.validateViewmode(a),camera_position:l,camera_quaternion:r};return t.isInside()?c.scan_id=i.state.currentSweep:c.floor_visibility=n.getFloorsVisibility(),a===o.N.Floorplan&&(c.ortho_zoom=e.zoom()),c}static parseViewmode(e){let t=p.DEFAULT_VIEW_MODE;return null!=e&&(t=parseInt(e,10)),p.validateViewmode(t)}static validateViewmode(e){if(null===e||!p.VALID_URL_VIEW_MODES.includes(e))throw new h(e);return e}}p.DEFAULT_VIEW_MODE=o.N.Panorama,p.VALID_URL_VIEW_MODES=[o.N.Panorama,o.N.Dollhouse,o.N.Floorplan,o.N.Outdoor,o.N.Mesh,o.N.ExteriorSplat]},78711:(e,t,n)=>{"use strict";n.d(t,{X:()=>s,d:()=>o});var i=n(2993);const r=new(n(9139).Vy)("camera-start-util");function o(e,t){const{mode:n,quaternion:i,position:o,floorVisibility:s,sweepIndex:a,zoom:l}=e;let{panoId:c}=e;if(c&&!t.containsSweep(c)){const e=t.getSweepByUuid(c);e&&(c=e.id)}if(!c&&void 0!==a){const e=t.getSweepByIndex(a);e?c=e.id:r.debug(`Failed to load sweep index ${a}`)}return{mode:n,camera:{position:o,rotation:i,zoom:l},pano:{uuid:c},floorVisibility:s}}function s(e,t){return!!e&&(!(0,i.nI)(e.mode)||!!e.pano.uuid&&t.containsSweep(e.pano.uuid))}},37105:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var i=n(12625);class r extends i.B{constructor(e,t,n){super(),this.name="canvas",this.x=0,this.y=0,this.width=e||0,this.height=t||0,this.canvas=n||null}get aspectRatio(){const e=this.width/this.height;return isFinite(e)?e:1}}},7477:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var i=n(98236),r=n(37105);const o=(0,i.v_)(r.p)},76894:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,d:()=>i});const i="compare",r="feature/compare"},58480:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var i=n(12625),r=n(97994),o=n(44879);class s extends i.B{get size(){return this.sizeObservable.value}set size(e){this.sizeObservable.value=e}constructor(e){super(),this.name="container",this.sizeObservable=new r.L({width:0,height:0}),this.orientation=o.U.LANDSCAPE,this.element=e,this.mainElement=e.querySelector("main")||e,this.rootNode=e.getRootNode()}onPropertyChanged(e,t){return"size"===e?this.sizeObservable.onChanged(t):super.onPropertyChanged(e,t)}removeOnPropertyChanged(e,t){"size"===e?this.sizeObservable.removeOnChanged(t):super.removeOnPropertyChanged(e,t)}}},78197:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,B:()=>l});var i=n(87805),r=n(58480),o=n(38064);const s={width:0,height:0};function a(e){return(0,i.Z)(r.G,"size",e||s)}const l=(0,o.c)("containerSize",a)},19072:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var i=n(77570),r=n(96540);function o(){return(0,r.useContext)(i.B).mainDiv}},44879:(e,t,n)=>{"use strict";var i;n.d(t,{U:()=>i}),function(e){e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE"}(i||(i={}))},87419:(e,t,n)=>{"use strict";n.d(t,{NT:()=>r,bx:()=>o,cB:()=>i});const i="features/auto-defurnish",r="spaces.bundles.mp.defurnish";const o="overlayViews"},44120:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var i=n(56547),r=n(4717);function o(){const e=(0,r.G)();return!!e&&(0,i.AF)(e)}},78649:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(7478);class r extends i.QB{}},51313:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.floorId=e,this.floorName=t}}},89928:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.from=e,this.to=t}}},58229:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var i=n(12625),r=n(88325),o=n(53282),s=n(79875);class a extends i.B{constructor(e){super(),this.name="floors",this.floors=(0,r.y)(e)}onNameChange(e){let t=[];return(0,o.Sh)((()=>{this.getOrderedValues().forEach(((n,i)=>{t.push(n.onPropertyChanged("name",e))}))}),(()=>{t.forEach((e=>e.cancel())),t=[]}),!0)}addFloor(e){this.floors.set(e.id,e)}getFloor(e){if(!this.floors.has(e))throw new s.v;return this.floors.get(e)}tryGetFloor(e){return this.floors.get(e)}hasFloor(e){return this.floors.has(e)}getFloorAtIndex(e){return this.floors.values.find((t=>t.index===e))}getFloorByMeshGroup(e,t){const n=t?n=>n.meshGroup===e&&n.sourceViewIds.has(t):t=>t.meshGroup===e;return this.floors.values.find(n)}getFloorCount(){return this.floors.length}isMultifloor(){return this.getFloorCount()>1}getCollection(){return this.floors}iterate(e){return this.getOrderedValues().forEach(e)}getClosestFloorAtHeight(e){let t=this.floors.values[0],n=1/0;for(const i of this.floors){const r=Math.abs(i.medianSweepHeight()-e);n>r&&(n=r,t=i)}return t}getMinHeight(){let e=Number.MAX_SAFE_INTEGER;for(const t of this.floors){const n=t.boundingBox;n.min.y<=e&&(e=n.min.y)}return e}rename(e,t){if(void 0===t)throw new Error("Text Required");if(!this.floors.has(e))return;const n=this.floors.get(e);n.name=t,n.commit()}getOrderedValues(e=()=>!0){return this.floors.values.filter(e).sort(((e,t)=>e.index-t.index))}getFloorIdMap(e){const t={};for(const n of this.floors.values)e?t[String(n.index)]=n.id:t[n.id]=String(n.index);return t}}},79875:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var i=n(52018);class r extends i.t{constructor(e="Invalid Floor"){super(e),this.name="InvalidFloorException"}}},39209:(e,t,n)=>{"use strict";n.d(t,{X:()=>S});var i=n(12625),r=n(4850),o=n(97994),s=n(49988),a=n(92237),l=n(56147),c=n(88325),u=n(14614),d=n(50018),h=n(3928);class p extends h.v{constructor(){super(...arguments),this.hidden=!1,this.navigable=!0,this.hasEnabledAlignedSweeps=!1,this.hasEnabledUnalignedSweeps=!1}}class f{constructor(e,t,n,i,r,o){this.floors=e,this.viewmodeData=t,this.sweepData=n,this.applicationData=i,this.currentFloorObservable=r,this.navigableFloorIds=o,this.bindings=[],this.states=new c.E,this.hasEnabledAlignedSweeps=!1,this.updateFloorSweepData=()=>{const e=this.sweepData;this.isEditMode()||(this.states.values.forEach((e=>{e.hasEnabledAlignedSweeps=!1,e.hasEnabledUnalignedSweeps=!1})),e.iterate((e=>{if(null!==e.floorId){let t=this.getState(e.floorId);t||(t=this.initializeFloorState(e.floorId)),e.alignmentType===d.c$.ALIGNED?t.hasEnabledAlignedSweeps||(t.hasEnabledAlignedSweeps=e.enabled):t.hasEnabledUnalignedSweeps||(t.hasEnabledUnalignedSweeps=e.enabled),t.commit(),this.hasEnabledAlignedSweeps||(this.hasEnabledAlignedSweeps=e.enabled)}}))),this.updateNavigable()},this.updateHidden=()=>{const e=!this.currentFloorId,t=this.isViewingAlignedPano();this.states.keys.forEach((n=>{const i=!!n&&n===this.currentFloorId,r=this.getState(n);r.hidden=!(e||i||t),r.commit()}))},this.updateNavigable=()=>{const e=this.isEditMode(),t=this.isViewingAlignedPano(),n=this.viewmodeData.isDollhouse()||this.viewmodeData.isFloorplan();this.states.keys.forEach((i=>{const r=this.getState(i);r.navigable=!!e||(t?r.hasEnabledAlignedSweeps:!!n||(r.hasEnabledAlignedSweeps||r.hasEnabledUnalignedSweeps)),r.commit()}));const i=[];this.floors.iterate((e=>{this.getState(e.id).navigable&&i.push(e.id)})),this.navigableFloorIds.replace(i)},this.bindings.push(t.makeModeChangeSubscription(this.updateHidden),n.makeSweepChangeSubscription(this.updateHidden),r.onChanged(this.updateHidden),t.makeModeChangeSubscription(this.updateNavigable),n.makeSweepChangeSubscription(this.updateNavigable),n.onSweepsChanged(this.updateFloorSweepData),i.onPropertyChanged("application",this.updateFloorSweepData),e.onPropertyChanged("sourceViewId",(()=>{this.initializeFloorStates(),this.updateFloorSweepData(),this.updateHidden()}))),this.initializeFloorStates(),this.updateFloorSweepData(),this.updateHidden()}getState(e){return this.states.get(e)}isViewingAlignedPano(){return this.viewmodeData.isInside()&&void 0!==this.sweepData.currentAlignedSweepObject}isEditMode(){return this.applicationData.application===u.lg.WORKSHOP}get currentFloorId(){return this.currentFloorObservable.value?this.currentFloorObservable.value.id:null}initializeFloorStates(){this.floors.iterate((e=>this.initializeFloorState(e.id)))}initializeFloorState(e){const t=new p;return this.states.set(e,t),t}}var m=n(72773),g=n(79875);function v(e,t){return e}const y={floorChangesEnabled:()=>!0};let E=0;class S extends i.B{constructor(e,t,n,i,l,c,u=""){super(),this.sourceViewId=u,this.name="floors-view",this.id=""+E++,this.floorSelectable=!1,this.navigableFloorIds=new r.X,this.currentFloorObservable=new o.L(null),this.transitionObservable=new o.L({from:null,to:null,progress:new a.z(0),promise:Promise.resolve()}),this._observableFloorsSelectMode=new o.L(!1),this._observableRoomSelectMode=new o.L(!1),this._showFloorSelection=new o.L(!1),this.onlyShowActiveFloor=new o.L(!1),this.showAllFloorsOption=!0,this.floorSelectHoverEnabled=!0,this.getFloorMin=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).bottom},this.getFloorMinPlane=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).groundPlane},this.getFloorCentroid=(e,t)=>{const n=t||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(n).boundingBox.getCenter(e)},this.isHidden=e=>"string"==typeof e&&this.stateHelper.getState(e).hidden,this.isNavigable=e=>"string"==typeof e&&this.stateHelper.getState(e).navigable,this.updateViewData=()=>{this.floors.iterate((e=>{this.derivedData[e.id]={id:e.id,index:e.index,name:this.getFloorName(e.id),sourceViewIds:e.sourceViewIds}})),this.commit()},this.getViewData=e=>{if(!this.derivedData[e]){const t=this.floors.getFloor(e);this.derivedData[e]={id:t.id,index:t.index,name:this.getFloorName(t.id),sourceViewIds:t.sourceViewIds}}return this.derivedData[e]},this.getAllViewData=()=>{const e=[];return this.floors.iterate((t=>{t.sourceViewIds.has(this.sourceViewId)&&e.push(this.getViewData(t.id))})),e},this.getFloor=e=>this.floors.getFloor(e),this.floors=e,this.config=null!=c?c:y,this.localize=null!=l?l:v,this.derivedData={},this.stateHelper=new f(this,t,n,i,this.currentFloorObservable,this.navigableFloorIds),this.updateViewData(),this.currentFloorNoTransitionObservable=new s.r((()=>this.transitionActive?null:this.currentFloorId),[e=>this.currentFloorObservable.onChanged(e),e=>this.transitionObservable.onChanged(e)])}isCurrentOrAllFloors(e){return!e||!this.currentFloorId||e===this.currentFloorId}isCurrentMeshGroupOrAllFloors(e){return this.currentFloorMeshGroup===m.nT||this.currentFloorMeshGroup===e}isCurrentFloorIndexOrAllFloors(e){return this.currentFloorIndex===e||this.currentFloorIndex===m.Zu}makeFloorChangeSubscription(e){return this.currentFloorObservable.onChanged(e)}get currentFloor(){return this.currentFloorObservable.value}get currentFloorId(){var e;return(null===(e=this.currentFloorObservable.value)||void 0===e?void 0:e.id)||null}get currentFloorIndex(){return this.currentFloorObservable.value?this.currentFloorObservable.value.index:m.Zu}get currentFloorMeshGroup(){return this.currentFloorObservable.value?this.currentFloorObservable.value.meshGroup:m.nT}getFloorIndexForMeshGroup(e){if(e===m.nT)return m.Zu;const t=this.floors.getFloorByMeshGroup(e,this.sourceViewId);return t?t.index:m.Zu}orderedFloors(){return this.floors.getOrderedValues((e=>e.sourceViewIds.has(this.sourceViewId)))}get bottomFloorId(){const e=this.orderedFloors();if(!e.length)throw new g.v("Cannot get bottom floor, model has no floors");return e[0].id}get topFloorId(){return this.getTopFloor().id}getTopFloor(){const e=this.orderedFloors();if(!e.length)throw new g.v("Cannot get top floor, model has no floors");return e[e.length-1]}get singleFloor(){if(1===this.floors.getFloorCount())return this.floors.getFloorAtIndex(0)}isMultifloor(){return this.floors.isMultifloor()}get nearestFloorId(){return this.transitionActive?this.transition.progress.value>.5?this.transition.to:this.transition.from:this.currentFloorId}get nearestFloor(){const e=this.nearestFloorId;return e?this.floors.getFloor(e):void 0}get transitionActive(){return this.transition.progress.active}get transition(){return this.transitionObservable.value}transitionToFloorInstant(e){this.currentFloorObservable.value=e?this.floors.getFloor(e):null,this.commit()}transitionToFloor(e,t,n,i){const r=this.transitionObservable.value.progress;r.modifyAnimation(0,1,n),this.transitionObservable.value={from:e,to:t,progress:r,promise:i},this.commit(),i.then((()=>{this.transitionToFloorInstant(t)}))}get totalFloors(){return this.floorsEnabled?this.orderedFloors().length:1}hasEnabledAlignedSweeps(e){return null!==e?this.stateHelper.getState(e).hasEnabledAlignedSweeps:this.stateHelper.hasEnabledAlignedSweeps}getNavigableFloorIds(){return this.navigableFloorIds.values()}getHighestVisibleFloor(){return this.currentFloor?this.currentFloor:this.getTopFloor()}getHighestVisibleFloorId(){return this.getHighestVisibleFloor().id}getFloorIdMap(){const e={};return this.iterate((t=>{e[t.id]={id:t.id,name:t.name,items:[]}})),e}iterate(e){this.floors.iterate((t=>{if(!t.sourceViewIds.has(this.sourceViewId))return;const n=this.getViewData(t.id);n&&e(n)}))}getFloorNames(){const e=[];return this.floorsEnabled?(this.floors.iterate((t=>{e[t.index]=this.getFloorName(t.id)})),e):e}getFloorName(e){if(!e)return this.localize(l.A.FLOOR_ALL);const t=this.floors.getFloor(e);return void 0!==t.name&&""!==t.name?t.name:this.getDefaultFloorName(e)}getDefaultFloorName(e){const t=this.floors.getFloor(e);return this.localize(l.A.SHOWCASE.FLOORS.DEFAULT_NAME,t.index+1)}getFloorsVisibility(){if(this.currentFloorId){const e=[];return this.floors.iterate((t=>{t.sourceViewIds.has(this.sourceViewId)&&(e[t.index]=t.id===this.currentFloorId?1:0)})),e}return[]}get floorsEnabled(){return this.config.floorChangesEnabled()}get floorSelectModeActive(){return this._observableFloorsSelectMode.value}set floorSelectModeActive(e){const t=e&&this.floorsEnabled;t!==this._observableFloorsSelectMode.value&&(this._observableFloorsSelectMode.value=t,this.commit())}onFloorSelectModeChange(e){return this._observableFloorsSelectMode.onChanged(e)}get showFloorSelection(){return this._showFloorSelection.value}set showFloorSelection(e){e!==this._showFloorSelection.value&&(this._showFloorSelection.value=e,this.commit())}onShowFloorSelectionChanged(e){return this._showFloorSelection.onChanged(e)}get roomSelectModeActive(){return this._observableRoomSelectMode.value}set roomSelectModeActive(e){const t=e;t!==this._observableRoomSelectMode.value&&(this._observableRoomSelectMode.value=t,this.commit())}onRoomSelectModeChange(e){return this._observableRoomSelectMode.onChanged(e)}get isInAllFloorsMode(){return this.isMultifloor()&&this.currentFloorIndex===m.Zu}}},72773:(e,t,n)=>{"use strict";n.d(t,{Zu:()=>i,nT:()=>r,t$:()=>o});const i=-1,r=-1,o=500},39833:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var i=n(1932),r=n(38253);function o(){const e=(0,i.m)();return(0,r.P)(e)}},1932:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var i=n(96540),r=n(99438);function o(){const e=(0,r._)(),[t,n]=(0,i.useState)(e?e.currentFloorId:null);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=()=>{const t=e.currentFloorId;n(t)},i=e.makeFloorChangeSubscription(t);return t(),()=>i.cancel()}),[e]),t}(0,n(38064).c)("currentFloorId",o)},38253:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var i=n(96540),r=n(99438);function o(e){const t=(0,r._)(),[n,o]=(0,i.useState)(t&&null!==e?t.getViewData(e):null);return(0,i.useEffect)((()=>{if(!t)return()=>{};if(e){const n=t.getViewData(e);o(n)}else o(null);return()=>{}}),[t,e]),n}},99438:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var i=n(98236),r=n(38064),o=n(39209);const s=(0,i.v_)(o.X);(0,r.c)("floorsViewData",s)},93900:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var i=n(96540),r=n(62802),o=n(99438);function s(){const e=(0,o._)(),[t,n]=(0,i.useState)([]);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(e.getNavigableFloorIds().map(e.getViewData)),i=new r.P(e.floors.onNameChange(t),e.navigableFloorIds.onChanged(t));return t(),()=>i.cancel()}),[e]),t}},39188:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var i=n(87805),r=n(39209);const o=(0,i.u)(r.X,"showAllFloorsOption",!0)},80303:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});const i="features/floorselect"},92637:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var i=n(11165);class r extends i.u{constructor(e,t){super(),this.payload={messagePhraseKey:e,options:t}}}r.id="DEFAULT_ERROR"},81088:(e,t,n)=>{"use strict";n.d(t,{X6:()=>s,nX:()=>o,rH:()=>a});var i=n(11165);const r={message:"",title:"",modalClass:"",cancellable:!0,closeButton:!0,confirmDisabled:!1};class o extends i.u{constructor(e,t){if(super(),e&&!t)throw new Error("Cannot open empty modal");this.payload={action:e,properties:Object.assign(Object.assign({},r),t)}}}o.id="CONFIRM_MODAL";class s extends i.u{constructor(e,t){super(),this.payload={modal:e,open:t}}}s.id="TOGGLE_MODAL";class a extends i.u{constructor(){super()}}a.id="CLOSE_MODAL"},21728:(e,t,n)=>{"use strict";var i,r;n.d(t,{f:()=>i,r:()=>r}),function(e){e.Inside="panorama",e.InsideMesh="mesh",e.Dollhouse="dollhouse",e.Floorplan="floorplan",e.Exterior="exterior",e.None="none"}(i||(i={})),function(e){e.Inside="click_inside_mode_button",e.InsideMesh="click_mesh_mode_button",e.Dollhouse="click_dollhouse_mode_button",e.Floorplan="click_floorplan_mode_button",e.Exterior="click_exterior_mode_button"}(r||(r={}))},52721:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var i=n(78849),r=n(81459),o=n(53641),s=n(23500),a=n(28475),l=n(75522),c=n(57811),u=n(28454),d=n(3071),h=n(87951);class p{constructor(e,t){this.engine=e,this.disabledAssets={[c.f]:!1,[s.s]:!1,[a.RP]:!1,[l.qE]:!1,[o.nH]:!1},this.settingsToggler=new r.U(t,this.disabledAssets),this.initPromise=this.init()}async init(){const{market:e}=this.engine;[this.measurementModeData,this.searchData]=await Promise.all([e.waitForData(u.s),e.waitForData(i.L)])}async activate(){this.settingsToggler.toggle(!0),await this.engine.commandBinder.issueCommandWhenBound(new d.S(!0,!0))}async deactivate(){this.settingsToggler.toggle(!1),this.engine.commandBinder.issueCommand(new h.y(-1)),await this.engine.commandBinder.issueCommand(new d.S(!1))}async dispose(){await this.initPromise}}},22213:(e,t,n)=>{"use strict";var i;n.d(t,{a:()=>i}),function(e){e.ADD_FROM_PHOTOS="add_from_photos",e.ATTACHMENT="attachmentViewer",e.CONFIRM="confirm",e.CTA="cta",e.DEFURNISH_AI="defunish_ai",e.HELP="help",e.HIGHLIGHT_EDITOR="highlight_editor",e.LAYER_ADD="layer_add",e.LINK_EDITOR="link_editor",e.MEASUREMENT_HELP="measurementModeHelp",e.MEDIA_EMBED_POPUP="mediaEmbedPopup",e.MODEL_VIEW_ADD="model_view_add",e.MODEL_VIEW_EDITOR="model_view_editor",e.MODEL_VIEW_DUPLICATE="model_view_duplicate",e.PHOTO_VIEWER="photo_viewer",e.RATING_THANK_YOU="rating_thank_you",e.SETTINGS="settings",e.SHARE="share",e.TERMS="terms",e.TOUR_SETTINGS="hlr_settings",e.VIEWS_INFO="views_info",e.VR_SELECT="vrSelect",e.GENERATING_TOUR="generating_tour",e.SAVING_GENERATED_TOUR="saving_generated_tour"}(i||(i={}))},69340:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var i=n(25773),r=n(4850),o=n(5262),s=n(87805),a=n(3645);const l=()=>{const e=(0,s.Z)(i.d,"applicationKeys",new r.X);return(0,o.i)(a.nt,!1)&&0===e.length}},8323:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var i=n(5262),r=n(96540),o=n(3645);const s=()=>{const e=(0,i.i)(o.An,o.Z1);return(0,r.useMemo)((()=>Object.assign({},o.Z1,e)),[e])}},12786:(e,t,n)=>{"use strict";n.d(t,{T:()=>$});var i=n(97084),r=n(99689),o=n(35843);const s=()=>{},a=()=>null,l=()=>!1,c=()=>Promise.reject(),u=()=>Promise.resolve(),d=()=>({}),h=()=>[],p=()=>({renew:s,cancel:s}),f={register:s,unregister:s,waitForData:c,tryGetData:a},m={subscribe:p,unsubscribe:s,broadcast:s};var g=n(12161);class v extends g.w{constructor(){super(...arguments),this.addBinding=p,this.removeBinding=s,this.issueCommand=c,this.issueCommandWhenBound=c,this.hookCommand=p,this.resetHooks=s}}const y=new v,E={mask:0,addLayers:s,removeLayers:s,clone:()=>E},S=()=>E;const b={market:f,msgBus:m,commandBinder:y,generatorSpreader:new r.Ch,uniqueId:-1,diContainer:o.oV,getModuleBySymbol:c,getModuleBySymbolSync:function(){throw new Error("getModuleBySymbolSync not supported")},tryGetModuleBySymbolSync:a,addComponent:u,removeComponent:u,getComponentByType:a,getComponents:function*(){},claimRenderLayer:S,getRenderLayer:S,subscribe:p,unsubscribe:s,broadcast:s,disposeRenderLayer:s,startGenerator:s,stopGenerator:s,after:u,toggleRendering:s,tick:s};const _=new class{constructor(){this.track=s,this.trackGuiEvent=s,this.trackToolGuiEvent=s}};var O=n(21722);class T extends O.default{constructor(){super(...arguments),this.t=(e,t)=>`${e}${t&&Object.keys(t).length?JSON.stringify(t):""}`,this.T=e=>e,this.has=e=>!0}get languageCode(){return"en"}}const A=new T;var w=n(33156);const N=(0,n(33895).A)(""),I=()=>N;class R extends w.E{constructor(){super(...arguments),this.getUserInfoByEmail=a,this.getUserInfoById=a,this.getUserDisplay=I,this.iterate=s,this.getUsersWhoMayNeedAccess=d,this.getKnownUsers=h,this.getCurrentUser=I,this.isLoggedIn=l,this.isOrgAdmin=l,this.isInviter=l,this.isEditor=l,this.isCommenter=l,this.getCurrentUserId=()=>N.id,this.onUsersChanged=p}}const k=new R(N,!1,!1);var L=n(96319),P=n(88325),D=n(23864),M=n(73566);const C={activate:u,deactivate:u},x=new D.N({id:M.S0.LABELS,namePhraseKey:"",panel:!1,panelLeft:!1,hidesAppBar:!1,icon:"",analytic:"labels",dimmed:!1,enabled:!1,manager:C,ui:{}}),U=new P.E;class F extends L.M{constructor(){super(...arguments),this.addTools=s,this.iterate=s,this.getTool=()=>x,this.removeTool=s,this.removeAllTools=s,this.setOpenAsset=s,this.onOpenAssetChanged=p,this.getActiveTool=a,this.activeToolName=null,this.previousToolName=null,this.openModal=null,this.toolChangeInProgress=!1,this.isPanelOpen=l,this.isToolCollapsedToBottom=l,this.toolPanelLayout=M.L$.NORMAL,this.softOpening=!1,this.toolCollapsed=!1}get toolsMap(){return U}get openAsset(){return null}}const H=new F;var G=n(25443);class B extends G.o{constructor(){super(...arguments),this.setSetting=s,this.setLocalStorageSetting=s,this.hasSetting=l,this.tryGetSetting=s,this.getSetting=s,this.getOverrideParam=s,this.iterate=s}}const V=new B;var j=n(49953);class W extends j.L{constructor(){super(...arguments),this.hasPolicy=l,this.getPolicy=()=>null}}const z=new W,$={editMode:!1,mainDiv:document.createElement("div"),queue:new i.L3,messageBus:m,userData:k,toolsData:H,settings:V,policyData:z,analytics:_,engine:b,market:f,commandBinder:y,locale:A,apiHost:"default"}},77570:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(96540),r=n(12786);const o=(0,i.createContext)(r.T)},29106:(e,t,n)=>{"use strict";var i,r;n.d(t,{$:()=>i,Y:()=>r}),function(e){e[e.CONFIRM=0]="CONFIRM",e[e.CLOSE=1]="CLOSE"}(i||(i={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.DISPLAY=1]="DISPLAY",e[e.UPDATE=2]="UPDATE"}(r||(r={}))},90087:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(93702);function r(){return(0,i.K)().commandBinder}},98236:(e,t,n)=>{"use strict";n.d(t,{v_:()=>s,Ez:()=>a,Bt:()=>l});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).market}function s(e){return()=>a(e)}function a(e){const t=o(),[n,r]=(0,i.useState)(t.tryGetData(e));return(0,i.useEffect)((()=>{let i=!1;return n||t.waitForData(e).then((e=>{i||r(e)})),()=>{i=!0}}),[t,e,n]),n}function l(e){const t=o();return t.tryGetData(e)||(0,i.use)(t.waitForData(e))}},87805:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,u:()=>o});var i=n(96540),r=n(98236);function o(e,t,n){return()=>s(e,t,n)}function s(e,t,n){const o=(0,r.Ez)(e),[s,a]=(0,i.useState)(o?o[t]:n);return(0,i.useEffect)((()=>{if(!o)return()=>{};const e=o.onPropertyChanged(t,a);return a(o[t]),()=>{e&&e.cancel()}}),[o,t]),s}},38731:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).editMode}},93702:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).engine}},6336:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(96540);function r(e){var t;const[n,r]=(0,i.useState)(null==e?void 0:e.getCurrentValue()),[o,s]=(0,i.useState)(null===(t=null==e?void 0:e.validUntil)||void 0===t?void 0:t.getTime()),a=!!o&&o-Date.now()<=0;return(0,i.useEffect)((()=>{if(void 0===o)return()=>{};if(void 0===e)return()=>{};let t=!1;const n=o-Date.now(),i=()=>{e.get().then((n=>{var i;t||(r(n),s(null===(i=e.validUntil)||void 0===i?void 0:i.getTime()))}))};if(n<=0)return i(),()=>t=!0;const a=window.setTimeout(i,n);return()=>{t=!0,window.clearTimeout(a)}}),[e,o]),(0,i.useEffect)((()=>{r(null==e?void 0:e.getCurrentValue())}),[e]),[n,a]}},50098:(e,t,n)=>{"use strict";n.d(t,{f:()=>d});var i=n(96540),r=n(98236),o=n(12837);const s=(0,r.v_)(o.A);var a=n(88581),l=n(53289),c=n(1197);function u(e,t){return!(!e||!t)&&(e.isInside()&&t.isSweepUnaligned(t.state.currentSweep))}function d(){const e=s(),t=(0,a.o)(),[n,r]=(0,i.useState)(u(t||void 0,e||void 0)),o=(0,i.useCallback)((()=>{e&&t&&r(u(t,e))}),[e,t]);return(0,l.J)(c.A,o),(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.makeSweepChangeSubscription(o);return o(),()=>t.cancel()}),[e,o]),n}},53289:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=n(96540),r=n(78063);function o(e,t){const n=(0,r.B)();(0,i.useEffect)((()=>{const i=n.subscribe(e,t);return()=>i.cancel()}),[n,e,t])}},78063:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var i=n(93702);function r(){return(0,i.K)().msgBus}},17904:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var i=n(96540),r=n(93702);function o(e){const t=(0,r.K)(),[n,o]=(0,i.useState)(t.tryGetModuleBySymbolSync(e));return(0,i.useEffect)((()=>{let n=!1;return t.getModuleBySymbol(e).then((e=>{n||o(e)})),()=>{n=!0}}),[e,t]),n}},94799:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var i=n(93702),r=n(96540);function o(e){const t=(0,i.K)();return t.tryGetModuleBySymbolSync(e)||(0,r.use)(t.getModuleBySymbol(e))}},19592:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var i=n(96540);function r(e){const[t,n]=(0,i.useState)(e.values());return(0,i.useEffect)((()=>{const t=()=>{n(e.values())},i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}},22044:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96540);function r(e){const[t,n]=(0,i.useState)(e.value);return(0,i.useEffect)((()=>{const t=e.onChanged(n);return n(e.value),()=>t.cancel()}),[e]),t}},5262:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var i=n(96540),r=n(50747);function o(e,t){const n=(0,r.F)(),[o,s]=(0,i.useState)(n.tryGetSetting(e,t));return(0,i.useEffect)((()=>{const i=()=>{s(n.tryGetSetting(e,t))},r=n.onSettingChanged(e,i);return i(),()=>null==r?void 0:r.cancel()}),[n,e,t]),o}},87635:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var i=n(87965),r=n(5262),o=n(23339);function s(){return(0,r.i)(i.Y.UnitType,o.t.METRIC)}},80142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CloseModalCommand:()=>h.rH,ConfirmModalAction:()=>f.Y,ConfirmModalCommand:()=>h.nX,ModalChoice:()=>f.$,ToggleModalCommand:()=>h.X6,default:()=>p});var i=n(64882),r=n(71687),o=n(49953),s=n(25443),a=n(96319),l=n(33156),c=n(12625),u=n(88325);class d extends c.B{constructor(){super(),this.name="gui-view-data",this.collapsedAccordionGroupsObservable=(0,u.y)()}isAccordionGroupCollapsed(e){return this.collapsedAccordionGroupsObservable.get(e)}setAccordionGroupCollapsed(e,t){this.collapsedAccordionGroupsObservable.set(e,t)}getAccordionGroupCollapsedStates(){return this.collapsedAccordionGroupsObservable.deepCopy()}onAccordionCollapsedGroupsChanged(e){return this.collapsedAccordionGroupsObservable.onChanged(e)}}var h=n(81088);class p extends i.n{constructor(){super(...arguments),this.name="gui",this.workshopApp=!1,this.onAppReadyChanged=(e,t)=>{this.workshopApp&&(t&&e?this.mainDiv.classList.add("edit-mode"):this.mainDiv.classList.remove("edit-mode"))}}async init(e,t){this.workshopApp=e.workshopApp,this.mainDiv=e.mainDiv,this.reactContainer=e.reactContainer,this.market=t.market;const n=t.getModuleBySymbol(r.gS),i=t.getModuleBySymbol(r.$c),c=t.market.waitForData(l.E),u=t.market.waitForData(s.o);this.mainArgs=await Promise.all([n,i,u,c]),this.context={apiHost:e.apiHost,editMode:!1,mainDiv:e.mainDiv,analytics:this.mainArgs[1],locale:this.mainArgs[0],settings:this.mainArgs[2],userData:this.mainArgs[3],policyData:await this.market.waitForData(o.L),toolsData:await this.market.waitForData(a.M),engine:t,messageBus:t.msgBus,market:t.market,commandBinder:t.commandBinder,queue:e.queue},this.guiViewData=new d,this.market.register(d,this.guiViewData)}getAppContext(){return Object.assign({},this.context)}async loadUi(e){return e.apply(this,[this.getAppContext(),this.reactContainer,this.onAppReadyChanged])}confirmModal(e,t){return this.context.engine.commandBinder.issueCommand(new h.nX(e,t))}toggleModal(e,t){this.context.engine.commandBinder.issueCommand(new h.X6(e,t))}closeOpenModal(){this.context.engine.commandBinder.issueCommand(new h.rH)}}var f=n(29106)},50178:(e,t,n)=>{"use strict";n.d(t,{XR:()=>o,Yl:()=>a,c7:()=>s,rn:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.modal=e,this.open=t}}i.QB;class o extends i.QB{constructor(e){super(),this.isOpen=e}}class s extends i.QB{constructor(e){super(),this.suppress=e}}class a extends i.QB{constructor(e,t){super(),this.textElement=e,this.focused=t}}},8647:(e,t,n)=>{"use strict";var i;n.d(t,{v:()=>i}),function(e){e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(i||(i={}))},95439:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,v:()=>o});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload=e}}r.id="SHOW_TOASTR";class o extends i.u{}o.id="HIDE_TOASTR"},77897:(e,t,n)=>{"use strict";n.d(t,{BB:()=>d,J5:()=>h,O$:()=>o,OP:()=>s,RL:()=>i,RX:()=>u,XU:()=>r,_0:()=>a,mn:()=>c,s4:()=>l});const i=250,r=()=>({wrapperLength:1,childLength:1,scrollOffset:1,isVisible:!1}),o=()=>({scrollbar:null,animation:null,dragStartScroll:0});var s,a;!function(e){e.horizontal="horizontal",e.vertical="vertical"}(s||(s={})),function(e){e.x="x",e.y="y"}(a||(a={}));const l=e=>{switch(e){case s.horizontal:return a.x;case s.vertical:return a.y}throw Error()},c=e=>{switch(e){case a.x:return s.horizontal;case a.y:return s.vertical}throw Error()},u={[s.horizontal]:{scrollOffset:"scrollLeft",offsetLength:"offsetWidth",clientLength:"clientWidth",positionOffset:"offsetLeft",lengthName:"width",offsetName:"left",eventPosition:"clientX",delta:a.x},[s.vertical]:{scrollOffset:"scrollTop",offsetLength:"offsetHeight",clientLength:"clientHeight",positionOffset:"offsetTop",lengthName:"height",offsetName:"top",eventPosition:"clientY",delta:a.y}};var d;!function(e){e.Beginning="Beginning",e.Middle="Middle",e.End="End",e.None="None"}(d||(d={}));const h=(e,t)=>t?e<.01?d.Beginning:1-e<.01?d.End:d.Middle:d.None},39905:(e,t,n)=>{"use strict";n.d(t,{H:()=>i,r:()=>s});var i,r=n(75742),o=n(27200);!function(e){e.TEXT="",e.LINK="link-url",e.HASH="link-hashtag",e.USER="link-user"}(i||(i={}));class s{constructor(e){this.serialize=e=>{const t=[],n=[].slice.call(e.childNodes);for(const e of n)switch(e.nodeName){case"#text":t.push(this.serializeText(e));break;case"A":t.push(this.serializeAnchor(e));break;case"P":case"DIV":t.push(this.serializeElement(e,!0));break;case"SPAN":t.push(this.serializeElement(e,!1));break;case"BR":break;default:t.push(this.serialize(e))}return t.join("")},this.deserialize=(e,t,n,i=this.markers)=>{const r=this.parse(e).map((e=>this.createNode(e,t,n)));return i?this.parseMarkers(r,i):r},this.serializeText=e=>{let t=this.sanitizeText(e.textContent||"");if(this.links){const e=new RegExp(/https?:\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?/gi),n=document.createElement("a");t=t.replace(e,(e=>(n.href=e,`[${e}](${n.href})`))),n.remove()}return this.hashtags&&(t=t.replace(/(#\w*)/,(e=>`[${e}]`))),t.replace(/\<\s*br\s*\/?>/gi,"\n")},this.serializeAnchor=e=>{const t=e.dataset.blocktype,n=this.sanitizeText(e.innerText||e.textContent||"");let i=n;switch(t){case r.n.HASH:i=`[${n}]`;break;case r.n.USER:if(this.users){let t=e.dataset.id||"",n=e.dataset.value||"";if(!t&&!n&&(n="@"===i[0]?i.substr(1):i,n)){const e=this.users.getUserInfoByEmail(n);e&&(t=e.id)}(t||this.validateEmail(n))&&(i=`[@${t}](${n})`)}break;case r.n.LINK:const t=e.dataset.value||e.href;t&&(i=`[${n}](${t})`);break;default:e.href&&(i=`[${n}](${e.href})`)}return i},this.serializeElement=(e,t)=>{let n=t?"\n":" ";return e.childNodes.length>0&&(n+=this.serialize(e)),n},this.validateEmail=(()=>{const e=/\S+@\S+\.\S+/,t=document.createElement("input");return t.type="email",t.required=!0,n=>(t.value=n,"function"==typeof t.checkValidity?t.checkValidity():e.test(n))})();const{links:t,hashtags:n,users:i,markers:o}=e;this.links=t||!1,this.hashtags=n||!1,this.users=i,this.markers=o}parseMarkers(e,t){const[n,i]=t;let r=!1;const o=new RegExp(n+"|"+i);for(let t=0;t<e.length;t++){const n=e[t],{nodeType:i,textContent:s}=n,a=3===i;if(!s)continue;a?e.splice(t,1):n.textContent=null;const l=s.split(o);l.forEach(((i,o)=>{if(""!==i){let o;if(r){const e=document.createElement("span");e.setAttribute("data-blocktype","marker"),o=e,o.textContent=i}else o=document.createTextNode(i);a?e.splice(t++,0,o):n.appendChild(o)}o<l.length-1&&(r=!r)})),a&&t--}return e}createNode(e,t,n){switch(e.blockType){case r.n.USER:const o=document.createElement(n?"a":"span");if(o.setAttribute("data-blocktype",e.blockType),n){const t=o;t.className=`link-annotation ${i.USER}`,t.removeAttribute("href"),n&&(t.onclick=n);const r=e.id||"",s=e.value||"";r&&t.setAttribute("data-id",r),s&&t.setAttribute("data-value",s)}return o.textContent=`${e.text}`,o;case r.n.HASH:const s=document.createElement(n?"a":"span");if(s.setAttribute("data-blocktype",e.blockType),n){const e=s;e.className=`link-annotation ${i.HASH}`,e.removeAttribute("href"),n&&(e.onclick=n)}return s.textContent=`${e.text}`,s;case r.n.LINK:if(e.value){const r=document.createElement(n||t?"a":"span");if(r.setAttribute("data-blocktype",e.blockType),r.setAttribute("data-value",e.value),n||t){const o=r;t&&(o.href=`${e.value}`),o.target="_blank",o.className=`link-annotation ${i.LINK}`,n&&(o.onclick=n)}return r.textContent=`${e.text}`,r}}return document.createTextNode(""+e.text)}parse(e){const t=[];if(!e)return[];const n=e.split("[").map(((e,t)=>0===t?e:"["+e));let i=0;for(;i<n.length;){const e=this.parseIntoBlocks(n[i],t);e&&n.splice(i+1,0,e),i++}return t}getPlainText(e){return this.parse(e).map((e=>e.text)).join("")}searchMarkdown(e,t){let n=-1,i=0,r=0;const o=this.parse(e).map((e=>{let o;return this.matchTextBlock(e,t)?(r++,-1===n&&(n=i),o=e.markdown):o=e.text,i+=e.text.length,o}));return-1===n?null:{markdown:o.join(""),matchIndex:n,textLength:i,numMatches:r}}getUserMentions(e){return this.parse(e).filter((e=>e.blockType===r.n.USER&&e.value)).map((e=>e.value||""))}matchTextBlock(e,t){if(e.blockType===t.blockType)if(e.blockType===r.n.USER){if(e.id===t.id)return!0;if(e.value===t.value)return!0}else if(e.blockType===r.n.HASH)return e.text===t.text;return!1}parseIntoBlocks(e,t){if(this.users){const n=this.getUserBlock(e);if(n)return t.push(n),e.slice(n.markdown.length)}if(this.links){const n=this.getLinkBlock(e);if(n&&n.value&&!/javascript:/i.test(n.value))return t.push(n),e.slice(n.markdown.length)}if(this.hashtags){const n=this.getHashBlock(e);if(n)return t.push(n),e.slice(n.markdown.length)}const n=this.getTextBlock(e);return n&&t.push(n),null}getTextBlock(e){return 0===e.length?null:{blockType:r.n.TEXT,text:e,markdown:e}}getHashBlock(e){const t=e.match(s.hashRegex);return!t||t.length<2?null:{blockType:r.n.HASH,markdown:t[0],text:t[1]}}getUserBlock(e){if(!this.users)return null;const t=e.match(s.userRegex);if(!t||t.length<3)return null;let n=t[1].substr(1),i=t[2];const o=i?this.users.getUserInfoByEmail(i):this.users.getUserInfoById(n),a=o?o.name:"";return n=o?o.id:n,i=o?o.email:i,{blockType:r.n.USER,markdown:t[0],id:n,value:i,text:`@${a||i}`}}getLinkBlock(e){const t=e.match(s.linkRegEx);if(!t)return null;const n=t[2];let i=1,o=0;for(;o<n.length&&("("===n[o]?i++:")"===n[o]&&i--,0!==i);)o++;const a=n.length-o;let l=this.conditionallyEncode(t[2].substring(0,o));return-1===l.indexOf("://")&&(l="http://"+l),{blockType:r.n.LINK,markdown:t[0].substring(0,t[0].length-a),text:t[1],value:l}}conditionallyEncode(e){const t=e.trim();return this.needsEncoding(t)?encodeURI(t):t}needsEncoding(e){if(e.match(o.Cv))return!0;let t=e;try{t=decodeURI(e)}catch(e){}return!1}sanitizeText(e){return e.replace(/\]\(/g,"]&zwnj;(").replace(/[\u200B]/g,"").replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"')}}s.hashRegex=/\[(#(\w|-)*)\]/,s.userRegex=/\[(@\w*)\]\(([^\)\(\[\]]*)\)/,s.linkRegEx=/\[([^\]]*)\]\((.*)\)/},12103:(e,t,n)=>{"use strict";n.d(t,{IU:()=>r,JO:()=>u,K$:()=>o,Vg:()=>h,Zn:()=>a,_2:()=>s,_8:()=>i,on:()=>l,p8:()=>d,zu:()=>c});const i=767,r=576,o=992,s=375,a=55,l=70,c=250,u=750,d=3,h="minimalist-ui"},76191:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(94814);class r{constructor(e){this.isAnimating=!0,this.duration=e.duration,this.startValue=e.startValue,this.changeValue=e.endValue-this.startValue,this.easingFunction=e.easingFunction||i.dV}getUpdatedValue(){this.startTime||(this.startTime=Date.now());const e=Date.now()-this.startTime;return e>this.duration&&(this.isAnimating=!1),this.easingFunction(Math.min(e,this.duration),this.startValue,this.changeValue,this.duration)}}},82769:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});const i=(e,t)=>{for(const n in t)if(e[n]!==t[n])return!0;return!1}},97191:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(20819),r=n(71828);class o{constructor(e){this.couldBeDrag=!1,this.isDragging=!1,this.shouldHandleEvents=!0,this.handleEvent=e=>{if(this.shouldHandleEvents)switch(e.stopPropagation(),e.type){case"mousedown":case"touchstart":case"pointerdown":this.onPressStart(e);break;case"mousemove":case"pointermove":case"touchmove":this.onPressMove(e);break;case"mouseup":case"pointerup":case"mouseleave":case"touchend":case"touchcancel":case"pointercancel":case"pointerleave":this.onPressEnd(e)}},this.callbacks=e}setEnabled(e){this.shouldHandleEvents=e,this.couldBeDrag=this.couldBeDrag&&e}getPosition(e){return(0,i.kH)(e)?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}onPressStart(e){this.couldBeDrag=!0,this.dragEvents=[],this.dragStart=this.getPosition(e),this.callbacks.handlePressStart&&this.callbacks.handlePressStart(this.getPosition(e))}onPressMove(e){if(!this.couldBeDrag)return;const t=this.getPosition(e);this.addDragEvent(t),this.isDragging||Math.sqrt(Math.pow(t.x-this.dragStart.x,2)+Math.pow(t.y-this.dragStart.y,2))>r.b7&&(this.isDragging=!0,this.callbacks.handleDragStart&&this.callbacks.handleDragStart()),this.callbacks.handlePressMove&&this.callbacks.handlePressMove({x:this.dragStart.x-t.x,y:this.dragStart.y-t.y})}onPressEnd(e){if(this.couldBeDrag){if(this.couldBeDrag=!1,this.isDragging){if(!this.dragEvents||!this.dragEvents[0])return;const e=this.dragEvents[0],t=this.dragEvents[this.dragEvents.length-1];if(this.callbacks.handleDragEnd){const n={x:0,y:0};Date.now()-t.timestamp<o.dragMoveTimeout&&(n.x=e.position.x-t.position.x,n.y=e.position.y-t.position.y),this.callbacks.handleDragEnd(n,t.timestamp-e.timestamp)}}else this.callbacks.handleClick&&this.callbacks.handleClick(e);this.isDragging=!1}}addDragEvent(e){this.dragEvents.push({position:e,timestamp:Date.now()}),this.dragEvents.length>10&&this.dragEvents.shift()}}o.dragMoveTimeout=100;const s=o},27612:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});const i=({width:e,height:t})=>e<487||t<487},22e3:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});class i{constructor(e,t=!1){this.containerData=e,t||this.containerData.onPropertyChanged("size",this.update.bind(this))}get vh(){return this.containerData.size.height}update(){const e=.01*this.vh;this.containerData.element.style.setProperty("--vh",`${e}px`)}dispose(){this.containerData.removeOnPropertyChanged("size",this.update.bind(this))}}},81544:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,q:()=>o});var i=n(49586);class r extends i.T{constructor(e){super(),this.nativeEvent=e,this.type="hover"}}class o extends i.T{constructor(e){super(),this.nativeEvent=e,this.type="unhover"}}},49586:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});class i{constructor(){this.eventType="input",this._propagationStopped=!1,this._defaultPrevented=!1}stopPropagation(){this._propagationStopped=!0}get propagationStopped(){return this._propagationStopped}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}},9360:(e,t,n)=>{"use strict";n.d(t,{RK:()=>o,TY:()=>s,WH:()=>r,q$:()=>a});var i=n(11165);class r extends i.u{}r.id="GUTTER_TOUCH_SCROLL_DISABLE";class o extends i.u{}o.id="GUTTER_TOUCH_SCROLL_ENABLE";class s extends i.u{}s.id="INPUT_ENABLE";class a extends i.u{}a.id="INPUT_DISABLE"},31002:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>r,rX:()=>s,wR:()=>a});var i=n(92475);class r extends i.E{constructor(e,t,n){super(e),this.position=t,this.buttons=n}}class o extends i.E{constructor(e,t,n){super(e),this.position=t,this.button=n}}class s extends o{}class a extends o{}},92475:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(49586);class r extends i.T{constructor(e){super(),this.viewportId=e}}},78079:(e,t,n)=>{"use strict";n.d(t,{$3:()=>s,CD:()=>o});var i=n(49586);class r extends i.T{}class o extends r{constructor(e,t,n,i,r,o,s,a){super(),this.viewportId=e,this.id=t,this.position=n,this.clientPosition=i,this.button=r,this.down=o,this.device=s,this.nativeEvent=a}}class s extends r{constructor(e,t,n,i,r,o,s){super(),this.viewportId=e,this.id=t,this.position=n,this.clientPosition=i,this.buttons=r,this.device=o,this.nativeEvent=s}}},44351:(e,t,n)=>{"use strict";var i,r;n.d(t,{m:()=>r,o:()=>i}),function(e){e.Desktop="desktop",e.Mobile="mobile",e.VrOrientOnly="xr.orientonly",e.VrWithController="xr.controller",e.VrWithTrackedController="xr.trackedcontroller",e.VrTransientPointer="xr.transient-pointer",e.VrUnknown="xr."}(i||(i={})),function(e){e.None="interaction.none",e.Direct="interaction.direct",e.Key="interaction.key",e.Gui="interaction.gui",e.Mouse="interaction.mouse",e.Touch="interaction.touch",e.Pen="interaction.pen",e.XRController="interaction.xr.controller",e.XRGaze="interaction.xr.gaze",e.XRScreen="interaction.xr.screen"}(r||(r={}))},85182:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var i=n(12625),r=n(88325),o=n(9139),s=n(45205);const a=new o.Vy("label-data");class l extends i.B{constructor(e){super(),this.name="label",this.has=e=>this.map.has(e),this.getLabel=e=>this.map.get(e),this.map=(0,r.y)(e||{})}getCount(){return this.map.length}add(e){let t=e.sid;return this.map.has(t)&&a.warn("Label already tracked:",{sid:t,label:e,existing:this.getLabel(t)}),t=t||this.generateSid(),e.sid=t,e.commit(),this.map.set(e.sid,e),t}generateSid(){let e="";for(;!e||this.map.has(e);)e=(0,s.D)(11);return e}remove(e){return!!this.map.has(e)&&(this.map.delete(e),!0)}clear(){this.map.clear()}replace(e){this.map.replace(e)}getCollection(){return this.map}iterate(e){for(const t of this.map.keys)e(this.map.get(t),t)}isEqual(e){if(this.map.length!==e.map.length)return!1;for(const t of this.map){const n=e.map.get(t.sid);if(!n||!l.labelsAreEqual(t,n))return!1}return!0}static labelsAreEqual(e,t){return e.floorId===t.floorId&&e.roomId===t.roomId&&e.position.x===t.position.x&&e.position.y===t.position.y&&e.position.z===t.position.z&&e.sid===t.sid&&e.text===t.text&&e.floorId===t.floorId&&e.roomId===t.roomId&&e.visible===t.visible}getLabelsForRoom(e){const t=[];return this.iterate((n=>{n.roomId===e&&t.push(n)})),t}}},28475:(e,t,n)=>{"use strict";n.d(t,{LZ:()=>r,RP:()=>i});const i="features/labels",r="features/3d_labels_enabled"},8427:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var i=n(3928),r=n(88325),o=n(25712);function*s(e,t=1/0,n=1){let i=n>0?e:t;const r=n>0?t:e;for(;n>0?i<r:i>r;)yield i,i+=n}var a=n(93877);class l extends i.v{static onTransactionsAdded(e){return l.transactions.onElementChanged({onUpdated(t,n){e(n,t)}})}get isInMemory(){return this.layerType===a.ku.IN_MEMORY||this.layerType===a.ku.COMMON_IN_MEMORY}constructor(e={}){super(),Object.assign(this,e);const t=l.transactions.get(this.id);this.transactions=null!=t?t:new c,l.transactions.set(this.id,this.transactions)}onApply(e){return this.transactions.add(e)}async applyTransactions(){return this.transactions.apply()}}l.idLength=25,l.idGenerator=new o.KA(l.idLength),l.transactions=new r.E;class c extends i.v{constructor(){super(),this.transactions=[],this.postApplicationTransactions=[],this.lastAppliedTransaction=-1,this.commit()}add(e){return this.transactions.push(e),this.commit(),{delete:()=>{const t=this.transactions.indexOf(e);t>-1&&(this.transactions.splice(t,1),--this.lastAppliedTransaction,this.commit())}}}async apply(){const e=s(0,this.transactions.length);this.applyIndices(e)}async applyNew(){const e=s(Math.min(this.lastAppliedTransaction+1,this.transactions.length),this.transactions.length);this.applyIndices(e)}async applyIndices(e){for(const t of e){const e=await this.transactions[t]();e&&this.postApplicationTransactions.push(e)}this.lastAppliedTransaction=this.transactions.length-1,this.postApply()}postApply(){for(const e of this.postApplicationTransactions)e();this.postApplicationTransactions=[]}}},47737:(e,t,n)=>{"use strict";n.d(t,{P:()=>g});var i=n(12625),r=n(4850),o=n(62802),s=n(53282),a=n(9139),l=n(96276),c=n(24790),u=n(9114),d=n(93877),h=n(4130),p=n(8427),f=n(56547);const m=new a.Vy("layers-data");class g extends i.B{constructor(e,t){super(),this.name="layers-data",this.commonInMemoryLayers=new r.X,this.inMemoryLayers=new r.X,this.layerObservers=new Set,this.layerVisibilityCache=new Map,this.layerToggledCache=new Map,this.currentViewId="",this.initialViewId="",this.layersEnabled=!1,this.initialViewId=t.id,this.viewsObservable=(0,r.Z)([t]),this.mdsContext=e||new u._,this.mdsContext.initialViewId=t.id,this.mdsContext.togglePrivateSession(t.isPrivateView()),this.mdsContext.toggleCompositeView(t.isCompositeView())}getLayerSource(e){var t,n;if(!this.layersEnabled||""===e||void 0===e||e===c.qw)return this.currentViewId;const i=null!==(t=this.getLayer(e))&&void 0!==t?t:this.getLayerAnyView(e);if(!i)throw new l.V("Layer not found");return null!==(n=i.sourceViewId)&&void 0!==n?n:this.currentViewId}setCurrentView(e){if(e===this.currentViewId)return;const t=this.getView(e);if(!t)throw new l.V("Model View not found during setCurrentView");this.aggregateLayerObserver&&this.aggregateLayerObserver.cancel(),m.debug(`Active view set to ${e} (${t.viewType})`),this.currentViewId=e,this.commit();const n=()=>{this.refreshLayerCaches(),this.layerObservers.forEach((e=>e()))};this.aggregateLayerObserver=new o.P(this.getCurrentView().layers.onChanged(n)),n()}getCurrentView(){const e=this.getView(this.currentViewId);if(!e)throw new l.V("Missing current model view");return e}getInitialView(){const e=this.getView(this.initialViewId);if(!e)throw new l.V("Missing initial model view");return e}hasView(e){return void 0!==this.viewsObservable.values().find((t=>t.id===e))}addView(e){if(this.hasView(e.id))throw new l.V("Model View already exists");this.viewsObservable.push(e)}canDeleteView(e){const t=this.getView(e);return!!t&&((0,f.xF)(t)||(0,f.V6)(t))}canDisableView(e){const t=this.getView(e);return!!t&&((0,f.xF)(t)||(0,f.V6)(t)||(0,f.AF)(t))}canDuplicateView(e){const t=this.getView(e);return!!t&&((0,f.xF)(t)||(0,f.XF)(t))}canBatchDeleteInActiveView(){return this.isModelLayered()||!(0,f.XF)(this.getCurrentView())}validateViewName(e){return e.length>0&&e.length<=h.cp}setViews(e){return this.viewsObservable.replace(e),this}getView(e){const t=this.viewsObservable.find((t=>t.id===e));if(!t)throw new l.V(`Model View not found in getView: ${e}`);return t}tryGetView(e){return this.viewsObservable.find((t=>t.id===e))}deleteView(e){const t=this.viewsObservable.findIndex((t=>t.id===e));-1!==t&&this.viewsObservable.remove(t)}hasUserViews(){return!!this.viewsObservable.find((e=>(0,f.xF)(e)))}getOrderedModelViews({includeDefurnish:e=!1,includeDisabled:t=!1,includeInsights:n=!1}={}){const i=this.viewsObservable.values().slice(),r=i.filter((i=>(t||i.enabled)&&((0,f.xF)(i)||n&&(0,f.V6)(i)||e&&(0,f.AF)(i)))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0}))),o=i.filter((e=>(0,f.XF)(e)));return o&&r.unshift(...o),r}onModelViewsChanged(e){return this.viewsObservable.onChanged(e)}onCurrentLayersChanged(e){return(0,s.Sh)((()=>this.layerObservers.add(e)),(()=>this.layerObservers.delete(e)))}currentLayers(){return this.getCurrentView().layers.values()}viewLayers(){const e=this.currentLayers();return this.filterUserFacingLayers(e)}filterUserFacingLayers(e){const t=[d.ku.VIEW_DATA_LAYER,d.ku.USER_LAYER,d.ku.IN_MEMORY,d.ku.COMMON_IN_MEMORY,d.ku.COMMON_USER_LAYER,d.ku.OTHER];return!!e.find((e=>e.layerType===d.ku.VIEW_DATA_LAYER))||t.push(d.ku.BASE_LAYER),e.filter((e=>t.includes(e.layerType)))}getLayer(e){return this.currentLayers().find((t=>t.id===e))}getLayerAnyView(e){function t(t){return t.find((t=>t.id===e))}for(const e of[this.getCurrentView(),...this.getOrderedModelViews({includeDefurnish:!0,includeDisabled:!0,includeInsights:!0})]){const n=t(e.layers);if(n)return n}return t(this.commonInMemoryLayers)||t(this.inMemoryLayers)}findLayer(e){return[...this.getCurrentView().layers.values(),...this.inMemoryLayers.values(),...this.commonInMemoryLayers.values()].find((t=>t.id===e))}getActiveLayer(){return this.getLayer(this.activeLayerId)}getBaseLayerId(){const e=this.currentLayers().find((e=>e.layerType===d.ku.BASE_LAYER));return(null==e?void 0:e.id)||c.qw}getViewLayerId(){const e=this.currentLayers().find((e=>e.layerType===d.ku.VIEW_DATA_LAYER));return null==e?void 0:e.id}getProxyLayerId(){const e=this.currentLayers().find((e=>e.layerType===d.ku.PROXY_LAYER));return null==e?void 0:e.id}getCameraRemovalLayerId(){const e=this.currentLayers().find((e=>e.layerType===d.ku.COMMON_CAMERA_REMOVAL_LAYER));return null==e?void 0:e.id}getViewLayerIdForBaseView(){const e=this.getBaseModelView();let t;return e&&(t=e.layers.find((e=>e.layerType===d.ku.VIEW_DATA_LAYER))),null==t?void 0:t.id}getCurrentUserLayers(){return this.currentLayers().filter((e=>e.visible&&[d.ku.USER_LAYER,d.ku.COMMON_USER_LAYER].includes(e.layerType)))}setActiveCurrentLayer(e){if(e!==this.activeLayerId){if(e!==c.qw){if(!this.currentLayers().find((t=>t.id===e)))throw new Error("Invalid layer id!")}this.activeLayerId=e,this.commit()}}layerVisible(e){return!e||!this.layersEnabled||!!this.layerVisibilityCache.get(e)}layerToggled(e){return!e||!this.layersEnabled||!!this.layerVisible(e)&&!!this.layerToggledCache.get(e)}toggleLayer(e,t){const n=this.getLayer(e);if(!n)throw new Error("Attempt to toggle unknown layer!");this.layerToggledCache.set(e,t),n.toggled=t,n.commit()}isInMemoryLayer(e,t=!1){const n=t?this.commonInMemoryLayers:this.inMemoryLayers;return this.layersEnabled&&(!e||!!n.find((t=>t.id===e)))}addInMemoryLayer(e){var t,n;const i=p.q.idGenerator.generate(),r=new p.q(Object.assign(Object.assign({},e),{id:i,layerType:e.common?d.ku.COMMON_IN_MEMORY:d.ku.IN_MEMORY,toggled:null!==(t=e.toggled)&&void 0!==t&&t,visible:null!==(n=e.visible)&&void 0!==n&&n}));if(e.common){this.commonInMemoryLayers.push(r);for(const e of this.getOrderedModelViews())e.layers.push(r)}return this.inMemoryLayers.push(r),r}removeInMemoryLayer(e){const t=this.inMemoryLayers.findIndex((t=>t.id===e));if(-1===t)throw new Error("In memory layer not found!");this.inMemoryLayers.splice(t,1);const n=this.inMemoryLayers.findIndex((t=>t.id===e));if(t>-1){this.commonInMemoryLayers.splice(n,1);for(const t of this.getOrderedModelViews()){const n=t.layers.findIndex((t=>t.id===e));n>-1&&t.layers.remove(n)}}}validateLayerName(e){return e.length>0&&e.length<=h.s5}replaceBackendLayers(e,t){for(const[t,{layerId:n}]of e.entries())n&&e.delete(t);for(const n of Object.keys(t))e.set(n,t[n])}setBaseLayerOnly(){const e=new p.q({id:c.qw,layerType:d.ku.BASE_LAYER});this.commonInMemoryLayers.push(e);for(const t of this.getOrderedModelViews())t.layers.push(e)}getWorkshopSessionView(){return this.viewsObservable.find((e=>e.viewType===d.jK.SESSION))}isWorkshopSessionView(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.id)===this.currentViewId}isWorkshopSessionViewEnabled(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.enabled)||!1}getBaseModelView(){return this.viewsObservable.find((e=>(0,f.XF)(e)))}getBaseModelId(){var e;return this.mdsContext.isPrivateSession?this.initialViewId:(null===(e=this.getBaseModelView())||void 0===e?void 0:e.id)||this.initialViewId}isModelLayered(){const e=this.getBaseModelView();return!!e&&(0,f.r0)(e)}isCurrentViewLayered(){const e=this.getCurrentView(),{viewType:t}=e;return t===d.jK.LAYERED_BASE||t===d.jK.USER||t===d.jK.INSIGHTS}getNonworkshopViewId(){const e=this.getCurrentView();return e.viewType!==d.jK.SESSION?e.id:this.getBaseModelId()}getWorkshopOrBaseId(){const e=this.getCurrentView();return e.viewType===d.jK.SESSION?e.id:this.getBaseModelId()}getDefurnishOrBaseId(e){const t=null!=e?e:this.getCurrentView();return t.viewType===d.jK.DEFURNISH?t.id:this.getBaseModelId()}getDefurnishView(){return this.viewsObservable.find((e=>e.viewType===d.jK.DEFURNISH))}getInsightsView(){return this.viewsObservable.find((e=>e.viewType===d.jK.INSIGHTS))}getNotesLayerId(e){if(e&&this.layersEnabled)return this.activeLayerId;const t=this.getViewLayerId();if(t)return t;const n=this.getCurrentView();if((0,f.XF)(n))return this.getBaseLayerId();if(this.layersEnabled)throw new Error("No View Layer in User View");return this.activeLayerId}getOrderedListsLayerId(){if(!this.layersEnabled)return;const e=this.getViewLayerId();if(e)return e;const t=this.getCurrentView();if((0,f.XF)(t))return this.getBaseLayerId();throw new Error("No View Layer in User View")}getSweepSourceIdFilterValue(e){const t=this.getCurrentView();return(0,f.AF)(t)||t.connections.length?e:null}refreshLayerCaches(){this.layerToggledCache.clear(),this.layerVisibilityCache.clear();const e=this.currentLayers();for(const t of e)this.layerToggledCache.set(t.id,t.toggled),this.layerVisibilityCache.set(t.id,t.visible)}}},25095:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var i=n(3928),r=n(4850),o=n(93877),s=n(25712);class a extends i.v{constructor(e={},t=!1){super(),this.name="",this.viewType=null,this.rawViewType="",this.enabled=!0,this.policies=[],this.layers=new r.X,this.connections=new r.X,this.hasOverlayAssets=()=>this.layers.some((e=>e.layerType===o.ku.OVERLAY_ASSETS_LAYER)),this.isDefurnishView=()=>this.viewType===o.jK.DEFURNISH,this.isPrivateView=()=>this.viewType===o.jK.DIGIPRO_SESSION||this.viewType===o.jK.TRUEPLAN||this.viewType===o.jK.SESSION||this.viewType===o.jK.PRIVATE_SESSION,this.isCompositeView=()=>{var e;return!0===(null===(e=this.viewType)||void 0===e?void 0:e.startsWith(o.jK.COMPOSITE_PROJECT))},this.isCompareView=()=>this.isCompositeView(),Object.assign(this,e),this.transient=t}hasPolicy(e){return!!this.getPolicy(e)}getPolicy(e){return this.policies.find((t=>t.name===e))}}a.idLength=25,a.idGenerator=new s.KA(a.idLength)},93877:(e,t,n)=>{"use strict";var i,r,o;n.d(t,{Hj:()=>o,jK:()=>i,ku:()=>r}),function(e){e.BASE="base",e.LAYERED_BASE="layered-base",e.INSIGHTS="insights",e.USER="user",e.DEFURNISH="defurnish",e.SESSION="session",e.DIGIPRO_SESSION="digipro-session",e.TRUEPLAN="trueplan",e.PRIVATE_SESSION="bundle-session",e.COMPOSITE_PROJECT="composite",e.COMPOSITE_COMPARE="composite.compare",e.COMPOSITE_EXTERIOR="composite.exterior",e.COMPOSITE_SITE="composite.site",e.OTHER="other"}(i||(i={})),function(e){e.BASE_LAYER="matterport.base",e.VIEW_DATA_LAYER="matterport.user.data",e.USER_LAYER="matterport.user.data.ext",e.OVERLAY_ASSETS_LAYER="matterport.overlay.assets",e.COMMON_USER_LAYER="matterport.user.data.common",e.COMMON_CAMERA_REMOVAL_LAYER="matterport.overlay.camera_removal.assets.common",e.PROXY_LAYER="matterport.proxy.common",e.IN_MEMORY="matterport.in-memory",e.COMMON_IN_MEMORY="matterport.in-memory.common",e.WORKSHOP="matterport.workshop.jsonstore",e.OTHER="other layer type",e.COMPOSITE_BASE="matterport.base.composite",e.COMPOSITE_USER_LAYER="matterport.user.data.ext.composite",e.COMPOSITE_VIEW_DATA_LAYER="matterport.user.data.composite"}(r||(r={})),function(e){e.TYPE="type",e.FLOOR="floor",e.ROOM="room",e.LAYER="layer",e.DATE="date"}(o||(o={}))},28577:(e,t,n)=>{"use strict";n.d(t,{AH:()=>o,H6:()=>a,T5:()=>c,Tl:()=>h,qD:()=>s,rX:()=>r});var i=n(82748);const r="model-views-feature",o="views",s="data-layers-feature",a="layers",l="spaces.webgl.layers.mode";var c;!function(e){e.DISABLED="disabled",e.VIEWS_OPTIONAL_OPT_IN="user_views",e.VIEWS_ENABLED="views_enabled",e.VIEWS_AND_LAYERS="views_layers",e.LAYERS_ONLY="layers"}(c||(c={}));const u="layers";var d;function h(e){const t=function(){switch((0,i.EN)()[u]){case d.DISABLED:return c.DISABLED;case d.VIEWS_ENABLED:return c.VIEWS_ENABLED;case d.VIEWS_AND_LAYERS:return c.VIEWS_AND_LAYERS;case d.LAYERS_ONLY:return c.LAYERS_ONLY}}();if(void 0!==t)return t;const n=e.getPolicy(l);return n&&n.value?n.value===c.VIEWS_OPTIONAL_OPT_IN?c.VIEWS_AND_LAYERS:n.value:c.DISABLED}!function(e){e.DISABLED="0",e.VIEWS_ENABLED="2",e.VIEWS_AND_LAYERS="3",e.LAYERS_ONLY="4"}(d||(d={}))},58024:(e,t,n)=>{"use strict";n.d(t,{z0:()=>a});var i=n(87805),r=n(96540),o=n(47613),s=n(47737);(0,i.u)(s.P,"activeLayerId","");function a(){const e=(0,o._)(),[t,n]=(0,r.useState)(null==e?void 0:e.getActiveLayer());return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){n(null==e?void 0:e.getActiveLayer())}const i=e.onPropertyChanged("activeLayerId",t);return t(),()=>i.cancel()}),[e]),t}},4717:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(96540),r=n(47613);function o(){const e=(0,r._)(),[t,n]=(0,i.useState)((null==e?void 0:e.getCurrentView())||void 0);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){n((null==e?void 0:e.getCurrentView())||void 0)}const i=e.onPropertyChanged("currentViewId",t);return t(),()=>i.cancel()}),[e]),t}(0,n(38064).c)("activeModelView",o)},90683:(e,t,n)=>{"use strict";n.d(t,{a:()=>l,e:()=>c});var i=n(96540),r=n(44120),o=n(93877),s=n(47613);const a=(e,t,n)=>{const i=e?null==t?void 0:t.getLayer(e):null;return n&&(null==i?void 0:i.layerType)!==o.ku.VIEW_DATA_LAYER};function l(e){const t=(0,r.h)(),n=(0,s._)();return a(e,n,t)}function c(){const e=(0,r.h)(),t=(0,s._)();return(0,i.useCallback)((n=>a(n,t,e)),[t,e])}},78379:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var i=n(5262),r=n(44120),o=n(28577);function s(){const e=(0,i.i)(o.qD,!1),t=(0,r.h)();return e&&!t}},30901:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var i=n(87805),r=n(47737);const o=(0,i.u)(r.P,"currentViewId","")},12621:(e,t,n)=>{"use strict";n.d(t,{H:()=>d,_:()=>p});var i=n(96540),r=n(30051),o=n(56147),s=n(39869),a=n(93877),l=n(47613),c=n(4130);const{LAYERS:u}=o.A.WORKSHOP;function d(e,t,n){let i=null==t?void 0:t.name;if(!i){i=e.t(u.UNTITLED_LAYER_PLACEHOLDER);const r=null==t?void 0:t.layerType;(null==n?void 0:n.viewType)===a.jK.TRUEPLAN&&r===a.ku.OTHER?i=e.t(u.TRUEPLAN_LAYER_LABEL):r!==a.ku.BASE_LAYER&&r!==a.ku.VIEW_DATA_LAYER||(i=e.t(u.UNLAYERED_LAYER_LABEL))}return(0,r.W)(i,c.s5)}function h(e,t,n,i){return d(t,n?null==e?void 0:e.getLayer(n):void 0,i)}function p(e,t){const n=(0,l._)(),r=(0,s.Y)(),[o,a]=(0,i.useState)(h(n,r,e,t));return(0,i.useEffect)((()=>{if(!n)return()=>{};function i(){a(h(n,r,e,t))}const o=n.onCurrentLayersChanged(i);return i(),()=>o.cancel()}),[n,e,t,r]),o}},47613:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(98236),r=n(47737);const o=(0,i.v_)(r.P)},2716:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var i=n(96540),r=n(47613);function o(e,t=!0){if(!e)return[];const n=e.viewLayers();if(n.length>1&&n.unshift(n.splice(n.length-1,1)[0]),t){return n.filter((e=>!e.isInMemory))}return n}function s(e=!0){const t=(0,r._)(),[n,s]=(0,i.useState)(o(t,e));return(0,i.useEffect)((()=>{if(!t)return()=>{};function n(){s(o(t,e))}const i=t.onCurrentLayersChanged(n);return n(),()=>i.cancel()}),[t,e]),n}},78115:(e,t,n)=>{"use strict";n.d(t,{MT:()=>r,NX:()=>s,V7:()=>a,Yp:()=>c,tj:()=>o,uU:()=>l});var i=n(7478);class r extends i.QB{}class o extends i.QB{}class s extends i.QB{constructor(e){super(),this.items=e}}class a extends i.QB{constructor(e){super(),this.layerId=e}}class l extends i.QB{}class c extends i.QB{}},56707:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var i=n(81587),r=n(9139),o=n(93877),s=n(8427),a=n(86867);const l=new r.Vy("mds-modelview-deserializer");class c{deserialize(e,t,n){return e&&e.layer.id&&e.layer.type&&t?new s.q({id:e.layer.id,name:e.layer.label||"",visible:e.visible,position:e.position,toggled:!0,layerType:this.getLayerType(e.layer.type),created:(0,i.XH)(e.layer.created),modified:(0,i.XH)(e.layer.modified),sourceViewId:this.getLayerSource(e.layer.id,n)||t}):(l.debug("Invalid layer data from MDS"),null)}getLayerType(e){return(0,a.U)(o.ku,e)?e:o.ku.OTHER}getLayerSource(e,t){var n,i,r;let o;if(t&&e){const s=t.layers.find((t=>t.layer.id===e));s&&(o=null===(r=null===(i=null===(n=s.sources)||void 0===n?void 0:n[0])||void 0===i?void 0:i.view)||void 0===r?void 0:r.id)}return o}}},57186:(e,t,n)=>{"use strict";n.d(t,{K:()=>u,o:()=>d});var i=n(15732),r=n(81587),o=n(9139),s=n(25095),a=n(93877),l=n(56707);const c=new o.Vy("mds-modelview-deserializer");class u{constructor(){this.deserializer=new l.F,this.policiesDeserializer=new i.S}deserialize(e,t){var n,i;if(!e||!e.id||!e.type)return c.debug("Deserialized invalid ModelView data from MDS",e),null;const o=this.policiesDeserializer.deserialize((null===(n=e.model)||void 0===n?void 0:n.policies)||[]),a=new s.j({viewType:this.getModelViewType(e),rawViewType:e.type,name:e.name||"",enabled:!!e.enabled,created:(0,r.XH)(e.created),modified:(0,r.XH)(e.modified),id:e.id,rootModelId:(null===(i=e.model)||void 0===i?void 0:i.rootModelId)||"",policies:o,compositeView:t});null==t||t.connections.forEach((e=>a.connections.push(e)));return this.getDataLayers(e,t).forEach((e=>a.layers.push(e))),a}getModelViewType(e){const t={"matterport.model.default":a.jK.BASE,"matterport.model.layered":a.jK.LAYERED_BASE,"matterport.user.insights":a.jK.INSIGHTS,"matterport.user.view":a.jK.USER,"matterport.model.defurnished":a.jK.DEFURNISH,"matterport.workshop.session":a.jK.SESSION,"trueplan.session":a.jK.TRUEPLAN,"capsvcs.digitalpro.session":a.jK.DIGIPRO_SESSION,"matterport.model.composite":a.jK.COMPOSITE_PROJECT,"matterport.model.composite.compare":a.jK.COMPOSITE_COMPARE,"matterport.model.composite.exterior":a.jK.COMPOSITE_EXTERIOR,"matterport.model.composite.site":a.jK.COMPOSITE_SITE};return e.type in t?t[e.type]:e.type.endsWith(".session")?a.jK.PRIVATE_SESSION:a.jK.OTHER}getDataLayers(e,t){const n=[];for(const i of e.layers||[]){const r=this.deserializer.deserialize(i,e.id,t);r&&n.push(r)}return n}}const d=function(){return new u}},4130:(e,t,n)=>{"use strict";n.d(t,{GB:()=>o,co:()=>s,cp:()=>i,s5:()=>r});const i=50,r=50,o="views",s="0"},56547:(e,t,n)=>{"use strict";n.d(t,{AF:()=>l,V6:()=>a,XF:()=>o,r0:()=>r,xF:()=>s});var i=n(93877);function r(e){return e.viewType===i.jK.LAYERED_BASE}function o(e){return r(e)||e.viewType===i.jK.BASE}function s(e){return e.viewType===i.jK.USER}function a(e){return e.viewType===i.jK.INSIGHTS}function l(e){return e.viewType===i.jK.DEFURNISH}},86324:(e,t,n)=>{"use strict";n.d(t,{ES:()=>l,EX:()=>a,y4:()=>c});var i=n(68909),r=n(36580),o=n(37458),s=n(3249);var a,l;!function(e){e[e.PIXELS=0]="PIXELS",e[e.METERS=1]="METERS"}(a||(a={})),function(e){e[e.NONE=0]="NONE",e[e.FADE_IN=1]="FADE_IN",e[e.FADE_OUT=-1]="FADE_OUT"}(l||(l={}));class c extends i.Mesh{constructor(e,t){var n,l,c,u,d,h,p,f;const m=new Float32Array([-9999,-9999,-9999,9999,9999,9999,-9999,-9999,-9999,9999,9999,9999,9999,9999,9999,-9999,-9999,-9999]),g=new Float32Array([1,1,0,0,-1,-1]),v=new Float32Array([0,1,0,1,0,1]),y=new i.InstancedBufferGeometry;y.setAttribute("position",new i.Float32BufferAttribute(m,3)),y.setAttribute("offsetDirection",new i.Float32BufferAttribute(g,1)),y.setAttribute("t",new i.Float32BufferAttribute(v,1)),y.setIndex([0,1,3,2,0,3,2,3,5,4,2,5]);const E={FADE_WIDTH:.8.toFixed(3)},S={};(null==t?void 0:t.dashUnits)===a.METERS&&(E.WORLDSPACE_DASH=!0,S.derivatives=!0);const b=null==t?void 0:t.fadeDistanceFromCamera;null!=b&&(E.FADE_DISTANCE_FROM_CAMERA=b.toFixed(2));const _=null==t?void 0:t.fadeDepth,O=null==t?void 0:t.fadeDepthTexture;null!=_&&null!=O&&(E.FADE_DEPTH=_.toFixed(3));const T=null==t?void 0:t.fadeAlongLineStartPct;null!=T&&(E.FADE_START_ALONG_PCT=T.toFixed(2));super(y,new i.ShaderMaterial({uniforms:i.UniformsUtils.clone(r.i.screenline.uniforms),side:i.DoubleSide,vertexShader:r.i.screenline.vertexShader,fragmentShader:r.i.screenline.fragmentShader,transparent:!0,depthTest:t.depthTest,depthWrite:t.depthWrite,depthFunc:t.depthFunc,stencilWrite:null!==(n=t.stencilWrite)&&void 0!==n&&n,stencilFunc:null!==(l=t.stencilFunc)&&void 0!==l?l:i.AlwaysStencilFunc,stencilRef:null!==(c=t.stencilRef)&&void 0!==c?c:0,stencilWriteMask:null!==(u=t.stencilWriteMask)&&void 0!==u?u:255,stencilFuncMask:null!==(d=t.stencilFuncMask)&&void 0!==d?d:255,stencilFail:null!==(h=t.stencilFail)&&void 0!==h?h:i.KeepStencilOp,stencilZFail:null!==(p=t.stencilZFail)&&void 0!==p?p:i.KeepStencilOp,stencilZPass:null!==(f=t.stencilZPass)&&void 0!==f?f:i.KeepStencilOp,defines:E,extensions:S})),this.transitionStartTime=0,this.transitionDuration=0,this.updateEndpoints(e),this.geometry.computeBoundingBox(),this.geometry.computeBoundingSphere(),this.renderOrder=o.X.lines,this.transitionDuration=t.transitionDuration||300,this.onBeforeRender=e=>{e.getSize(this.material.uniforms.screenSize.value),this.material.uniforms.pixelRatio.value=e.getPixelRatio(),this.material.uniforms.transitionProgress.value=(0,s.qE)(Math.abs(performance.now()-this.transitionStartTime)/this.transitionDuration,0,1)},this.material.uniforms.dashed.value=+t.dashed,this.material.uniforms.dashSize.value=t.dashSize,this.material.uniforms.gapSize.value=t.gapSize,this.material.uniforms.lineWidth.value=t.lineWidth,this.material.uniforms.color.value.copy(t.color),this.material.uniforms.globalOpacity.value=t.globalOpacity,this.material.uniforms.depthTex.value=null==O?void 0:O.texture,this.material.uniforms.transitionType.value=t.transitionType||0,this.frustumCulled=!1,this.matrixAutoUpdate=!1}updateEndpoints(e){var t;3*e.length!==(null===(t=this.start)||void 0===t?void 0:t.length)&&(this.geometry.dispose(),this.start=new Float32Array(3*e.length),this.startAttrib=new i.InstancedBufferAttribute(this.start,3),this.geometry.setAttribute("start",this.startAttrib),this.end=new Float32Array(3*e.length),this.endAttrib=new i.InstancedBufferAttribute(this.end,3),this.geometry.setAttribute("end",this.endAttrib),this.opacity=new Float32Array(e.length),this.opacityAttrib=new i.InstancedBufferAttribute(this.opacity,1),this.geometry.setAttribute("opacity",this.opacityAttrib));for(let t=0;t<e.length;t++){const n=e[t].points,i=e[t].opacity;n[0].toArray(this.start,3*t),n[1].toArray(this.end,3*t),this.opacity[t]=null!=i?i:1}this.startAttrib.needsUpdate=!0,this.endAttrib.needsUpdate=!0,this.opacityAttrib.needsUpdate=!0}setVisibilityAt(e,t){const n=t?1:0;this.opacity[e]=n,this.opacityAttrib.needsUpdate=!0}globalOpacity(e){this.material.uniforms.globalOpacity.value=e}translationOffset(e){this.material.uniforms.translationOffset.value.copy(e)}color(e){this.material.uniforms.color.value.copy(e)}lineWidth(e){this.material.uniforms.lineWidth.value=e}startTransition(e=l.FADE_IN){this.material.uniforms.transitionType.value=e,this.material.uniforms.transitionProgress.value=0,this.transitionStartTime=performance.now()}}},36580:(e,t,n)=>{"use strict";n.d(t,{i:()=>g});var i=n(68909),r=n(59155),o=n(81557),s=n.n(o),a=n(33326),l=n.n(a),c=n(228),u=n.n(c),d=n(88705),h=n.n(d),p=n(47107),f=n.n(p),m=n(40160);const g={endpoint:{uniforms:{opacity:{value:1},color:{value:new i.Color},bg:{value:null}},vertexShader:r.A.basicTextured.vertexShader,fragmentShader:s()},line:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,{linewidth:{value:4},resolution:{value:new i.Vector2(0,0)},dashScale:{value:1},dashSize:{value:.025},gapSize:{value:.05},mask:{value:null}}]),vertexShader:l(),fragmentShader:u()},screenline:{uniforms:{lineWidth:{value:1},screenSize:{value:new i.Vector2(0,0)},pixelRatio:{value:1},dashed:{value:0},dashSize:{value:1},gapSize:{value:1},antialiasWidth:{value:1},color:{value:new i.Color(1,0,0)},globalOpacity:{value:1},translationOffset:{value:new i.Vector3(0,0,0)},start:{value:new i.Vector3},end:{value:new i.Vector3},cameraPos:{value:new i.Vector3},depthTex:{value:null},fadeMaxDepth:{value:m.sv},transitionType:{value:0},transitionProgress:{value:0}},vertexShader:h(),fragmentShader:f()}}},40160:(e,t,n)=>{"use strict";n.d(t,{HT:()=>i,Mg:()=>o,UP:()=>r,q6:()=>s,sv:()=>a});const i={FADE_DURATION:100,LABEL_HIDDEN_OPACITY:.15,DEPTH_WRITE_THRESHOD:.15,ALIGN_LABELS:!1,LABEL_SIZING:.14,LABEL_NDC_SCALEFACTOR:.5,LABEL_ASPECT_SCALEFACTOR:.035,OFFSET_TOWARDS_CAMERA:.25,HIDE_LABELS:!1},r={dottedLineDefault:2,lineDefault:6,lineSelected:6,endpointDefault:2.5,endpointSelected:3.75},o=.01,s=5,a=100},56147:(e,t,n)=>{"use strict";var i;n.d(t,{A:()=>r}),function(e){e.LOADING="LOADING",e.PRESENTED_BY_CAPS="PRESENTED_BY_CAPS",e.EXPLORE_3D_SPACE="EXPLORE_3D_SPACE",e.POWERED_BY="POWERED_BY",e.SC_LOCKOUT_MESSAGE="SC_LOCKOUT_MESSAGE",e.SC_LOCKOUT_TITLE="SC_LOCKOUT_TITLE",e.SC_PASSWORD_TITLE="SC_PASSWORD_TITLE",e.SC_PASSWORD_INVALID="SC_PASSWORD_INVALID",e.SC_PASSWORD_PLACEHOLDER="SC_PASSWORD_PLACEHOLDER",e.SC_PASSWORD_SUBMIT="SC_PASSWORD_SUBMIT",e.VIEW_INSIDE="VIEW_INSIDE",e.VIEW_INSIDE_MESH="VIEW_INSIDE_MESH",e.VIEW_DOLLHOUSE="VIEW_DOLLHOUSE",e.VIEW_FLOORPLAN="VIEW_FLOORPLAN",e.VIEW_EXTERIOR="VIEW_EXTERIOR",e.VIEW_FULLSCREEN="VIEW_FULLSCREEN",e.EXIT_FULLSCREEN="EXIT_FULLSCREEN",e.OPEN_HIGHLIGHTS="OPEN_HIGHLIGHTS",e.CLOSE_HIGHLIGHTS="CLOSE_HIGHLIGHTS",e.PAUSE="PAUSE",e.SOCIAL_SHARING="SOCIAL_SHARING",e.VIEW_IN_VR="VIEW_IN_VR",e.HOTKEY_VIEW_INSIDE="HOTKEY_VIEW_INSIDE",e.HOTKEY_VIEW_DOLLHOUSE="HOTKEY_VIEW_DOLLHOUSE",e.HOTKEY_VIEW_FLOORPLAN="HOTKEY_VIEW_FLOORPLAN",e.FLOOR_NAME="FLOOR_NAME",e.FLOOR_ALL="FLOOR_ALL",e.PLUGIN_VISIBILITY="PLUGIN_VISIBILITY",e.PLUGIN_CHANGE_ALL="PLUGIN_CHANGE_ALL",e.PLUGIN_V_TOGGLE_LABEL="PLUGIN_V_TOGGLE_LABEL",e.PRESENTED_BY="PRESENTED_BY",e.MORE="MORE",e.LESS="LESS",e.LEARN_MORE="LEARN_MORE",e.DEFURN_AI_WARNING="DEFURN_AI_WARNING",e.FEEDBACK="FEEDBACK",e.TERMS="TERMS",e.HELP="HELP",e.ALT_MATTERPORT_LOGO="ALT_MATTERPORT_LOGO",e.ALT_HOMES_LOGO="ALT_HOMES_LOGO",e.ALT_APARTMENTS_LOGO="ALT_APARTMENTS_LOGO",e.ALT_LOOPNET_LOGO="ALT_LOOPNET_LOGO",e.TERMS_FAIL="TERMS_FAIL",e.HELP_NAVIGATION_TAB="HELP_NAVIGATION_TAB",e.HELP_MORE_HELP_TAB="HELP_MORE_HELP_TAB",e.HELP_DESKTOP_360_2A="HELP_DESKTOP_360_2A",e.HELP_DESKTOP_360_2B="HELP_DESKTOP_360_2B",e.HELP_DESKTOP_DOLLHOUSE_1A="HELP_DESKTOP_DOLLHOUSE_1A",e.HELP_DESKTOP_DOLLHOUSE_1B="HELP_DESKTOP_DOLLHOUSE_1B",e.HELP_DESKTOP_DOLLHOUSE_2A="HELP_DESKTOP_DOLLHOUSE_2A",e.HELP_DESKTOP_DOLLHOUSE_3A="HELP_DESKTOP_DOLLHOUSE_3A",e.HELP_DESKTOP_FLOORPLAN_1A="HELP_DESKTOP_FLOORPLAN_1A",e.HELP_DESKTOP_FLOORPLAN_2A="HELP_DESKTOP_FLOORPLAN_2A",e.HELP_DESKTOP_FLOORPLAN_2B="HELP_DESKTOP_FLOORPLAN_2B",e.HELP_DESKTOP_FLOORPLAN_3A="HELP_DESKTOP_FLOORPLAN_3A",e.HELP_DESKTOP_FLOORPLAN_3B="HELP_DESKTOP_FLOORPLAN_3B",e.HELP_DESKTOP_MORE_360_B="HELP_DESKTOP_MORE_360_B",e.HELP_DESKTOP_MORE_DOLLHOUSE_B="HELP_DESKTOP_MORE_DOLLHOUSE_B",e.HELP_DESKTOP_MORE_FLOORS_B="HELP_DESKTOP_MORE_FLOORS_B",e.HELP_DESKTOP_MORE_FULLSCREEN_B="HELP_DESKTOP_MORE_FULLSCREEN_B",e.HELP_DESKTOP_MORE_HLR_B="HELP_DESKTOP_MORE_HLR_B",e.HELP_DESKTOP_MORE_INSIDE_B="HELP_DESKTOP_MORE_INSIDE_B",e.HELP_DESKTOP_MORE_MATTERTAG_B="HELP_DESKTOP_MORE_MATTERTAG_B",e.HELP_DESKTOP_MORE_TOUR_B="HELP_DESKTOP_MORE_TOUR_B",e.HELP_DESKTOP_MORE_VR_B="HELP_DESKTOP_MORE_VR_B",e.HELP_DESKTOP_MORE_ZOOM_B="HELP_DESKTOP_MORE_ZOOM_B",e.HELP_DESKTOP_PANORAMA_1A="HELP_DESKTOP_PANORAMA_1A",e.HELP_DESKTOP_PANORAMA_1B="HELP_DESKTOP_PANORAMA_1B",e.HELP_DESKTOP_PANORAMA_2A="HELP_DESKTOP_PANORAMA_2A",e.HELP_DESKTOP_PANORAMA_2B="HELP_DESKTOP_PANORAMA_2B",e.HELP_DESKTOP_PANORAMA_3A="HELP_DESKTOP_PANORAMA_3A",e.HELP_DESKTOP_PANORAMA_3B="HELP_DESKTOP_PANORAMA_3B",e.HELP_MOBILE_3="HELP_MOBILE_3",e.HELP_MOBILE_360_2="HELP_MOBILE_360_2",e.HELP_MOBILE_DOLLHOUSE_1="HELP_MOBILE_DOLLHOUSE_1",e.HELP_MOBILE_DOLLHOUSE_2="HELP_MOBILE_DOLLHOUSE_2",e.HELP_MOBILE_FLOORPLAN_1="HELP_MOBILE_FLOORPLAN_1",e.HELP_MOBILE_FLOORPLAN_2="HELP_MOBILE_FLOORPLAN_2",e.HELP_MOBILE_MORE_360_B="HELP_MOBILE_MORE_360_B",e.HELP_MOBILE_MORE_DOLLHOUSE_B="HELP_MOBILE_MORE_DOLLHOUSE_B",e.HELP_MOBILE_MORE_INSIDE_B="HELP_MOBILE_MORE_INSIDE_B",e.HELP_MOBILE_MORE_MATTERTAG_B="HELP_MOBILE_MORE_MATTERTAG_B",e.HELP_MOBILE_MORE_VR_B="HELP_MOBILE_MORE_VR_B",e.HELP_MOBILE_PANORAMA_1="HELP_MOBILE_PANORAMA_1",e.HELP_MOBILE_PANORAMA_2="HELP_MOBILE_PANORAMA_2",e.HELP_MORE_360_A="HELP_MORE_360_A",e.HELP_MORE_DOLLHOUSE_A="HELP_MORE_DOLLHOUSE_A",e.HELP_MORE_FLOORS_A="HELP_MORE_FLOORS_A",e.HELP_MORE_FLOORPLAN_A="HELP_MORE_FLOORPLAN_A",e.HELP_MORE_FULLSCREEN_A="HELP_MORE_FULLSCREEN_A",e.HELP_MORE_HLR_A="HELP_MORE_HLR_A",e.HELP_MORE_INSIDE_A="HELP_MORE_INSIDE_A",e.HELP_MORE_MATTERTAG_A="HELP_MORE_MATTERTAG_A",e.HELP_MORE_TOUR_A="HELP_MORE_TOUR_A",e.HELP_MORE_VR_A="HELP_MORE_VR_A",e.HELP_MORE_ZOOM_A="HELP_MORE_ZOOM_A",e.HELP_MORE_EXTRAS_A="HELP_MORE_EXTRAS_A",e.VR_ENTER="VR_ENTER",e.VR_LEARN_MORE_CAPS="VR_LEARN_MORE_CAPS",e.VR_QUEST="VR_QUEST",e.VR_META_LINK="VR_META_LINK",e.VR_RECOMMENDED="VR_RECOMMENDED",e.VR_SUPPORTS="VR_SUPPORTS",e.VR_VIEW_SPACE="VR_VIEW_SPACE",e.CTA_TOUR_COMPLETE="CTA_TOUR_COMPLETE",e.CTA_EXPLORE_SPACE="CTA_EXPLORE_SPACE",e.CTA_RESTART_TOUR="CTA_RESTART_TOUR",e.CTA_SHARE="CTA_SHARE",e.DESKTOP_SHORT_CTA="DESKTOP_SHORT_CTA",e.MOBILE_SHORT_CTA="MOBILE_SHORT_CTA",e.ROTATE="ROTATE",e.MOVE="MOVE",e.PLAY="PLAY",e.NEXT="NEXT",e.PREVIOUS="PREVIOUS",e.INSIDE="INSIDE",e.ZOOM="ZOOM",e.MEASUREMENT="MEASUREMENT",e.MEASUREMENT_START_ADDING="MEASUREMENT_START_ADDING",e.MEASUREMENT_CONTINUOUS_LINES="MEASUREMENT_CONTINUOUS_LINES",e.MEASUREMENT_SNAPPING="MEASUREMENT_SNAPPING",e.MEASUREMENT_UNITS="MEASUREMENT_UNITS",e.MEASUREMENT_IMPERIAL="MEASUREMENT_IMPERIAL",e.MEASUREMENT_METRIC="MEASUREMENT_METRIC",e.MEASUREMENT_SETTINGS="MEASUREMENT_SETTINGS",e.MEASUREMENT_HELP_CLICK_ANYWHERE="MEASUREMENT_HELP_CLICK_ANYWHERE",e.MEASUREMENT_HELP_ESCAPE="MEASUREMENT_HELP_ESCAPE",e.MEASUREMENT_HELP_PRESS_START="MEASUREMENT_HELP_PRESS_START",e.MEASUREMENT_HELP_DRAG_EDIT="MEASUREMENT_HELP_DRAG_EDIT",e.MEASUREMENT_HELP_PRESS_END="MEASUREMENT_HELP_PRESS_END",e.MEASUREMENT_MODE="MEASUREMENT_MODE",e.MEASUREMENT_HELP_MODAL_SUB_HEADER="MEASUREMENT_HELP_MODAL_SUB_HEADER",e.MEASUREMENT_HELP_MODAL_BODY_1="MEASUREMENT_HELP_MODAL_BODY_1",e.MEASUREMENT_HELP_MODAL_BODY_2="MEASUREMENT_HELP_MODAL_BODY_2",e.MEASUREMENT_NUDGE_TITLE="MEASUREMENT_NUDGE_TITLE",e.MEASUREMENT_NUDGE_MESSAGE="MEASUREMENT_NUDGE_MESSAGE",e.MEASUREMENT_ADD_LABEL="MEASUREMENT_ADD_LABEL",e.MEASUREMENT_CANCEL_LABEL="MEASUREMENT_CANCEL_LABEL",e.MEASUREMENT_SAVE_LABEL="MEASUREMENT_SAVE_LABEL",e.NOTES_MODE="NOTES_MODE",e.NOTES_NUDGE_TITLE="NOTES_NUDGE_TITLE",e.NOTES_NUDGE_MESSAGE="NOTES_NUDGE_MESSAGE",e.CLOSE="CLOSE",e.SHOW="SHOW",e.HIDE="HIDE",e.MORE_OPTIONS="MORE_OPTIONS",e.COPY="COPY",e.COPY_URL="COPY_URL",e.COPY_LINK="COPY_LINK",e.SHARE="SHARE",e.SHARE_COPIED="SHARE_COPIED",e.SHARE_CURRENT_LOCATION="SHARE_CURRENT_LOCATION",e.SHARE_DEFAULT_LOCATION="SHARE_DEFAULT_LOCATION",e.SHARE_ERROR_SWEEP_DISABLED="SHARE_ERROR_SWEEP_DISABLED",e.SHARE_EXPLORE="SHARE_EXPLORE",e.SHARE_LINK_TO_LOCATION="SHARE_LINK_TO_LOCATION",e.SHARE_AT="SHARE_AT",e.SHARE_WITH="SHARE_WITH",e.SHARE_3D="SHARE_3D",e.SHARE_MODAL_TITLE="SHARE_MODAL_TITLE",e.SHARE_MAIL="SHARE_MAIL",e.SHARE_FACEBOOK="SHARE_FACEBOOK",e.SHARE_TWITTER="SHARE_TWITTER",e.SHARE_LINKEDIN="SHARE_LINKEDIN",e.SHARE_PINTEREST="SHARE_PINTEREST",e.SHARED_TITLE="SHARED_TITLE",e.SHARED_MESSAGE="SHARED_MESSAGE",e.SHARED_MESSAGE_HASHTAG="SHARED_MESSAGE_HASHTAG",e.DOLLHOUSE_NUDGE_TITLE="DOLLHOUSE_NUDGE_TITLE",e.DOLLHOUSE_NUDGE_MESSAGE="DOLLHOUSE_NUDGE_MESSAGE",e.FLOOR_PLAN_NUDGE_MESSAGE="FLOOR_PLAN_NUDGE_MESSAGE"}(i||(i={})),function(e){let t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g;!function(e){e.NEW_MESSAGE="GENERIC.NEW_MESSAGE",e.READ_MORE="GENERIC.READ_MORE",e.SETTING_OFF="GENERIC.SETTING_OFF",e.SETTING_ON="GENERIC.SETTING_ON",e.UP_NEXT="GENERIC.UP_NEXT",e.CANCELING="GENERIC.CANCELING",e.ACCEPT="GENERIC.ACCEPT",e.DISCARD="GENERIC.DISCARD",e.GENERATING="GENERIC.GENERATING"}(t=e.GENERIC||(e.GENERIC={})),function(e){e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.UNAUTHORIZED_ERROR_MESSAGE="ERRORS.UNAUTHORIZED_ERROR_MESSAGE"}(n=e.ERRORS||(e.ERRORS={})),function(e){e.COLLAPSE="ACCORDIONS.COLLAPSE",e.EXPAND="ACCORDIONS.EXPAND"}(i=e.ACCORDIONS||(e.ACCORDIONS={})),function(e){e.INVITED_MESSAGE="LOGIN.INVITED_MESSAGE",e.CREATE_ACCOUNT="LOGIN.CREATE_ACCOUNT",e.HAVE_ACCOUNT="LOGIN.HAVE_ACCOUNT",e.SIGN_IN="LOGIN.SIGN_IN"}(r=e.LOGIN||(e.LOGIN={})),function(e){e.COLLAPSE_PANEL="PANELS.COLLAPSE_PANEL",e.EXPAND_PANEL="PANELS.EXPAND_PANEL"}(o=e.PANELS||(e.PANELS={})),function(e){e.CLOSE_BUTTON_TOOLTIP_MESSAGE="REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE",e.HELP_BUTTON_TOOLTIP_MESSAGE="REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE",e.EMOJI_ALT_DISAPPOINTED="REUSABLES.EMOJI_ALT_DISAPPOINTED",e.EMOJI_ALT_UNSATISFIED="REUSABLES.EMOJI_ALT_UNSATISFIED",e.EMOJI_ALT_NEUTRAL="REUSABLES.EMOJI_ALT_NEUTRAL",e.EMOJI_ALT_SATISFIED="REUSABLES.EMOJI_ALT_SATISFIED",e.EMOJI_ALT_HAPPY="REUSABLES.EMOJI_ALT_HAPPY",e.FEEDBACK_LINK_LABEL="REUSABLES.FEEDBACK_LINK_LABEL",e.BETA_FEEDBACK_LINK_LABEL="REUSABLES.BETA_FEEDBACK_LINK_LABEL"}(s=e.REUSABLES||(e.REUSABLES={})),function(e){e.SCROLL_BUTTON_LABEL="SCROLLING.SCROLL_BUTTON_LABEL"}(a=e.SCROLLING||(e.SCROLLING={})),function(e){e.PINK="COLORS.PINK",e.PLUM="COLORS.PLUM",e.PURPLE="COLORS.PURPLE",e.COBALT="COLORS.COBALT",e.CERULEAN="COLORS.CERULEAN",e.TEAL="COLORS.TEAL",e.FOG="COLORS.FOG",e.IRON="COLORS.IRON",e.FOREST="COLORS.FOREST",e.EMERALD="COLORS.EMERALD",e.MINT="COLORS.MINT",e.OCEAN="COLORS.OCEAN",e.LIME="COLORS.LIME",e.CANARY="COLORS.CANARY",e.SUNFLOWER="COLORS.SUNFLOWER",e.TANGERINE="COLORS.TANGERINE",e.SUNSET="COLORS.SUNSET",e.SIERRA="COLORS.SIERRA",e.MAGENTA="COLORS.MAGENTA"}(l=e.COLORS||(e.COLORS={})),function(e){e.GENERIC_HELPTEXT="OOPS.GENERIC.HELPTEXT",e.GENERIC_TITLE="OOPS.GENERIC.TITLE",e.MODEL_ARCHIVED_TITLE="OOPS.MODEL_ARCHIVED.TITLE",e.MODEL_ARCHIVED_HELPTEXT="OOPS.MODEL_ARCHIVED.HELPTEXT",e.MODEL_COMPLIANCE_TITLE="OOPS.MODEL_COMPLIANCE.TITLE",e.MODEL_COMPLIANCE_HELPTEXT="OOPS.MODEL_COMPLIANCE.HELPTEXT",e.MODEL_DELETED_TITLE="OOPS.MODEL_DELETED.TITLE",e.MODEL_FAILED_TITLE="OOPS.MODEL_FAILED.TITLE",e.MODEL_FAILED_HELPTEXT="OOPS.MODEL_FAILED.HELPTEXT",e.MODEL_PENDING_TITLE="OOPS.MODEL_PENDING.TITLE",e.MODEL_PENDING_HELPTEXT="OOPS.MODEL_PENDING.HELPTEXT",e.MODEL_PROCESSING_TITLE="OOPS.MODEL_PROCESSING.TITLE",e.MODEL_PROCESSING_HELPTEXT="OOPS.MODEL_PROCESSING.HELPTEXT",e.SIGNED_IN_AS="OOPS.SIGNED_IN_AS",e.WEBGL_CONTEXT_LOST_HELPTEXT="OOPS.WEBGL_CONTEXT_LOST.HELPTEXT",e.WEBGL_CONTEXT_LOST_TITLE="OOPS.WEBGL_CONTEXT_LOST.TITLE",e.WEBGL_GENERIC_HELPTEXT="OOPS.WEBGL_GENERIC.HELPTEXT",e.WEBGL_GENERIC_TITLE="OOPS.WEBGL_GENERIC.TITLE",e.WEBGL_UNSUPPORTED_HELPTEXT="OOPS.WEBGL_UNSUPPORTED.HELPTEXT",e.WEBGL_UNSUPPORTED_TITLE="OOPS.WEBGL_UNSUPPORTED.TITLE"}(c=e.OOPS||(e.OOPS={})),function(e){e.AWAITING="SDK.AWAITING"}(u=e.SDK||(e.SDK={})),function(e){let t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y;!function(e){e.UPLOAD_TOOLTIP="SHOWCASE.ANNOTATIONS.UPLOAD_TOOLTIP",e.EMBED_TOOLTIP="SHOWCASE.ANNOTATIONS.EMBED_TOOLTIP",e.MAX_ATTACHMENTS_TOOLTIP="SHOWCASE.ANNOTATIONS.MAX_ATTACHMENTS_TOOLTIP",e.LINK_TOOLTIP="SHOWCASE.ANNOTATIONS.LINK_TOOLTIP",e.ADD_CTA="SHOWCASE.ANNOTATIONS.ADD_CTA",e.SAVE_CTA="SHOWCASE.ANNOTATIONS.SAVE_CTA",e.CANCEL_CTA="SHOWCASE.ANNOTATIONS.CANCEL_CTA",e.CONTENT_DELETED="SHOWCASE.ANNOTATIONS.CONTENT_DELETED",e.READ_MORE_MESSAGE="SHOWCASE.ANNOTATIONS.READ_MORE_MESSAGE"}(t=e.ANNOTATIONS||(e.ANNOTATIONS={})),function(e){e.ERROR_UPLOAD_FAIL="SHOWCASE.ATTACHMENTS.ERROR_UPLOAD_FAIL",e.ERROR_FILE_TOO_LARGE="SHOWCASE.ATTACHMENTS.ERROR_FILE_TOO_LARGE",e.ERROR_EMPTY_FILE="SHOWCASE.ATTACHMENTS.ERROR_EMPTY_FILE",e.ERROR_OVER_QUOTA="SHOWCASE.ATTACHMENTS.ERROR_OVER_QUOTA",e.ERROR_PERMISSION_DENIED="SHOWCASE.ATTACHMENTS.ERROR_PERMISSION_DENIED",e.REMOVE_TOOLTIP="SHOWCASE.ATTACHMENTS.REMOVE_TOOLTIP",e.CLOSE_TOOLTIP="SHOWCASE.ATTACHMENTS.CLOSE_TOOLTIP",e.DELETE_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.DELETE_ATTACHMENT_TOOLTIP",e.DOWNLOAD_TOOLTIP="SHOWCASE.ATTACHMENTS.DOWNLOAD_TOOLTIP",e.EXPAND_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.EXPAND_ATTACHMENT_TOOLTIP",e.VIEWER_INDEX_COUNT="SHOWCASE.ATTACHMENTS.VIEWER_INDEX_COUNT",e.FAILED_TO_LOAD_MESSAGE="SHOWCASE.ATTACHMENTS.FAILED_TO_LOAD_MESSAGE",e.MORE_ATTACHMENT="SHOWCASE.ATTACHMENTS.MORE_ATTACHMENT",e.ERROR_200_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_200_MESSAGE",e.ERROR_401_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_401_MESSAGE",e.ERROR_403_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_403_MESSAGE",e.ERROR_404_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_404_MESSAGE",e.ERROR_429_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_429_MESSAGE",e.ERROR_4XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_4XX_MESSAGE",e.ERROR_5XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_5XX_MESSAGE"}(n=e.ATTACHMENTS||(e.ATTACHMENTS={})),function(e){e.TITLE="SHOWCASE.DEFURNISH_AI_MODAL.TITLE",e.TEXT1="SHOWCASE.DEFURNISH_AI_MODAL.TEXT1",e.TEXT2="SHOWCASE.DEFURNISH_AI_MODAL.TEXT2"}(i=e.DEFURNISH_AI_MODAL||(e.DEFURNISH_AI_MODAL={})),function(e){let t,n;!function(e){e.OR="SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.OR",e.DESKTOP="SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.DESKTOP"}(t=e.ROTATE_PROMPT||(e.ROTATE_PROMPT={})),function(e){e.DESKTOP="SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.DESKTOP",e.TOUCH="SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.TOUCH"}(n=e.INSIDE_PROMPT||(e.INSIDE_PROMPT={}))}(r=e.DOLLHOUSE||(e.DOLLHOUSE={})),function(e){e.DEFAULT_NAME="SHOWCASE.FLOORS.DEFAULT_NAME"}(o=e.FLOORS||(e.FLOORS={})),function(e){e.ALT_GESTURE_DRAG="SHOWCASE.HELP.ALT_GESTURE_DRAG",e.ALT_GESTURE_DRAGTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_DRAGTWOFINGER",e.ALT_GESTURE_DRAGTWOFINGER_VERT="SHOWCASE.HELP.ALT_GESTURE_DRAGTWOFINGER_VERT",e.ALT_GESTURE_POSITION="SHOWCASE.HELP.ALT_GESTURE_POSITION",e.ALT_GESTURE_PINCH="SHOWCASE.HELP.ALT_GESTURE_PINCH",e.ALT_GESTURE_TOUCH_ROTATE="SHOWCASE.HELP.ALT_GESTURE_TOUCH_ROTATE",e.ALT_GESTURE_PLAY="SHOWCASE.HELP.ALT_GESTURE_PLAY",e.ALT_GESTURE_POSITIONTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_POSITIONTWOFINGER",e.ALT_GESTURE_TAP="SHOWCASE.HELP.ALT_GESTURE_TAP",e.ALT_GESTURE_TAPINSIDE="SHOWCASE.HELP.ALT_GESTURE_TAPINSIDE",e.ALT_KEYBOARD_ALL="SHOWCASE.HELP.ALT_KEYBOARD_ALL",e.ALT_KEYBOARD_INSIDE="SHOWCASE.HELP.ALT_KEYBOARD_INSIDE",e.ALT_KEYBOARD_LEFTRIGHT="SHOWCASE.HELP.ALT_KEYBOARD_LEFTRIGHT",e.ALT_KEYBOARD_UPDOWN="SHOWCASE.HELP.ALT_KEYBOARD_UPDOWN",e.ALT_KEYBOARD_ZOOM="SHOWCASE.HELP.ALT_KEYBOARD_ZOOM",e.ALT_MOUSE_CLICK="SHOWCASE.HELP.ALT_MOUSE_CLICK",e.ALT_MOUSE_CLICKINSIDE="SHOWCASE.HELP.ALT_MOUSE_CLICKINSIDE",e.ALT_MOUSE_DRAGLEFT="SHOWCASE.HELP.ALT_MOUSE_DRAGLEFT",e.ALT_MOUSE_DRAGRIGHT="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT",e.ALT_MOUSE_DRAGRIGHT_HORIZ="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT_HORIZ",e.ALT_MOUSE_DRAGRIGHT_VERT="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT_VERT",e.ALT_MOUSE_PLAY="SHOWCASE.HELP.ALT_MOUSE_PLAY",e.ALT_MOUSE_POSITIONLEFT="SHOWCASE.HELP.ALT_MOUSE_POSITIONLEFT",e.ALT_MOUSE_POSITIONRIGHT="SHOWCASE.HELP.ALT_MOUSE_POSITIONRIGHT",e.ALT_MOUSE_ZOOM="SHOWCASE.HELP.ALT_MOUSE_ZOOM",e.NAV_DOLLHOUSE_TITLE="SHOWCASE.HELP.NAV_DOLLHOUSE_TITLE",e.NAV_FLOORPLAN_TITLE="SHOWCASE.HELP.NAV_FLOORPLAN_TITLE",e.NAV_INSIDE_TITLE="SHOWCASE.HELP.NAV_INSIDE_TITLE",e.DESKTOP_DOLLHOUSE_PAN_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_PAN_HEADER",e.DESKTOP_DOLLHOUSE_PAN="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_PAN",e.DESKTOP_DOLLHOUSE_ROTATE_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ROTATE_HEADER",e.DESKTOP_DOLLHOUSE_ROTATE="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ROTATE",e.DESKTOP_DOLLHOUSE_ZOOM_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ZOOM_HEADER",e.DESKTOP_DOLLHOUSE_ZOOM="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ZOOM",e.DESKTOP_DOLLHOUSE_2D3D_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_2D3D_HEADER",e.DESKTOP_DOLLHOUSE_2D3D="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_2D3D",e.DESKTOP_INSIDE_LOOK_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_LOOK_HEADER",e.DESKTOP_INSIDE_LOOK="SHOWCASE.HELP.DESKTOP_INSIDE_LOOK",e.DESKTOP_INSIDE_MOVE_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_MOVE_HEADER",e.DESKTOP_INSIDE_MOVE="SHOWCASE.HELP.DESKTOP_INSIDE_MOVE",e.DESKTOP_INSIDE_ZOOM_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_ZOOM_HEADER",e.DESKTOP_INSIDE_ZOOM="SHOWCASE.HELP.DESKTOP_INSIDE_ZOOM",e.TOUCH_DOLLHOUSE_PAN="SHOWCASE.HELP.TOUCH_DOLLHOUSE_PAN",e.TOUCH_DOLLHOUSE_ROTATE="SHOWCASE.HELP.TOUCH_DOLLHOUSE_ROTATE",e.TOUCH_DOLLHOUSE_ZOOM="SHOWCASE.HELP.TOUCH_DOLLHOUSE_ZOOM",e.TOUCH_DOLLHOUSE_2D3D="SHOWCASE.HELP.TOUCH_DOLLHOUSE_2D3D",e.TOUCH_INSIDE_LOOK="SHOWCASE.HELP.TOUCH_INSIDE_LOOK",e.TOUCH_INSIDE_MOVE="SHOWCASE.HELP.TOUCH_INSIDE_MOVE",e.TOUCH_INSIDE_ZOOM="SHOWCASE.HELP.TOUCH_INSIDE_ZOOM"}(s=e.HELP||(e.HELP={})),function(e){e.EMPTY_REEL_TITLE="SHOWCASE.HLR.EMPTY_REEL_TITLE",e.EMPTY_REEL_MESSAGE="SHOWCASE.HLR.EMPTY_REEL_MESSAGE",e.EMPTY_REEL_LEARN_MORE="SHOWCASE.HLR.EMPTY_REEL_LEARN_MORE"}(a=e.HLR||(e.HLR={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.LABELS.SEARCH_GROUP_HEADER"}(l=e.LABELS||(e.LABELS={})),function(e){e.TOGGLE_LAYERS="SHOWCASE.LAYERS.TOGGLE_LAYERS"}(c=e.LAYERS||(e.LAYERS={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.MEASUREMENTS.SEARCH_GROUP_HEADER"}(u=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.TODAY="SHOWCASE.NOTES.TODAY",e.YESTERDAY="SHOWCASE.NOTES.YESTERDAY",e.THIS_WEEK="SHOWCASE.NOTES.THIS_WEEK",e.ONE_WEEK_AGO="SHOWCASE.NOTES.ONE_WEEK_AGO",e.TWO_WEEKS_AGO="SHOWCASE.NOTES.TWO_WEEKS_AGO",e.THREE_WEEKS_AGO="SHOWCASE.NOTES.THREE_WEEKS_AGO",e.OLDER="SHOWCASE.NOTES.OLDER",e.NO_MATCHES="SHOWCASE.NOTES.NO_MATCHES",e.HAVE_NONE="SHOWCASE.NOTES.HAVE_NONE",e.HAVE_NONE_OPEN="SHOWCASE.NOTES.HAVE_NONE_OPEN",e.HAVE_NONE_RESOLVED="SHOWCASE.NOTES.HAVE_NONE_RESOLVED",e.CONTENT_DELETED="SHOWCASE.NOTES.CONTENT_DELETED",e.RESULTS="SHOWCASE.NOTES.RESULTS",e.NUM_ATTACHMENTS="SHOWCASE.NOTES.ATTACHMENTS",e.COMMENTS="SHOWCASE.NOTES.COMMENTS",e.NOTES="SHOWCASE.NOTES.NOTES",e.REPLIES="SHOWCASE.NOTES.REPLIES",e.FILTER="SHOWCASE.NOTES.FILTER",e.FILTER_RESOLVED="SHOWCASE.NOTES.FILTER_RESOLVED",e.FILTER_UNRESOLVED="SHOWCASE.NOTES.FILTER_UNRESOLVED",e.FILTER_ALL="SHOWCASE.NOTES.FILTER_ALL",e.FILTER_BY="SHOWCASE.NOTES.FILTER_BY",e.CANCEL="SHOWCASE.NOTES.CANCEL",e.DELETE="SHOWCASE.NOTES.DELETE",e.EDIT="SHOWCASE.NOTES.EDIT",e.ADD_NOTE_MESSAGE="SHOWCASE.NOTES.ADD_NOTE_MESSAGE",e.MARK_AS_RESOLVED="SHOWCASE.NOTES.MARK_AS_RESOLVED",e.UNRESOLVE="SHOWCASE.NOTES.UNRESOLVE",e.FEEDBACK="SHOWCASE.NOTES.FEEDBACK",e.NAV_BACK="SHOWCASE.NOTES.NAV_BACK",e.NAV_CLOSE="SHOWCASE.NOTES.NAV_CLOSE",e.REPLY_PLACEHOLDER="SHOWCASE.NOTES.REPLY_PLACEHOLDER",e.EDIT_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.EDIT_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.DELETE_LIST_ITEM_OPTION_CTA",e.MISSING_MESSAGE="SHOWCASE.NOTES.MISSING_MESSAGE",e.ADD_CTA_TOOLTIP="SHOWCASE.NOTES.ADD_CTA_TOOLTIP",e.ADD_TOOLTIP="SHOWCASE.NOTES.ADD_TOOLTIP",e.CANCEL_TOOLTIP="SHOWCASE.NOTES.CANCEL_TOOLTIP",e.COLOR_STEM_TOOLTIP="SHOWCASE.NOTES.COLOR_STEM_TOOLTIP",e.DELETE_TOOLTIP="SHOWCASE.NOTES.DELETE_TOOLTIP",e.OVERLAY_ADD_TOUCH="SHOWCASE.NOTES.OVERLAY_ADD_TOUCH",e.OVERLAY_ADD_CLICK="SHOWCASE.NOTES.OVERLAY_ADD_CLICK",e.OVERLAY_PLACE_TOUCH="SHOWCASE.NOTES.OVERLAY_PLACE_TOUCH",e.OVERLAY_PLACE_CLICK="SHOWCASE.NOTES.OVERLAY_PLACE_CLICK",e.SEARCH_GROUP_HEADER="SHOWCASE.NOTES.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HEADER_NOTES="SHOWCASE.NOTES.SEARCH_GROUP_HEADER_NOTES",e.SELECTED_NOTES="SHOWCASE.NOTES.SELECTED_NOTES",e.SELECTED_COMMENTS="SHOWCASE.NOTES.SELECTED_COMMENTS"}(d=e.NOTES||(e.NOTES={})),function(e){e.BACK="SHOWCASE.ROOMS.BACK",e.CLOSE="SHOWCASE.ROOMS.CLOSE",e.DEFAULT_NAME="SHOWCASE.ROOMS.DEFAULT_NAME",e.DEFAULT_ROOM="SHOWCASE.ROOMS.DEFAULT_ROOM",e.DOORWAY_TYPE="SHOWCASE.ROOMS.DOORWAY_TYPE",e.DOORWAY_TYPE_DOOR="SHOWCASE.ROOMS.DOORWAY_TYPE_DOOR",e.DOORWAY_TYPE_OPENING="SHOWCASE.ROOMS.DOORWAY_TYPE_OPENING",e.DOORWAY_TYPE_WINDOW="SHOWCASE.ROOMS.DOORWAY_TYPE_WINDOW",e.DOORWAY_INFORMATION="SHOWCASE.ROOMS.DOORWAY_INFORMATION",e.LIST_PANEL_TITLE="SHOWCASE.ROOMS.LIST_PANEL_TITLE",e.LIST_PANEL_EDIT="SHOWCASE.ROOMS.LIST_PANEL_EDIT",e.QUANTITY_IN_UNITS="SHOWCASE.ROOMS.QUANTITY_IN_UNITS",e.ROOM_AREA="SHOWCASE.ROOMS.ROOM_AREA",e.ROOM_BOUNDS_TOGGLES_TITLE="SHOWCASE.ROOMS.ROOM_BOUNDS_TOGGLES_TITLE",e.ROOM_BOUNDS_WALL_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_WALL_TOGGLE_LABEL",e.ROOM_BOUNDS_ROOM_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_ROOM_TOGGLE_LABEL",e.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL",e.ROOM_BOUNDS_MODEL_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_MODEL_TOGGLE_LABEL",e.ROOM_DIMENSIONS="SHOWCASE.ROOMS.ROOM_DIMENSIONS",e.ROOM_HEIGHT="SHOWCASE.ROOMS.ROOM_HEIGHT",e.ROOM_WIDTH="SHOWCASE.ROOMS.ROOM_WIDTH",e.ROOM_INFORMATION="SHOWCASE.ROOMS.ROOM_INFORMATION",e.ROOM_PERIMETER="SHOWCASE.ROOMS.ROOM_PERIMETER",e.ROOM_TYPE="SHOWCASE.ROOMS.ROOM_TYPE",e.SEARCH_GROUP_HEADER="SHOWCASE.ROOMS.SEARCH_GROUP_HEADER",e.SETTINGS="SHOWCASE.ROOMS.SETTINGS",e.WALL_THICKNESS="SHOWCASE.ROOMS.WALL_THICKNESS",e.WALL_TYPE="SHOWCASE.ROOMS.WALL_TYPE",e.WALL_TYPE_SOLID="SHOWCASE.ROOMS.WALL_TYPE_SOLID",e.WALL_TYPE_DIVIDER="SHOWCASE.ROOMS.WALL_TYPE_DIVIDER"}(h=e.ROOMS||(e.ROOMS={})),function(e){e.CLOSE_TAG_LABEL="SHOWCASE.TAGS.CLOSE_TAG_LABEL",e.DOCK_TAG_LABEL="SHOWCASE.TAGS.DOCK_TAG_LABEL",e.EDIT_TAG_LABEL="SHOWCASE.TAGS.EDIT_TAG_LABEL",e.MISSING_MESSAGE="SHOWCASE.TAGS.MISSING_MESSAGE",e.SEARCH_GROUP_HEADER="SHOWCASE.TAGS.SEARCH_GROUP_HEADER",e.SHARE_TAG_LABEL="SHOWCASE.TAGS.SHARE_TAG_LABEL",e.UNDOCK_TAG_LABEL="SHOWCASE.TAGS.UNDOCK_TAG_LABEL",e.NAV_BACK_LABEL="SHOWCASE.TAGS.NAV_BACK_LABEL",e.OVERLAY_ADD_TOUCH="SHOWCASE.TAGS.OVERLAY_ADD_TOUCH",e.OVERLAY_ADD_CLICK="SHOWCASE.TAGS.OVERLAY_ADD_CLICK",e.OVERLAY_PLACE_TOUCH="SHOWCASE.TAGS.OVERLAY_PLACE_TOUCH",e.OVERLAY_PLACE_CLICK="SHOWCASE.TAGS.OVERLAY_PLACE_CLICK"}(p=e.TAGS||(e.TAGS={})),function(e){e.QUERY_PLACEHOLDER="SHOWCASE.SEARCH.QUERY_PLACEHOLDER",e.SEARCH_IN_TOOL_PLACEHOLDER="SHOWCASE.SEARCH.SEARCH_IN_TOOL_PLACEHOLDER",e.CLEAR_SEARCH="SHOWCASE.SEARCH.CLEAR_SEARCH",e.FILTER_SEARCH="SHOWCASE.SEARCH.FILTER_SEARCH",e.FILTER_SEARCH_LABEL="SHOWCASE.SEARCH.FILTER_SEARCH_LABEL",e.FILTER_SEARCH_ALL="SHOWCASE.SEARCH.FILTER_SEARCH_ALL",e.FILTER_SEARCH_REMOVE="SHOWCASE.SEARCH.FILTER_SEARCH_REMOVE",e.FILTER_SEARCH_SELECTED="SHOWCASE.SEARCH.FILTER_SEARCH_SELECTED",e.GROUP_DATE="SHOWCASE.SEARCH.GROUP_DATE",e.GROUP_DATE_SELECTED="SHOWCASE.SEARCH.GROUP_DATE_SELECTED",e.GROUP_FLOOR="SHOWCASE.SEARCH.GROUP_FLOOR",e.GROUP_FLOOR_SELECTED="SHOWCASE.SEARCH.GROUP_FLOOR_SELECTED",e.GROUP_LAYER="SHOWCASE.SEARCH.GROUP_LAYER",e.GROUP_LAYER_SELECTED="SHOWCASE.SEARCH.GROUP_LAYER_SELECTED",e.GROUP_ROOM="SHOWCASE.SEARCH.GROUP_ROOM",e.GROUP_ROOM_SELECTED="SHOWCASE.SEARCH.GROUP_ROOM_SELECTED",e.GROUP_TYPE="SHOWCASE.SEARCH.GROUP_TYPE",e.GROUP_TYPE_SELECTED="SHOWCASE.SEARCH.GROUP_TYPE_SELECTED",e.ITEMS="SHOWCASE.SEARCH.ITEMS",e.EMPTY_LIST_MESSAGE="SHOWCASE.SEARCH.EMPTY_LIST_MESSAGE",e.VALIDATION_MESSAGE="SHOWCASE.SEARCH.VALIDATION_MESSAGE"}(f=e.SEARCH||(e.SEARCH={})),function(e){e.BANNER_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.BANNER_CTA_LINK_TEXT",e.POPUP_CTA_HEADING="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_HEADING",e.POPUP_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_LINK_TEXT"}(m=e.SUBSCRIBER_PROMPT||(e.SUBSCRIBER_PROMPT={})),function(e){e.HEADING="SHOWCASE.SUMMARY.HEADING",e.LABEL_ADDRESS="SHOWCASE.SUMMARY.LABEL_ADDRESS",e.LABEL_CONTACT="SHOWCASE.SUMMARY.LABEL_CONTACT",e.LABEL_DESCRIPTION="SHOWCASE.SUMMARY.LABEL_DESCRIPTION",e.LABEL_INFORMATION="SHOWCASE.SUMMARY.LABEL_INFORMATION",e.LABEL_LOCATION="SHOWCASE.SUMMARY.LABEL_LOCATION",e.LABEL_LEARN_MORE="SHOWCASE.SUMMARY.LABEL_LEARN_MORE"}(g=e.SUMMARY||(e.SUMMARY={})),function(e){e.TOUR_BUTTON_LABEL="SHOWCASE.TOURS.TOUR_BUTTON_LABEL",e.TOUR_CONTROLS_TITLE="SHOWCASE.TOURS.TOUR_CONTROLS_TITLE",e.TOUR_CONTROLS_CTA="SHOWCASE.TOURS.TOUR_CONTROLS_CTA"}(v=e.TOURS||(e.TOURS={})),function(e){e.VIEW_SELECTOR_START_LOCATION_TOOLTIP="SHOWCASE.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP"}(y=e.VIEWS||(e.VIEWS={}))}(d=e.SHOWCASE||(e.SHOWCASE={})),function(e){e.AD_DEFURNISH="TOOLS.AD_DEFURNISH",e.AD_DEFURNISH_HELP_MESSAGE="TOOLS.AD_DEFURNISH_HELP_MESSAGE",e.BLUR="TOOLS.BLUR",e.BLUR_HELP_MESSAGE="TOOLS.BLUR_HELP_MESSAGE",e.HLR="TOOLS.HLR",e.HLR_HELP_MESSAGE="TOOLS.HLR_HELP_MESSAGE",e.LABELS="TOOLS.LABELS",e.LABELS_HELP_MESSAGE="TOOLS.LABELS_HELP_MESSAGE",e.LAYERS="TOOLS.LAYERS",e.LAYERS_HELP_MESSAGE="TOOLS.LAYERS_HELP_MESSAGE",e.MATTERTAGS="TOOLS.MATTERTAGS",e.MATTERTAGS_HELP_MESSAGE="TOOLS.MATTERTAGS_HELP_MESSAGE",e.MEASUREMENTS="TOOLS.MEASUREMENTS",e.MEASUREMENTS_SETTINGS="TOOLS.MEASUREMENTS_SETTINGS",e.MEASUREMENTS_HELP_MESSAGE="TOOLS.MEASUREMENTS_HELP_MESSAGE",e.MESH_TRIM="TOOLS.MESH_TRIM",e.MESH_TRIM_HELP_MESSAGE="TOOLS.MESH_TRIM_HELP_MESSAGE",e.NOTES="TOOLS.NOTES",e.NOTES_HELP_MESSAGE="TOOLS.NOTES_HELP_MESSAGE",e.PHOTOS="TOOLS.PHOTOS",e.PHOTOS_HELP_MESSAGE="TOOLS.PHOTOS_HELP_MESSAGE",e.PLUGIN_CONFIG="TOOLS.PLUGIN_CONFIG",e.PLUGIN_CONFIG_HELP_MESSAGE="TOOLS.PLUGIN_CONFIG_HELP_MESSAGE",e.PLUGIN_CONFIG_MISSING="TOOLS.PLUGIN_CONFIG_MISSING",e.ROOMPLAN="TOOLS.ROOMPLAN",e.ROOMPLAN_HELP_MESSAGE="TOOLS.ROOMPLAN_HELP_MESSAGE",e.SCANS_3D="TOOLS.SCANS_3D",e.SCANS_3D_HELP_MESSAGE="TOOLS.SCANS_3D_HELP_MESSAGE",e.SETTINGS_PANEL="TOOLS.SETTINGS_PANEL",e.START_LOCATION="TOOLS.START_LOCATION",e.START_LOCATION_HELP_MESSAGE="TOOLS.START_LOCATION_HELP_MESSAGE",e.SUMMARY="TOOLS.SUMMARY",e.TAGS="TOOLS.TAGS",e.TAGS_HELP_MESSAGE="TOOLS.TAGS_HELP_MESSAGE",e.TOURS="TOOLS.TOURS",e.TOURS_HELP_MESSAGE="TOOLS.TOURS_HELP_MESSAGE",e.VIEW_360="TOOLS.VIEW_360",e.VIEW_360_HELP_MESSAGE="TOOLS.VIEW_360_HELP_MESSAGE",e.VR_PATH="TOOLS.VR_PATH",e.VR_PATH_HELP_MESSAGE="TOOLS.VR_PATH_HELP_MESSAGE",e.SEARCH="TOOLS.SEARCH",e.UNSAVED_CHANGES_TITLE="TOOLS.UNSAVED_CHANGES_TITLE",e.UNSAVED_CHANGES_MESSAGE="TOOLS.UNSAVED_CHANGES_MESSAGE",e.UNSAVED_CHANGES_CONFIRM="TOOLS.UNSAVED_CHANGES_CONFIRM",e.UNSAVED_CHANGES_CANCEL="TOOLS.UNSAVED_CHANGES_CANCEL"}(h=e.TOOLS||(e.TOOLS={})),function(e){e.INVITE_USER="USERS.INVITE_USER",e.INVITE_USER_FAILED="USERS.INVITE_USER_FAILED",e.INVITE_BUTTON="USERS.INVITE_BUTTON",e.INVITE_USERS="USERS.INVITE_USERS",e.INVITE_USERS_FAILED="USERS.INVITE_USERS_FAILED",e.INVITE_VISIBLE_MSG="USERS.INVITE_VISIBLE_MSG",e.UNKNOWN_USER="USERS.UNKNOWN_USER",e.UNKNOWN_USERS="USERS.UNKNOWN_USERS"}(p=e.USERS||(e.USERS={})),function(e){e.FEET_SYMBOL="UNITS_DISPLAY.FEET_SYMBOL",e.INCHES_SYMBOL="UNITS_DISPLAY.INCHES_SYMBOL",e.HALF_SPACE="UNITS_DISPLAY.HALF_SPACE",e.FEET="UNITS_DISPLAY.FEET",e.INCHES="UNITS_DISPLAY.INCHES",e.METERS="UNITS_DISPLAY.METERS",e.SQUARE_FEET="UNITS_DISPLAY.SQUARE_FEET",e.SQUARE_METERS="UNITS_DISPLAY.SQUARE_METERS",e.DIMENSIONS_SEPARATOR="UNITS_DISPLAY.DIMENSIONS_SEPARATOR"}(f=e.UNITS_DISPLAY||(e.UNITS_DISPLAY={})),function(e){let t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,E,S,b,_,O,T,A,w;!function(e){e.DELETE_SELECTED_CTA="WORKSHOP.ACCORDION.DELETE_SELECTED_CTA",e.SELECT_ALL_CTA="WORKSHOP.ACCORDION.SELECT_ALL_CTA",e.ENTER_SELECT_MODE_CTA="WORKSHOP.ACCORDION.ENTER_SELECT_MODE_CTA",e.EXIT_SELECT_MODE_CTA="WORKSHOP.ACCORDION.EXIT_SELECT_MODE_CTA",e.DELETE_FOOTER_CTA="WORKSHOP.ACCORDION.DELETE_FOOTER_CTA",e.TOGGLE_VISIBILITY_FOOTER_CTA="WORKSHOP.ACCORDION.TOGGLE_VISIBILITY_FOOTER_CTA",e.BATCH_DELETE_MODAL_TITLE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_TITLE",e.BATCH_DELETE_MODAL_MESSAGE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_MESSAGE",e.BATCH_ITEMS_TYPE="WORKSHOP.ACCORDION.BATCH_ITEMS_TYPE",e.BATCH_COPY_LABEL="WORKSHOP.ACCORDION.BATCH_COPY_LABEL",e.BATCH_MOVE_LABEL="WORKSHOP.ACCORDION.BATCH_MOVE_LABEL",e.BATCH_DELETE_LABEL="WORKSHOP.ACCORDION.BATCH_DELETE_LABEL",e.RENAME_HEADER_OPTION_CTA="WORKSHOP.ACCORDION.RENAME_HEADER_OPTION_CTA"}(t=e.ACCORDION||(e.ACCORDION={})),function(e){e.CHANGES_SAVED_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_MESSAGE",e.SAVING_CHANGES_MESSAGE="WORKSHOP.APP_SWITCH.SAVING_CHANGES_MESSAGE",e.PROCESSING_MESSAGE="WORKSHOP.APP_SWITCH.PROCESSING_MESSAGE",e.CHANGES_SAVED_AUTOSAVE_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_AUTOSAVE_MESSAGE",e.EDIT_CTA="WORKSHOP.APP_SWITCH.EDIT_CTA",e.UNSUPPORTED_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_MESSAGE",e.UNSUPPORTED_TOOLTIP_TITLE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_TITLE",e.FLOORS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.FLOORS_CHECKBOX_LABEL",e.MEASUREMENTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MEASUREMENTS_CHECKBOX_LABEL",e.MATTERTAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MATTERTAGS_CHECKBOX_LABEL",e.TAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.TAGS_CHECKBOX_LABEL",e.LABELS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.LABELS_CHECKBOX_LABEL",e.HIGHLIGHTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.HIGHLIGHTS_CHECKBOX_LABEL",e.START_LOCATION_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.START_LOCATION_CHECKBOX_LABEL",e.SETTINGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SETTINGS_CHECKBOX_LABEL",e.SWEEPS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SWEEPS_CHECKBOX_LABEL",e.BLURS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.BLURS_CHECKBOX_LABEL",e.EXIT_EDIT_MODE_CTA="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_CTA",e.EXIT_EDIT_MODE_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_TOOLTIP_MESSAGE",e.PREVIEW_CHANGES_CTA="WORKSHOP.APP_SWITCH.PREVIEW_CHANGES_CTA",e.NO_EDIT_PERMS_TITLE="WORKSHOP.APP_SWITCH.NO_EDIT_PERMS_TITLE",e.NO_EDIT_PERMS_MESSAGE="WORKSHOP.APP_SWITCH.NO_EDIT_PERMS_MESSAGE"}(n=e.APP_SWITCH||(e.APP_SWITCH={})),function(e){e.ACCEPT_ALL_SUGGESTIONS="WORKSHOP.BLURS.ACCEPT_ALL_SUGGESTIONS",e.ACCEPT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.ACCEPT_SUGGESTION_TOOLTIP",e.ALREADY_PROCESSING_ALERT_MESSAGE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_MESSAGE",e.ALREADY_PROCESSING_ALERT_TITLE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_TITLE",e.APPLY_BLURS_CTA="WORKSHOP.BLURS.APPLY_BLURS_CTA",e.APPLYING="WORKSHOP.BLURS.APPLYING",e.APPLY_MODAL_CONFIRM="WORKSHOP.BLURS.APPLY_MODAL_CONFIRM",e.APPLY_MODAL_NUDGE_CANCEL="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_CANCEL",e.APPLY_MODAL_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_MESSAGE",e.APPLY_MODAL_NUDGE_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_MESSAGE",e.APPLY_MODAL_RETRY="WORKSHOP.BLURS.APPLY_MODAL_RETRY",e.APPLY_MODAL_TITLE="WORKSHOP.BLURS.APPLY_MODAL_TITLE",e.APPLY_MODAL_NUDGE_TITLE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_TITLE",e.APPLY_MODAL_TRUNCATED="WORKSHOP.BLURS.APPLY_MODAL_TRUNCATED",e.APPLY_MODAL_WARNING="WORKSHOP.BLURS.APPLY_MODAL_WARNING",e.BANNER_WARNING="WORKSHOP.BLURS.BANNER_WARNING",e.DEFURNISH_WARNING="WORKSHOP.BLURS.DEFURNISH_WARNING",e.BATCH_SELECT="WORKSHOP.BLURS.BATCH_SELECT",e.BLUR_STATUS="WORKSHOP.BLURS.BLUR_STATUS",e.BLUR_STATUS_ALL="WORKSHOP.BLURS.BLUR_STATUS_ALL",e.BLUR_STATUS_APPLIED="WORKSHOP.BLURS.BLUR_STATUS_APPLIED",e.BLUR_STATUS_FAILED="WORKSHOP.BLURS.BLUR_STATUS_FAILED",e.BLUR_STATUS_PENDING="WORKSHOP.BLURS.BLUR_STATUS_PENDING",e.BLUR_STATUS_PROCESSING="WORKSHOP.BLURS.BLUR_STATUS_PROCESSING",e.BLUR_STATUS_SUGGESTED="WORKSHOP.BLURS.BLUR_STATUS_SUGGESTED",e.BRUSH_TOOLTIP_MESSAGE="WORKSHOP.BLURS.BRUSH_TOOLTIP_MESSAGE",e.BRUSH_TOOLTIP_TITLE="WORKSHOP.BLURS.BRUSH_TOOLTIP_TITLE",e.CLOSE_SUGGESTIONS="WORKSHOP.BLURS.CLOSE_SUGGESTIONS",e.CREATE_TOOLTIP_MESSAGE="WORKSHOP.BLURS.CREATE_TOOLTIP_MESSAGE",e.CREATE_TOOLTIP_TITLE="WORKSHOP.BLURS.CREATE_TOOLTIP_TITLE",e.DEFAULT_ALERT_CONFIRMATION="WORKSHOP.BLURS.DEFAULT_ALERT_CONFIRMATION",e.DEFAULT_ALERT_TITLE="WORKSHOP.BLURS.DEFAULT_ALERT_TITLE",e.DEFAULT_BLUR_NAME="WORKSHOP.BLURS.DEFAULT_BLUR_NAME",e.DELETE_BLUR_CTA="WORKSHOP.BLURS.DELETE_BLUR_CTA",e.GROUP_BY="WORKSHOP.BLURS.GROUP_BY",e.GROUP_BY_FLOOR="WORKSHOP.BLURS.GROUP_BY_FLOOR",e.GROUP_BY_SCAN="WORKSHOP.BLURS.GROUP_BY_SCAN",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.MULTI_FLOOR_EMPTY_MESSAGE",e.NO_BLURS="WORKSHOP.BLURS.NO_BLURS",e.NO_SUGGESTIONS="WORKSHOP.BLURS.NO_SUGGESTIONS",e.NO_SUGGESTIONS_ON_FLOOR="WORKSHOP.BLURS.NO_SUGGESTIONS_ON_FLOOR",e.NUM_BLUR_SUGGESTIONS="WORKSHOP.BLURS.NUM_BLUR_SUGGESTIONS",e.NUM_TYPE="WORKSHOP.BLURS.NUM_TYPE",e.OTHER_GROUP_LABEL="WORKSHOP.BLURS.OTHER_GROUP_LABEL",e.OVERLAY_MESSAGE="WORKSHOP.BLURS.OVERLAY_MESSAGE",e.OVERLAY_MESSAGE_TOUCH="WORKSHOP.BLURS.OVERLAY_MESSAGE_TOUCH",e.REJECT_ALL_SUGGESTIONS="WORKSHOP.BLURS.REJECT_ALL_SUGGESTIONS",e.REJECT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.REJECT_SUGGESTION_TOOLTIP",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SORT="WORKSHOP.BLURS.SORT",e.SORT_CREATED_ASC="WORKSHOP.BLURS.SORT_CREATED_ASC",e.SORT_CREATED_DESC="WORKSHOP.BLURS.SORT_CREATED_DESC",e.STATUS="WORKSHOP.BLURS.STATUS",e.SUGGESTED_BLUR="WORKSHOP.BLURS.SUGGESTED_BLUR",e.SUGGESTIONS_AVAILABLE_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_AVAILABLE_MESSAGE",e.SUGGESTIONS_FOUND_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_FOUND_MESSAGE",e.TYPE="WORKSHOP.BLURS.TYPE",e.VIEW_SUGGESTIONS="WORKSHOP.BLURS.VIEW_SUGGESTIONS"}(i=e.BLURS||(e.BLURS={})),function(e){e.TYPE="WORKSHOP.SUGGESTIONS.TYPE"}(r=e.SUGGESTIONS||(e.SUGGESTIONS={})),function(e){e.HELP_LINK="WORKSHOP.EDIT_BAR.HELP_LINK",e.BETA_TAG="WORKSHOP.EDIT_BAR.BETA_TAG",e.COLLAPSE_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.COLLAPSE_LIST_TOOLTIP_MESSAGE",e.EXPAND_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.EXPAND_LIST_TOOLTIP_MESSAGE",e.NEW_BADGE="WORKSHOP.EDIT_BAR.NEW_BADGE"}(o=e.EDIT_BAR||(e.EDIT_BAR={})),function(e){e.APPLY_CTA="WORKSHOP.EMBED.APPLY_CTA",e.HELP_CTA="WORKSHOP.EMBED.HELP_CTA",e.ERROR_MESSAGE="WORKSHOP.EMBED.ERROR_MESSAGE",e.LOADING_MESSAGE="WORKSHOP.EMBED.LOADING_MESSAGE",e.INVALID_URL_MESSAGE="WORKSHOP.EMBED.INVALID_URL_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.EMBED.SUPPORTED_FORMATS_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.EMBED.MEDIA_LINK_LABEL",e.PROVIDER_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.PROVIDER_NOT_SUPPORTED_MESSAGE",e.LINK_TYPE_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.LINK_TYPE_NOT_SUPPORTED_MESSAGE",e.MEDIA_EMBED_PLACEHOLDER="WORKSHOP.EMBED.MEDIA_EMBED_PLACEHOLDER"}(s=e.EMBED||(e.EMBED={})),function(e){e.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE="WORKSHOP.HLR.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE",e.ADD_HIGHLIGHT_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_CTA",e.ADD_HIGHLIGHT_DISABLED_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_DISABLED_CTA",e.ADD_HIGHLIGHT_INSTRUCTIONS="WORKSHOP.HLR.ADD_HIGHLIGHT_INSTRUCTIONS",e.APPLY_TO_ALL_CTA="WORKSHOP.HLR.APPLY_TO_ALL_CTA",e.AUTO_GENERATED="WORKSHOP.HLR.AUTO_GENERATED",e.BEDROOM_COUNT="WORKSHOP.HLR.BEDROOM_COUNT",e.BATHROOM_COUNT="WORKSHOP.HLR.BATHROOM_COUNT",e.CLEAR_HLR_MODAL_MESSAGE="WORKSHOP.HLR.CLEAR_HLR_MODAL_MESSAGE",e.CLEAR_HLR_MODAL_TITLE="WORKSHOP.HLR.CLEAR_HLR_MODAL_TITLE",e.CLEAR_REEL_CTA="WORKSHOP.HLR.CLEAR_REEL_CTA",e.CLEAR_REEL_DRAFT_TOOLTIP="WORKSHOP.HLR.CLEAR_REEL_DRAFT_TOOLTIP",e.CLEAR_REEL_EMPTY_TOOLTIP="WORKSHOP.HLR.CLEAR_REEL_EMPTY_TOOLTIP",e.CLOSE_SETTINGS_CTA="WORKSHOP.HLR.CLOSE_SETTINGS_CTA",e.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE",e.DEFURNISHED="WORKSHOP.HLR.DEFURNISHED",e.DISMISS_TOOLTIP_CTA="WORKSHOP.HLR.DISMISS_TOOLTIP_CTA",e.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL",e.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE",e.EDIT_SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_SETTINGS_TOOLTIP_MESSAGE",e.HIGHLIGHT_CAPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_CAPTION_HINT",e.HIGHLIGHT_CAPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_CAPTION_PLACEHOLDER",e.HIGHLIGHT_DESCRIPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_HINT",e.HIGHLIGHT_DESCRIPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_PLACEHOLDER",e.HIGHLIGHT_SCENE_HINT="WORKSHOP.HLR.HIGHLIGHT_SCENE_HINT",e.HIGHLIGHT_SCENE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_SCENE_PLACEHOLDER",e.HIGHLIGHT_TITLE_HINT="WORKSHOP.HLR.HIGHLIGHT_TITLE_HINT",e.HIGHLIGHT_TITLE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_TITLE_PLACEHOLDER",e.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL",e.INDIVIDUAL_TRANSITION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_TRANSITION_SETTING_LABEL",e.NUM_TYPE="WORKSHOP.HLR.NUM_TYPE",e.PANNING_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PANNING_SETTINGS_TAB_TITLE",e.PAN_DIRECTION_SETTING_AUTO="WORKSHOP.HLR.PAN_DIRECTION_SETTING_AUTO",e.PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LABEL",e.PAN_DIRECTION_SETTING_LEFT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LEFT",e.PAN_DIRECTION_SETTING_RIGHT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_RIGHT",e.PANEL_COLLAPSE="WORKSHOP.HLR.PANEL_COLLAPSE",e.PANEL_EXPAND="WORKSHOP.HLR.PANEL_EXPAND",e.PREVIEW_SETTINGS_CTA="WORKSHOP.HLR.PREVIEW_SETTINGS_CTA",e.PRESENTATION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PRESENTATION_SETTINGS_TAB_TITLE",e.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE",e.RESTORE_DEFAULTS_CTA="WORKSHOP.HLR.RESTORE_DEFAULTS_CTA",e.ROTATION_ANGLE_SETTING_LABEL="WORKSHOP.HLR.ROTATION_ANGLE_SETTING_LABEL",e.ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.ROTATION_SPEED_SETTING_LABEL",e.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE",e.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE",e.SEARCH_HIGHLIGHT_DEFAULTNAME="WORKSHOP.HLR.SEARCH_HIGHLIGHT_DEFAULTNAME",e.SEARCH_ITEM_DELETE="WORKSHOP.HLR.SEARCH_ITEM_DELETE",e.SEARCH_ITEM_EDIT="WORKSHOP.HLR.SEARCH_ITEM_EDIT",e.SEARCH_TOUR_HEADER="WORKSHOP.HLR.SEARCH_TOUR_HEADER",e.SETTINGS_MODAL_TITLE="WORKSHOP.HLR.SETTINGS_MODAL_TITLE",e.SLIDESHOW_SPEED_SETTING_LABEL="WORKSHOP.HLR.SLIDESHOW_SPEED_SETTING_LABEL",e.SPEED_SETTING_FAST="WORKSHOP.HLR.SPEED_SETTING_FAST",e.SPEED_SETTING_MEDIUM="WORKSHOP.HLR.SPEED_SETTING_MEDIUM",e.SPEED_SETTING_SLOW="WORKSHOP.HLR.SPEED_SETTING_SLOW",e.TOAST_ERROR_CTA="WORKSHOP.HLR.TOAST_ERROR_CTA",e.TOAST_ERROR_MESSAGE="WORKSHOP.HLR.TOAST_ERROR_MESSAGE",e.TOUR_EDITOR_BEHAVIORS_TAB="WORKSHOP.HLR.TOUR_EDITOR_BEHAVIORS_TAB",e.TOUR_EDITOR_LABELS_TAB="WORKSHOP.HLR.TOUR_EDITOR_LABELS_TAB",e.TOUR_EDITOR_EMPTY_MESSAGE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_MESSAGE",e.TOUR_EDITOR_EMPTY_TITLE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_TITLE",e.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK",e.TOUR_SETTINGS_LABEL="WORKSHOP.HLR.TOUR_SETTINGS_LABEL",e.TOUR_SETTINGS_MOVED_HEADER="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_HEADER",e.TOUR_SETTINGS_MOVED_MESSAGE="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_MESSAGE",e.TRANSITION_AFTER_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_AFTER_360_DISABLED_MESSAGE",e.TRANSITION_EDITOR_TITLE="WORKSHOP.HLR.TRANSITION_EDITOR_TITLE",e.TRANSITION_IS_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_IS_360_DISABLED_MESSAGE",e.TRANSITION_NO_ROTATION_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_NO_ROTATION_DISABLED_MESSAGE",e.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE",e.TRANSITION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.TRANSITION_SETTINGS_TAB_TITLE",e.TRANSITION_SETTING_LABEL="WORKSHOP.HLR.TRANSITION_SETTING_LABEL",e.TRANSITION_SETTING_SLIDESHOW="WORKSHOP.HLR.TRANSITION_SETTING_SLIDESHOW",e.TRANSITION_SETTING_WALKTHROUGH="WORKSHOP.HLR.TRANSITION_SETTING_WALKTHROUGH",e.TYPE="WORKSHOP.HLR.TYPE",e.WALKTHROUGH_SPEED_SETTING_LABEL="WORKSHOP.HLR.WALKTHROUGH_SPEED_SETTING_LABEL",e.ZOOM_SPEED_SETTING_LABEL="WORKSHOP.HLR.ZOOM_SPEED_SETTING_LABEL",e.AUTOGEN_TOUR_CREATED_TITLE="WORKSHOP.HLR.AUTOGEN_TOUR_CREATED_TITLE",e.AUTOGEN_TOUR_CREATED_MESSAGE="WORKSHOP.HLR.AUTOGEN_TOUR_CREATED_MESSAGE",e.AUTOGEN_TOUR_READY_TITLE="WORKSHOP.HLR.AUTOGEN_TOUR_READY_TITLE",e.AUTOGEN_TOUR_READY_MESSAGE="WORKSHOP.HLR.AUTOGEN_TOUR_READY_MESSAGE",e.AUTOGEN_TOUR_ERROR_MESSAGE="WORKSHOP.HLR.AUTOGEN_TOUR_ERROR_MESSAGE",e.RATING_FEEDBACK_HAPPINESS_SAVED_TITLE="WORKSHOP.HLR.RATING_FEEDBACK_HAPPINESS_SAVED_TITLE",e.RATING_FEEDBACK_HAPPINESS_REJECTED_TITLE="WORKSHOP.HLR.RATING_FEEDBACK_HAPPINESS_REJECTED_TITLE",e.RATING_FEEDBACK_HAPPINESS_SUBTITLE="WORKSHOP.HLR.RATING_FEEDBACK_HAPPINESS_SUBTITLE",e.RATING_FEEDBACK_SPEED_TITLE="WORKSHOP.HLR.RATING_FEEDBACK_SPEED_TITLE",e.RATING_FEEDBACK_SPEED_MUCH_TOO_SLOW="WORKSHOP.HLR.RATING_FEEDBACK_SPEED_MUCH_TOO_SLOW",e.RATING_FEEDBACK_SPEED_SOMEWHAT_SLOW="WORKSHOP.HLR.RATING_FEEDBACK_SPEED_SOMEWHAT_SLOW",e.RATING_FEEDBACK_SPEED_ABOUT_RIGHT="WORKSHOP.HLR.RATING_FEEDBACK_SPEED_ABOUT_RIGHT",e.RATING_FEEDBACK_SPEED_SOMEWHAT_FAST="WORKSHOP.HLR.RATING_FEEDBACK_SPEED_SOMEWHAT_FAST",e.RATING_FEEDBACK_SPEED_MUCH_TOO_FAST="WORKSHOP.HLR.RATING_FEEDBACK_SPEED_MUCH_TOO_FAST",e.RATING_FEEDBACK_PATH_ISSUES_TITLE="WORKSHOP.HLR.RATING_FEEDBACK_PATH_ISSUES_TITLE",e.RATING_FEEDBACK_PATH_ISSUES_MISSING_ROOMS_FLOORS="WORKSHOP.HLR.RATING_FEEDBACK_PATH_ISSUES_MISSING_ROOMS_FLOORS",e.RATING_FEEDBACK_PATH_ISSUES_MISSING_OUTDOOR_AREAS="WORKSHOP.HLR.RATING_FEEDBACK_PATH_ISSUES_MISSING_OUTDOOR_AREAS",e.RATING_FEEDBACK_PATH_ISSUES_UNWANTED_AREAS="WORKSHOP.HLR.RATING_FEEDBACK_PATH_ISSUES_UNWANTED_AREAS",e.RATING_FEEDBACK_PATH_ISSUES_POOR_TRANSITIONS="WORKSHOP.HLR.RATING_FEEDBACK_PATH_ISSUES_POOR_TRANSITIONS",e.RATING_FEEDBACK_PATH_ISSUES_CUT_THROUGH_WALLS="WORKSHOP.HLR.RATING_FEEDBACK_PATH_ISSUES_CUT_THROUGH_WALLS",e.RATING_FEEDBACK_PATH_ISSUES_OTHER="WORKSHOP.HLR.RATING_FEEDBACK_PATH_ISSUES_OTHER",e.GENERATING_TOUR="WORKSHOP.HLR.GENERATING_TOUR",e.GENERATING_TOUR_MESSAGE="WORKSHOP.HLR.GENERATING_TOUR_MESSAGE",e.CANCEL_GENERATION="WORKSHOP.HLR.CANCEL_GENERATION",e.SAVING_TOUR="WORKSHOP.HLR.SAVING_TOUR",e.SAVING_TOUR_MESSAGE="WORKSHOP.HLR.SAVING_TOUR_MESSAGE",e.REPLACE_TOUR="WORKSHOP.HLR.REPLACE_TOUR",e.GENERATE_TOUR="WORKSHOP.HLR.GENERATE_TOUR",e.REGENERATE_TOUR="WORKSHOP.HLR.REGENERATE_TOUR",e.KEEP_CURRENT_TOUR="WORKSHOP.HLR.KEEP_CURRENT_TOUR",e.REPLACE_CURRENT_TOUR="WORKSHOP.HLR.REPLACE_CURRENT_TOUR",e.ACCEPT_GENERATED_TOUR="WORKSHOP.HLR.ACCEPT_GENERATED_TOUR",e.REPLACE_TOUR_HELP_MESSAGE="WORKSHOP.HLR.REPLACE_TOUR_HELP_MESSAGE",e.ACCEPT_TOUR_HELP_MESSAGE="WORKSHOP.HLR.ACCEPT_TOUR_HELP_MESSAGE"}(a=e.HLR||(e.HLR={})),function(e){e.TYPE="WORKSHOP.LABELS.TYPE",e.NUM_TYPE="WORKSHOP.LABELS.NUM_TYPE",e.SELECTED_LABELS="WORKSHOP.LABELS.SELECTED_LABELS",e.EDIT_TEXT_CANCEL_CTA="WORKSHOP.LABELS.EDIT_TEXT_CANCEL_CTA",e.EDIT_TEXT_DONE_CTA="WORKSHOP.LABELS.EDIT_TEXT_DONE_CTA",e.INPUT_PLACEHOLDER="WORKSHOP.LABELS.INPUT_PLACEHOLDER",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.LABELS.MOBILE_OVERLAY_MESSAGE",e.ADD_LABEL_TOOLTIP_MESSAGE="WORKSHOP.LABELS.ADD_LABEL_TOOLTIP_MESSAGE",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.DELETE_LIST_ITEM_OPTION_CTA",e.DEPRECATION_WARNING="WORKSHOP.LABELS.DEPRECATION_WARNING",e.OPEN_PROPERTY_TOOL_LABEL="WORKSHOP.LABELS.OPEN_PROPERTY_TOOL_LABEL",e.BOTH_LABELS_AND_RB_ENABLED="WORKSHOP.LABELS.BOTH_LABELS_AND_RB_ENABLED",e.TURN_OFF_LABELS="WORKSHOP.LABELS.TURN_OFF_LABELS",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.LABELS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.SINGLE_FLOOR_EMPTY_MESSAGE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.EDIT_LABEL="WORKSHOP.LABELS.EDIT_LABEL"}(l=e.LABELS||(e.LABELS={})),function(e){e.BACKYARD="WORKSHOP.LABEL_SUGGESTIONS.BACKYARD",e.BALCONY="WORKSHOP.LABEL_SUGGESTIONS.BALCONY",e.BASEMENT="WORKSHOP.LABEL_SUGGESTIONS.BASEMENT",e.BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.BATHROOM",e.BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.BEDROOM",e.BONUS_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BONUS_ROOM",e.BREAK_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BREAK_ROOM",e.CLOSET="WORKSHOP.LABEL_SUGGESTIONS.CLOSET",e.CONFERENCE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.CONFERENCE_ROOM",e.DEN="WORKSHOP.LABEL_SUGGESTIONS.DEN",e.DINING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM",e.DRIVEWAY="WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY",e.ELEVATOR="WORKSHOP.LABEL_SUGGESTIONS.ELEVATOR",e.ENTRANCE="WORKSHOP.LABEL_SUGGESTIONS.ENTRANCE",e.ESCALATOR="WORKSHOP.LABEL_SUGGESTIONS.ESCALATOR",e.EXERCISE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.EXERCISE_ROOM",e.EXTERIOR="WORKSHOP.LABEL_SUGGESTIONS.EXTERIOR",e.FACADE="WORKSHOP.LABEL_SUGGESTIONS.FACADE",e.FAMILY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM",e.FRONT_YARD="WORKSHOP.LABEL_SUGGESTIONS.FRONT_YARD",e.GAME_ROOM="WORKSHOP.LABEL_SUGGESTIONS.GAME_ROOM",e.GARAGE="WORKSHOP.LABEL_SUGGESTIONS.GARAGE",e.GARDEN="WORKSHOP.LABEL_SUGGESTIONS.GARDEN",e.GREAT_ROOM="WORKSHOP.LABEL_SUGGESTIONS.GREAT_ROOM",e.GYM="WORKSHOP.LABEL_SUGGESTIONS.GYM",e.HALLWAY="WORKSHOP.LABEL_SUGGESTIONS.HALLWAY",e.KITCHEN="WORKSHOP.LABEL_SUGGESTIONS.KITCHEN",e.LAUNDRY="WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY",e.LIBRARY="WORKSHOP.LABEL_SUGGESTIONS.LIBRARY",e.LIVING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM",e.LOBBY="WORKSHOP.LABEL_SUGGESTIONS.LOBBY",e.LOFT="WORKSHOP.LABEL_SUGGESTIONS.LOFT",e.LUNCH_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LUNCH_ROOM",e.MEDIA_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEDIA_ROOM",e.MEETING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEETING_ROOM",e.OFFICE="WORKSHOP.LABEL_SUGGESTIONS.OFFICE",e.OTHER="WORKSHOP.LABEL_SUGGESTIONS.OTHER",e.PANTRY="WORKSHOP.LABEL_SUGGESTIONS.PANTRY",e.PATIO="WORKSHOP.LABEL_SUGGESTIONS.PATIO",e.POOL="WORKSHOP.LABEL_SUGGESTIONS.POOL",e.PRIMARY_BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BATHROOM",e.PRIMARY_BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BEDROOM",e.RECEPTION="WORKSHOP.LABEL_SUGGESTIONS.RECEPTION",e.SAUNA="WORKSHOP.LABEL_SUGGESTIONS.SAUNA",e.SPA="WORKSHOP.LABEL_SUGGESTIONS.SPA",e.STAIRCASE="WORKSHOP.LABEL_SUGGESTIONS.STAIRCASE",e.STAIRWAY="WORKSHOP.LABEL_SUGGESTIONS.STAIRWAY",e.STORAGE="WORKSHOP.LABEL_SUGGESTIONS.STORAGE",e.STUDY="WORKSHOP.LABEL_SUGGESTIONS.STUDY",e.UNFURNISHED="WORKSHOP.LABEL_SUGGESTIONS.UNFURNISHED",e.UTILITY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.UTILITY_ROOM",e.VOID="WORKSHOP.LABEL_SUGGESTIONS.VOID",e.WORKSHOP_ROOM="WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP_ROOM",e.WORKSHOP="WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP"}(c=e.LABEL_SUGGESTIONS||(e.LABEL_SUGGESTIONS={})),function(e){e.ADD_LAYER_BUTTON_LABEL="WORKSHOP.LAYERS.ADD_LAYER_BUTTON_LABEL",e.ADD_VIEW_ITEM="WORKSHOP.LAYERS.ADD_VIEW_ITEM",e.ADD_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.ADD_VIEW_MODAL_TITLE",e.APPLY_TO_ALL_VIEWS_BLURS="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_BLURS",e.APPLY_TO_ALL_VIEWS_SCANS_3D="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_SCANS_3D",e.APPLY_TO_ALL_VIEWS_TRIM="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_TRIM",e.APPLY_TO_ALL_VIEWS_VIEW_360="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_VIEW_360",e.BATCH_NEW_LAYER="WORKSHOP.LAYERS.BATCH_NEW_LAYER",e.COMMON_LAYER="WORKSHOP.LAYERS.COMMON_LAYER",e.COMMON_LAYER_DESCRIPTION="WORKSHOP.LAYERS.COMMON_LAYER_DESCRIPTION",e.COMMON_LAYER_ITEM="WORKSHOP.LAYERS.COMMON_LAYER_ITEM",e.COPY_LAYER_ITEM="WORKSHOP.LAYERS.COPY_LAYER_ITEM",e.DEDICATED_LAYER="WORKSHOP.LAYERS.DEDICATED_LAYER",e.DEDICATED_LAYER_DESCRIPTION="WORKSHOP.LAYERS.DEDICATED_LAYER_DESCRIPTION",e.DEDICATED_LAYER_ITEM="WORKSHOP.LAYERS.DEDICATED_LAYER_ITEM",e.DEFAULT_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_VIEW_NAME",e.DEFAULT_INSIGHTS_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_INSIGHTS_VIEW_NAME",e.DEFAULT_TRUEPLAN_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_TRUEPLAN_VIEW_NAME",e.DEFAULT_DIGIPRO_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_DIGIPRO_VIEW_NAME",e.DEFAULT_DEFURNISH_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_DEFURNISH_VIEW_NAME",e.DELETE_COMMON_LAYER_CONFIRMATION_MESSAGE="WORKSHOP.LAYERS.DELETE_COMMON_LAYER_CONFIRMATION_MESSAGE",e.DELETE_COMMON_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_COMMON_LAYER_MODAL_TITLE",e.DELETE_LAYER_CONFIRMATION_MESSAGE="WORKSHOP.LAYERS.DELETE_LAYER_CONFIRMATION_MESSAGE",e.DELETE_LAYER_ITEM="WORKSHOP.LAYERS.DELETE_LAYER_ITEM",e.DELETE_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_LAYER_MODAL_TITLE",e.DELETE_VIEW_ITEM="WORKSHOP.LAYERS.DELETE_VIEW_ITEM",e.DELETE_VIEW_MODAL_MESSAGE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_MESSAGE",e.DELETE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_TITLE",e.DUPLICATE_LAYER_ITEM="WORKSHOP.LAYERS.DUPLICATE_LAYER_ITEM",e.DUPLICATE_LAYER_PLACEHOLDER="WORKSHOP.LAYERS.DUPLICATE_LAYER_PLACEHOLDER",e.DUPLICATE_LAYER_TITLE="WORKSHOP.LAYERS.DUPLICATE_LAYER_TITLE",e.DUPLICATE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DUPLICATE_VIEW_MODAL_TITLE",e.EDIT_LAYER_TITLE="WORKSHOP.LAYERS.EDIT_LAYER_TITLE",e.EDIT_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.EDIT_VIEW_MODAL_TITLE",e.HIDDEN_LAYER_ITEM_TOOLTIP="WORKSHOP.LAYERS.HIDDEN_LAYER_ITEM_TOOLTIP",e.HIDE_LAYER="WORKSHOP.LAYERS.HIDE_LAYER",e.LAYER_ADDING_TO_CHOICE_LABEL="WORKSHOP.LAYERS.LAYER_ADDING_TO_CHOICE_LABEL",e.LAYER_ADDING_TO_LABEL="WORKSHOP.LAYERS.LAYER_ADDING_TO_LABEL",e.LAYER_TYPE_LABEL="WORKSHOP.LAYERS.LAYER_TYPE_LABEL",e.LAYER_NAME_PLACEHOLDER="WORKSHOP.LAYERS.LAYER_NAME_PLACEHOLDER",e.MOVE_LAYER_ITEM="WORKSHOP.LAYERS.MOVE_LAYER_ITEM",e.NEW_LAYER_LABEL="WORKSHOP.LAYERS.NEW_LAYER_LABEL",e.NEW_LAYER_TITLE="WORKSHOP.LAYERS.NEW_LAYER_TITLE",e.NEW_VIEW_NAME_PLACEHOLDER="WORKSHOP.LAYERS.NEW_VIEW_NAME_PLACEHOLDER",e.SHARE_THIS_VIEW="WORKSHOP.LAYERS.SHARE_THIS_VIEW",e.SHARED_ENABLED_VIEWS="WORKSHOP.LAYERS.SHARED_ENABLED_VIEWS",e.SHOW_LAYER="WORKSHOP.LAYERS.SHOW_LAYER",e.SWITCH_TO_VIEWS_LEARN_MORE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LEARN_MORE",e.SWITCH_TO_VIEWS_LIST_HEADER="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_HEADER",e.SWITCH_TO_VIEWS_LIST_ITEM_1="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_1",e.SWITCH_TO_VIEWS_LIST_ITEM_2="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_2",e.SWITCH_TO_VIEWS_LIST_ITEM_3="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_3",e.SWITCH_TO_VIEWS_LIST_ITEM_4="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_4",e.SWITCH_TO_VIEWS_TITLE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_TITLE",e.SWITCH_TO_VIEWS_USE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_USE",e.SELECTED_ITEMS="WORKSHOP.LAYERS.SELECTED_ITEMS",e.UNLAYERED_LAYER_LABEL="WORKSHOP.LAYERS.UNLAYERED_LAYER_LABEL",e.TRUEPLAN_LAYER_LABEL="WORKSHOP.LAYERS.TRUEPLAN_LAYER_LABEL",e.UNTITLED_LAYER_PLACEHOLDER="WORKSHOP.LAYERS.UNTITLED_LAYER_PLACEHOLDER",e.VIEW_DISABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_DISABLED_MESSAGE",e.VIEW_DUPLICATE="WORKSHOP.LAYERS.VIEW_DUPLICATE",e.VIEW_DUPLICATE_NAME_SUFFIX="WORKSHOP.LAYERS.VIEW_DUPLICATE_NAME_SUFFIX",e.VIEW_ENABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_ENABLED_MESSAGE",e.VIEW_HIDE_MESSAGE="WORKSHOP.LAYERS.VIEW_HIDE_MESSAGE",e.VIEW_PLACEHOLDER="WORKSHOP.LAYERS.VIEW_PLACEHOLDER",e.VIEW_PREVIEW="WORKSHOP.LAYERS.VIEW_PREVIEW",e.VIEW_PREVIEW_NARROW="WORKSHOP.LAYERS.VIEW_PREVIEW_NARROW",e.VIEW_SET_AS_DEFAULT="WORKSHOP.LAYERS.VIEW_SET_AS_DEFAULT",e.VIEW_IS_DEFAULT="WORKSHOP.LAYERS.VIEW_IS_DEFAULT",e.VIEW_RENAME="WORKSHOP.LAYERS.VIEW_RENAME",e.VIEW_SHOW_MESSAGE="WORKSHOP.LAYERS.VIEW_SHOW_MESSAGE",e.VIEWS_HELP="WORKSHOP.LAYERS.VIEWS_HELP"}(u=e.LAYERS||(e.LAYERS={})),function(e){e.ADD="WORKSHOP.MATTERTAGS.ADD",e.ADD_FILE="WORKSHOP.MATTERTAGS.ADD_FILE",e.ADD_MATTERTAG_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.ADD_MATTERTAG_TOOLTIP_MESSAGE",e.ADD_TAG_NUDGE="WORKSHOP.MATTERTAGS.ADD_TAG_NUDGE",e.ADD_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.ADD_TAG_TOOLTIP",e.ATTACHMENTS_LABEL="WORKSHOP.MATTERTAGS.ATTACHMENTS_LABEL",e.APPEARANCE_LABEL="WORKSHOP.MATTERTAGS.APPEARANCE_LABEL",e.BACK="WORKSHOP.MATTERTAGS.BACK",e.CANCEL_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.CANCEL_TAG_TOOLTIP",e.COLOR_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.COLOR_TOOLTIP_MESSAGE",e.DEFAULT_LIST_ITEM_TEXT="WORKSHOP.MATTERTAGS.DEFAULT_LIST_ITEM_TEXT",e.DEFAULT_TAG_TITLE="WORKSHOP.MATTERTAGS.DEFAULT_TAG_TITLE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.DELETE_LIST_ITEM_OPTION_CTA",e.DELETE_MATTERTAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_MESSAGE",e.DELETE_MATTERTAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_TITLE",e.DELETE_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.DELETE_TAG_TOOLTIP",e.DELETE_TAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_MESSAGE",e.DELETE_TAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_TITLE",e.DESCRIPTION_PLACEHOLDER="WORKSHOP.MATTERTAGS.DESCRIPTION_PLACEHOLDER",e.DISCARD_MATTERTAG_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_MESSAGE",e.DISCARD_MATTERTAG_MODAL_TITLE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_TITLE",e.DROP_FILES_MESSAGE="WORKSHOP.MATTERTAGS.DROP_FILES_MESSAGE",e.EDIT_BILLBOARD_CANCEL_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_CANCEL_CTA",e.EDIT_BILLBOARD_DONE_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_DONE_CTA",e.EDIT_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.EDIT_LIST_ITEM_OPTION_CTA",e.EDIT_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.EDIT_TAG_TOOLTIP",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HIDE_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_TOOLTIP_MESSAGE",e.KEYWORDS_HELP_MESSAGE="WORKSHOP.MATTERTAGS.KEYWORDS_HELP_MESSAGE",e.KEYWORDS_LABEL="WORKSHOP.MATTERTAGS.KEYWORDS_LABEL",e.KEYWORDS_MAXIMUM_TOKENS_MESSAGE="WORKSHOP.MATTERTAGS.KEYWORDS_MAXIMUM_TOKENS_MESSAGE",e.KEYWORDS_PLACEHOLDER="WORKSHOP.MATTERTAGS.KEYWORDS_PLACEHOLDER",e.LINK_DISABLED_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_DISABLED_TOOLTIP_MESSAGE",e.LINK_EDITOR_APPLY_CTA="WORKSHOP.MATTERTAGS.LINK_EDITOR_APPLY_CTA",e.LINK_EDITOR_INVALID_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_INVALID_TIP",e.LINK_EDITOR_LINK_ADD_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_ADD_LABEL",e.LINK_EDITOR_LINK_EDIT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_EDIT_LABEL",e.LINK_EDITOR_MAX_LENGTH_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_MAX_LENGTH_TIP",e.LINK_EDITOR_PREVIEW_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_PREVIEW_TIP",e.LINK_EDITOR_REMOVE_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_REMOVE_TIP",e.LINK_EDITOR_TEXT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_LABEL",e.LINK_EDITOR_TEXT_PLACEHOLDER="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_PLACEHOLDER",e.LINK_EDITOR_TIP_TEXT="WORKSHOP.MATTERTAGS.LINK_EDITOR_TIP_TEXT",e.LINK_EDITOR_URL_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_URL_LABEL",e.LINK_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_TOOLTIP_MESSAGE",e.LIST_BY_FLOOR_ALPHABETICAL_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ALPHABETICAL_LABEL",e.LIST_BY_FLOOR_ORDERED_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ORDERED_LABEL",e.LIST_IN_TAG_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_ORDER_LABEL",e.LIST_IN_TAG_TITLE_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_TITLE_ORDER_LABEL",e.LIST_SORT_TAG_ORDER="WORKSHOP.MATTERTAGS.LIST_SORT_TAG_ORDER",e.LIST_SORT_TAG_TITLE="WORKSHOP.MATTERTAGS.LIST_SORT_TAG_TITLE",e.MAX_ATTACHMENTS_MESSAGE="WORKSHOP.MATTERTAGS.MAX_ATTACHMENTS_MESSAGE",e.MEDIA_LINK_APPLY_CTA="WORKSHOP.MATTERTAGS.MEDIA_LINK_APPLY_CTA",e.MEDIA_LINK_ERROR_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_ERROR_MESSAGE",e.MEDIA_LINK_HELP_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_HELP_LINK",e.MEDIA_LINK_INVALID_URL_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_INVALID_URL_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.MATTERTAGS.MEDIA_LINK_LABEL",e.MEDIA_LINK_LOADING_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_LOADING_MESSAGE",e.MEDIA_LINK_SUPPORTED_FORMATS_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_SUPPORTED_FORMATS_LINK",e.MEDIA_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_TOOLTIP_MESSAGE",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_OVERLAY_MESSAGE",e.MOBILE_REORDER_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_MESSAGE",e.MOBILE_REORDER_MODAL_TITLE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_TITLE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.MULTI_FLOOR_EMPTY_MESSAGE",e.NUM_TYPE="WORKSHOP.MATTERTAGS.NUM_TYPE",e.SAVE="WORKSHOP.MATTERTAGS.SAVE",e.SAVE_PROCESSING="WORKSHOP.MATTERTAGS.SAVE_PROCESSING",e.SAVE_INVALID="WORKSHOP.MATTERTAGS.SAVE_INVALID",e.SELECTED_TAGS="WORKSHOP.MATTERTAGS.SELECTED_TAGS",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_STEM_LABEL="WORKSHOP.MATTERTAGS.SHOW_STEM_LABEL",e.SHOW_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.SINGLE_FLOOR_EMPTY_MESSAGE",e.STEM_SLIDER_RESET_CTA="WORKSHOP.MATTERTAGS.STEM_SLIDER_RESET_CTA",e.STEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.STEM_TOOLTIP_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.MATTERTAGS.SUPPORTED_FORMATS_MESSAGE",e.TAG_NUM_TYPE="WORKSHOP.MATTERTAGS.TAG_NUM_TYPE",e.TAG_REORDER_ENTER_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_ENTER_LABEL",e.TAG_REORDER_EXIT_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_EXIT_LABEL",e.TAG_RESET_ORDER="WORKSHOP.MATTERTAGS.TAG_RESET_ORDER",e.TAG_TYPE="WORKSHOP.MATTERTAGS.TAG_TYPE",e.TAGS_EMPTY_MULTI_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_MULTI_FLOOR_MESSAGE",e.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE",e.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.TAGS_ORDERED_BY_CUSTOM_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_CUSTOM_LABEL",e.TAGS_ORDERED_BY_LOCATION_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_LOCATION_LABEL",e.TAGS_RESET_MODAL_BODY="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_BODY",e.TAGS_RESET_MODAL_TITLE="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_TITLE",e.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.TITLE_DESC_LABEL="WORKSHOP.MATTERTAGS.TITLE_DESC_LABEL",e.TITLE_PLACEHOLDER="WORKSHOP.MATTERTAGS.TITLE_PLACEHOLDER",e.TYPE="WORKSHOP.MATTERTAGS.TYPE",e.UPLOAD_FILE="WORKSHOP.MATTERTAGS.UPLOAD_FILE",e.UPLOAD_IN_PROGRESS="WORKSHOP.MATTERTAGS.UPLOAD_IN_PROGRESS"}(d=e.MATTERTAGS||(e.MATTERTAGS={})),function(e){e.TYPE="WORKSHOP.MEASUREMENTS.TYPE",e.NUM_TYPE="WORKSHOP.MEASUREMENTS.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.OTHER_GROUP_LABEL="WORKSHOP.MEASUREMENTS.OTHER_GROUP_LABEL",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.DELETE_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.MEASUREMENTS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SELECTED_MEASUREMENTS="WORKSHOP.MEASUREMENTS.SELECTED_MEASUREMENTS",e.GROSS_AREA_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.GROSS_AREA_TOOLTIP_MESSAGE"}(h=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.ERROR_TITLE="WORKSHOP.MODAL.ERROR_TITLE",e.SAVING_ERROR_TITLE="WORKSHOP.MODAL.SAVING_ERROR_TITLE",e.SAVING_ERROR_MESSAGE="WORKSHOP.MODAL.SAVING_ERROR_MESSAGE",e.NO="WORKSHOP.MODAL.NO",e.YES="WORKSHOP.MODAL.YES",e.CANCEL="WORKSHOP.MODAL.CANCEL",e.OK="WORKSHOP.MODAL.OK",e.DISCARD="WORKSHOP.MODAL.DISCARD",e.DELETE="WORKSHOP.MODAL.DELETE",e.SAVE="WORKSHOP.MODAL.SAVE"}(p=e.MODAL||(e.MODAL={})),function(e){e.HAPPINESS_TITLE="WORKSHOP.MODEL_RATING.HAPPINESS_TITLE",e.HAPPINESS_BODY="WORKSHOP.MODEL_RATING.HAPPINESS_BODY",e.QUALITY_ISSUES_TITLE="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_TITLE",e.QUALITY_ISSUES_LIGHTING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_LIGHTING",e.QUALITY_ISSUES_3D_MESH="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_3D_MESH",e.QUALITY_ISSUES_COLORING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_COLORING",e.QUALITY_ISSUES_IMAGE_QUALITY="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_IMAGE_QUALITY",e.NAVIGATION_ISSUES_TITLE="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_TITLE",e.NAVIGATION_ISSUES_BLOCKED_DOORWAYS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_BLOCKED_DOORWAYS",e.NAVIGATION_ISSUES_OBSTRUCTIONS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_OBSTRUCTIONS",e.NAVIGATION_ISSUES_MISALIGNED_SCANS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_MISALIGNED_SCANS",e.NAVIGATION_ISSUES_FLOOR_SEPARATION="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_FLOOR_SEPARATION",e.NAVIGATION_ISSUES_DISAPPEARING_FLOORS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_DISAPPEARING_FLOORS",e.FEEDBACK_TITLE="WORKSHOP.MODEL_RATING.FEEDBACK_TITLE",e.FEEDBACK_LABEL="WORKSHOP.MODEL_RATING.FEEDBACK_LABEL",e.THANK_YOU_HEADING="WORKSHOP.MODEL_RATING.THANK_YOU_HEADING",e.THANK_YOU_BODY="WORKSHOP.MODEL_RATING.THANK_YOU_BODY",e.THANK_YOU_CTA="WORKSHOP.MODEL_RATING.THANK_YOU_CTA",e.THANK_YOU_CTA_LINK_TEXT="WORKSHOP.MODEL_RATING.THANK_YOU_CTA_LINK_TEXT",e.SAVE="WORKSHOP.MODEL_RATING.SAVE",e.NEXT="WORKSHOP.MODEL_RATING.NEXT",e.PROGRESS="WORKSHOP.MODEL_RATING.PROGRESS"}(f=e.MODEL_RATING||(e.MODEL_RATING={})),function(e){e.SEARCH_GROUP_HEADER="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HIDE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HIDE_ALL",e.SEARCH_GROUP_SHOW_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_SHOW_ALL",e.SEARCH_GROUP_DELETE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_DELETE_ALL",e.SEARCH_ITEM_HIDE_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_HIDE_TOOLTIP",e.SEARCH_ITEM_SHOW_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_SHOW_TOOLTIP",e.SEARCH_ITEM_EDIT="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_EDIT",e.SEARCH_ITEM_DELETE="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_DELETE",e.SHOW_ONLY_IN_SEARCH="WORKSHOP.OBJECT_TAG_SUGGESTION.SHOW_ONLY_IN_SEARCH"}(m=e.OBJECT_TAG_SUGGESTION||(e.OBJECT_TAG_SUGGESTION={})),function(e){e.TYPE="WORKSHOP.PHOTOS.TYPE",e.NUM_TYPE="WORKSHOP.PHOTOS.NUM_TYPE",e.ADD_PHOTOS_CTA="WORKSHOP.PHOTOS.ADD_PHOTOS_CTA",e.ADDING_PHOTOS_CTA="WORKSHOP.PHOTOS.ADDING_PHOTOS_CTA",e.CATURE_PHOTO="WORKSHOP.PHOTOS.CATURE_PHOTO",e.BACK_TO_PHOTOS="WORKSHOP.PHOTOS.BACK_TO_PHOTOS",e.MODAL_TITLE="WORKSHOP.PHOTOS.MODAL_TITLE",e.NUM_SELECTED="WORKSHOP.PHOTOS.NUM_SELECTED",e.SELECT_ALL_CTA="WORKSHOP.PHOTOS.SELECT_ALL_CTA",e.UNSELECT_ALL_CTA="WORKSHOP.PHOTOS.UNSELECT_ALL_CTA",e.UPDATED_TOAST_MESSAGE="WORKSHOP.PHOTOS.UPDATED_TOAST_MESSAGE",e.SAVING_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVING_TOAST_MESSAGE",e.SAVED_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVED_TOAST_MESSAGE",e.SAVED_TOAST_CTA="WORKSHOP.PHOTOS.SAVED_TOAST_CTA",e.ERROR_MODAL_TITLE="WORKSHOP.PHOTOS.ERROR_MODAL_TITLE",e.ERROR_MODAL_MESSAGE="WORKSHOP.PHOTOS.ERROR_MODAL_MESSAGE",e.CAMERA_PITCH_RESET_MESSAGE="WORKSHOP.PHOTOS.CAMERA_PITCH_RESET_MESSAGE",e.ZOOM_RESET_MESSAGE="WORKSHOP.PHOTOS.ZOOM_RESET_MESSAGE",e.ZOOM_IN_MESSAGE="WORKSHOP.PHOTOS.ZOOM_IN_MESSAGE",e.ZOOM_OUT_MESSAGE="WORKSHOP.PHOTOS.ZOOM_OUT_MESSAGE",e.CANNOT_SAVE_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_MESSAGE",e.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE",e.CANNOT_SAVE_TOOLTIP_TITLE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_TITLE",e.CANNOT_SAVE_TOOLTIP_CTA="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_CTA",e.SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.SETTINGS_TOOLTIP_MESSAGE",e.ASSETS_SETTING_LABEL="WORKSHOP.PHOTOS.ASSETS_SETTING_LABEL",e.SHOW_GRID_SETTING_LABEL="WORKSHOP.PHOTOS.SHOW_GRID_SETTING_LABEL",e.SNAPSHOT_ERROR_TOAST_MESSAGE="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_MESSAGE",e.SNAPSHOT_ERROR_TOAST_CTA="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_CTA",e.PHOTO_VIEWER="WORKSHOP.PHOTOS.PHOTO_VIEWER",e.PHOTO_MODES="WORKSHOP.PHOTOS.PHOTO_MODES",e.NO_PHOTOS="WORKSHOP.PHOTOS.NO_PHOTOS",e.VIEW_PHOTOS="WORKSHOP.PHOTOS.VIEW_PHOTOS",e.UPDATE_NAME="WORKSHOP.PHOTOS.UPDATE_NAME",e.PHOTO_NAME="WORKSHOP.PHOTOS.PHOTO_NAME"}(g=e.PHOTOS||(e.PHOTOS={})),function(e){e.COLOR_NO_SELECTION_TEXT="WORKSHOP.PINS.COLOR_NO_SELECTION_TEXT",e.COLOR_STEM_EDITOR_TITLE="WORKSHOP.PINS.COLOR_STEM_EDITOR_TITLE",e.ICON_GROUP_RECENT="WORKSHOP.PINS.ICON_GROUP_RECENT",e.ICON_GROUP_IN_SPACE="WORKSHOP.PINS.ICON_GROUP_IN_SPACE",e.ICON_GROUP_PEOPLE="WORKSHOP.PINS.ICON_GROUP_PEOPLE",e.ICON_GROUP_FURNITURE="WORKSHOP.PINS.ICON_GROUP_FURNITURE",e.ICON_GROUP_BUILDINGS="WORKSHOP.PINS.ICON_GROUP_BUILDINGS",e.ICON_GROUP_OBJECTS="WORKSHOP.PINS.ICON_GROUP_OBJECTS",e.ICON_GROUP_SYMBOLS="WORKSHOP.PINS.ICON_GROUP_SYMBOLS",e.ICON_GROUP_CHARACTERS="WORKSHOP.PINS.ICON_GROUP_CHARACTERS",e.ICON_PLACEHOLDER="WORKSHOP.PINS.ICON_PLACEHOLDER",e.SEARCH_NO_RESULTS="WORKSHOP.PINS.SEARCH_NO_RESULTS",e.SEARCH_PLACEHOLDER="WORKSHOP.PINS.SEARCH_PLACEHOLDER"}(v=e.PINS||(e.PINS={})),function(e){e.NUM_TYPE="WORKSHOP.PLUGINS.NUM_TYPE",e.PANEL_TITLE="WORKSHOP.PLUGINS.PANEL_TITLE",e.SAVE_CONFIG="WORKSHOP.PLUGINS.SAVE_CONFIG",e.BACK_TO_ALL="WORKSHOP.PLUGINS.BACK_TO_ALL",e.ENABLED="WORKSHOP.PLUGINS.ENABLED",e.SAVE="WORKSHOP.PLUGINS.SAVE",e.CLOSE="WORKSHOP.PLUGINS.CLOSE"}(y=e.PLUGINS||(e.PLUGINS={})),function(e){e.ADD_LABEL="WORKSHOP.ROOMS.ADD_LABEL",e.APPLY_TO_ALL_VIEWS_ROOMS="WORKSHOP.ROOMS.APPLY_TO_ALL_VIEWS_ROOMS",e.DELETE="WORKSHOP.ROOMS.DELETE",e.AREA_IS_OUTDOORS="WORKSHOP.ROOMS.AREA_IS_OUTDOORS",e.AREA_IS_OUTDOORS_TOOLTIP="WORKSHOP.ROOMS.AREA_IS_OUTDOORS_TOOLTIP",e.ROOM_BOUNDS_SETTINGS="WORKSHOP.ROOMS.ROOM_BOUNDS_SETTINGS",e.ROOM_INACCESSIBLE_INFO="WORKSHOP.ROOMS.ROOM_INACCESSIBLE_INFO",e.ROOM_INCLUDE_IN_AREA="WORKSHOP.ROOMS.ROOM_INCLUDE_IN_AREA",e.ROOM_INCLUDE_IN_AREA_TOOLTIP="WORKSHOP.ROOMS.ROOM_INCLUDE_IN_AREA_TOOLTIP",e.ROOM_MISSING_DIMENSIONS="WORKSHOP.ROOMS.ROOM_MISSING_DIMENSIONS",e.ROOM_MISSING_HEIGHT="WORKSHOP.ROOMS.ROOM_MISSING_HEIGHT",e.DOOR_MISSING_HEIGHT="WORKSHOP.ROOMS.DOOR_MISSING_HEIGHT",e.ROOM_MISSING_INFO="WORKSHOP.ROOMS.ROOM_MISSING_INFO",e.LABEL="WORKSHOP.ROOMS.LABEL",e.RESET_TO_DEFAULT="WORKSHOP.ROOMS.RESET_TO_DEFAULT",e.SELECT="WORKSHOP.ROOMS.SELECT",e.UNDO="WORKSHOP.ROOMS.UNDO",e.NOT_AVAILABLE="WORKSHOP.ROOMS.NOT_AVAILABLE",e.NOT_SET="WORKSHOP.ROOMS.NOT_SET"}(E=e.ROOMS||(e.ROOMS={})),function(e){e.TYPE="WORKSHOP.SCANS.TYPE",e.NUM_TYPE="WORKSHOP.SCANS.NUM_TYPE",e.BATCH_SHOW_CTA="WORKSHOP.SCANS.BATCH_SHOW_CTA",e.BATCH_HIDE_CTA="WORKSHOP.SCANS.BATCH_HIDE_CTA",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.LIST_ITEM_TEXT="WORKSHOP.SCANS.LIST_ITEM_TEXT",e.FLOOR_EMPTY_MESSAGE="WORKSHOP.SCANS.FLOOR_EMPTY_MESSAGE",e.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HLR_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_IN_OTHER_VIEWS="WORKSHOP.SCANS.HLR_IN_OTHER_VIEWS",e.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE",e.START_LOCATION_SCAN_IN_OTHER_VIEWS="WORKSHOP.SCANS.START_LOCATION_SCAN_IN_OTHER_VIEWS",e.OVERLAY_HIDE_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_CTA",e.OVERLAY_SHOW_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_CTA",e.OVERLAY_HIDE_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_SCAN_CTA",e.OVERLAY_SHOW_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_SCAN_CTA",e.OVERLAY_PANORAMA_INFO="WORKSHOP.SCANS.OVERLAY_PANORAMA_INFO",e.OVERLAY_INFO="WORKSHOP.SCANS.OVERLAY_INFO",e.START_LOCATION_TOOLTIP_TITLE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_TITLE",e.START_LOCATION_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_MESSAGE",e.START_LOCATION_TOOLTIP_CTA="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_CTA",e.REMOVE_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_TITLE",e.REMOVE_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_MESSAGE",e.REMOVE_HLR_MODAL_BATCH_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_BATCH_MESSAGE",e.REMOVE_HLR_MODAL_WARNING="WORKSHOP.SCANS.REMOVE_HLR_MODAL_WARNING",e.REMOVE_SCANS_FROM_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_SCANS_FROM_HLR_MODAL_TITLE",e.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE"}(S=e.SCANS||(e.SCANS={})),function(e){e.ADVANCED_SPACE_SEARCH_LABEL="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_LABEL",e.ADVANCED_SPACE_SEARCH_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_MESSAGE",e.ADVANCED_DOLLHOUSE_LABEL="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_LABEL",e.ADVANCED_DOLLHOUSE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_MESSAGE",e.ADVANCED_FLOORPLAN_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_LABEL",e.ADVANCED_FLOORPLAN_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_MESSAGE",e.ADVANCED_FLOOR_SELECTION_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_LABEL",e.ADVANCED_FLOOR_SELECTION_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_MESSAGE",e.ADVANCED_HEADER="WORKSHOP.SETTINGS.ADVANCED_HEADER",e.ADVANCED_MEASUREMENT_MODE_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_LABEL",e.ADVANCED_MEASUREMENT_MODE_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MENU_LABEL",e.ADVANCED_MEASUREMENT_MODE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MESSAGE",e.ADVANCED_ROOM_LABELS_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_LABEL",e.ADVANCED_ROOM_LABELS_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MESSAGE",e.ADVANCED_ROOM_LABELS_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MENU_LABEL",e.ADVANCED_CAMERA_REMOVAL_LABEL="WORKSHOP.SETTINGS.ADVANCED_CAMERA_REMOVAL_LABEL",e.ADVANCED_CAMERA_REMOVAL_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_CAMERA_REMOVAL_MESSAGE",e.ADVANCED_SETTINGS_ERROR="WORKSHOP.SETTINGS.ADVANCED_SETTINGS_ERROR",e.HIDE_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.HIDE_LABELS_IN_DOLLHOUSE_OPTION",e.HIDE_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.HIDE_SAVED_MEASUREMENTS_OPTION",e.HLR_OPTION_LABEL="WORKSHOP.SETTINGS.HLR_OPTION_LABEL",e.HLR_OPTION_MESSAGE="WORKSHOP.SETTINGS.HLR_OPTION_MESSAGE",e.NAV_OPTION_ADVANCED="WORKSHOP.SETTINGS.NAV_OPTION_ADVANCED",e.NAV_OPTION_PRESENTATION="WORKSHOP.SETTINGS.NAV_OPTION_PRESENTATION",e.NAV_OPTION_TOUR_HLR="WORKSHOP.SETTINGS.NAV_OPTION_TOUR_HLR",e.NAV_OPTION_UNITS="WORKSHOP.SETTINGS.NAV_OPTION_UNITS",e.SHOW_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.SHOW_SAVED_MEASUREMENTS_OPTION",e.SHOW_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.SHOW_LABELS_IN_DOLLHOUSE_OPTION",e.PRESENTATION_BACKGROUND_BLACK_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_BLACK_LABEL",e.PRESENTATION_BACKGROUND_GREY_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_GREY_LABEL",e.PRESENTATION_BACKGROUND_HEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_HEADER",e.PRESENTATION_BACKGROUND_SUBHEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_SUBHEADER",e.PRESENTATION_BACKGROUND_WHITE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_WHITE_LABEL",e.PRESENTATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_HEADER",e.PRESENTATION_INFORMATION_EVERYTHING_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_LABEL",e.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE",e.PRESENTATION_INFORMATION_COMPACT_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_LABEL",e.PRESENTATION_INFORMATION_COMPACT_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_MESSAGE",e.PRESENTATION_INFORMATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_HEADER",e.PRESENTATION_INFORMATION_NONE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_NONE_LABEL",e.ROOM_BOUNDS_TOGGLE_LABEL="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_LABEL",e.ROOM_BOUNDS_TOGGLE_MESSAGE_INFO="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_MESSAGE_INFO",e.ROOM_BOUNDS_TOGGLE_MESSAGE_DISCOVER="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_MESSAGE_DISCOVER",e.ROOM_BOUND_TOGGLE_IN_TOOL="WORKSHOP.SETTINGS.ROOM_BOUND_TOGGLE_IN_TOOL",e.TOUR_AND_HLR_HEADER="WORKSHOP.SETTINGS.TOUR_AND_HLR_HEADER",e.TOUR_DEFAULT_SETTING_LOCATION="WORKSHOP.SETTINGS.TOUR_DEFAULT_SETTING_LOCATION",e.TOUR_MODE_LEGACY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_LABEL",e.TOUR_MODE_LEGACY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_MESSAGE",e.TOUR_MODE_NONE_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_NONE_LABEL",e.TOUR_MODE_STORY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_STORY_LABEL",e.TOUR_MODE_STORY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_STORY_MESSAGE",e.TOUR_OPTION_LABEL="WORKSHOP.SETTINGS.TOUR_OPTION_LABEL",e.TOUR_OPTION_MESSAGE="WORKSHOP.SETTINGS.TOUR_OPTION_MESSAGE",e.UNITS_HEADER="WORKSHOP.SETTINGS.UNITS_HEADER",e.UNITS_SUBHEADER="WORKSHOP.SETTINGS.UNITS_SUBHEADER"}(b=e.SETTINGS||(e.SETTINGS={})),function(e){e.ENABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.ENABLED_TOOLTIP_TITLE",e.DISABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.DISABLED_TOOLTIP_TITLE",e.HIDDEN_SWEEP_MESSAGE="WORKSHOP.START_LOCATION.HIDDEN_SWEEP_MESSAGE",e.UNPLACED_360_MESSAGE="WORKSHOP.START_LOCATION.UNPLACED_360_MESSAGE",e.ENABLED_MESSAGE="WORKSHOP.START_LOCATION.ENABLED_MESSAGE",e.TOOLTIP_CTA="WORKSHOP.START_LOCATION.TOOLTIP_CTA",e.SET_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SET_NEW_LOCATION_CTA",e.SETTING_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SETTING_NEW_LOCATION_CTA",e.THUMBNAIL_PREVIEW_CTA="WORKSHOP.START_LOCATION.THUMBNAIL_PREVIEW_CTA",e.TAG_ORDER_RESET_TITLE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_TITLE",e.TAG_ORDER_RESET_MESSAGE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_MESSAGE",e.TAG_ORDER_RESET_HELP_LINK="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_HELP_LINK",e.TAG_ORDER_RESET_CONFIRM="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CONFIRM",e.TAG_ORDER_RESET_CANCEL="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CANCEL"}(_=e.START_LOCATION||(e.START_LOCATION={})),function(e){e.NUM_TYPE="WORKSHOP.TRIM.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.DELETE_LIST_ITEM_OPTION_CTA",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.RENAME_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.TRIM.LIST_ITEM_INPUT_PLACEHOLDER",e.DEFAULT_NAME="WORKSHOP.TRIM.DEFAULT_NAME",e.ALL_FLOORS="WORKSHOP.TRIM.ALL_FLOORS",e.EMPTY_FLOOR_MESSAGE="WORKSHOP.TRIM.EMPTY_FLOOR_MESSAGE",e.SIDE_POSE_CTA="WORKSHOP.TRIM.SIDE_POSE_CTA",e.TOP_POSE_CTA="WORKSHOP.TRIM.TOP_POSE_CTA",e.PERSPECTIVE_POSE_CTA="WORKSHOP.TRIM.PERSPECTIVE_POSE_CTA",e.SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.SIDE_POSE_TOOLTIP",e.LEFT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.LEFT_SIDE_POSE_TOOLTIP",e.RIGHT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.RIGHT_SIDE_POSE_TOOLTIP",e.TOP_POSE_TOOLTIP="WORKSHOP.TRIM.TOP_POSE_TOOLTIP",e.PERSPECTIVE_POSE_TOOLTIP="WORKSHOP.TRIM.PERSPECTIVE_POSE_TOOLTIP",e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="WORKSHOP.TRIM.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP",e.ADD_ALL_FLOORS_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_ALL_FLOORS_TRIM_TOOLTIP",e.KEEP_TOGGLE="WORKSHOP.TRIM.KEEP_TOGGLE",e.REMOVE_TOGGLE="WORKSHOP.TRIM.REMOVE_TOGGLE",e.TOOL_ROTATION_CTA="WORKSHOP.TRIM.TOOL_ROTATION_CTA",e.TOOL_POSITION_CTA="WORKSHOP.TRIM.TOOL_POSITION_CTA",e.TOOL_SCALE_CTA="WORKSHOP.TRIM.TOOL_SCALE_CTA",e.TOOL_ROTATION_TOOLTIP="WORKSHOP.TRIM.TOOL_ROTATION_TOOLTIP",e.TOOL_POSITION_TOOLTIP="WORKSHOP.TRIM.TOOL_POSITION_TOOLTIP",e.TOOL_SCALE_TOOLTIP="WORKSHOP.TRIM.TOOL_SCALE_TOOLTIP",e.DELETE_TRIM="WORKSHOP.TRIM.DELETE_TRIM",e.COMPLETE_TRIM="WORKSHOP.TRIM.COMPLETE_TRIM",e.ADD_TRIM="WORKSHOP.TRIM.ADD_TRIM",e.RESET_ROTATION="WORKSHOP.TRIM.RESET_ROTATION",e.HIDE_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.HIDE_PANO_LIST_ITEM_TOOLTIP",e.SHOW_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.SHOW_PANO_LIST_ITEM_TOOLTIP",e.MOVE_TRIM_ALL_FLOORS="WORKSHOP.TRIM.MOVE_TRIM_ALL_FLOORS",e.SIZE_TO_DOORWAY="WORKSHOP.TRIM.SIZE_TO_DOORWAY",e.FIT_DOORWAY="WORKSHOP.TRIM.FIT_DOORWAY"}(O=e.TRIM||(e.TRIM={})),function(e){e.NUM_TYPE="WORKSHOP.VIEWS_360.NUM_TYPE",e.START_LOCATION_REMOVAL_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_REMOVAL_MESSAGE",e.START_LOCATION_MARKER_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_MARKER_MESSAGE",e.START_LOCATION_IN_OTHER_VIEWS="WORKSHOP.VIEWS_360.START_LOCATION_IN_OTHER_VIEWS",e.DEFAULT_NAME="WORKSHOP.VIEWS_360.DEFAULT_NAME",e.OVERLAY_MESSAGE="WORKSHOP.VIEWS_360.OVERLAY_MESSAGE",e.OVERLAY_INFO_MISSING_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_MISSING_SWEEP",e.OVERLAY_INFO_CURRENT_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_CURRENT_SWEEP",e.OVERLAY_INFO_SELECTED_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_SELECTED_SWEEP",e.ROTATE_TOOLTIP_TITLE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_TITLE",e.ROTATE_TOOLTIP_MESSAGE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_MESSAGE",e.ROTATE_TOOLTIP_CTA="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_CTA",e.UNPLACED_CARD_MESSAGE="WORKSHOP.VIEWS_360.UNPLACED_CARD_MESSAGE",e.RENAME_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.RENAME_ITEM_OPTION_CTA",e.REMOVE_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.REMOVE_ITEM_OPTION_CTA",e.NO_VIEWS_MESSAGE="WORKSHOP.VIEWS_360.NO_VIEWS_MESSAGE"}(T=e.VIEWS_360||(e.VIEWS_360={})),function(e){e.TOAST_MESSAGE="WORKSHOP.VR.TOAST_MESSAGE",e.TOAST_CTA="WORKSHOP.VR.TOAST_CTA"}(A=e.VR||(e.VR={})),function(e){e.DEFURN_BULLET1="DEFURN_BULLET1",e.DEFURN_BULLET2="DEFURN_BULLET2",e.DEFURN_BULLET3="DEFURN_BULLET3",e.DEFURN_BULLET4="DEFURN_BULLET4",e.DEFURN_COMPLETE_TEXT1="DEFURN_COMPLETE_TEXT1",e.DEFURN_COMPLETE_TEXT2="DEFURN_COMPLETE_TEXT2",e.DEFURN_COMPLETE_TITLE="DEFURN_COMPLETE_TITLE",e.DEFURN_CONTACT_SUPPORT="DEFURN_CONTACT_SUPPORT",e.DEFURN_ERR_CONTACT="DEFURN_ERR_CONTACT",e.DEFURN_ERR_PERMS="DEFURN_ERR_PERMS",e.DEFURN_ERR_QUOTA="DEFURN_ERR_QUOTA",e.DEFURN_ERR_SETTINGS="DEFURN_ERR_SETTINGS",e.DEFURN_ERR_TITLE="DEFURN_ERR_TITLE",e.DEFURN_ERR_UNKNOWN="DEFURN_ERR_UNKNOWN",e.DEFURN_ERR_MODEL_VERSION_UNSUPPORTED="DEFURN_ERR_MODEL_VERSION_UNSUPPORTED",e.DEFURN_RATING_TITLE="DEFURN_RATING_TITLE",e.DEFURN_RATING_CONTENT="DEFURN_RATING_CONTENT",e.DEFURN_LOCKED_CTA="DEFURN_LOCKED_CTA",e.DEFURN_LOCKED_QUOTA="DEFURN_LOCKED_QUOTA",e.DEFURN_LOCKED_QUOTA2="DEFURN_LOCKED_QUOTA2",e.DEFURN_MODE_BUTTON="DEFURN_MODE_BUTTON",e.DEFURN_MODE_BUTTON_ACTIVE="DEFURN_MODE_BUTTON_ACTIVE",e.DEFURN_MORE="DEFURN_MORE",e.DEFURN_NEXT_TEXT1="DEFURN_NEXT_TEXT1",e.DEFURN_NEXT_TEXT2="DEFURN_NEXT_TEXT2",e.DEFURN_NEXT_TEXT3="DEFURN_NEXT_TEXT3",e.DEFURN_NEXT_TEXT4="DEFURN_NEXT_TEXT4",e.DEFURN_NEXT_TEXT5="DEFURN_NEXT_TEXT5",e.DEFURN_NEXT_TITLE="DEFURN_NEXT_TITLE",e.DEFURN_NUDGE_NEW="DEFURN_NUDGE_NEW",e.DEFURN_NUDGE_TEXT="DEFURN_NUDGE_TEXT",e.DEFURN_NUDGE_TITLE="DEFURN_NUDGE_TITLE",e.DEFURN_SETTINGS="DEFURN_SETTINGS",e.DEFURN_SETTINGS_VIEW="DEFURN_SETTINGS_VIEW",e.DEFURN_SETTINGS_DEFAULT_VIEW="DEFURN_SETTINGS_DEFAULT_VIEW",e.DEFURN_TEXT1="DEFURN_TEXT1",e.DEFURN_TEXT2="DEFURN_TEXT2",e.DEFURN_TITLE="DEFURN_TITLE",e.DEFURN_TOOL_HEADER="DEFURN_TOOL_HEADER",e.DEFURN_UNLOCKED_CANCEL="DEFURN_UNLOCKED_CANCEL",e.DEFURN_UNLOCKED_CTA="DEFURN_UNLOCKED_CTA",e.DEFURN_UNLOCKED_NOTIFY="DEFURN_UNLOCKED_NOTIFY"}(w=e.DEFURNISH||(e.DEFURNISH={}))}(m=e.WORKSHOP||(e.WORKSHOP={})),function(e){let t,n;!function(e){e.VIEW_INSIDE="COMPARE.VIEW_MODE.VIEW_INSIDE",e.VIEW_DOLLHOUSE="COMPARE.VIEW_MODE.VIEW_DOLLHOUSE",e.VIEW_FLOORPLAN="COMPARE.VIEW_MODE.VIEW_FLOORPLAN"}(t=e.VIEW_MODE||(e.VIEW_MODE={})),function(e){e.FLOOR_SELECT="COMPARE.FLOORS.FLOOR_SELECT"}(n=e.FLOORS||(e.FLOORS={}))}(g=e.COMPARE||(e.COMPARE={}))}(i||(i={}));const r=i},23339:(e,t,n)=>{"use strict";var i;function r(e){return e.match(/us|mm|lr$/i)?i.IMPERIAL:i.METRIC}n.d(t,{B:()=>r,t:()=>i}),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(i||(i={}))},39869:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).locale}},21722:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i=n(64882),r=n(90082),o=n(14682),s=n.n(o),a=n(53061);async function l(e,t,n="./",i="json"){const r=function(e,t="./",n="json"){return e===a.Nm?`${t}locale/strings.${n}`:`${t}locale/messages/strings_${e}.${n}`}(e,n,i),o=await t.get(r);if("json"===i)return JSON.parse(o);throw new Error(`${i} not implemented`)}var c=n(25443);var u=n(93818),d=n(56147),h=n(9139),p=n(47712);async function f(e,t=p.Ru.locale){const{messages:n}=await e(t);p.Ru.load(t,n),t!==p.Ru.locale&&p.Ru.activate(t)}new h.Vy("lingui");const m=e=>e.replace(/-/g,"_").toUpperCase();class g extends i.n{constructor(){super(...arguments),this.name="locale"}async init(e,t){const i=await t.market.waitForData(c.o);this._languageCode=(0,a.UK)(e.isLoggedIn,i.getOverrideParam("lang",""));const o=this._languageCode.substr(0,2);this.polyglot=new(s())({locale:o,interpolation:{prefix:"%{",suffix:"}"},onMissingKey:e=>(h.Vy.for(this).warn("Missing phrase key:"+e),g.missingPrefix+e)});const u=(await t.getModuleBySymbol(r.ZF)).getSetting("assetBasePath"),d=await async function(e,t,n="./",i="json"){const r=await l(e,t,n,i);if(e===a.Nm)return r;const o=await l(a.Nm,t,n,i);return Object.assign(Object.assign({},o),r)}(this._languageCode,e.queue,u);this.polyglot.extend(d),this.localizeUnitsDisplay(),this.registerSettings(t),await f((async e=>await n(44821)(`./cwf_${e}.yaml`)),this._languageCode)}t(e,t){return this.polyglot.t(e,t)}T(e,t,n="PLUGIN_KEYS",i){const r=t?`${n}.${m(t)}.${e}`:`${n}.${m(e)}`;return this.has(r)?this.t(r,i):t?t.replace(/-/g," ").split(" ").filter((e=>e.length>0)).map((e=>e[0].toUpperCase()+e.substr(1).toLowerCase())).join(" "):this.t(r,i)}has(e){return this.polyglot.has(e)}get languageCode(){return this._languageCode}localizeUnitsDisplay(){(0,u.LB)({unitsDisplayFeetSymbol:this.t(d.A.UNITS_DISPLAY.FEET_SYMBOL),unitsDisplayInchesSymbol:this.t(d.A.UNITS_DISPLAY.INCHES_SYMBOL),unitsDisplayHalfSpace:this.t(d.A.UNITS_DISPLAY.HALF_SPACE),unitsDisplayFeet:this.t(d.A.UNITS_DISPLAY.FEET),unitsDisplayInches:this.t(d.A.UNITS_DISPLAY.INCHES),unitsDisplayMeters:this.t(d.A.UNITS_DISPLAY.METERS),unitsDisplaySquareFeet:this.t(d.A.UNITS_DISPLAY.SQUARE_FEET),unitsDisplaySquareMeters:this.t(d.A.UNITS_DISPLAY.SQUARE_METERS),dimensionsSeparator:this.t(d.A.UNITS_DISPLAY.DIMENSIONS_SEPARATOR)})}async registerSettings(e){(await e.getModuleBySymbol(r.ZF)).registerSetting("Locale","language_code",this.languageCode,!1)}async loadMessages(e){await f(e,this._languageCode)}}g.missingPrefix="FIX-";const v=g},26655:(e,t,n)=>{"use strict";var i;n.d(t,{J:()=>i}),function(e){e[e.NAVIGATION=0]="NAVIGATION",e[e.MODEL=1]="MODEL",e[e.EXT_LINK=2]="EXT_LINK"}(i||(i={}));i.NAVIGATION,i.MODEL,i.EXT_LINK},35956:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var i=n(68909),r=n(38069),o=n(50636),s=n(26348),a=n(3928),l=n(4850),c=n(57416),u=n(25712);class d extends a.v{constructor(e){super(),this.sid="",this.layerId="",this.created=new Date,this.modified=new Date,this.enabled=!0,this.label="",this.description="",this.parsedDescription=[],this.anchorPosition=new i.Vector3,this.anchorNormal=new i.Vector3(0,1,0),this.stemVector=new i.Vector3(0,0,(0,s.hV)(1)),this.stemHeight=(0,s.hV)(1),this.stemVisible=!0,this.fileAttachments=new l.X,this.externalAttachments=new l.X,this.sandboxAttachments=new l.X,this.color=(new c.I).setFromLinearColor(r.V.MATTERTAG_BLUE),this.mediaType=o.q.none,this.mediaSrc="",this.keywords=new l.X,e&&Object.assign(this,e)}copy(e){var t;this.anchorNormal.copy(e.anchorNormal),this.anchorPosition.copy(e.anchorPosition),this.color.copy(e.color),this.created.setTime(e.created.getTime()),this.description=e.description,this.enabled=e.enabled,this.layerId=e.layerId,this.floorId=e.floorId,this.roomId=e.roomId,this.label=e.label,this.mediaType=e.mediaType,this.mediaSrc=e.mediaSrc,this.modified.setTime(e.modified.getTime()),this.sid=e.sid,this.stemVector.copy(e.stemVector),this.stemHeight=e.stemHeight,this.stemVisible=e.stemVisible,this.fileAttachments=e.fileAttachments,this.externalAttachments=e.externalAttachments,this.sandboxAttachments=e.sandboxAttachments,this.objectAnnotationId=e.objectAnnotationId,this.keywords.replace(e.keywords.values()),this.icon=e.icon,this.scanLinks=null===(t=e.scanLinks)||void 0===t?void 0:t.slice(),this.parsedDescription=[];for(const t of e.parsedDescription)this.parsedDescription.push({link:t.link&&{label:t.link.label.slice(),url:t.link.url.slice(),type:t.link.type,navigationData:t.link.navigationData&&{floorVisibility:t.link.navigationData.floorVisibility,mode:t.link.navigationData.mode,sweepIndex:t.link.navigationData.sweepIndex,panoId:t.link.navigationData.panoId,position:t.link.navigationData.position&&t.link.navigationData.position.clone(),quaternion:t.link.navigationData.quaternion.clone(),zoom:t.link.navigationData.zoom}},text:t.text,type:t.type});return this.commit(),this}clone(){return(new d).copy(this)}refresh(e){this.fileAttachments.forEach((t=>{var n,i;const r=e[t.id];r&&(null===(n=t.thumbnailUrl)||void 0===n||n.refreshFrom(r.thumbnailUrl),t.url.refreshFrom(r.url),null===(i=t.downloadUrl)||void 0===i||i.refreshFrom(r.downloadUrl))}))}getPin(){const{anchorPosition:e,color:t,stemVisible:n,floorId:i,roomId:r,layerId:o,stemVector:s,stemHeight:a,icon:l}=this;return{anchorPosition:e,color:t.getHexString(),icon:l,layerId:o,floorId:i,roomId:r,stemEnabled:n,stemNormal:s,stemLength:a}}updateFromOptions(e,t,n){void 0!==e.color&&(this.color=(new c.I).copy(e.color)),void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.stemHeight&&(this.stemHeight=e.stemHeight,this.stemVector.copy(this.anchorNormal).setLength(e.stemHeight)),void 0!==e.stemVisible&&(this.stemVisible=e.stemVisible),void 0!==e.label&&(this.label=e.label.slice()),void 0!==e.description&&(this.description=e.description,this.parsedDescription=t.parse(this.description,n)),void 0!==e.floorId&&(this.floorId=e.floorId),void 0!==e.roomId&&(this.roomId=e.roomId),void 0!==e.normal&&(this.anchorNormal.copy(e.normal).normalize(),this.stemVector.copy(e.normal).setLength(this.stemHeight)),void 0!==e.position&&this.anchorPosition.copy(e.position),void 0!==e.keywords&&this.keywords.replace(e.keywords),Object.prototype.hasOwnProperty.call(e,"icon")&&(this.icon=e.icon),void 0!==e.objectAnnotationId&&(this.objectAnnotationId=e.objectAnnotationId)}}d.idLength=11,d.idGenerator=new u.KA(d.idLength)},50636:(e,t,n)=>{"use strict";var i;n.d(t,{q:()=>i}),function(e){e.text="text",e.link="link",e.photo="photo",e.video="video",e.rich="rich",e.none="none",e.error="error"}(i||(i={})),function(e){e.parse=t=>null!==t&&t in e?e[t]:e.none}(i||(i={}))},96437:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>c,HI:()=>r,aw:()=>o,l:()=>s,nO:()=>l,rn:()=>a,vZ:()=>u});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload={tags:e}}}r.id="MATTERTAG_DISC_POSITIONS";class o extends i.u{constructor(e){super(),this.payload=e}}o.id="ADD_MATTERTAG";class s extends i.u{constructor(e){super(),this.payload={sid:e}}}s.id="DELETE_MATTERTAG";class a extends i.u{constructor(e,t,n,i){super(),this.payload={sid:e,standardOptions:t,mediaOptions:n,positionOptions:i}}}a.id="MATTERTAG_EDIT";class l extends i.u{constructor(e,t,n){super(),this.payload={sid:e,attachmentOptions:t,operation:n}}}l.id="MATTERTAG_EDIT_ATTACHMENTS",function(e){let t;!function(e){e[e.ADD=1]="ADD",e[e.REPLACE=2]="REPLACE"}(t=e.Operation||(e.Operation={}))}(l||(l={}));class c extends i.u{constructor(e,t,n=[],i){super(),this.payload={id:e,properties:t,fileAttachments:n,embed:i}}}c.id="MATTERTAG_NEW_SAVE";class u extends i.u{constructor(e,t,n=[],i=[],r){super(),this.payload={id:e,properties:t,pendingAttachments:n,removedAttachments:i,embed:r}}}u.id="MATTERTAG_SAVE"},29479:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var i=n(12625),r=n(88325),o=n(64391);class s extends i.B{constructor(e){if(super(),this.name="tag",this.mattertags=(0,r.y)(),e)for(const t of e)this.mattertags.set(t.sid,t);this.commit()}clear(){for(const e of this.mattertags.keys)this.removeTag(e)}clone(){return(new s).copy(this)}copy(e){return s.copyTagCollection(this,e),this}static copyTagCollection(e,t){const n=e.mattertags,i=t.mattertags;for(const t of n.keys)i.has(t)||e.removeTag(t);for(const t of i)e.addTag(t)}get collection(){return this.mattertags}addTag(e){this.mattertags.has(e.sid)?this.mattertags.get(e.sid).copy(e):this.mattertags.set(e.sid,e.clone())}removeTag(e){return this.mattertags.delete(e)}getTag(e){return this.mattertags.get(e)}getTagList(){return this.mattertags.keys}getTagCount(){return this.mattertags.length}getTagKeywords(){let e=[];return this.iterate((t=>{t.enabled&&t.keywords.length&&(e=e.concat(t.keywords.values()))})),e}iterate(e){for(const t of this.mattertags)e(t)}*[Symbol.iterator](){for(const e of this.mattertags)yield e}set onStale(e){this.hydrate=e}updateOnStaleCallbacks(e){if(!this.hydrate)return;const t=e?this.getTag(e):this.mattertags;(0,o._)(t,(async()=>{const e=await this.hydrate();this.iterate((t=>{t.refresh(e)}))}))}}},80419:(e,t,n)=>{"use strict";n.d(t,{Qn:()=>o,T8:()=>s,Yt:()=>r});var i=n(7478);class r extends i.QB{constructor(e){super(),this.sid=e}}class o extends i.QB{constructor(e){super(),this.url=e}}class s extends i.QB{constructor(e,t){super(),this.sid=e,this.view=t}}},75522:(e,t,n)=>{"use strict";n.d(t,{qE:()=>i,vg:()=>r});const i="features/mattertags",r="embedlyKey"},57416:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var i=n(3249),r=n(68909);const o=new r.Color;class s{constructor(e=0,t=0,n=0){this.r=e,this.g=t,this.b=n}set(e,t,n){return this.r=e,this.g=n,this.b=t,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setHexString(e){if("string"!=typeof(t=e)||4!==t.length&&7!==t.length||!/^#([0-9a-f]{3}){1,2}$/i.test(t))throw new Error("Invalid hex color");var t;const n=e.substring(1);return 3===n.length?this.set(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15):6===n.length?this.setHex(parseInt(n,16)):this}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}getHexString(){return"#"+("000000"+this.getHex().toString(16)).slice(-6)}getHex(){return 65536*Math.round((0,i.qE)(255*this.r,0,255))+256*Math.round((0,i.qE)(255*this.g,0,255))+Math.round((0,i.qE)(255*this.b,0,255))}setFromLinearColor(e){return o.copy(e).convertLinearToSRGB(),this.r=o.r,this.g=o.g,this.b=o.b,this}}},81483:(e,t,n)=>{"use strict";n.d(t,{P:()=>m,V:()=>g});var i=n(74381),r=n(81587),o=n(9139),s=n(86866),a=n(68909),l=n(24675),c=n(35956),u=n(25481),d=n(44094),h=n(85275),p=n(87314);const f=new o.Vy("mds-mattertag-serializer");class m{constructor(e,t){this.fileAttachmentDeserializer=e,this.externalAttachmentDeserializer=t}deserialize(e){var t,n;if(!e||!this.validate(e))return f.debug("Deserialized invalid Mattertag data from MDS",e),null;const i=e.anchorPosition?s.U$.fromVisionVector(e.anchorPosition):void 0,o=e.stemNormal?s.U$.fromVisionVector(e.stemNormal):void 0,h=new c.Q;if(h.sid=e.id,h.layerId=(null===(t=e.layer)||void 0===t?void 0:t.id)||"",h.label=e.label||"",h.description=e.description||"",h.enabled=!!e.enabled,e.color&&h.color.setHexString(e.color),h.created=(0,r.XH)(e.created),h.modified=(0,r.XH)(e.modified),e.floor&&e.floor.id&&(h.floorId=e.floor.id),e.room&&e.room.id&&(h.roomId=e.room.id),i&&(h.anchorPosition=i),e.media&&(h.mediaSrc=e.media),e.mediaType&&(h.mediaType=(0,l.og)(e.mediaType)),h.fileAttachments.replace(this.getFileAttachments(h,e)),h.externalAttachments.replace(this.getExternalAttachments(h,e)),(0,u.Et)(e.stemLength)&&(h.stemHeight=e.stemLength),o&&o instanceof a.Vector3){const t=o.clone().setLength(h.stemHeight);h.anchorNormal=o,h.stemVector=t,h.stemVisible=!!e.stemEnabled}else h.stemVector=new a.Vector3(0,0,0),h.stemVisible=!!e.stemEnabled;return h.objectAnnotationId=null===(n=e.objectAnnotation)||void 0===n?void 0:n.id,h.keywords.replace(e.keywords||[]),(0,d.sw)(e.icon)&&(h.icon=e.icon),h}validate(e){if(!e)return!1;return["id","created","modified","enabled"].every((t=>t in e))}getFileAttachments(e,t){return this.fileAttachmentDeserializer?this.deserializeFileAttachments(t).sort(((e,t)=>e.created.getTime()-t.created.getTime())):[]}getExternalAttachments(e,t){if(!this.externalAttachmentDeserializer)return[];const n=this.deserializeExternalAttachments(t);if(t.media&&t.mediaType){const i=(0,l.sM)(e.sid,t.media,t.mediaType);i&&n.push(i)}return n.sort(((e,t)=>e.created.getTime()-t.created.getTime()))}deserializeExternalAttachments(e){const t=e.externalAttachments||[],n=[];return t.forEach((t=>{var r;const o=null===(r=this.externalAttachmentDeserializer)||void 0===r?void 0:r.deserialize(t);o&&(o.parentId=e.id,o.parentType=i.pi.MATTERTAG,n.push(o))})),n}deserializeFileAttachments(e){const t=e.fileAttachments||[],n=[];return t.forEach((t=>{var r;const o=null===(r=this.fileAttachmentDeserializer)||void 0===r?void 0:r.deserialize(t);o&&(o.parentId=e.id,o.parentType=i.pi.MATTERTAG,n.push(o))})),n}}const g=function(){const e=(0,h.V)(),t=(0,p.Y)();return new m(e,t)}},24675:(e,t,n)=>{"use strict";n.d(t,{KP:()=>u,n4:()=>d,og:()=>c,sM:()=>p});var i=n(50636),r=n(3795),o=n(30740),s=n(25712),a=n(64391),l=n(61430);function c(e){const t={[l.yg.VIDEO]:i.q.video,[l.yg.PHOTO]:i.q.photo,[l.yg.RICH]:i.q.rich};return e in t?t[e]:i.q.none}function u(e){switch(e){case r.zu.VIDEO:return i.q.video;case r.zu.IMAGE:return i.q.photo;case r.zu.RICH:return i.q.rich}return i.q.none}function d(e){switch(e){case i.q.video:return l.yg.VIDEO;case i.q.photo:return l.yg.PHOTO;case i.q.rich:return l.yg.RICH}return null}function h(e){return{[l.yg.VIDEO]:r.zu.VIDEO,[l.yg.PHOTO]:r.zu.IMAGE,[l.yg.RICH]:r.zu.RICH}[e]}function p(e,t,n){return t?new o.o({id:(0,s.W0)(),created:new Date,parentId:e,parentType:l.pi.MATTERTAG,mediaType:h(n),src:t,url:new a.f(t,null),thumbnailUrl:new a.f(t,null),category:r._A.EXTERNAL}):null}},28454:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var i=n(12625),r=n(97994),o=n(53282),s=n(41535);class a extends i.B{constructor(){super(...arguments),this.name="measure-mode",this._groups=[],this._groupMap={},this.onDataChangedCallbacks=new Set,this._editingGroupId=null,this._creatingGroupId=null,this.phase=s.hb.CLOSED,this.pressProgress=-1,this.selectedGroupIndexObservable=new r.L(-1),this.pointPositionObservable=new r.L(null),this.idVisibility=new Set}onPhaseChanged(e){return this.onPropertyChanged("phase",e)}onDataChanged(e){return(0,o.Sh)((()=>this.onDataChangedCallbacks.add(e)),(()=>this.onDataChangedCallbacks.delete(e)),!0)}onPointPositionChanged(e){return this.pointPositionObservable.onChanged(e)}onSelectedGroupIndexChanged(e){return this.selectedGroupIndexObservable.onChanged(e)}modeActive(){return this.phase!==s.hb.CLOSED}isEditingOrCreating(){return this.phase>=s.hb.EDITING}*groups(){for(const e of this._groups)yield e}get selectedGroupSid(){const e=this.selectedGroupInfo;return e&&e.info.sid?e.info.sid:null}get selectedGroupInfo(){return-1===this.selectedGroupIndex?null:this.getGroupInfo(this.selectedGroupIndex)}get creatingGroupId(){return this._creatingGroupId}set creatingGroupId(e){this._creatingGroupId=e}get editingGroupId(){return this._editingGroupId}set editingGroupId(e){this._editingGroupId=e}get groupCount(){return this._groups.length}get pointPosition(){return this.pointPositionObservable.value}get selectedGroupIndex(){return this.selectedGroupIndexObservable.value}getGroupInfo(e){return e<0||e>=this._groups.length?null:this._groups[e]}getGroupInfoBySid(e){return e?this._groupMap[e]:null}setPhase(e){this.phase!==e&&(this.phase=e,this.commit())}notifyDataChanged(){this.onDataChangedCallbacks.forEach((e=>e()))}setPointPosition(e){this.pointPositionObservable.value=e}setSelectedGroupIndex(e){this.selectedGroupIndexObservable.value=e}repopulate(e){this.clear();for(const t of e){const e=t.clone();this._groups.push(e),this._groupMap[t.info.sid]=e}this.notifyDataChanged()}clear(){this._groups=[],this._groupMap={}}}},41535:(e,t,n)=>{"use strict";var i;n.d(t,{TI:()=>r,Vk:()=>o,hb:()=>i,nm:()=>a,y_:()=>s}),function(e){e[e.CLOSED=0]="CLOSED",e[e.IDLE=1]="IDLE",e[e.EDITING=2]="EDITING",e[e.CREATING=3]="CREATING",e[e.POINT_PLACED=4]="POINT_PLACED",e[e.CREATING_NEXT_POINT=5]="CREATING_NEXT_POINT",e[e.CONFIRMING_POINT=6]="CONFIRMING_POINT"}(i||(i={}));const r={mobile:{[i.POINT_PLACED]:!0,[i.EDITING]:!0},desktop:{[i.CREATING]:!0,[i.CREATING_NEXT_POINT]:!0,[i.EDITING]:!0}},o={mobile:{[i.CREATING_NEXT_POINT]:!0,[i.POINT_PLACED]:!0,[i.EDITING]:!0},desktop:{[i.CREATING]:!0,[i.CREATING_NEXT_POINT]:!0,[i.EDITING]:!0}},s={[i.IDLE]:!0,[i.EDITING]:!0},a={[i.IDLE]:!0,[i.EDITING]:!0}},98159:(e,t,n)=>{"use strict";n.d(t,{CN:()=>s,SH:()=>r,tm:()=>o});var i=n(11165);class r extends i.u{}r.id="MEASUREMENT_DELETE_SELECTED";class o extends i.u{constructor(e){super(),this.payload={index:e}}}o.id="MEASUREMENT_DELETE";class s extends i.u{constructor(...e){super(),this.payload={sids:e}}}s.id="MEASUREMENT_LIST_DELETION"},3071:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var i=n(11165);class r extends i.u{constructor(e,t,n=!0){super(),this.payload={on:e,dimWhileActive:void 0!==t?t:e,editable:n}}}r.id="MEASURE_MODE_TOGGLE"},8774:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var i=n(11165);class r extends i.u{}r.id="MEASURE_START"},87951:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload={index:e}}}r.id="MEASUREMENT_SELECT"},5320:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var i=n(11165);class r extends i.u{}r.id="MEASURE_STOP"},95221:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var i=n(98236),r=n(28454);const o=(0,i.v_)(r.s)},95846:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(96540),r=n(95221);function o(e){const t=(0,r.g)(),[n,o]=(0,i.useState)((null==t?void 0:t.getGroupInfoBySid(e))||null);return(0,i.useEffect)((()=>{if(!t)return()=>{};function n(){o((null==t?void 0:t.getGroupInfoBySid(e))||null)}const i=t.onDataChanged(n);return n(),()=>i.cancel()}),[t,e]),n}},89395:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var i=n(96540),r=n(95221);function o(){const e=(0,r.g)(),[t,n]=(0,i.useState)(e?e.selectedGroupSid:null);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.selectedGroupSid)}const i=e.onSelectedGroupIndexChanged(t);return t(),()=>i.cancel()}),[e]),t}},38039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i="features/measurements-nudge"},94:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.sid=e,this.vrSupported=t}}},55057:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var i=n(12625),r=n(88325);class o extends i.B{constructor(){super(),this.name="model",this.assetsMap=new r.E}get model(){return this._model}setModel(e){this._model=e}addModelAssets(e,t){this.activeAssetsId||(this.activeAssetsId=e),this.assetsMap.set(e,t)}getModelAssets(e=this.activeAssetsId){return this.assetsMap.get(e)}hasModelAssets(e){return this.assetsMap.has(e)}}},49812:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var i=n(98236),r=n(55057);const o=(0,i.v_)(r.q)},35404:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>o,k5:()=>c,ov:()=>a,qu:()=>s,tQ:()=>u,wD:()=>r,wx:()=>l});var i=n(82748);const r="social_sharing",o="branding_enabled",s="presentation_mls_mode",a="presentation_title",l="presentation_about",c="discover_space_url",u={urlTemplateToken:"<file>",urlTemplateOverride:(0,i.P3)("tiledtemplate",null)}},5984:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var i=n(37458),r=n(68909);class o extends r.Mesh{constructor(){super(...arguments),this.isModelMesh=!0,this.raycastEnabled=!0}get picking2DPriority(){return i.X.default}}},90572:(e,t,n)=>{"use strict";var i;n.d(t,{R:()=>i}),function(e){e[e.NONE=0]="NONE",e[e.RAYCAST=1]="RAYCAST"}(i||(i={}))},22278:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var i=n(68909),r=n(12625);const o=[-5,-5,-5,5,5,5];class s extends r.B{get meshGroups(){return this._meshGroups}constructor(e=o,t=o,n=new i.Vector3){super(),this.name="mesh-data",this.extendedBounds=new i.Box3,this.extendedSize=new i.Vector3,this.meshBounds=new i.Box3,this.meshCenter=new i.Vector3,this.centerOfMass=new i.Vector3,this.meshSize=new i.Vector3,this.meshRadius=0,this.maxPlacementRadius=0,this._meshGroups={floors:new Map,rooms:new Map,roomsByFloor:new Map},this.meshSubGroupsFromPoint=e=>{const t=[];for(const[n,i]of this.meshGroups.rooms)i.boundingBox.containsPoint(e)&&t.push(n);return t},this.meshBounds.setFromArray(e),this.meshBounds.getCenter(this.meshCenter),this.meshBounds.getSize(this.meshSize),this.meshRadius=this.meshSize.clone().multiplyScalar(.5).length(),this.maxPlacementRadius=3*this.meshRadius,this.extendedBounds.setFromArray(t),this.extendedBounds.getSize(this.extendedSize),this.centerOfMass.copy(n)}}},596:(e,t,n)=>{"use strict";var i;n.d(t,{M:()=>i}),function(e){e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.ULTRA=4]="ULTRA"}(i||(i={}))},44345:(e,t,n)=>{"use strict";n.d(t,{EX:()=>r,Gf:()=>s,Ny:()=>a,qZ:()=>o});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.loaded=e,this.total=t}}class o extends i.QB{}class s extends i.QB{}class a extends i.QB{}},47299:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o,Vp:()=>l,_Z:()=>s,lg:()=>c,sz:()=>a,u7:()=>u,vz:()=>d,xT:()=>r});var i=n(82748);const r={debugLOD:(0,i.P3)("debuglod",!1),debugRttQuality:(0,i.P3)("debugQuality",!1),debugRttScores:(0,i.P3)("debugScores",!1),debugRttClear:(0,i.P3)("debuglodrtt",!0),debugPauseTexStream:(0,i.P3)("textureStreamPause",!1),sightingMaxAge:(0,i.P3)("meshSightingMaxAge",600),textureTileSize:(0,i.P3)("chunkTileSize",512)},o=r,s="wireframeEnabled",a="features/tiled_mesh",l="Trim floor by(%)",c=0,u={FADE_OPAQUE:1,FADE_ABOVE:.05,FADE_BELOW:.2,FADE_TILE_VISIBLE_THRESHOLD:.6,FADE_CLICKABLE_THRESHOLD:.051,FADE_IN_VALUE:.2,FADE_IN_END_ANGLE:55,FADE_IN_START_ANGLE:35,FADE_IN_HOVER_BOOST_VALUE:.3,FADE_BELOW_START:0,FADE_BELOW_MULT:1},d="model-mesh"},77489:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var i=n(12625);class r extends i.B{constructor(){super(),this.name="model-rating-view-data",this.isDialogVisible=!1,this.setDialogVisible=e=>{this.isDialogVisible=void 0!==e?e:!this.isDialogVisible,this.commit()}}}},26432:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,i:()=>o});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload={toVisible:e}}}r.id="TOGGLE_MODEL_RATING_DIALOG";class o extends i.u{constructor(e,t=!1){super(),this.payload={rating:e,didFinish:t}}}o.id="SUBMIT_MODEL_RATING"},57447:(e,t,n)=>{"use strict";n.d(t,{n:()=>i,s:()=>r});const i="features/model-rating-dialog",r="features/model-rating-dialog-prompt"},9997:(e,t,n)=>{"use strict";n.d(t,{Dd:()=>u,E4:()=>a,Jq:()=>r,UZ:()=>c,aj:()=>l,r:()=>d,rH:()=>s,sD:()=>o});var i=n(11165);class r extends i.u{constructor(){super()}}r.id="LOCK_NAVIGATION";class o extends i.u{constructor(){super()}}o.id="UNLOCK_NAVIGATION";class s extends i.u{constructor(e){super(),this.payload=e}}s.id="FOCUS_ON_POINT_INSIDE";class a extends i.u{constructor(e){super(),this.payload=e}}a.id="FOCUS_ON_PIN_INSIDE";class l extends i.u{constructor(e){super(),this.payload=Object.assign({},e)}}l.id="MOVE_TO_SWEEP";class c extends i.u{constructor(e){super(),this.payload=e}}c.id="NAVIGATE_TO_LABEL";class u extends i.u{constructor(e){super(),this.payload={room:e}}}u.id="NAVIGATE_TO_ROOM";class d extends i.u{constructor(e){super(),this.payload={pose:e}}}d.id="NAVIGATE_TO_POSE"},65882:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,U:()=>r});const i="features/ray-neighbors",r={maxDistSameFloor:22,maxDistOtherFloors:6,directionFactor:.65,directionWeight:3,viewDirectionFactor:.85,viewDirectionWeight:1,longerTransitionMaxDist:10,TRANSITION_TIME_DH:650,TRANSITION_TIME_ROOM:800}},85204:(e,t,n)=>{"use strict";n.d(t,{nc:()=>r,uV:()=>s});var i=n(53641);const r="features/notes-mode",o="spaces.notes";function s(e,t,n,s,a){if(!e)return!1;let l=!1;const c=t.hasPolicy(o),u=t.hasPolicy(i.tG);return l=c&&u,l&&(s.setSetting(r,l),s.setSetting(i.nH,l)),l}},53641:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f,Jz:()=>p,KZ:()=>d,NB:()=>u,O7:()=>s,RU:()=>l,_d:()=>c,nH:()=>r,tG:()=>o,u4:()=>h,xB:()=>a});var i=n(74381);const r="features/notes",o="perm.spaces.notes.view",s="perm.spaces.notes.edit",a="perm.spaces.notes.delete",l=30,c=15,u=i.OQ.VIEWER,d=500,h=500,p="#5c7fff",f=Object.freeze({noteMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}},colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"],stem:{length:.23,width:1,opacity:1,transparent:!1,color:"white",alphaTest:.05},anchor:{size:.1},navigation:{anyDistance:!0,visibleDistance:8,cameraClearance:.1,tiltTolerance:25}})},62876:(e,t,n)=>{"use strict";n.d(t,{FZ:()=>a,_H:()=>r});var i=n(40186);const r="object-insights-feature",o="showcase/objects_beta_access",s="objectAnnotations";function a(e,t,n,a){const l=t.getModelOrganizationId(),c=(0,i.NW)(n),u=(0,i.LT)(e,null!=l?l:null),d=!!l&&e.hasMembershipFlag(l,o),h=a.getOverrideParam(s,-1),p=!(0===h)&&(c&&u&&d||1===h);return a.setSetting(r,p),p}},71828:(e,t,n)=>{"use strict";n.d(t,{$6:()=>m,Dw:()=>s,SO:()=>c,Tv:()=>f,WU:()=>u,aY:()=>p,b7:()=>l,bI:()=>a,g1:()=>o,mK:()=>h,pz:()=>d,qD:()=>r});var i=n(27200);const r=1e3/60,o=.05,s=.1/60,a=.02,l=25,c=3,u=3,d=.16,h=(0,i.cX)()?45:(0,i.Zm)()?20:35,p=.01,f=2,m=Math.PI/2/1e3},51274:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var i=n(37458),r=n(9139),o=n(68909),s=n(17340),a=n(86224),l=n(73237);const c=new r.Vy("InstancedPinHeads");class u extends o.InstancedMesh{constructor(e,t,n,r){const c=new o.PlaneGeometry(a.N,a.N),u=new o.InstancedBufferAttribute(new Float32Array(e),1);c.setAttribute("instanceAlpha",u);const d=new o.InstancedBufferAttribute(new Float32Array(4*e),4),h=new o.InstancedBufferAttribute(new Float32Array(e),1);c.setAttribute("instanceMaskRect",d),c.setAttribute("instanceStrokeWidth",h);const p=r&&n?new s.ce(t,n):new s.GS(t,!0);super(c,p,e),this.updateMaskTexture=e=>{if(this.material&&this.material instanceof s.ce){const t=this.material.uniforms;t.mask.value!==e&&(t.mask.value=e,this.material.uniformsNeedUpdate=!0)}},this.material=p,this.maxCount=e,this.opacityAttrib=u,this.maskRectAttrib=d,this.strokeWidthAttrib=h,this.setColorAt(0,new o.Color),this.renderedPins=[],this.renderOrder=i.X.pins,this.onBeforeRender=(e,t,n)=>{(0,l.QG)(this.material,e,n,!1)}}setDepthTex(e){this.material.setFadeDepthTexture(e)}update(e){let t=0;this.renderedPins.length=0;for(const n of e){if(!n.visible)continue;if(t>=this.maxCount){c.error("Instance count is too small!");continue}this.setMatrixAt(t,n.pinHeadMatrix),this.setColorAt(t,n.pinColor),this.opacityAttrib.setX(t,n.opacity*n.opacityAnimation.value*n.opacityScale),this.strokeWidthAttrib.setX(t,n.pinStrokeWidth);const e=n.pinIconUVRect;e&&this.maskRectAttrib.setXYZW(t,e.minU,e.minV,e.maxU,e.maxV),t++,this.renderedPins.push(n)}this.count=t,this.visible=this.count>0,this.instanceMatrix.needsUpdate=!0,this.opacityAttrib.needsUpdate=!0,this.maskRectAttrib.needsUpdate=!0,this.strokeWidthAttrib.needsUpdate=!0,this.instanceColor?(this.instanceColor.needsUpdate=!0,this.computeBoundingSphere()):c.error("Instance color should be defined")}}},65425:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var i=n(37458),r=n(68909),o=n(86224),s=n(40397);class a extends r.Mesh{constructor(e,t,n,o){super(t,n),this.geomScale=new r.Vector3(1,1,1),this.userData.sid=e,this.worldPosition=new r.Vector3,this.layers.mask=o.mask,this.renderOrder=i.X.pins,this.scale.set(.01,.01,.01)}dispose(){this.material.dispose(),this.geometry.dispose()}updatePosition(e){this.position.copy(e.stemNormal).setLength(Math.max(e.stemLength,.01))}update(e,t,n){this.quaternion.copy(e.quaternion);const i=o.A.pinHeadMesh.scale;this.getWorldPosition(this.worldPosition);const r=(0,s.cv)(this.worldPosition,e,t,n,i);this.scale.set(r*this.geomScale.x,r*this.geomScale.y,r*this.geomScale.z)}}},17340:(e,t,n)=>{"use strict";n.d(t,{ce:()=>b,Zo:()=>S,GS:()=>_,Kg:()=>O});var i=n(68909),r=n(86224),o=n(59039),s=n.n(o),a=n(94857),l=n.n(a),c=n(65388),u=n.n(c),d=n(2834),h=n.n(d),p=n(98840),f=n.n(p),m=n(45550),g=n.n(m);const v={pinHead:{uniforms:{alpha:{value:1},color:{value:new i.Color},bg:{value:null},mask:{value:null}},vertexShader:s(),fragmentShader:l()},pinStem:{uniforms:{pinHeadMatrix:{value:new i.Matrix4},cameraMatrix:{value:new i.Matrix4},inverseProjectionMatrix:{value:new i.Matrix4},resolution:{value:new i.Vector2},alpha:{value:1}},vertexShader:u(),fragmentShader:h()},pinSelected:{uniforms:{},vertexShader:f(),fragmentShader:g()}};var y=n(59155),E=n(73237);i.ShaderMaterial;i.ShaderMaterial;class S extends E.dI{constructor(){const e=i.UniformsUtils.clone(v.pinStem.uniforms);super({defines:{INSTANCED:!0},fragmentShader:v.pinStem.fragmentShader,vertexShader:v.pinStem.vertexShader,uniforms:e,name:"InstancedPinStemMaterial",linewidth:r.A.stem.width,opacity:r.A.stem.opacity,transparent:r.A.stem.transparent,alphaTest:r.A.stem.opacity*r.A.stem.alphaTest})}}class b extends E.dI{constructor(e,t){const n=i.UniformsUtils.clone(v.pinHead.uniforms);n.bg.value=e,n.mask.value=t,super({defines:{INSTANCED:!0},fragmentShader:v.pinHead.fragmentShader,vertexShader:v.pinHead.vertexShader,uniforms:n,name:"InstancedPinHeadMaterial",transparent:!0})}}class _ extends E.dI{constructor(e,t){super({defines:{INSTANCED:t},vertexShader:y.A.basicTextured.vertexShader,fragmentShader:y.A.basicTextured.fragmentShader,uniforms:{alpha:{value:1},tDiffuse:{value:e}},name:"InstancedPinHeadCustomMaterial",transparent:!0})}}class O extends i.ShaderMaterial{constructor(e){super({depthTest:!1,depthWrite:!1,transparent:!0,side:i.DoubleSide,vertexShader:v.pinSelected.vertexShader,fragmentShader:v.pinSelected.fragmentShader,uniforms:{mask:{value:e},maskRect:{value:new i.Vector4},haloWidth:{value:0},strokeWidth:{value:0}}})}}},11416:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var i=n(12625),r=n(88325),o=n(97994),s=n(25727);class a extends i.B{constructor(){super(),this.name="pins-view-data",this.pins=new r.E,this.creatingPin=!1,this.pinEditorStateObservable=(0,o.p)(s.ce.IDLE),this.selectedPinObservable=(0,o.p)(null),this.focusedPinObservable=(0,o.p)(null),this.editableObservable=(0,o.p)(!1),this.progressObservable=(0,o.p)(-1),this.screenPositionObservable=(0,o.p)(null),this.canPlaceObservable=(0,o.p)(!0),this.canAddObservable=(0,o.p)(!0),this.iteratePins=e=>{this.pins.forEach(e)}}onPinUpdate(e){return this.pins.onElementChanged(e)}updatePin(e){this.pins.set(e.id,e)}getPin(e){return this.pins.get(e)}removePin(e){this.pins.get(e)&&this.pins.delete(e)}removePinsByType(e){this.pins.forEach(((t,n)=>{t.pinType===e&&this.pins.delete(t.id)}))}get creatingNewPin(){return this.creatingPin}setSelectedPinId(e){this.selectedPinObservable.value=e}get selectedPinId(){return this.selectedPinObservable.value}onSelectedPinChanged(e){return this.selectedPinObservable.onChanged(e)}setFocusedPin(e){this.focusedPinObservable.value=e}get focusedPin(){return this.focusedPinObservable.value}onFocusedPinChanged(e){return this.focusedPinObservable.onChanged(e)}setPinEditorState(e){switch(e){case s.ce.IDLE:this.creatingPin=!1;break;case s.ce.CREATING:this.creatingPin=!0}this.pinEditorStateObservable.value=e}get pinEditorState(){return this.pinEditorStateObservable.value}onPinEditorStateChanged(e){return this.pinEditorStateObservable.onChanged(e)}setProgress(e){this.progressObservable.value=e}get progress(){return this.progressObservable.value}onProgressChanged(e){const t=this.progressObservable.onChanged(e);return t.renew(),t}get screenPosition(){return this.screenPositionObservable.value}setScreenPosition(e){this.screenPositionObservable.value=e}onScreenPositionChanged(e){return this.screenPositionObservable.onChanged(e)}get isPinEditable(){return this.editableObservable.value}setEditablePin(e){this.editableObservable.value=e}onPinEditableChanged(e){return this.editableObservable.onChanged(e)}get canAdd(){return this.canAddObservable.value}setCanAdd(e){this.canAddObservable.value=e}onCanAddChanged(e){return this.canAddObservable.onChanged(e)}get canPlace(){return this.canPlaceObservable.value}setCanPlace(e){this.canPlaceObservable.value=e}onCanPlaceChanged(e){return this.canPlaceObservable.onChanged(e)}}},25727:(e,t,n)=>{"use strict";var i;n.d(t,{DH:()=>a,ce:()=>s,ob:()=>o,tf:()=>r,yY:()=>i}),function(e){e.MATTERTAG="mattertag",e.NOTE="note",e.OBJECT="object"}(i||(i={}));const r={[i.MATTERTAG]:"simple-tag-pin",[i.NOTE]:"comment-large",[i.OBJECT]:"simple-tag-small"};var o,s,a;!function(e){e.DEFAULT="default",e.HIGHLIGHTED="highlighted",e.DIMMED="dimmed"}(o||(o={})),function(e){e.IDLE="idle",e.CREATING="creating",e.PRESSING="pressing",e.PLACING="placing",e.PLACED="placed"}(s||(s={})),function(e){e.UP="up",e.UP_LEFT="up-left",e.UP_RIGHT="up-right",e.DOWN="down",e.DOWN_LEFT="down-left",e.DOWN_RIGHT="down-right",e.LEFT="left",e.RIGHT="right"}(a||(a={}))},79457:(e,t,n)=>{"use strict";n.d(t,{RG:()=>r,UW:()=>d,cC:()=>c,fD:()=>l,lY:()=>u,oX:()=>o,wk:()=>a,yi:()=>s});var i=n(7478);class r extends i.QB{constructor(e,t,n){super(),this.id=e,this.hovering=t,this.pinType=n}}class o extends i.QB{constructor(e,t){super(),this.id=e,this.pinType=t}}class s extends i.QB{constructor(e,t,n){super(),this.id=e,this.pinType=t,this.pinPos=n}}class a extends i.QB{}class l extends i.QB{}class c extends i.QB{constructor(e,t,n,i){super(),this.id=e,this.pinType=t,this.pinPos=n,this.previousPos=i}}class u extends i.QB{constructor(e,t){super(),this.id=e,this.pinType=t}}class d extends i.QB{constructor(e,t,n){super(),this.id=e,this.pinType=t,this.properties=n}}},86224:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,N:()=>i});const i=1,r=Object.freeze({anchor:{size:1},selection:{size:1,haloWidth:.2,haloAnimDuration:300},stem:{length:.23,width:1,opacity:1,transparent:!0,color:"white",alphaTest:.05},pinHeadMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100},strokeWidth:.06}})},13586:(e,t,n)=>{"use strict";var i;n.d(t,{D:()=>i}),function(e){e[e.None=0]="None",e[e.AnonymousFetch=1]="AnonymousFetch",e[e.UserFetch=2]="UserFetch"}(i||(i={}))},56846:(e,t,n)=>{"use strict";n.d(t,{L$:()=>g,Y7:()=>v,TR:()=>m});var i=n(12625),r=n(88325),o=n(4850),s=n(97994),a=n(68920),l=n(20968),c=n(9192),u=n(85275);const d=new(n(9139).Vy)("mds-plugin-config-deserializer");class h{constructor(){this.fileAttachmentDeserializer=new u.x}deserialize(e){if(!e)return d.debug("Deserialized invalid Plugin data from MDS",e),null;const t=e.fileAttachments.map((e=>this.fileAttachmentDeserializer.deserialize(e))).filter((e=>null!==e));return{name:e.name,id:e.id,attachments:t}}}class p extends l.g{constructor(e){super(e),this.deserializer=new h}async read(e){const t={modelId:this.getViewId(),prefetchKey:this.prefetchKey,includeLayers:this.readLayerId()};return this.query(c.GetPlugins,t,e).then((e=>{var t,n;const i=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.sdkPlugins;if(!i||!Array.isArray(i))return[];return i.map((e=>this.deserializer.deserialize(e))).filter((e=>null!==e))}))}async update(e){const t={};void 0!==e.version&&(t.currentVersion=e.version),void 0!==e.attachments&&(t.fileAttachments=e.attachments);const n={modelId:this.getViewId(),name:e.name,patch:t};await this.mutate(c.UpdatePlugin,n).catch((e=>{e.message.includes("Version for plugin does not exist")}))}async delete(e){if(!e)return;const t={modelId:this.getViewId(),name:e};return this.mutate(c.DeletePlugin,t).then((()=>{}))}}var f=n(13586);const m="/api/v1/plugins",g="listEditOnly";class v extends i.B{get mdsIsSetup(){return this._isSetup}constructor(e){super(),this.settingsData=e,this.name="available-plugin-data",this.availablePlugins=new r.E,this.lastSavedConfiguration=new o.X,this.currentlyConfiguring=new s.L(null),this.pluginConfigReady=new a.i,this.defaultStrict=this.settingsData.getOverrideParam("sesStrict",null,"boolean"),this.defaultFetchLevel=f.D.None,this.disabled=this.settingsData.getOverrideParam("noPlugins",!1),this.disabledPlugins=this.settingsData.getOverrideParam("noPlugins",[]),this.defaultLoadEarly=!1,this.manifestUrl=this.settingsData.getOverrideParam("manifestUrl"),this.pluginVersion=this.settingsData.getOverrideParam("pluginVersion"),this.preventLiveEdit=this.settingsData.getOverrideParam("preventWorkshopPluginPreview",!1),this.eventTarget=new r.E,this._isSetup=!1}add(e){this.availablePlugins.set(e.name,e)}setupConfigStore(e,t,n){this._mdsStore=new p({context:e,readonly:t,includeDisabled:!t,baseUrl:n}),this._isSetup=!0,this.commit()}getMdsResult(){var e,t;return(null!==(t=null===(e=this._mdsStore)||void 0===e?void 0:e.read())&&void 0!==t?t:Promise.resolve([])).then((e=>e.filter((e=>!this.disabledPlugins.includes(e.name)))))}updateMds(e){var t;null===(t=this._mdsStore)||void 0===t||t.update(e)}deleteMdsById(e){var t;null===(t=this._mdsStore)||void 0===t||t.delete(e)}}},87766:(e,t,n)=>{"use strict";n.d(t,{XX:()=>i,_x:()=>o,eV:()=>s,p_:()=>r});const i="spaces.plugins",r="spaces.plugins.config",o="spaces.plugins.debug",s="spaces.plugins.groups"},78999:(e,t,n)=>{"use strict";n.d(t,{kR:()=>j});var i=n(12625),r=n(88325),o=n(9139),s=n(68593),a=n(58749),l=n(68570),c=n(27200),u=n(96540);function d(e,t){return(0,u.createElement)("span",{className:e+"-slot-wrapper",ref:e=>null==e?void 0:e.appendChild(t),key:e})}class h{constructor(e,t="closed",n=document.createElement("div"),i=d(e,n),r=null){this.slotType=e,this.shadowRootMode=t,this.rawNode=n,this.reactNode=i,this.shadowRoot=r}getOrCreateShadowRoot(){return this.shadowRoot||(this.shadowRoot=this.rawNode.attachShadow({mode:this.shadowRootMode})),this.shadowRoot}hasShadowRoot(){return!!this.shadowRoot}clear(){return this.rawNode.remove(),this.rawNode=document.createElement("div"),this.shadowRoot=null,this.reactNode=d(this.slotType,this.rawNode),this}}var p=n(43591);class f{static getElements(e,t=document){if("string"==typeof e){const n="getElementById"in t?t:void 0;if(n&&!isNaN(+e[0])){const t=n.getElementById(e);return t?[t]:[]}let i=t.querySelectorAll(e);return i.length||"."===e[0]||"#"===e[0]||(i=t.querySelectorAll("."+e),i.length||(i=t.querySelectorAll("#"+e))),Array.from(i)}return[e]}static getElement(e,t=document){if("string"==typeof e){const n="getElementById"in t?t:void 0;if(!e.length)return null;if(n&&"#"===e[0])return n.getElementById(e.substring(1));if("#"===e[0]||"."===e[0]||"["===e[0])return t.querySelector(e);if(n&&!isNaN(+e[0]))return n.getElementById(e);let i=t.querySelector(e);return n&&!i&&(i=n.getElementById(e)),i||(i=t.querySelector("."+e)),i}return e}static shouldSizeToContent(e,t=!1){return e?.grid&&(t?!0===e.sizeToContent||!0===e.grid.opts.sizeToContent&&void 0===e.sizeToContent:!!e.sizeToContent||e.grid.opts.sizeToContent&&!1!==e.sizeToContent)}static isIntercepted(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}static isTouching(e,t){return f.isIntercepted(e,{x:t.x-.5,y:t.y-.5,w:t.w+1,h:t.h+1})}static areaIntercept(e,t){let n=e.x>t.x?e.x:t.x,i=e.x+e.w<t.x+t.w?e.x+e.w:t.x+t.w;if(i<=n)return 0;let r=e.y>t.y?e.y:t.y,o=e.y+e.h<t.y+t.h?e.y+e.h:t.y+t.h;return o<=r?0:(i-n)*(o-r)}static area(e){return e.w*e.h}static sort(e,t=1){const n=1e4;return e.sort(((e,i)=>{let r=t*((e.y??n)-(i.y??n));return 0===r?t*((e.x??n)-(i.x??n)):r}))}static find(e,t){return t?e.find((e=>e.id===t)):void 0}static createStylesheet(e,t,n){let i=document.createElement("style");const r=n?.nonce;return r&&(i.nonce=r),i.setAttribute("type","text/css"),i.setAttribute("gs-style-id",e),i.styleSheet?i.styleSheet.cssText="":i.appendChild(document.createTextNode("")),t?t.insertBefore(i,t.firstChild):(t=document.getElementsByTagName("head")[0]).appendChild(i),i.sheet}static removeStylesheet(e,t){let n=(t||document).querySelector("STYLE[gs-style-id="+e+"]");n&&n.parentNode&&n.remove()}static addCSSRule(e,t,n){"function"==typeof e.addRule?e.addRule(t,n):"function"==typeof e.insertRule&&e.insertRule(`${t}{${n}}`)}static toBool(e){return"boolean"==typeof e?e:"string"==typeof e?!(""===(e=e.toLowerCase())||"no"===e||"false"===e||"0"===e):Boolean(e)}static toNumber(e){return null===e||0===e.length?void 0:Number(e)}static parseHeight(e){let t,n="px";if("string"==typeof e)if("auto"===e||""===e)t=0;else{let i=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!i)throw new Error(`Invalid height val = ${e}`);n=i[2]||"px",t=parseFloat(i[1])}else t=e;return{h:t,unit:n}}static defaults(e,...t){return t.forEach((t=>{for(const n in t){if(!t.hasOwnProperty(n))return;null===e[n]||void 0===e[n]?e[n]=t[n]:"object"==typeof t[n]&&"object"==typeof e[n]&&this.defaults(e[n],t[n])}})),e}static same(e,t){if("object"!=typeof e)return e==t;if(typeof e!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static copyPos(e,t,n=!1){return void 0!==t.x&&(e.x=t.x),void 0!==t.y&&(e.y=t.y),void 0!==t.w&&(e.w=t.w),void 0!==t.h&&(e.h=t.h),n&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}static samePos(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&(e.w||1)===(t.w||1)&&(e.h||1)===(t.h||1)}static sanitizeMinMax(e){e.minW||delete e.minW,e.minH||delete e.minH,e.maxW||delete e.maxW,e.maxH||delete e.maxH}static removeInternalAndSame(e,t){if("object"==typeof e&&"object"==typeof t)for(let n in e){const i=e[n],r=t[n];"_"===n[0]||i===r?delete e[n]:i&&"object"==typeof i&&void 0!==r&&(f.removeInternalAndSame(i,r),Object.keys(i).length||delete e[n])}}static removeInternalForSave(e,t=!0){for(let t in e)"_"!==t[0]&&null!==e[t]&&void 0!==e[t]||delete e[t];delete e.grid,t&&delete e.el,e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,e.locked||delete e.locked,1!==e.w&&e.w!==e.minW||delete e.w,1!==e.h&&e.h!==e.minH||delete e.h}static throttle(e,t){let n=!1;return(...i)=>{n||(n=!0,setTimeout((()=>{e(...i),n=!1}),t))}}static removePositioningStyles(e){let t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}static getScrollElement(e){if(!e)return document.scrollingElement||document.documentElement;const t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:this.getScrollElement(e.parentElement)}static updateScrollPosition(e,t,n){let i=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight;if(i.top<0||i.bottom>r){let o=i.bottom-r,s=i.top,a=this.getScrollElement(e);if(null!==a){let l=a.scrollTop;i.top<0&&n<0?e.offsetHeight>r?a.scrollTop+=n:a.scrollTop+=Math.abs(s)>Math.abs(n)?n:s:n>0&&(e.offsetHeight>r?a.scrollTop+=n:a.scrollTop+=o>n?n:o),t.top+=a.scrollTop-l}}}static updateScrollResize(e,t,n){const i=this.getScrollElement(t),r=i.clientHeight,o=i===this.getScrollElement()?0:i.getBoundingClientRect().top,s=e.clientY-o,a=s>r-n;s<n?i.scrollBy({behavior:"smooth",top:s-n}):a&&i.scrollBy({behavior:"smooth",top:n-(r-s)})}static clone(e){return null==e||"object"!=typeof e?e:e instanceof Array?[...e]:{...e}}static cloneDeep(e){const t=["parentGrid","el","grid","subGrid","engine"],n=f.clone(e);for(const i in n)n.hasOwnProperty(i)&&"object"==typeof n[i]&&"__"!==i.substring(0,2)&&!t.find((e=>e===i))&&(n[i]=f.cloneDeep(e[i]));return n}static cloneNode(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}static appendTo(e,t){let n;n="string"==typeof t?f.getElement(t):t,n&&n.appendChild(e)}static addElStyles(e,t){if(t instanceof Object)for(const n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])?t[n].forEach((t=>{e.style[n]=t})):e.style[n]=t[n])}static initEvent(e,t){const n={type:t.type},i={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:t.target?t.target:e.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach((t=>n[t]=e[t])),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach((t=>n[t]=e[t])),{...n,...i}}static simulateMouseEvent(e,t,n){const i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,e.target),(n||e.target).dispatchEvent(i)}static getValuesFromTransformedElement(e){const t=document.createElement("div");f.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),e.appendChild(t);const n=t.getBoundingClientRect();return e.removeChild(t),t.remove(),{xScale:1/n.width,yScale:1/n.height,xOffset:n.left,yOffset:n.top}}static swap(e,t,n){if(!e)return;const i=e[t];e[t]=e[n],e[n]=i}static canBeRotated(e){return!(!e||e.w===e.h||e.locked||e.noResize||e.grid?.opts.disableResize||e.minW&&e.minW===e.maxW||e.minH&&e.minH===e.maxH)}}class m{constructor(e={}){this.addedNodes=[],this.removedNodes=[],this.column=e.column||12,this.maxRow=e.maxRow,this._float=e.float,this.nodes=e.nodes||[],this.onChange=e.onChange}batchUpdate(e=!0,t=!0){return!!this.batchMode===e||(this.batchMode=e,e?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,t&&this._packNodes(),this._notify())),this}_useEntireRowArea(e,t){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!e._moving||e._skipDown||t.y<=e.y)}_fixCollisions(e,t=e,n,i={}){if(this.sortNodes(-1),!(n=n||this.collide(e,t)))return!1;if(e._moving&&!i.nested&&!this.float&&this.swap(e,n))return!0;let r=t;!this._loading&&this._useEntireRowArea(e,t)&&(r={x:0,w:this.column,y:t.y,h:t.h},n=this.collide(e,r,i.skip));let o=!1,s={nested:!0,pack:!1};for(;n=n||this.collide(e,r,i.skip);){let r;if(n.locked||this._loading||e._moving&&!e._skipDown&&t.y>e.y&&!this.float&&(!this.collide(n,{...n,y:e.y},e)||!this.collide(n,{...n,y:t.y-n.h},e))?(e._skipDown=e._skipDown||t.y>e.y,r=this.moveNode(e,{...t,y:n.y+n.h,...s}),(n.locked||this._loading)&&r?f.copyPos(t,e):!n.locked&&r&&i.pack&&(this._packNodes(),t.y=n.y+n.h,f.copyPos(e,t)),o=o||r):r=this.moveNode(n,{...n,y:t.y+t.h,skip:e,...s}),!r)return o;n=void 0}return o}collide(e,t=e,n){const i=e._id,r=n?._id;return this.nodes.find((e=>e._id!==i&&e._id!==r&&f.isIntercepted(e,t)))}collideAll(e,t=e,n){const i=e._id,r=n?._id;return this.nodes.filter((e=>e._id!==i&&e._id!==r&&f.isIntercepted(e,t)))}directionCollideCoverage(e,t,n){if(!t.rect||!e._rect)return;let i,r=e._rect,o={...t.rect};o.y>r.y?(o.h+=o.y-r.y,o.y=r.y):o.h+=r.y-o.y,o.x>r.x?(o.w+=o.x-r.x,o.x=r.x):o.w+=r.x-o.x;let s=.5;for(let e of n){if(e.locked||!e._rect)break;let t=e._rect,n=Number.MAX_VALUE,a=Number.MAX_VALUE;r.y<t.y?n=(o.y+o.h-t.y)/t.h:r.y+r.h>t.y+t.h&&(n=(t.y+t.h-o.y)/t.h),r.x<t.x?a=(o.x+o.w-t.x)/t.w:r.x+r.w>t.x+t.w&&(a=(t.x+t.w-o.x)/t.w);let l=Math.min(a,n);l>s&&(s=l,i=e)}return t.collide=i,i}cacheRects(e,t,n,i,r,o){return this.nodes.forEach((s=>s._rect={y:s.y*t+n,x:s.x*e+o,w:s.w*e-o-i,h:s.h*t-n-r})),this}swap(e,t){if(!t||t.locked||!e||e.locked)return!1;function n(){let n=t.x,i=t.y;return t.x=e.x,t.y=e.y,e.h!=t.h?(e.x=n,e.y=t.y+t.h):e.w!=t.w?(e.x=t.x+t.w,e.y=i):(e.x=n,e.y=i),e._dirty=t._dirty=!0,!0}let i;if(e.w===t.w&&e.h===t.h&&(e.x===t.x||e.y===t.y)&&(i=f.isTouching(e,t)))return n();if(!1!==i){if(e.w===t.w&&e.x===t.x&&(i||(i=f.isTouching(e,t)))){if(t.y<e.y){let n=e;e=t,t=n}return n()}if(!1!==i){if(e.h===t.h&&e.y===t.y&&(i||(i=f.isTouching(e,t)))){if(t.x<e.x){let n=e;e=t,t=n}return n()}return!1}}}isAreaEmpty(e,t,n,i){let r={x:e||0,y:t||0,w:n||1,h:i||1};return!this.collide(r)}compact(e="compact",t=!0){if(0===this.nodes.length)return this;t&&this.sortNodes();const n=this.batchMode;n||this.batchUpdate();const i=this._inColumnResize;i||(this._inColumnResize=!0);let r=this.nodes;return this.nodes=[],r.forEach(((t,n,i)=>{let r;t.locked||(t.autoPosition=!0,"list"===e&&n&&(r=i[n-1])),this.addNode(t,!1,r)})),i||delete this._inColumnResize,n||this.batchUpdate(!1),this}set float(e){this._float!==e&&(this._float=e||!1,e||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(e=1){return this.nodes=f.sort(this.nodes,e),this}_packNodes(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach((e=>{if(e._updating||void 0===e._orig||e.y===e._orig.y)return;let t=e.y;for(;t>e._orig.y;){--t,this.collide(e,{x:e.x,y:t,w:e.w,h:e.h})||(e._dirty=!0,e.y=t)}})):this.nodes.forEach(((e,t)=>{if(!e.locked)for(;e.y>0;){let n=0===t?0:e.y-1;if(!(0===t||!this.collide(e,{x:e.x,y:n,w:e.w,h:e.h})))break;e._dirty=e.y!==n,e.y=n}}))),this}prepareNode(e,t){e._id=e._id??m._idSeq++,void 0!==e.x&&void 0!==e.y&&null!==e.x&&null!==e.y||(e.autoPosition=!0);let n={x:0,y:0,w:1,h:1};return f.defaults(e,n),e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,f.sanitizeMinMax(e),"string"==typeof e.x&&(e.x=Number(e.x)),"string"==typeof e.y&&(e.y=Number(e.y)),"string"==typeof e.w&&(e.w=Number(e.w)),"string"==typeof e.h&&(e.h=Number(e.h)),isNaN(e.x)&&(e.x=n.x,e.autoPosition=!0),isNaN(e.y)&&(e.y=n.y,e.autoPosition=!0),isNaN(e.w)&&(e.w=n.w),isNaN(e.h)&&(e.h=n.h),this.nodeBoundFix(e,t),e}nodeBoundFix(e,t){let n=e._orig||f.copyPos({},e);e.maxW&&(e.w=Math.min(e.w,e.maxW)),e.maxH&&(e.h=Math.min(e.h,e.maxH)),e.minW&&e.minW<=this.column&&(e.w=Math.max(e.w,e.minW)),e.minH&&(e.h=Math.max(e.h,e.minH));if((e.x||0)+(e.w||1)>this.column&&this.column<12&&!this._inColumnResize&&e._id&&-1===this.findCacheLayout(e,12)){let t={...e};t.autoPosition||void 0===t.x?(delete t.x,delete t.y):t.x=Math.min(11,t.x),t.w=Math.min(12,t.w||1),this.cacheOneLayout(t,12)}return e.w>this.column?e.w=this.column:e.w<1&&(e.w=1),this.maxRow&&e.h>this.maxRow?e.h=this.maxRow:e.h<1&&(e.h=1),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.w>this.column&&(t?e.w=this.column-e.x:e.x=this.column-e.w),this.maxRow&&e.y+e.h>this.maxRow&&(t?e.h=this.maxRow-e.y:e.y=this.maxRow-e.h),f.samePos(e,n)||(e._dirty=!0),this}getDirtyNodes(e){return e?this.nodes.filter((e=>e._dirty&&!f.samePos(e,e._orig))):this.nodes.filter((e=>e._dirty))}_notify(e){if(this.batchMode||!this.onChange)return this;let t=(e||[]).concat(this.getDirtyNodes());return this.onChange(t),this}cleanNodes(){return this.batchMode||this.nodes.forEach((e=>{delete e._dirty,delete e._lastTried})),this}saveInitial(){return this.nodes.forEach((e=>{e._orig=f.copyPos({},e),delete e._dirty})),this._hasLocked=this.nodes.some((e=>e.locked)),this}restoreInitial(){return this.nodes.forEach((e=>{f.samePos(e,e._orig)||(f.copyPos(e,e._orig),e._dirty=!0)})),this._notify(),this}findEmptyPosition(e,t=this.nodes,n=this.column,i){let r=!1;for(let o=i?i.y*n+(i.x+i.w):0;!r;++o){let i=o%n,s=Math.floor(o/n);if(i+e.w>n)continue;let a={x:i,y:s,w:e.w,h:e.h};t.find((e=>f.isIntercepted(a,e)))||(e.x===i&&e.y===s||(e._dirty=!0),e.x=i,e.y=s,delete e.autoPosition,r=!0)}return r}addNode(e,t=!1,n){let i,r=this.nodes.find((t=>t._id===e._id));return r||(this._inColumnResize?this.nodeBoundFix(e):this.prepareNode(e),delete e._temporaryRemoved,delete e._removeDOM,e.autoPosition&&this.findEmptyPosition(e,this.nodes,this.column,n)&&(delete e.autoPosition,i=!0),this.nodes.push(e),t&&this.addedNodes.push(e),i||this._fixCollisions(e),this.batchMode||this._packNodes()._notify(),e)}removeNode(e,t=!0,n=!1){return this.nodes.find((t=>t._id===e._id))?(n&&this.removedNodes.push(e),t&&(e._removeDOM=!0),this.nodes=this.nodes.filter((t=>t._id!==e._id)),e._isAboutToRemove||this._packNodes(),this._notify([e]),this):this}removeAll(e=!0,t=!0){if(delete this._layouts,!this.nodes.length)return this;e&&this.nodes.forEach((e=>e._removeDOM=!0));const n=this.nodes;return this.removedNodes=t?n:[],this.nodes=[],this._notify(n)}moveNodeCheck(e,t){if(!this.changedPosConstrain(e,t))return!1;if(t.pack=!0,!this.maxRow)return this.moveNode(e,t);let n,i=new m({column:this.column,float:this.float,nodes:this.nodes.map((t=>t._id===e._id?(n={...t},n):{...t}))});if(!n)return!1;let r=i.moveNode(n,t)&&i.getRow()<=Math.max(this.getRow(),this.maxRow);if(!r&&!t.resizing&&t.collide){let n=t.collide.el.gridstackNode;if(this.swap(e,n))return this._notify(),!0}return!!r&&(i.nodes.filter((e=>e._dirty)).forEach((e=>{let t=this.nodes.find((t=>t._id===e._id));t&&(f.copyPos(t,e),t._dirty=!0)})),this._notify(),!0)}willItFit(e){if(delete e._willFitPos,!this.maxRow)return!0;let t=new m({column:this.column,float:this.float,nodes:this.nodes.map((e=>({...e})))}),n={...e};return this.cleanupNode(n),delete n.el,delete n._id,delete n.content,delete n.grid,t.addNode(n),t.getRow()<=this.maxRow&&(e._willFitPos=f.copyPos({},n),!0)}changedPosConstrain(e,t){return t.w=t.w||e.w,t.h=t.h||e.h,e.x!==t.x||e.y!==t.y||(e.maxW&&(t.w=Math.min(t.w,e.maxW)),e.maxH&&(t.h=Math.min(t.h,e.maxH)),e.minW&&(t.w=Math.max(t.w,e.minW)),e.minH&&(t.h=Math.max(t.h,e.minH)),e.w!==t.w||e.h!==t.h)}moveNode(e,t){if(!e||!t)return!1;let n;void 0!==t.pack||this.batchMode||(n=t.pack=!0),"number"!=typeof t.x&&(t.x=e.x),"number"!=typeof t.y&&(t.y=e.y),"number"!=typeof t.w&&(t.w=e.w),"number"!=typeof t.h&&(t.h=e.h);let i=e.w!==t.w||e.h!==t.h,r=f.copyPos({},e,!0);if(f.copyPos(r,t),this.nodeBoundFix(r,i),f.copyPos(t,r),!t.forceCollide&&f.samePos(e,t))return!1;let o=f.copyPos({},e),s=this.collideAll(e,r,t.skip),a=!0;if(s.length){let i=e._moving&&!t.nested,o=i?this.directionCollideCoverage(e,t,s):s[0];if(i&&o&&e.grid?.opts?.subGridDynamic&&!e.grid._isTemp){let n=f.areaIntercept(t.rect,o._rect),i=f.area(t.rect),r=f.area(o._rect);n/(i<r?i:r)>.8&&(o.grid.makeSubGrid(o.el,void 0,e),o=void 0)}o?a=!this._fixCollisions(e,r,o,t):(a=!1,n&&delete t.pack)}return a&&(e._dirty=!0,f.copyPos(e,r)),t.pack&&this._packNodes()._notify(),!f.samePos(e,o)}getRow(){return this.nodes.reduce(((e,t)=>Math.max(e,t.y+t.h)),0)}beginUpdate(e){return e._updating||(e._updating=!0,delete e._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let e=this.nodes.find((e=>e._updating));return e&&(delete e._updating,delete e._skipDown),this}save(e=!0,t){let n=this._layouts?.length,i=n&&this.column!==n-1?this._layouts[n-1]:null,r=[];return this.sortNodes(),this.nodes.forEach((n=>{let o=i?.find((e=>e._id===n._id)),s={...n,...o||{}};f.removeInternalForSave(s,!e),t&&t(n,s),r.push(s)})),r}layoutsNodesChange(e){return!this._layouts||this._inColumnResize||this._layouts.forEach(((t,n)=>{if(!t||n===this.column)return this;if(n<this.column)this._layouts[n]=void 0;else{let i=n/this.column;e.forEach((e=>{if(!e._orig)return;let n=t.find((t=>t._id===e._id));n&&(n.y>=0&&e.y!==e._orig.y&&(n.y+=e.y-e._orig.y),e.x!==e._orig.x&&(n.x=Math.round(e.x*i)),e.w!==e._orig.w&&(n.w=Math.round(e.w*i)))}))}})),this}columnChanged(e,t,n="moveScale"){if(!this.nodes.length||!t||e===t)return this;if("none"===n)return this;const i="compact"===n||"list"===n;i&&this.sortNodes(1),t<e&&this.cacheLayout(this.nodes,e),this.batchUpdate();let r=[],o=i?this.nodes:f.sort(this.nodes,-1);if(t>e&&this._layouts){const n=this._layouts[t]||[];let s=this._layouts.length-1;!n.length&&e!==s&&this._layouts[s]?.length&&(e=s,this._layouts[s].forEach((e=>{let t=o.find((t=>t._id===e._id));t&&(i||e.autoPosition||(t.x=e.x??t.x,t.y=e.y??t.y),t.w=e.w??t.w,null!=e.x&&void 0!==e.y||(t.autoPosition=!0))}))),n.forEach((e=>{let t=o.findIndex((t=>t._id===e._id));if(-1!==t){const n=o[t];if(i)return void(n.w=e.w);(e.autoPosition||isNaN(e.x)||isNaN(e.y))&&this.findEmptyPosition(e,r),e.autoPosition||(n.x=e.x??n.x,n.y=e.y??n.y,n.w=e.w??n.w,r.push(n)),o.splice(t,1)}}))}if(i)this.compact(n,!1);else{if(o.length)if("function"==typeof n)n(t,e,r,o);else{let s=i?1:t/e,a="move"===n||"moveScale"===n,l="scale"===n||"moveScale"===n;o.forEach((n=>{n.x=1===t?0:a?Math.round(n.x*s):Math.min(n.x,t-1),n.w=1===t||1===e?1:l?Math.round(n.w*s)||1:Math.min(n.w,t),r.push(n)})),o=[]}r=f.sort(r,-1),this._inColumnResize=!0,this.nodes=[],r.forEach((e=>{this.addNode(e,!1),delete e._orig}))}return this.nodes.forEach((e=>delete e._orig)),this.batchUpdate(!1,!i),delete this._inColumnResize,this}cacheLayout(e,t,n=!1){let i=[];return e.forEach(((e,t)=>{if(void 0===e._id){const t=e.id?this.nodes.find((t=>t.id===e.id)):void 0;e._id=t?._id??m._idSeq++}i[t]={x:e.x,y:e.y,w:e.w,_id:e._id}})),this._layouts=n?[]:this._layouts||[],this._layouts[t]=i,this}cacheOneLayout(e,t){e._id=e._id??m._idSeq++;let n={x:e.x,y:e.y,w:e.w,_id:e._id};(e.autoPosition||void 0===e.x)&&(delete n.x,delete n.y,e.autoPosition&&(n.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[t]=this._layouts[t]||[];let i=this.findCacheLayout(e,t);return-1===i?this._layouts[t].push(n):this._layouts[t][i]=n,this}findCacheLayout(e,t){return this._layouts?.[t]?.findIndex((t=>t._id===e._id))??-1}removeNodeFromLayoutCache(e){if(this._layouts)for(let t=0;t<this._layouts.length;t++){let n=this.findCacheLayout(e,t);-1!==n&&this._layouts[t].splice(n,1)}}cleanupNode(e){for(let t in e)"_"===t[0]&&"_id"!==t&&delete e[t];return this}}m._idSeq=0;const g={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"},v={handle:".grid-stack-item-content",appendTo:"body"};class y{}const E="undefined"!=typeof window&&"undefined"!=typeof document&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class S{}function b(e,t){if(e.touches.length>1)return;e.cancelable&&e.preventDefault();const n=e.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}function _(e,t){e.cancelable&&e.preventDefault();const n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}function O(e){S.touchHandled||(S.touchHandled=!0,b(e,"mousedown"))}function T(e){S.touchHandled&&b(e,"mousemove")}function A(e){if(!S.touchHandled)return;S.pointerLeaveTimeout&&(window.clearTimeout(S.pointerLeaveTimeout),delete S.pointerLeaveTimeout);const t=!!y.dragElement;b(e,"mouseup"),t||b(e,"click"),S.touchHandled=!1}function w(e){"mouse"!==e.pointerType&&e.target.releasePointerCapture(e.pointerId)}function N(e){y.dragElement&&"mouse"!==e.pointerType&&_(e,"mouseenter")}function I(e){y.dragElement&&"mouse"!==e.pointerType&&(S.pointerLeaveTimeout=window.setTimeout((()=>{delete S.pointerLeaveTimeout,_(e,"mouseleave")}),10))}class R{constructor(e,t,n){this.host=e,this.dir=t,this.option=n,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}_init(){const e=this.el=document.createElement("div");return e.classList.add("ui-resizable-handle"),e.classList.add(`${R.prefix}${this.dir}`),e.style.zIndex="100",e.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),E&&(this.el.addEventListener("touchstart",O),this.el.addEventListener("pointerdown",w)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),E&&(this.el.removeEventListener("touchstart",O),this.el.removeEventListener("pointerdown",w)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(e){this.mouseDownEvent=e,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),E&&(this.el.addEventListener("touchmove",T),this.el.addEventListener("touchend",A)),e.stopPropagation(),e.preventDefault()}_mouseMove(e){let t=this.mouseDownEvent;this.moving?this._triggerEvent("move",e):Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",e),document.addEventListener("keydown",this._keyEvent)),e.stopPropagation()}_mouseUp(e){this.moving&&(this._triggerEvent("stop",e),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),E&&(this.el.removeEventListener("touchmove",T),this.el.removeEventListener("touchend",A)),delete this.moving,delete this.mouseDownEvent,e.stopPropagation(),e.preventDefault()}_keyEvent(e){"Escape"===e.key&&(this.host.gridstackNode?.grid?.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))}_triggerEvent(e,t){return this.option[e]&&this.option[e](t),this}}R.prefix="ui-resizable-";class k{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(e,t){this._eventRegister[e]=t}off(e){delete this._eventRegister[e]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(e,t){if(!this.disabled&&this._eventRegister&&this._eventRegister[e])return this._eventRegister[e](t)}}class L extends k{constructor(e,t={}){super(),this.el=e,this.option=t,this.rectScale={x:1,y:1},this._ui=()=>{const e=this.el.parentElement.getBoundingClientRect(),t={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},n=this.temporalRect||t;return{position:{left:(n.left-e.left)*this.rectScale.x,top:(n.top-e.top)*this.rectScale.y},size:{width:n.width*this.rectScale.x,height:n.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(e){let t=e.handles&&e.handles!==this.option.handles,n=e.autoHide&&e.autoHide!==this.option.autoHide;return Object.keys(e).forEach((t=>this.option[t]=e[t])),t&&(this._removeHandlers(),this._setupHandlers()),n&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(e){return e?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),y.overResizeElement===this&&delete y.overResizeElement),this}_mouseOver(e){y.overResizeElement||y.dragElement||(y.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(e){y.overResizeElement===this&&(delete y.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map((e=>e.trim())).map((e=>new R(this.el,e,{start:e=>{this._resizeStart(e)},stop:e=>{this._resizeStop(e)},move:t=>{this._resizing(t,e)}}))),this}_resizeStart(e){this.sizeToContent=f.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=f.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=e,this._setupHelper(),this._applyChange();const t=f.initEvent(e,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(t,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",t),this}_resizing(e,t){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(e,t),this._applyChange();const n=f.initEvent(e,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(n,this._ui()),this.triggerEvent("resize",n),this}_resizeStop(e){const t=f.initEvent(e,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(t),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",t),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=L._originStyleProp.map((e=>this.el.style[e])),this.parentOriginStylePosition=this.el.parentElement.style.position;const e=this.el.parentElement,t=f.getValuesFromTransformedElement(e);return this.rectScale={x:t.xScale,y:t.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return L._originStyleProp.forEach(((e,t)=>{this.el.style[e]=this.elOriginStyleVal[t]||null})),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(e,t){const n=this.startEvent,i={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},r=e.clientX-n.clientX,o=this.sizeToContent?0:e.clientY-n.clientY;let s,a;t.indexOf("e")>-1?i.width+=r:t.indexOf("w")>-1&&(i.width-=r,i.left+=r,s=!0),t.indexOf("s")>-1?i.height+=o:t.indexOf("n")>-1&&(i.height-=o,i.top+=o,a=!0);const l=this._constrainSize(i.width,i.height,s,a);return Math.round(i.width)!==Math.round(l.width)&&(t.indexOf("w")>-1&&(i.left+=i.width-l.width),i.width=l.width),Math.round(i.height)!==Math.round(l.height)&&(t.indexOf("n")>-1&&(i.top+=i.height-l.height),i.height=l.height),i}_constrainSize(e,t,n,i){const r=this.option,o=(n?r.maxWidthMoveLeft:r.maxWidth)||Number.MAX_SAFE_INTEGER,s=r.minWidth/this.rectScale.x||e,a=(i?r.maxHeightMoveUp:r.maxHeight)||Number.MAX_SAFE_INTEGER,l=r.minHeight/this.rectScale.y||t;return{width:Math.min(o,Math.max(s,e)),height:Math.min(a,Math.max(l,t))}}_applyChange(){let e={left:0,top:0,width:0,height:0};if("absolute"===this.el.style.position){const t=this.el.parentElement,{left:n,top:i}=t.getBoundingClientRect();e={left:n,top:i,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach((t=>{const n=this.temporalRect[t],i="width"===t||"left"===t?this.rectScale.x:"height"===t||"top"===t?this.rectScale.y:1;this.el.style[t]=(n-e[t])*i+"px"})),this):this}_removeHandlers(){return this.handlers.forEach((e=>e.destroy())),delete this.handlers,this}}L._originStyleProp=["width","height","position","left","top","opacity","zIndex"];class P extends k{constructor(e,t={}){super(),this.el=e,this.option=t,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};const n=t.handle.substring(1),i=e.gridstackNode;this.dragEls=e.classList.contains(n)?[e]:i?.subGrid?[e.querySelector(t.handle)||e]:Array.from(e.querySelectorAll(t.handle)),0===this.dragEls.length&&(this.dragEls=[e]),this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this.enable()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){!1!==this.disabled&&(super.enable(),this.dragEls.forEach((e=>{e.addEventListener("mousedown",this._mouseDown),E&&(e.addEventListener("touchstart",O),e.addEventListener("pointerdown",w))})),this.el.classList.remove("ui-draggable-disabled"))}disable(e=!1){!0!==this.disabled&&(super.disable(),this.dragEls.forEach((e=>{e.removeEventListener("mousedown",this._mouseDown),E&&(e.removeEventListener("touchstart",O),e.removeEventListener("pointerdown",w))})),e||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(e){return Object.keys(e).forEach((t=>this.option[t]=e[t])),this}_mouseDown(e){if(!y.mouseHandled)return 0!==e.button||!this.dragEls.find((t=>t===e.target))&&e.target.closest('input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle')||this.option.cancel&&e.target.closest(this.option.cancel)||(this.mouseDownEvent=e,delete this.dragging,delete y.dragElement,delete y.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),E&&(e.target.addEventListener("touchmove",T),e.target.addEventListener("touchend",A)),e.preventDefault(),document.activeElement&&document.activeElement.blur(),y.mouseHandled=!0),!0}_callDrag(e){if(!this.dragging)return;const t=f.initEvent(e,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(t,this.ui()),this.triggerEvent("drag",t)}_mouseMove(e){let t=this.mouseDownEvent;if(this.lastDrag=e,this.dragging)if(this._dragFollow(e),y.pauseDrag){const t=Number.isInteger(y.pauseDrag)?y.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout((()=>this._callDrag(e)),t)}else this._callDrag(e);else if(Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>3){this.dragging=!0,y.dragElement=this;let t=this.el.gridstackNode?.grid;t?y.dropElement=t.el.ddElement.ddDroppable:delete y.dropElement,this.helper=this._createHelper(e),this._setupHelperContainmentStyle(),this.dragTransform=f.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(e,this.el,this.helperContainment),this._setupHelperStyle(e);const n=f.initEvent(e,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(n,this.ui()),this.triggerEvent("dragstart",n),document.addEventListener("keydown",this._keyEvent)}return!0}_mouseUp(e){if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),E&&(e.target.removeEventListener("touchmove",T,!0),e.target.removeEventListener("touchend",A,!0)),this.dragging){delete this.dragging,delete this.el.gridstackNode?._origRotate,document.removeEventListener("keydown",this._keyEvent),y.dropElement?.el===this.el.parentElement&&delete y.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();const t=f.initEvent(e,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(t),this.triggerEvent("dragstop",t),y.dropElement&&y.dropElement.drop(e)}delete this.helper,delete this.mouseDownEvent,delete y.dragElement,delete y.dropElement,delete y.mouseHandled,e.preventDefault()}_keyEvent(e){const t=this.el.gridstackNode;if(!t?.grid)return;const n=t.grid;if("Escape"===e.key)t._origRotate&&(t._orig=t._origRotate,delete t._origRotate),n.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent);else if("r"===e.key||"R"===e.key){if(!f.canBeRotated(t))return;t._origRotate=t._origRotate||{...t._orig},delete t._moving,n.setAnimation(!1).rotate(t.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),t._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,t.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",f.swap(t._orig,"w","h"),delete t._rect,this._mouseMove(this.lastDrag)}}_createHelper(e){let t=this.el;return"function"==typeof this.option.helper?t=this.option.helper(e):"clone"===this.option.helper&&(t=f.cloneNode(this.el)),document.body.contains(t)||f.appendTo(t,"parent"===this.option.appendTo?this.el.parentElement:this.option.appendTo),t===this.el&&(this.dragElementOriginStyle=P.originStyleProp.map((e=>this.el.style[e]))),t}_setupHelperStyle(e){this.helper.classList.add("ui-draggable-dragging");const t=this.helper.style;return t.pointerEvents="none",t.width=this.dragOffset.width+"px",t.height=this.dragOffset.height+"px",t.willChange="left, top",t.position="fixed",this._dragFollow(e),t.transition="none",setTimeout((()=>{this.helper&&(t.transition=null)}),0),this}_removeHelperStyle(){this.helper.classList.remove("ui-draggable-dragging");let e=this.helper?.gridstackNode;if(!e?._isAboutToRemove&&this.dragElementOriginStyle){let e=this.helper,t=this.dragElementOriginStyle.transition||null;e.style.transition=this.dragElementOriginStyle.transition="none",P.originStyleProp.forEach((t=>e.style[t]=this.dragElementOriginStyle[t]||null)),setTimeout((()=>e.style.transition=t),50)}return delete this.dragElementOriginStyle,this}_dragFollow(e){let t=0,n=0;const i=this.helper.style,r=this.dragOffset;i.left=(e.clientX+r.offsetLeft-t)*this.dragTransform.xScale+"px",i.top=(e.clientY+r.offsetTop-n)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,"fixed"!==this.helper.style.position&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(e,t,n){let i=0,r=0;n&&(i=this.dragTransform.xOffset,r=this.dragTransform.yOffset);const o=t.getBoundingClientRect();return{left:o.left,top:o.top,offsetLeft:-e.clientX+o.left-i,offsetTop:-e.clientY+o.top-r,width:o.width*this.dragTransform.xScale,height:o.height*this.dragTransform.yScale}}ui(){const e=this.el.parentElement.getBoundingClientRect(),t=this.helper.getBoundingClientRect();return{position:{top:(t.top-e.top)*this.dragTransform.yScale,left:(t.left-e.left)*this.dragTransform.xScale}}}}P.originStyleProp=["transition","pointerEvents","position","left","top","minWidth","willChange"];class D extends k{constructor(e,t={}){super(),this.el=e,this.option=t,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){!1!==this.disabled&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),E&&(this.el.addEventListener("pointerenter",N),this.el.addEventListener("pointerleave",I)))}disable(e=!1){!0!==this.disabled&&(super.disable(),this.el.classList.remove("ui-droppable"),e||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),E&&(this.el.removeEventListener("pointerenter",N),this.el.removeEventListener("pointerleave",I)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(e){return Object.keys(e).forEach((t=>this.option[t]=e[t])),this._setupAccept(),this}_mouseEnter(e){if(!y.dragElement)return;if(!this._canDrop(y.dragElement.el))return;e.preventDefault(),e.stopPropagation(),y.dropElement&&y.dropElement!==this&&y.dropElement._mouseLeave(e,!0),y.dropElement=this;const t=f.initEvent(e,{target:this.el,type:"dropover"});this.option.over&&this.option.over(t,this._ui(y.dragElement)),this.triggerEvent("dropover",t),this.el.classList.add("ui-droppable-over")}_mouseLeave(e,t=!1){if(!y.dragElement||y.dropElement!==this)return;e.preventDefault(),e.stopPropagation();const n=f.initEvent(e,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(n,this._ui(y.dragElement)),this.triggerEvent("dropout",n),y.dropElement===this&&(delete y.dropElement,!t)){let t,n=this.el.parentElement;for(;!t&&n;)t=n.ddElement?.ddDroppable,n=n.parentElement;t&&t._mouseEnter(e)}}drop(e){e.preventDefault();const t=f.initEvent(e,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(t,this._ui(y.dragElement)),this.triggerEvent("drop",t)}_canDrop(e){return e&&(!this.accept||this.accept(e))}_setupAccept(){return this.option.accept?("string"==typeof this.option.accept?this.accept=e=>e.classList.contains(this.option.accept)||e.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(e){return{draggable:e.el,...e.ui()}}}class M{static init(e){return e.ddElement||(e.ddElement=new M(e)),e.ddElement}constructor(e){this.el=e}on(e,t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.on(e,t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.on(e,t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.on(e,t),this}off(e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.off(e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.off(e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.off(e),this}setupDraggable(e){return this.ddDraggable?this.ddDraggable.updateOption(e):this.ddDraggable=new P(this.el,e),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(e){return this.ddResizable?this.ddResizable.updateOption(e):this.ddResizable=new L(this.el,e),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(e){return this.ddDroppable?this.ddDroppable.updateOption(e):this.ddDroppable=new D(this.el,e),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}const C=new class{resizable(e,t,n,i){return this._getDDElements(e).forEach((e=>{if("disable"===t||"enable"===t)e.ddResizable&&e.ddResizable[t]();else if("destroy"===t)e.ddResizable&&e.cleanResizable();else if("option"===t)e.setupResizable({[n]:i});else{const n=e.el.gridstackNode.grid;let i=e.el.getAttribute("gs-resize-handles")||n.opts.resizable.handles||"e,s,se";"all"===i&&(i="n,e,s,w,se,sw,ne,nw");const r=!n.opts.alwaysShowResizeHandle;e.setupResizable({...n.opts.resizable,handles:i,autoHide:r,start:t.start,stop:t.stop,resize:t.resize})}})),this}draggable(e,t,n,i){return this._getDDElements(e).forEach((e=>{if("disable"===t||"enable"===t)e.ddDraggable&&e.ddDraggable[t]();else if("destroy"===t)e.ddDraggable&&e.cleanDraggable();else if("option"===t)e.setupDraggable({[n]:i});else{const n=e.el.gridstackNode.grid;e.setupDraggable({...n.opts.draggable,start:t.start,stop:t.stop,drag:t.drag})}})),this}dragIn(e,t){return this._getDDElements(e).forEach((e=>e.setupDraggable(t))),this}droppable(e,t,n,i){return"function"!=typeof t.accept||t._accept||(t._accept=t.accept,t.accept=e=>t._accept(e)),this._getDDElements(e).forEach((e=>{"disable"===t||"enable"===t?e.ddDroppable&&e.ddDroppable[t]():"destroy"===t?e.ddDroppable&&e.cleanDroppable():"option"===t?e.setupDroppable({[n]:i}):e.setupDroppable(t)})),this}isDroppable(e){return!(!(e&&e.ddElement&&e.ddElement.ddDroppable)||e.ddElement.ddDroppable.disabled)}isDraggable(e){return!(!(e&&e.ddElement&&e.ddElement.ddDraggable)||e.ddElement.ddDraggable.disabled)}isResizable(e){return!(!(e&&e.ddElement&&e.ddElement.ddResizable)||e.ddElement.ddResizable.disabled)}on(e,t,n){return this._getDDElements(e).forEach((e=>e.on(t,(e=>{n(e,y.dragElement?y.dragElement.el:e.target,y.dragElement?y.dragElement.helper:null)})))),this}off(e,t){return this._getDDElements(e).forEach((e=>e.off(t))),this}_getDDElements(e,t=!0){let n=f.getElements(e);if(!n.length)return[];let i=n.map((e=>e.ddElement||(t?M.init(e):null)));return t||i.filter((e=>e)),i}};class x{static init(e={},t=".grid-stack"){if("undefined"==typeof document)return null;let n=x.getGridElement(t);return n?(n.gridstack||(n.gridstack=new x(n,f.cloneDeep(e))),n.gridstack):("string"==typeof t?console.error('GridStack.initAll() no grid was found with selector "'+t+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'):console.error("GridStack.init() no grid element was passed."),null)}static initAll(e={},t=".grid-stack"){let n=[];return"undefined"==typeof document||(x.getGridElements(t).forEach((t=>{t.gridstack||(t.gridstack=new x(t,f.cloneDeep(e))),n.push(t.gridstack)})),0===n.length&&console.error('GridStack.initAll() no grid was found with selector "'+t+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.')),n}static addGrid(e,t={}){if(!e)return null;let n=e;if(n.gridstack){const e=n.gridstack;return t&&(e.opts={...e.opts,...t}),void 0!==t.children&&e.load(t.children),e}if(!e.classList.contains("grid-stack")||x.addRemoveCB)if(x.addRemoveCB)n=x.addRemoveCB(e,t,!0,!0);else{let i=document.implementation.createHTMLDocument("");i.body.innerHTML=`<div class="grid-stack ${t.class||""}"></div>`,n=i.body.children[0],e.appendChild(n)}return x.init(t,n)}static registerEngine(e){x.engineClass=e}get placeholder(){if(!this._placeholder){let e=document.createElement("div");e.className="placeholder-content",this.opts.placeholderText&&(e.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,g.itemClass,this.opts.itemClass),this.placeholder.appendChild(e)}return this._placeholder}constructor(e,t={}){this.el=e,this.opts=t,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},e.gridstack=this,t=t||{},e.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),t.row&&(t.minRow=t.maxRow=t.row,delete t.row);let n=f.toNumber(e.getAttribute("gs-row"));"auto"===t.column&&delete t.column,void 0!==t.alwaysShowResizeHandle&&(t._alwaysShowResizeHandle=t.alwaysShowResizeHandle);let i=t.columnOpts?.breakpoints;const r=t;if(r.oneColumnModeDomSort&&(delete r.oneColumnModeDomSort,console.log("warning: Gridstack oneColumnModeDomSort no longer supported. Use GridStackOptions.columnOpts instead.")),r.oneColumnSize||!1===r.disableOneColumnMode){const e=r.oneColumnSize||768;delete r.oneColumnSize,delete r.disableOneColumnMode,t.columnOpts=t.columnOpts||{},i=t.columnOpts.breakpoints=t.columnOpts.breakpoints||[];let n=i.find((e=>1===e.c));n?n.w=e:(n={c:1,w:e},i.push(n,{c:12,w:e+1}))}const o=t.columnOpts;o&&(o.columnWidth||o.breakpoints?.length?o.columnMax=o.columnMax||12:(delete t.columnOpts,i=void 0)),i?.length>1&&i.sort(((e,t)=>(t.w||0)-(e.w||0)));let s={...f.cloneDeep(g),column:f.toNumber(e.getAttribute("gs-column"))||g.column,minRow:n||(f.toNumber(e.getAttribute("gs-min-row"))||g.minRow),maxRow:n||(f.toNumber(e.getAttribute("gs-max-row"))||g.maxRow),staticGrid:f.toBool(e.getAttribute("gs-static"))||g.staticGrid,draggable:{handle:(t.handleClass?"."+t.handleClass:t.handle?t.handle:"")||g.draggable.handle},removableOptions:{accept:t.itemClass||g.removableOptions.accept,decline:g.removableOptions.decline}};e.getAttribute("gs-animate")&&(s.animate=f.toBool(e.getAttribute("gs-animate"))),t=f.defaults(t,s),this._initMargin(),this.checkDynamicColumn(),this.el.classList.add("gs-"+t.column),"auto"===t.rtl&&(t.rtl="rtl"===e.style.direction),t.rtl&&this.el.classList.add("grid-stack-rtl");const a=this.el.parentElement?.parentElement;let l=a?.classList.contains(g.itemClass)?a.gridstackNode:void 0;l&&(l.subGrid=this,this.parentGridItem=l,this.el.classList.add("grid-stack-nested"),l.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight="auto"===t.cellHeight,this._isAutoCellHeight||"initial"===t.cellHeight?this.cellHeight(void 0,!1):("number"==typeof t.cellHeight&&t.cellHeightUnit&&t.cellHeightUnit!==g.cellHeightUnit&&(t.cellHeight=t.cellHeight+t.cellHeightUnit,delete t.cellHeightUnit),this.cellHeight(t.cellHeight,!1)),"mobile"===t.alwaysShowResizeHandle&&(t.alwaysShowResizeHandle=E),this._styleSheetClass="gs-id-"+m._idSeq++,this.el.classList.add(this._styleSheetClass),this._setStaticClass();let c=t.engineClass||x.engineClass||m;if(this.engine=new c({column:this.getColumn(),float:t.float,maxRow:t.maxRow,onChange:e=>{let t=0;this.engine.nodes.forEach((e=>{t=Math.max(t,e.y+e.h)})),e.forEach((e=>{let t=e.el;t&&(e._removeDOM?(t&&t.remove(),delete e._removeDOM):this._writePosAttr(t,e))})),this._updateStyles(!1,t)}}),this._updateStyles(!1,0),t.auto&&(this.batchUpdate(),this.engine._loading=!0,this.getGridItems().forEach((e=>this._prepareElement(e))),delete this.engine._loading,this.batchUpdate(!1)),t.children){const e=t.children;delete t.children,e.length&&this.load(e)}this.setAnimation(),t.subGridDynamic&&!y.pauseDrag&&(y.pauseDrag=!0),void 0!==t.draggable?.pause&&(y.pauseDrag=t.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}addWidget(e,t){let n,i;if("string"==typeof e){let t=document.implementation.createHTMLDocument("");t.body.innerHTML=e,n=t.body.children[0]}else if(0===arguments.length||1===arguments.length&&(void 0!==(r=e).el||void 0!==r.x||void 0!==r.y||void 0!==r.w||void 0!==r.h||void 0!==r.content))if(i=t=e,i?.el)n=i.el;else if(x.addRemoveCB)n=x.addRemoveCB(this.el,t,!0,!1);else{let e=t?.content||"",i=document.implementation.createHTMLDocument("");i.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${e}</div></div>`,n=i.body.children[0]}else n=e;var r;if(!n)return;if(i=n.gridstackNode,i&&n.parentElement===this.el&&this.engine.nodes.find((e=>e._id===i._id)))return n;let o=this._readAttr(n);return t=f.cloneDeep(t)||{},f.defaults(t,o),i=this.engine.prepareNode(t),this._writeAttr(n,t),this.el.appendChild(n),this.makeWidget(n,t),n}makeSubGrid(e,t,n,i=!0){let r,o=e.gridstackNode;if(o||(o=this.makeWidget(e).gridstackNode),o.subGrid?.el)return o.subGrid;let s,a=this;for(;a&&!r;)r=a.opts?.subGridOpts,a=a.parentGridItem?.grid;t=f.cloneDeep({...r||{},children:void 0,...t||o.subGridOpts||{}}),o.subGridOpts=t,"auto"===t.column&&(s=!0,t.column=Math.max(o.w||1,n?.w||1),delete t.columnOpts);let l,c,u=o.el.querySelector(".grid-stack-item-content");if(i){if(this._removeDD(o.el),c={...o,x:0,y:0},f.removeInternalForSave(c),delete c.subGridOpts,o.content&&(c.content=o.content,delete o.content),x.addRemoveCB)l=x.addRemoveCB(this.el,c,!0,!1);else{let e=document.implementation.createHTMLDocument("");e.body.innerHTML='<div class="grid-stack-item"></div>',l=e.body.children[0],l.appendChild(u),e.body.innerHTML='<div class="grid-stack-item-content"></div>',u=e.body.children[0],o.el.appendChild(u)}this._prepareDragDropByNode(o)}if(n){let e=s?t.column:o.w,i=o.h+n.h,r=o.el.style;r.transition="none",this.update(o.el,{w:e,h:i}),setTimeout((()=>r.transition=null))}let d=o.subGrid=x.addGrid(u,t);return n?._moving&&(d._isTemp=!0),s&&(d._autoColumn=!0),i&&d.addWidget(l,c),n&&(n._moving?window.setTimeout((()=>f.simulateMouseEvent(n._event,"mouseenter",d.el)),0):d.addWidget(o.el,o)),d}removeAsSubGrid(e){let t=this.parentGridItem?.grid;t&&(t.batchUpdate(),t.removeWidget(this.parentGridItem.el,!0,!0),this.engine.nodes.forEach((e=>{e.x+=this.parentGridItem.x,e.y+=this.parentGridItem.y,t.addWidget(e.el,e)})),t.batchUpdate(!1),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,e&&window.setTimeout((()=>f.simulateMouseEvent(e._event,"mouseenter",t.el)),0))}save(e=!0,t=!1,n=x.saveCB){let i=this.engine.save(e,n);if(i.forEach((i=>{if(e&&i.el&&!i.subGrid&&!n){let e=i.el.querySelector(".grid-stack-item-content");i.content=e?e.innerHTML:void 0,i.content||delete i.content}else if(e||n||delete i.content,i.subGrid?.el){const r=i.subGrid.save(e,t,n);i.subGridOpts=t?r:{children:r},delete i.subGrid}delete i.el})),t){let e=f.cloneDeep(this.opts);e.marginBottom===e.marginTop&&e.marginRight===e.marginLeft&&e.marginTop===e.marginRight&&(e.margin=e.marginTop,delete e.marginTop,delete e.marginRight,delete e.marginBottom,delete e.marginLeft),e.rtl===("rtl"===this.el.style.direction)&&(e.rtl="auto"),this._isAutoCellHeight&&(e.cellHeight="auto"),this._autoColumn&&(e.column="auto");const t=e._alwaysShowResizeHandle;return delete e._alwaysShowResizeHandle,void 0!==t?e.alwaysShowResizeHandle=t:delete e.alwaysShowResizeHandle,f.removeInternalAndSame(e,g),e.children=i,e}return i}load(e,t=x.addRemoveCB||!0){e=f.cloneDeep(e);const n=this.getColumn();e.forEach((e=>{e.w=e.w||1,e.h=e.h||1})),e=f.sort(e);let i=0;e.forEach((e=>{i=Math.max(i,(e.x||0)+e.w)})),i>n&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(e,i,!0));const r=x.addRemoveCB;"function"==typeof t&&(x.addRemoveCB=t);let o=[];this.batchUpdate();const s=!this.engine.nodes.length;if(s&&this.setAnimation(!1),!s&&t){[...this.engine.nodes].forEach((t=>{if(!t.id)return;f.find(e,t.id)||(x.addRemoveCB&&x.addRemoveCB(this.el,t,!1,!1),o.push(t),this.removeWidget(t.el,!0,!1))}))}this.engine._loading=!0;let a=[];return this.engine.nodes=this.engine.nodes.filter((t=>!f.find(e,t.id)||(a.push(t),!1))),e.forEach((e=>{let n=f.find(a,e.id);if(n){if(f.shouldSizeToContent(n)&&(e.h=n.h),this.engine.nodeBoundFix(e),(e.autoPosition||void 0===e.x||void 0===e.y)&&(e.w=e.w||n.w,e.h=e.h||n.h,this.engine.findEmptyPosition(e)),this.engine.nodes.push(n),f.samePos(n,e)&&this.moveNode(n,{...e,forceCollide:!0}),this.update(n.el,e),e.subGridOpts?.children){let t=n.el.querySelector(".grid-stack");t&&t.gridstack&&t.gridstack.load(e.subGridOpts.children)}}else t&&this.addWidget(e)})),delete this.engine._loading,this.engine.removedNodes=o,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,r?x.addRemoveCB=r:delete x.addRemoveCB,s&&this.opts?.animate&&this.setAnimation(this.opts.animate,!0),this}batchUpdate(e=!0){return this.engine.batchUpdate(e),e||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(e=!1){if(this.opts.cellHeight&&"auto"!==this.opts.cellHeight&&(!e||!this.opts.cellHeightUnit||"px"===this.opts.cellHeightUnit))return this.opts.cellHeight;if("rem"===this.opts.cellHeightUnit)return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if("em"===this.opts.cellHeightUnit)return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if("cm"===this.opts.cellHeightUnit)return this.opts.cellHeight*(96/2.54);if("mm"===this.opts.cellHeightUnit)return this.opts.cellHeight*(96/2.54)/10;let t=this.el.querySelector("."+this.opts.itemClass);if(t){let e=f.toNumber(t.getAttribute("gs-h"))||1;return Math.round(t.offsetHeight/e)}let n=parseInt(this.el.getAttribute("gs-current-row"));return n?Math.round(this.el.getBoundingClientRect().height/n):this.opts.cellHeight}cellHeight(e,t=!0){if(t&&void 0!==e&&this._isAutoCellHeight!==("auto"===e)&&(this._isAutoCellHeight="auto"===e,this._updateResizeEvent()),"initial"!==e&&"auto"!==e||(e=void 0),void 0===e){let t=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;e=this.cellWidth()+t}let n=f.parseHeight(e);return this.opts.cellHeightUnit===n.unit&&this.opts.cellHeight===n.h||(this.opts.cellHeightUnit=n.unit,this.opts.cellHeight=n.h,this.resizeToContentCheck(),t&&this._updateStyles(!0)),this}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(e=!1){return e&&this.opts.columnOpts?.breakpointForWindow?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){const e=this.opts.columnOpts;if(!e||!e.columnWidth&&!e.breakpoints?.length)return!1;const t=this.getColumn();let n=t;const i=this._widthOrContainer(!0);if(e.columnWidth)n=Math.min(Math.round(i/e.columnWidth)||1,e.columnMax);else{n=e.columnMax;let r=0;for(;r<e.breakpoints.length&&i<=e.breakpoints[r].w;)n=e.breakpoints[r++].c||t}if(n!==t){const t=e.breakpoints?.find((e=>e.c===n));return this.column(n,t?.layout||e.layout),!0}return!1}compact(e="compact",t=!0){return this.engine.compact(e,t),this._triggerChangeEvent(),this}column(e,t="moveScale"){if(!e||e<1||this.opts.column===e)return this;let n=this.getColumn();return this.opts.column=e,this.engine?(this.engine.column=e,this.el.classList.remove("gs-"+n),this.el.classList.add("gs-"+e),this.engine.columnChanged(n,e,t),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter((e=>e.matches("."+this.opts.itemClass)&&!e.matches("."+this.opts.placeholderClass)))}destroy(e=!0){if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),e?this.el.parentNode.removeChild(this.el):(this.removeAll(e),this.el.classList.remove(this._styleSheetClass),this.el.removeAttribute("gs-current-row")),this._removeStylesheet(),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(e){return this.opts.float!==e&&(this.opts.float=this.engine.float=e,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(e,t=!1){let n,i=this.el.getBoundingClientRect();n=t?{top:i.top+document.documentElement.scrollTop,left:i.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};let r=e.left-n.left,o=e.top-n.top,s=i.width/this.getColumn(),a=i.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(r/s),y:Math.floor(o/a)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(e,t,n,i){return this.engine.isAreaEmpty(e,t,n,i)}makeWidget(e,t){let n=x.getElement(e);this._prepareElement(n,!0,t);const i=n.gridstackNode;return this._updateContainerHeight(),i.subGridOpts&&this.makeSubGrid(n,i.subGridOpts,void 0,!1),1===this.opts.column&&(this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,n}on(e,t){if(-1!==e.indexOf(" ")){return e.split(" ").forEach((e=>this.on(e,t))),this}if("change"===e||"added"===e||"removed"===e||"enable"===e||"disable"===e){let n="enable"===e||"disable"===e;this._gsEventHandler[e]=n?e=>t(e):e=>t(e,e.detail),this.el.addEventListener(e,this._gsEventHandler[e])}else"drag"===e||"dragstart"===e||"dragstop"===e||"resizestart"===e||"resize"===e||"resizestop"===e||"dropped"===e||"resizecontent"===e?this._gsEventHandler[e]=t:console.error("GridStack.on("+e+") event not supported");return this}off(e){if(-1!==e.indexOf(" ")){return e.split(" ").forEach((e=>this.off(e))),this}return"change"!==e&&"added"!==e&&"removed"!==e&&"enable"!==e&&"disable"!==e||this._gsEventHandler[e]&&this.el.removeEventListener(e,this._gsEventHandler[e]),delete this._gsEventHandler[e],this}offAll(){return Object.keys(this._gsEventHandler).forEach((e=>this.off(e))),this}removeWidget(e,t=!0,n=!0){return x.getElements(e).forEach((e=>{if(e.parentElement&&e.parentElement!==this.el)return;let i=e.gridstackNode;i||(i=this.engine.nodes.find((t=>e===t.el))),i&&(t&&x.addRemoveCB&&x.addRemoveCB(this.el,i,!1,!1),delete e.gridstackNode,this._removeDD(e),this.engine.removeNode(i,t,n),t&&e.parentElement&&e.remove())})),n&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(e=!0,t=!0){return this.engine.nodes.forEach((t=>{e&&x.addRemoveCB&&x.addRemoveCB(this.el,t,!1,!1),delete t.el.gridstackNode,this.opts.staticGrid||this._removeDD(t.el)})),this.engine.removeAll(e,t),t&&this._triggerRemoveEvent(),this}setAnimation(e=this.opts.animate,t){return t?setTimeout((()=>{this.opts&&this.setAnimation(e)})):e?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(e,t=!0,n=!0){return!!this.opts.staticGrid===e||(e?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach((i=>{this._prepareDragDropByNode(i),i.subGrid&&n&&i.subGrid.setStatic(e,t,n)})),t&&this._setStaticClass()),this}update(e,t){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let n=arguments,i=1;return t={x:n[i++],y:n[i++],w:n[i++],h:n[i++]},this.update(e,t)}return x.getElements(e).forEach((e=>{let n=e?.gridstackNode;if(!n)return;let i=f.cloneDeep(t);this.engine.nodeBoundFix(i),delete i.autoPosition,delete i.id;let r,o=["x","y","w","h"];if(o.some((e=>void 0!==i[e]&&i[e]!==n[e]))&&(r={},o.forEach((e=>{r[e]=void 0!==i[e]?i[e]:n[e],delete i[e]}))),!r&&(i.minW||i.minH||i.maxW||i.maxH)&&(r={}),void 0!==i.content){const t=e.querySelector(".grid-stack-item-content");t&&t.innerHTML!==i.content&&(t.innerHTML=i.content,n.subGrid?.el&&(t.appendChild(n.subGrid.el),n.subGrid.opts.styleInHead||n.subGrid._updateStyles(!0))),delete i.content}let s=!1,a=!1;for(const e in i)"_"!==e[0]&&n[e]!==i[e]&&(n[e]=i[e],s=!0,a=a||!this.opts.staticGrid&&("noResize"===e||"noMove"===e||"locked"===e));if(f.sanitizeMinMax(n),r){const e=void 0!==r.w&&r.w!==n.w;this.moveNode(n,r),this.resizeToContentCheck(e,n),delete n._orig}(r||s)&&this._writeAttr(e,n),a&&this._prepareDragDropByNode(n)})),this}moveNode(e,t){const n=e._updating;n||this.engine.cleanNodes().beginUpdate(e),this.engine.moveNode(e,t),this._updateContainerHeight(),n||(this._triggerChangeEvent(),this.engine.endUpdate())}resizeToContent(e){if(!e)return;if(e.classList.remove("size-to-content-max"),!e.clientHeight)return;const t=e.gridstackNode;if(!t)return;const n=t.grid;if(!n||e.parentElement!==n.el)return;const i=n.getCellHeight(!0);if(!i)return;let r,o=t.h?t.h*i:e.clientHeight;if(t.resizeToContentParent&&(r=e.querySelector(t.resizeToContentParent)),r||(r=e.querySelector(x.resizeToContentParent)),!r)return;const s=e.clientHeight-r.clientHeight,a=t.h?t.h*i-s:r.clientHeight;let l;if(t.subGrid)l=t.subGrid.getRow()*t.subGrid.getCellHeight(!0);else{if(t.subGridOpts?.children?.length)return;{const e=r.firstElementChild;if(!e)return void console.error(`Error: GridStack.resizeToContent() widget id:${t.id} '${x.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);l=e.getBoundingClientRect().height||a}}if(a===l)return;o+=l-a;let c=Math.ceil(o/i);const u=Number.isInteger(t.sizeToContent)?t.sizeToContent:0;u&&c>u&&(c=u,e.classList.add("size-to-content-max")),t.minH&&c<t.minH?c=t.minH:t.maxH&&c>t.maxH&&(c=t.maxH),c!==t.h&&(n._ignoreLayoutsNodeChange=!0,n.moveNode(t,{h:c}),delete n._ignoreLayoutsNodeChange)}resizeToContentCBCheck(e){x.resizeToContentCB?x.resizeToContentCB(e):this.resizeToContent(e)}rotate(e,t){return x.getElements(e).forEach((e=>{let n=e.gridstackNode;if(!f.canBeRotated(n))return;const i={w:n.h,h:n.w,minH:n.minW,minW:n.minH,maxH:n.maxW,maxW:n.maxH};if(t){let e=t.left>0?Math.floor(t.left/this.cellWidth()):0,r=t.top>0?Math.floor(t.top/this.opts.cellHeight):0;i.x=n.x+e-(n.h-(r+1)),i.y=n.y+r-e}Object.keys(i).forEach((e=>{void 0===i[e]&&delete i[e]}));const r=n._orig;this.update(e,i),n._orig=r})),this}margin(e){if(!("string"==typeof e&&e.split(" ").length>1)){let t=f.parseHeight(e);if(this.opts.marginUnit===t.unit&&this.opts.margin===t.h)return}return this.opts.margin=e,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(e){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let e=arguments,t=0,n={x:e[t++],y:e[t++],w:e[t++],h:e[t++],autoPosition:e[t++]};return this.willItFit(n)}return this.engine.willItFit(e)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let e=this.engine.getDirtyNodes(!0);return e&&e.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(e),this._triggerEvent("change",e)),this.engine.saveInitial(),this}_triggerAddEvent(){if(this.engine.batchMode)return this;if(this.engine.addedNodes?.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach((e=>{delete e._dirty}));const e=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",e)}return this}_triggerRemoveEvent(){if(this.engine.batchMode)return this;if(this.engine.removedNodes?.length){const e=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",e)}return this}_triggerEvent(e,t){let n=t?new CustomEvent(e,{bubbles:!1,detail:t}):new Event(e);return this.el.dispatchEvent(n),this}_removeStylesheet(){if(this._styles){const e=this.opts.styleInHead?void 0:this.el.parentNode;f.removeStylesheet(this._styleSheetClass,e),delete this._styles}return this}_updateStyles(e=!1,t){if(e&&this._removeStylesheet(),void 0===t&&(t=this.getRow()),this._updateContainerHeight(),0===this.opts.cellHeight)return this;let n=this.opts.cellHeight,i=this.opts.cellHeightUnit,r=`.${this._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){const e=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=f.createStylesheet(this._styleSheetClass,e,{nonce:this.opts.nonce}),!this._styles)return this;this._styles._max=0,f.addCSSRule(this._styles,r,`height: ${n}${i}`);let t=this.opts.marginTop+this.opts.marginUnit,o=this.opts.marginBottom+this.opts.marginUnit,s=this.opts.marginRight+this.opts.marginUnit,a=this.opts.marginLeft+this.opts.marginUnit,l=`${r} > .grid-stack-item-content`,c=`.${this._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;f.addCSSRule(this._styles,l,`top: ${t}; right: ${s}; bottom: ${o}; left: ${a};`),f.addCSSRule(this._styles,c,`top: ${t}; right: ${s}; bottom: ${o}; left: ${a};`),f.addCSSRule(this._styles,`${r} > .ui-resizable-n`,`top: ${t};`),f.addCSSRule(this._styles,`${r} > .ui-resizable-s`,`bottom: ${o}`),f.addCSSRule(this._styles,`${r} > .ui-resizable-ne`,`right: ${s}`),f.addCSSRule(this._styles,`${r} > .ui-resizable-e`,`right: ${s}`),f.addCSSRule(this._styles,`${r} > .ui-resizable-se`,`right: ${s}; bottom: ${o}`),f.addCSSRule(this._styles,`${r} > .ui-resizable-nw`,`left: ${a}`),f.addCSSRule(this._styles,`${r} > .ui-resizable-w`,`left: ${a}`),f.addCSSRule(this._styles,`${r} > .ui-resizable-sw`,`left: ${a}; bottom: ${o}`)}if((t=t||this._styles._max)>this._styles._max){let e=e=>n*e+i;for(let n=this._styles._max+1;n<=t;n++)f.addCSSRule(this._styles,`${r}[gs-y="${n}"]`,`top: ${e(n)}`),f.addCSSRule(this._styles,`${r}[gs-h="${n+1}"]`,`height: ${e(n+1)}`);this._styles._max=t}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const e=this.parentGridItem;let t=this.getRow()+this._extraDragRow;const n=this.opts.cellHeight,i=this.opts.cellHeightUnit;if(!n)return this;if(!e){const e=f.parseHeight(getComputedStyle(this.el).minHeight);if(e.h>0&&e.unit===i){const i=Math.floor(e.h/n);t<i&&(t=i)}}return this.el.setAttribute("gs-current-row",String(t)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),t&&(this.el.style[e?"minHeight":"height"]=t*n+i),e&&!e.grid.engine.batchMode&&f.shouldSizeToContent(e)&&e.grid.resizeToContentCBCheck(e.el),this}_prepareElement(e,t=!1,n){n=n||this._readAttr(e),e.gridstackNode=n,n.el=e,n.grid=this,n=this.engine.addNode(n,t),this._writeAttr(e,n),e.classList.add(g.itemClass,this.opts.itemClass);const i=f.shouldSizeToContent(n);return i?e.classList.add("size-to-content"):e.classList.remove("size-to-content"),i&&this.resizeToContentCheck(!1,n),this._prepareDragDropByNode(n),this}_writePosAttr(e,t){return void 0!==t.x&&null!==t.x&&e.setAttribute("gs-x",String(t.x)),void 0!==t.y&&null!==t.y&&e.setAttribute("gs-y",String(t.y)),t.w>1?e.setAttribute("gs-w",String(t.w)):e.removeAttribute("gs-w"),t.h>1?e.setAttribute("gs-h",String(t.h)):e.removeAttribute("gs-h"),this}_writeAttr(e,t){if(!t)return this;this._writePosAttr(e,t);let n={autoPosition:"gs-auto-position",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id"};for(const i in n)t[i]?e.setAttribute(n[i],String(t[i])):e.removeAttribute(n[i]);return this}_readAttr(e,t=!0){let n={};n.x=f.toNumber(e.getAttribute("gs-x")),n.y=f.toNumber(e.getAttribute("gs-y")),n.w=f.toNumber(e.getAttribute("gs-w")),n.h=f.toNumber(e.getAttribute("gs-h")),n.autoPosition=f.toBool(e.getAttribute("gs-auto-position")),n.noResize=f.toBool(e.getAttribute("gs-no-resize")),n.noMove=f.toBool(e.getAttribute("gs-no-move")),n.locked=f.toBool(e.getAttribute("gs-locked")),n.id=e.getAttribute("gs-id"),n.maxW=f.toNumber(e.getAttribute("gs-max-w")),n.minW=f.toNumber(e.getAttribute("gs-min-w")),n.maxH=f.toNumber(e.getAttribute("gs-max-h")),n.minH=f.toNumber(e.getAttribute("gs-min-h")),t&&(1===n.w&&e.removeAttribute("gs-w"),1===n.h&&e.removeAttribute("gs-h"),n.maxW&&e.removeAttribute("gs-max-w"),n.minW&&e.removeAttribute("gs-min-w"),n.maxH&&e.removeAttribute("gs-max-h"),n.minH&&e.removeAttribute("gs-min-h"));for(const e in n){if(!n.hasOwnProperty(e))return;n[e]||0===n[e]||delete n[e]}return n}_setStaticClass(){let e=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...e),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...e),this.el.removeAttribute("gs-static")),this}onResize(){if(!this.el?.clientWidth)return;if(this.prevWidth===this.el.clientWidth)return;this.prevWidth=this.el.clientWidth,this.batchUpdate();let e=!1;return this._autoColumn&&this.parentGridItem?this.opts.column!==this.parentGridItem.w&&(this.column(this.parentGridItem.w,"none"),e=!0):e=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach((e=>{e.subGrid&&e.subGrid.onResize()})),this._skipInitialResize||this.resizeToContentCheck(e),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(e=!1,t=void 0){if(this.engine){if(e&&this.hasAnimationCSS())return setTimeout((()=>this.resizeToContentCheck(!1,t)),310);if(t)f.shouldSizeToContent(t)&&this.resizeToContentCBCheck(t.el);else if(this.engine.nodes.some((e=>f.shouldSizeToContent(e)))){const e=[...this.engine.nodes];this.batchUpdate(),e.forEach((e=>{f.shouldSizeToContent(e)&&this.resizeToContentCBCheck(e.el)})),this.batchUpdate(!1)}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,t?[t]:this.engine.nodes)}}_updateResizeEvent(e=!1){const t=!this.parentGridItem&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find((e=>e.sizeToContent)));return e||!t||this.resizeObserver?!e&&t||!this.resizeObserver||(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle):(this._sizeThrottle=f.throttle((()=>this.onResize()),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver((()=>this._sizeThrottle())),this.resizeObserver.observe(this.el),this._skipInitialResize=!0),this}static getElement(e=".grid-stack-item"){return f.getElement(e)}static getElements(e=".grid-stack-item"){return f.getElements(e)}static getGridElement(e){return x.getElement(e)}static getGridElements(e){return f.getElements(e)}_initMargin(){let e,t=0,n=[];return"string"==typeof this.opts.margin&&(n=this.opts.margin.split(" ")),2===n.length?(this.opts.marginTop=this.opts.marginBottom=n[0],this.opts.marginLeft=this.opts.marginRight=n[1]):4===n.length?(this.opts.marginTop=n[0],this.opts.marginRight=n[1],this.opts.marginBottom=n[2],this.opts.marginLeft=n[3]):(e=f.parseHeight(this.opts.margin),this.opts.marginUnit=e.unit,t=this.opts.margin=e.h),void 0===this.opts.marginTop?this.opts.marginTop=t:(e=f.parseHeight(this.opts.marginTop),this.opts.marginTop=e.h,delete this.opts.margin),void 0===this.opts.marginBottom?this.opts.marginBottom=t:(e=f.parseHeight(this.opts.marginBottom),this.opts.marginBottom=e.h,delete this.opts.margin),void 0===this.opts.marginRight?this.opts.marginRight=t:(e=f.parseHeight(this.opts.marginRight),this.opts.marginRight=e.h,delete this.opts.margin),void 0===this.opts.marginLeft?this.opts.marginLeft=t:(e=f.parseHeight(this.opts.marginLeft),this.opts.marginLeft=e.h,delete this.opts.margin),this.opts.marginUnit=e.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static getDD(){return C}static setupDragIn(e,t,n=document){void 0!==t?.pause&&(y.pauseDrag=t.pause),t={...v,...t||{}};let i="string"==typeof e?f.getElements(e,n):e;i.length&&i?.forEach((e=>{C.isDraggable(e)||C.dragIn(e,t)}))}movable(e,t){return this.opts.staticGrid||x.getElements(e).forEach((e=>{const n=e.gridstackNode;n&&(t?delete n.noMove:n.noMove=!0,this._prepareDragDropByNode(n))})),this}resizable(e,t){return this.opts.staticGrid||x.getElements(e).forEach((e=>{let n=e.gridstackNode;n&&(t?delete n.noResize:n.noResize=!0,this._prepareDragDropByNode(n))})),this}disable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!1,e),this.enableResize(!1,e),this._triggerEvent("disable"),this}enable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!0,e),this.enableResize(!0,e),this._triggerEvent("enable"),this}enableMove(e,t=!0){return this.opts.staticGrid||(e?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach((n=>{this._prepareDragDropByNode(n),n.subGrid&&t&&n.subGrid.enableMove(e,t)}))),this}enableResize(e,t=!0){return this.opts.staticGrid||(e?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach((n=>{this._prepareDragDropByNode(n),n.subGrid&&t&&n.subGrid.enableResize(e,t)}))),this}_removeDD(e){return C.draggable(e,"destroy").resizable(e,"destroy"),e.gridstackNode&&delete e.gridstackNode._initDD,delete e.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return C.droppable(this.el,"destroy"),this;let e,t,n=(n,i,r)=>{let o=i.gridstackNode;if(!o)return;if(r=r||i,!o.grid?.el){r.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;const e=r.getBoundingClientRect();r.style.left=e.x+(this.dragTransform.xScale-1)*(n.clientX-e.x)/this.dragTransform.xScale+"px",r.style.top=e.y+(this.dragTransform.yScale-1)*(n.clientY-e.y)/this.dragTransform.yScale+"px",r.style.transformOrigin="0px 0px"}let s=this.el.getBoundingClientRect(),{top:a,left:l}=r.getBoundingClientRect();l-=s.left,a-=s.top;let c={position:{top:a*this.dragTransform.xScale,left:l*this.dragTransform.yScale}};if(o._temporaryRemoved){if(o.x=Math.max(0,Math.round(l/t)),o.y=Math.max(0,Math.round(a/e)),delete o.autoPosition,this.engine.nodeBoundFix(o),!this.engine.willItFit(o)){if(o.autoPosition=!0,!this.engine.willItFit(o))return void C.off(i,"drag");o._willFitPos&&(f.copyPos(o,o._willFitPos),delete o._willFitPos)}this._onStartMoving(r,n,c,o,t,e)}else this._dragOrResize(r,n,c,o,t,e)};return C.droppable(this.el,{accept:e=>{let t=e.gridstackNode||this._readAttr(e,!1);if(t?.grid===this)return!0;if(!this.opts.acceptWidgets)return!1;let n=!0;if("function"==typeof this.opts.acceptWidgets)n=this.opts.acceptWidgets(e);else{let t=!0===this.opts.acceptWidgets?".grid-stack-item":this.opts.acceptWidgets;n=e.matches(t)}if(n&&t&&this.opts.maxRow){let e={w:t.w,h:t.h,minW:t.minW,minH:t.minH};n=this.engine.willItFit(e)}return n}}).on(this.el,"dropover",((i,r,o)=>{let s=r.gridstackNode;if(s?.grid===this&&!s._temporaryRemoved)return!1;if(s?.grid&&s.grid!==this&&!s._temporaryRemoved){s.grid._leave(r,o)}t=this.cellWidth(),e=this.getCellHeight(!0),s||(s=this._readAttr(r,!1)),s.grid||(s._isExternal=!0,r.gridstackNode=s),o=o||r;let a=s.w||Math.round(o.offsetWidth/t)||1,l=s.h||Math.round(o.offsetHeight/e)||1;return s.grid&&s.grid!==this?(r._gridstackNodeOrig||(r._gridstackNodeOrig=s),r.gridstackNode=s={...s,w:a,h:l,grid:this},delete s.x,delete s.y,this.engine.cleanupNode(s).nodeBoundFix(s),s._initDD=s._isExternal=s._temporaryRemoved=!0):(s.w=a,s.h=l,s._temporaryRemoved=!0),x._itemRemoving(s.el,!1),C.on(r,"drag",n),n(i,r,o),!1})).on(this.el,"dropout",((e,t,n)=>{let i=t.gridstackNode;return!!i&&(i.grid&&i.grid!==this||(this._leave(t,n),this._isTemp&&this.removeAsSubGrid(i)),!1)})).on(this.el,"drop",((e,t,n)=>{let i=t.gridstackNode;if(i?.grid===this&&!i._isExternal)return!1;const r=!!this.placeholder.parentElement;this.placeholder.remove();const o=r&&this.opts.animate;o&&this.setAnimation(!1);let s=t._gridstackNodeOrig;if(delete t._gridstackNodeOrig,r&&s?.grid&&s.grid!==this){let e=s.grid;e.engine.removeNodeFromLayoutCache(s),e.engine.removedNodes.push(s),e._triggerRemoveEvent()._triggerChangeEvent(),e.parentGridItem&&!e.engine.nodes.length&&e.opts.subGridDynamic&&e.removeAsSubGrid()}if(!i)return!1;if(r&&(this.engine.cleanupNode(i),i.grid=this),delete i.grid?._isTemp,C.off(t,"drag"),n!==t?(n.remove(),t.gridstackNode=s,r&&(t=t.cloneNode(!0))):(t.remove(),this._removeDD(t)),!r)return!1;t.gridstackNode=i,i.el=t;let a=i.subGrid?.el?.gridstack;return f.copyPos(i,this._readAttr(this.placeholder)),f.removePositioningStyles(t),this.el.appendChild(t),this._prepareElement(t,!0,i),a&&(a.parentGridItem=i,a.opts.styleInHead||a._updateStyles(!0)),this._updateContainerHeight(),this.engine.addedNodes.push(i),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...e,type:"dropped"},s&&s.grid?s:void 0,i),o&&this.setAnimation(this.opts.animate,!0),!1})),this}static _itemRemoving(e,t){const n=e?e.gridstackNode:void 0;n?.grid&&!e.classList.contains(n.grid.opts.removableOptions.decline)&&(t?n._isAboutToRemove=!0:delete n._isAboutToRemove,t?e.classList.add("grid-stack-item-removing"):e.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if("string"!=typeof this.opts.removable)return this;let e=document.querySelector(this.opts.removable);return e?(this.opts.staticGrid||C.isDroppable(e)||C.droppable(e,this.opts.removableOptions).on(e,"dropover",((e,t)=>x._itemRemoving(t,!0))).on(e,"dropout",((e,t)=>x._itemRemoving(t,!1))),this):this}_prepareDragDropByNode(e){let t=e.el;const n=e.noMove||this.opts.disableDrag,i=e.noResize||this.opts.disableResize;if(this.opts.staticGrid||n&&i)return e._initDD&&(this._removeDD(t),delete e._initDD),t.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!e._initDD){let n,i,r=(r,o)=>{this._gsEventHandler[r.type]&&this._gsEventHandler[r.type](r,r.target),n=this.cellWidth(),i=this.getCellHeight(!0),this._onStartMoving(t,r,o,e,n,i)},o=(r,o)=>{this._dragOrResize(t,r,o,e,n,i)},s=n=>{this.placeholder.remove(),delete e._moving,delete e._event,delete e._lastTried;const i=e.w!==e._orig.w;let r=n.target;if(r.gridstackNode&&r.gridstackNode.grid===this){if(e.el=r,e._isAboutToRemove){let i=t.gridstackNode.grid;i._gsEventHandler[n.type]&&i._gsEventHandler[n.type](n,r),i.engine.nodes.push(e),i.removeWidget(t,!0,!0)}else f.removePositioningStyles(r),e._temporaryRemoved?(f.copyPos(e,e._orig),this._writePosAttr(r,e),this.engine.addNode(e)):this._writePosAttr(r,e),this._gsEventHandler[n.type]&&this._gsEventHandler[n.type](n,r);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),"resizestop"===n.type&&(Number.isInteger(e.sizeToContent)&&(e.sizeToContent=e.h),this.resizeToContentCheck(i,e))}};C.draggable(t,{start:r,stop:s,drag:o}).resizable(t,{start:r,stop:s,resize:o}),e._initDD=!0}return C.draggable(t,n?"disable":"enable").resizable(t,i?"disable":"enable"),this}_onStartMoving(e,t,n,i,r,o){if(this.engine.cleanNodes().beginUpdate(i),this._writePosAttr(this.placeholder,i),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=i,i.grid?.el)this.dragTransform=f.getValuesFromTransformedElement(e);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){const e=this.placeholder.closest(".grid-stack");this.dragTransform=f.getValuesFromTransformedElement(e)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};if(i.el=this.placeholder,i._lastUiPosition=n.position,i._prevYPix=n.position.top,i._moving="dragstart"===t.type,delete i._lastTried,"dropover"===t.type&&i._temporaryRemoved&&(this.engine.addNode(i),i._moving=!0),this.engine.cacheRects(r,o,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),"resizestart"===t.type){const t=this.getColumn()-i.x,n=(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-i.y;C.resizable(e,"option","minWidth",r*Math.min(i.minW||1,t)).resizable(e,"option","minHeight",o*Math.min(i.minH||1,n)).resizable(e,"option","maxWidth",r*Math.min(i.maxW||Number.MAX_SAFE_INTEGER,t)).resizable(e,"option","maxWidthMoveLeft",r*Math.min(i.maxW||Number.MAX_SAFE_INTEGER,i.x+i.w)).resizable(e,"option","maxHeight",o*Math.min(i.maxH||Number.MAX_SAFE_INTEGER,n)).resizable(e,"option","maxHeightMoveUp",o*Math.min(i.maxH||Number.MAX_SAFE_INTEGER,i.y+i.h))}}_dragOrResize(e,t,n,i,r,o){let s,a={...i._orig},l=this.opts.marginLeft,c=this.opts.marginRight,u=this.opts.marginTop,d=this.opts.marginBottom,h=Math.round(.1*o),p=Math.round(.1*r);if(l=Math.min(l,p),c=Math.min(c,p),u=Math.min(u,h),d=Math.min(d,h),"drag"===t.type){if(i._temporaryRemoved)return;let t=n.position.top-i._prevYPix;i._prevYPix=n.position.top,!1!==this.opts.draggable.scroll&&f.updateScrollPosition(e,n.position,t);let s=n.position.left+(n.position.left>i._lastUiPosition.left?-c:l),h=n.position.top+(n.position.top>i._lastUiPosition.top?-d:u);a.x=Math.round(s/r),a.y=Math.round(h/o);let p=this._extraDragRow;if(this.engine.collide(i,a)){let e=this.getRow(),t=Math.max(0,a.y+i.h-e);this.opts.maxRow&&e+t>this.opts.maxRow&&(t=Math.max(0,this.opts.maxRow-e)),this._extraDragRow=t}else this._extraDragRow=0;if(this._extraDragRow!==p&&this._updateContainerHeight(),i.x===a.x&&i.y===a.y)return}else if("resize"===t.type){if(a.x<0)return;if(f.updateScrollResize(t,e,o),a.w=Math.round((n.size.width-l)/r),a.h=Math.round((n.size.height-u)/o),i.w===a.w&&i.h===a.h)return;if(i._lastTried&&i._lastTried.w===a.w&&i._lastTried.h===a.h)return;let c=n.position.left+l,d=n.position.top+u;a.x=Math.round(c/r),a.y=Math.round(d/o),s=!0}i._event=t,i._lastTried=a;let m={x:n.position.left+l,y:n.position.top+u,w:(n.size?n.size.width:i.w*r)-l-c,h:(n.size?n.size.height:i.h*o)-u-d};if(this.engine.moveNodeCheck(i,{...a,cellWidth:r,cellHeight:o,rect:m,resizing:s})){i._lastUiPosition=n.position,this.engine.cacheRects(r,o,u,c,d,l),delete i._skipDown,s&&i.subGrid&&i.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();let e=t.target;this._writePosAttr(e,i),this._gsEventHandler[t.type]&&this._gsEventHandler[t.type](t,e)}}_leave(e,t){let n=e.gridstackNode;n&&((t=t||e).style.transform="scale(1)",C.off(e,"drag"),n._temporaryRemoved||(n._temporaryRemoved=!0,this.engine.removeNode(n),n.el=n._isExternal&&t?t:e,!0===this.opts.removable&&x._itemRemoving(e,!0),e._gridstackNodeOrig?(e.gridstackNode=e._gridstackNodeOrig,delete e._gridstackNodeOrig):n._isExternal&&(delete n.el,delete e.gridstackNode,this.engine.restoreInitial())))}commit(){return function(e,t,n,i,r){let o=(...o)=>(console.warn("gridstack.js: Function `"+n+"` is deprecated in "+r+" and has been replaced with `"+i+"`. It will be **removed** in a future release"),t.apply(e,o));o.prototype=t.prototype}(this,this.batchUpdate(!1),"commit","batchUpdate","5.2"),this}}x.resizeToContentParent=".grid-stack-item-content",x.Utils=f,x.Engine=m,x.GDRev="10.3.1";const U=new o.Vy("plugin-overlay-manager");class F{constructor(e,t="closed"){var n;this.parentMainDiv=e,this.shadowRootMode=t,this.overlayRoot=document.createElement("div"),this.pluginOverlayElements=new r.E,this.overlayRootAppended=!1,this.subs=[],this.mobile=(0,c.Fr)(),this.initOverlayRoot=()=>{this.overlayRootAppended||(this.parentMainDiv.appendChild(this.overlayRoot),this.overlayRootAppended=!0,this.grid=x.init({column:16,margin:0,float:!0,animate:!1,row:16,alwaysShowResizeHandle:!0,resizable:{handles:"se, sw"},children:[{x:0,y:0,w:4,h:2,locked:!0,noMove:!0,noResize:!0}]},this.overlayRoot),this.resizeObserver=new p.A(this.resizeHandler),this.resizeObserver.observe(this.watchedElement))},this.watchedElement=null!==(n=this.parentMainDiv.getElementsByTagName("canvas")[0])&&void 0!==n?n:this.parentMainDiv,U.debug("PluginOverlayManager loaded"),this.overlayRoot.classList.add("plugin-root-element","grid-stack"),this.initOverlayListeners(),this.resizeHandler=this.handleResize.bind(this)}handleResize(e=[]){if(!e.length)return;const t=Math.floor(this.overlayRoot.clientHeight/16);this.grid.cellHeight(t),this.overlayRoot.style.width=`${this.watchedElement.clientWidth}px`}registerOverlay(e,t,n){this.pluginOverlayElements.set(e,t),n&&(this.grid?this.grid.addWidget(t):U.warn("tried to register an overlay, but gridstack not initialized yet"))}createOverlay(e,t=!1){const n=document.createElement("div");return n.classList.add("plugin-overlay"),n.classList.add(e),t&&(n.classList.add("grid-stack-item"),n.setAttribute("gs-min-w",this.mobile?"2":"1"),n.setAttribute("gs-min-h",this.mobile?"2":"1")),this.registerOverlay(e,n,t),n}replaceOrCreateOverlay(e,t){let n=this.pluginOverlayElements.get(e);if(n&&(n.remove(),this.grid?this.grid.removeWidget(n):U.warn("[replaceOrCreate] tried to remove an overlay, but gridstack not initialized yet")),n=this.createOverlay(e,t),t){const e=document.createElement("span");return e.classList.add("grid-stack-item-content"),n.appendChild(e),e}return n}createOverlayRoot(e,t){const n=this.replaceOrCreateOverlay(e,t.canPlaceInGrid);return new h(a.nT.OVERLAY,this.shadowRootMode,n)}initOverlayListeners(){U.info("init plugin UI overlay"),this.subs.push(this.pluginOverlayElements.onElementChanged({onAdded:(e,t)=>{U.debug("added plugin overlay",t),this.initOverlayRoot(),e&&this.overlayRoot.appendChild(e)},onRemoved:(e,t)=>{U.debug("removed plugin overlay",t),e&&e.remove()}}))}dispose(){var e,t;this.subs.forEach((e=>e.cancel())),this.subs=[],null===(e=this.grid)||void 0===e||e.destroy(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.overlayRootAppended=!1,this.overlayRoot.remove()}}const H=new o.Vy("plugin-embedded-manager");class G{constructor(e="closed"){this.shadowRootMode=e,this.pluginEmbeddedElements={[a.nT.TAG_OVERLAY]:{},[a.nT.TAG_PANEL]:{},[a.nT.TAG_HEADER]:{},[a.nT.OVERLAY]:{}},H.debug("PluginEmbeddedManager loaded")}getEmbeddable(e){const t=this.pluginEmbeddedElements[e];return Object.values(t).filter((e=>e.hasShadowRoot())).map((e=>e.reactNode))}createEmbeddedUi(e,t){return this.pluginEmbeddedElements[t][e]=new h(t,this.shadowRootMode)}getOrCreateEmbeddedUi(e,t,n){let i=this.pluginEmbeddedElements[t][e];return i||(i=this.createEmbeddedUi(e,t)),i.rawNode.classList.add(e),n||i.rawNode.classList.add("constrain-height"),i}createRoot(e,t,{expandOverlay:n=!1}={}){return this.getOrCreateEmbeddedUi(e,t,n)}disposeEmbeddedElements(e){Object.values(this.pluginEmbeddedElements).forEach((t=>{var n;null===(n=t[e])||void 0===n||n.clear()}))}dispose(){Object.values(this.pluginEmbeddedElements).forEach((e=>{Object.values(e).forEach((e=>e.clear()))}))}}const B=new o.Vy("plugin-ui-data");const V={"salesperson-info":"bottom-right","quick-link":"bottom-left"};class j extends i.B{constructor(e,t,n="closed"){super(),this.commandBinder=t,this.name="plugin-ui-data",this.separator="",this.visibilityData=new r.E,this.slotData=new r.E,this.pluginIdSet=new Set,this.initOverlayRoot=()=>{this.overlayManager.initOverlayRoot()},B.debug("PluginUIData loaded"),this.overlayManager=new F(e,n),this.embeddedManager=new G(n)}get overlayRoot(){return this.overlayManager.overlayRoot}get pluginOverlayElements(){return this.overlayManager.pluginOverlayElements}getEmbeddable(e){return this.embeddedManager.getEmbeddable(e)}createRoots(e,t){this.pluginIdSet.add(e);return{[a.nT.OVERLAY]:this.overlayManager.createOverlayRoot(e,t),[a.nT.TAG_PANEL]:this.embeddedManager.createRoot(e,a.nT.TAG_PANEL),[a.nT.TAG_HEADER]:this.embeddedManager.createRoot(e,a.nT.TAG_HEADER),[a.nT.TAG_OVERLAY]:this.embeddedManager.createRoot(e,a.nT.TAG_OVERLAY,{expandOverlay:!0})}}getVisibility(e){var t;return(null===(t=this.visibilityData.get(e))||void 0===t?void 0:t.visible)||!1}setVisibility(e,t){Array.isArray(e)?e.forEach((e=>this._setVisibility(e,t))):this._setVisibility(e,t)}_setVisibility(e,t,n){var i;const r=this.visibilityData.get(e);this.visibilityData.set(e,{visible:t,configPosition:n||(null==r?void 0:r.configPosition)||V[e]||"any"}),null===(i=this.pluginOverlayElements.get(e))||void 0===i||i.classList.toggle("hidden",!t),this.commandBinder.issueCommandWhenBound(new s.b(e,t))}initVisibilityData(e,t,n){this.pluginOverlayElements.set(e,t);const i=(null==n?void 0:n.config.position)||V[e]||"any";o.Vy.for(this).debugWarn(`Setting visibility for plugin ${e} with position ${i}`),this.setVisibilityWithPosition(e,!0,i)}setVisibilityWithPosition(e,t,n){this._setVisibility(e,t,n)}toggleByPosition(e=a.FT.ALL,t){this.visibilityData.forEach(((n,i)=>{var r;"none"===n.configPosition||e!==a.FT.ALL&&!(null===(r=a.bu[n.configPosition])||void 0===r?void 0:r.includes(e))||this._setVisibility(i,null!=t?t:!n.visible)}))}restoreVisibility(e){var t;const n=this.visibilityData.get(e);n?null===(t=this.pluginOverlayElements.get(e))||void 0===t||t.classList.toggle("hidden",!n.visible):B.warn(`No visibility data found for plugin ID: ${e}`)}restoreAllVisibility(e){this.visibilityData.forEach(((t,n)=>{var i;e.includes(n)?this.visibilityData.delete(n):null===(i=this.pluginOverlayElements.get(n))||void 0===i||i.classList.toggle("hidden",!t.visible)}))}setupVisibilityEvents(e){const t=async(e,t)=>{if(e.name===l.EM)this.setVisibility(t,!1);else if(e.name===l.fF){const n=e.eventData;if(n.slot&&void 0!==n.visible&&Object.values(a.nT).includes(n.slot)){let e;e="string"==typeof n.visible?"true"===n.visible:!!n.visible,this.setSlotVisibility(t,n.slot,e)}else B.warn("Invalid payload for EDIT_SDK_EVENT_KEY:",{payload:n})}};return e.onElementChanged({onAdded:t,onUpdated:t})}setSlotVisibility(e,t,n){const i=this.slotData.get(t);this.slotData.set(t,Object.assign(Object.assign({},i),{[e]:n}))}getSlotVisibility(e){return this.slotData.get(e)}disposeByKey(e){this.pluginOverlayElements.delete(e),this.embeddedManager.disposeEmbeddedElements(e),this.pluginIdSet.delete(e)}dispose(){this.pluginIdSet.forEach((e=>{this.disposeByKey(e)})),this.overlayManager.dispose(),this.embeddedManager.dispose()}}},58749:(e,t,n)=>{"use strict";var i;n.d(t,{FT:()=>i,bu:()=>r,nT:()=>o}),function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT",e.ALL="ALL"}(i||(i={}));const r={"top-right":[i.TOP,i.RIGHT],"bottom-right":[i.BOTTOM,i.RIGHT],"top-left":[i.TOP,i.LEFT],"bottom-left":[i.BOTTOM,i.LEFT],any:[i.TOP,i.BOTTOM,i.LEFT,i.RIGHT],none:[]};var o;!function(e){e.OVERLAY="overlay",e.TAG_PANEL="tag-panel",e.TAG_HEADER="tag-header",e.TAG_OVERLAY="tag-overlay"}(o||(o={}))},68570:(e,t,n)=>{"use strict";n.d(t,{EM:()=>o,U:()=>r,fF:()=>s});var i=n(58749);const r={[i.nT.OVERLAY]:!0,[i.nT.TAG_PANEL]:!1,[i.nT.TAG_HEADER]:!0,[i.nT.TAG_OVERLAY]:!0},o="_CLOSE_",s="_EDITUI_"},32948:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var i=n(12625),r=n(88325);const o=function(e){return`${e.applicationKey}.${e.id}`};class s extends i.B{constructor(){super(),this.name="plugin-runtime-data",this.plugins=(0,r.y)()}get(e){const t=o(e);return this.plugins.get(t)}set(e,t,n){const i=o(e);this.plugins.set(i,{applicationKey:e.applicationKey,module:t,id:e.id,dispose:n})}delete(e){const t=o(e);this.plugins.delete(t)}}},49953:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(12625);class r extends i.B{constructor(e=[]){super(),this.policies=e,this.name="policy-data"}hasPolicy(e){return!!this.getPolicy(e)}hasPolicyAvailability(e,t){const n=this.getPolicy(e);return!!(null==n?void 0:n.availability)&&t.includes(n.availability)}getPolicy(e){return this.policies.find((t=>t.name===e))||null}}},5013:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var i=n(98236),r=n(49953);const o=(0,i.v_)(r.L)},15732:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var i=n(74381);const r=new(n(9139).Vy)("mds-policy-deserializer");class o{deserialize(e){if(!e)return r.debug("Deserialized invalid policy data from Model API",e),null;if(!this.isPolicyEnabled(e))return null;return{name:e.name,value:e.value||void 0,options:e.options||void 0,availability:this.isPolicyFeature(e)?e.availability:void 0}}isPolicyFeature(e){return void 0!==(null==e?void 0:e.availability)}isPolicyEnabled(e){var t;switch(e.type){case"PolicyFlag":return e.enabled;case"PolicyValue":return null!==e.value;case"PolicyOptions":return((null===(t=e.options)||void 0===t?void 0:t.length)||-1)>0;case"PolicyFeature":return e.availability===i.UY.UNLOCKED||e.availability===i.UY.GATED;default:return!1}}}class s{constructor(){this.policyDeserializer=new o}deserialize(e){return e&&Array.isArray(e)?e.map((e=>this.policyDeserializer.deserialize(e))).filter((e=>!!e)):(r.debug("Deserialized invalid policies data from Model API",e),[])}}},40186:(e,t,n)=>{"use strict";n.d(t,{LT:()=>a,NW:()=>s,n3:()=>l});const i="spaces.elements",r="cloud_ui/elements_beta_access",o="elements";function s(e){return!!e.getPolicy(i)}function a(e,t){return!!t&&e.hasMembershipFlag(t,r)}function l(e,t){e.trackFeatures(`${o}:${s(t)}`)}},5243:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,t:()=>s});var i=n(68909),r=n(12625);class o extends r.B{constructor(){super(...arguments),this.name="pointer",this.hit=null,this.hits=[],this.pointerNdcPosition=new i.Vector2,this.pointerScreenPosition=new i.Vector2,this.pointerOrigin=new i.Vector3,this.pointerDirection=new i.Vector3,this.pointerRay=new i.Ray}}class s{constructor(e,t,n,i){this.point=e,this.normal=t,this.object=n,this.intersection=i,this.face={normal:t}}}},18821:(e,t,n)=>{"use strict";n.d(t,{Is:()=>s,X7:()=>o,aD:()=>a,cl:()=>l,q6:()=>r});var i=n(11165);class r extends i.u{}r.id="RequestRenderTargetCommand";class o extends i.u{constructor(e,t){super(),this.payload={renderTarget:e,context:t}}}o.id="CONTEXT2D_CAPTURE";class s extends i.u{constructor(e,t,n){super(),this.payload={renderTarget:e,sceneObject:t,camera:n}}}s.id="SCREEN_CAPTURE";class a extends i.u{constructor(e,t,n){super(),this.payload={renderTarget:e,sceneObject:t,camera:n}}}a.id="RENDER_TO_CUBEMAP";class l extends i.u{constructor(e,t,n=0){super(),this.payload={renderTarget:e,texture:t,heading:n}}}l.id="EQUIRECTANGULAR_CAPTURE"},16653:(e,t,n)=>{"use strict";n.d(t,{uz:()=>r,G8:()=>s,y:()=>o,_h:()=>a});let i=null;const r=async(e,t)=>{const r=new Uint8Array(e.width*e.height*4);e.readRenderTargetData(r);for(let e=0;e<r.length;e++){const t=r[e]/255,n=t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055;r[e]=255*n}if(!i){const e=await Promise.all([n.e(8287),n.e(7504),n.e(6780)]).then(n.bind(n,17504));i=e.createJpegEncodeWorker()}const o=r.buffer,s=await i.exec({data:o,width:e.width,height:e.height,options:{exif:t,quality:85,flipY:!0}},[o]);return new Uint8Array(s.data)},o=e=>{const t=e.buffer instanceof ArrayBuffer?e.buffer:new Uint8Array(e).buffer;return new Blob([new Uint8Array(t)],{type:"image/jpeg"})},s=e=>"data:image/jpg;base64,"+(e=>{const t=[];for(let n=0;n<e.length;n+=8192)t.push(String.fromCharCode.apply(null,e.subarray(n,n+8192)));return btoa(t.join(""))})(e),a=(e,t,n,i)=>'http://ns.adobe.com/xap/1.0/\0<?xpacket begin="" id="W5M0MpCehiHzreSzNTczkc9d"?><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:GPano="http://ns.google.com/photos/1.0/panorama/"><GPano:CroppedAreaImageHeightPixels>'+t+"</GPano:CroppedAreaImageHeightPixels><GPano:CroppedAreaImageWidthPixels>"+e+"</GPano:CroppedAreaImageWidthPixels><GPano:CroppedAreaLeftPixels>0</GPano:CroppedAreaLeftPixels><GPano:CroppedAreaTopPixels>0</GPano:CroppedAreaTopPixels><GPano:FullPanoHeightPixels>"+t+"</GPano:FullPanoHeightPixels><GPano:FullPanoWidthPixels>"+e+"</GPano:FullPanoWidthPixels><GPano:ProjectionType>equirectangular</GPano:ProjectionType><GPano:UsePanoramaViewer>True</GPano:UsePanoramaViewer><GPano:InitialViewHeadingDegrees>"+n+"</GPano:InitialViewHeadingDegrees><GPano:InitialViewPitchDegrees>"+i+'</GPano:InitialViewPitchDegrees><GPano:CaptureSoftware>Matterport Camera</GPano:CaptureSoftware><GPano:StitchingSoftware>Matterport Cloud</GPano:StitchingSoftware></rdf:Description></rdf:RDF></x:xmpmeta><?xpacket end="w"?>'},92868:(e,t,n)=>{"use strict";n.d(t,{A:()=>Ee});var i=n(9139),r=n(26184),o=n(97994);class s{constructor(e){this.afterAction=e,this.actions=[]}run(){for(const e of this.actions)e.run(),this.afterAction()}invert(){for(let e=this.actions.length-1;e>=0;e--){this.actions[e].invert(),this.afterAction()}}merge(e){if(0===this.actions.length)this.actions.push(e);else{const t=this.actions[this.actions.length-1];t&&t.merge(e)||this.actions.push(e)}return!0}logInfo(){return this.actions.map((e=>Object.assign({undo:!0},e.logInfo())))}lastAction(){return this.actions.length?this.actions[this.actions.length-1]:null}}const a=new i.Vy("undo-stack");class l{constructor(e){this.afterAction=e,this.undoBuffer=new r.C(50),this.finalized=!1,this.length=new o.L(0)}push(e){(this.undoBuffer.isEmpty()||this.finalized)&&(this.undoBuffer.push(new s(this.afterAction)),this.finalized=!1,this.length.value=this.undoBuffer.count);const t=this.undoBuffer.peek();t&&t.merge(e)}pushUndoStep(e){this.undoBuffer.isEmpty()||this.finalized||(a.warn("Adding an UndoStep when the previous step is not finalized."),this.finalize()),this.undoBuffer.push(e),this.length.value=this.undoBuffer.count}pop(){const e=this.undoBuffer.pop();return this.length.value=this.undoBuffer.count,e}peek(){const e=this.undoBuffer.peek();return this.length.value=this.undoBuffer.count,e}finalize(){this.finalized=!0}clear(){this.undoBuffer.clear(),this.length.value=this.undoBuffer.count}}var c=n(53282),u=n(30051),d=n(68909);new d.Vector2,new d.Vector2;function h(e,t,n,i){return(i||new d.Vector2).set(e.x+Math.cos(-t)*n,e.y+Math.sin(-t)*n)}function p(e,t,n){const i=[],r=n>1?t/(n-1):0,o=e-t/2;for(let e=0;e<n;e++)i.push(o+e*r);return i}var f=n(88186),m=n(25712),g=n(98720),v=n(941);class y{constructor(e,t,n,i){this.rbushBbox={minX:0,minY:0,maxX:1,maxY:1},this.overlapsCircle=(()=>{const e=new d.Vector3;return(t,n)=>{const i=this.getVec3(e).distanceTo(t);return i<=n+.3?i:null}})(),this.overlapsLine=(()=>{const e=new d.Vector3,t=new d.Vector3,n=new d.Vector3;return(i,r)=>{const o=e.subVectors(r,i),s=this.getVec3(n),a=t.subVectors(s,i),l=a.dot(o)/o.length(),c=a.length();return Math.sqrt(c*c-l*l)<.3?[{entity:this,t:l/o.length()}]:[]}})(),this.id=e,this.floorId=t,this.x=n,this.z=i}getEntityAnalytic(){return"node"}getPoint(){return{x:this.x,z:this.z}}getVec3(e){const t=e||new d.Vector3;return t.set(this.x,0,this.z),t}getVec2(e){const t=e||new d.Vector2;return t.set(this.x,this.z),t}getViewCenter(e=new d.Vector3){return this.getVec3(e)}getSnapshot(){return{x:this.x,y:-this.z}}distanceTo(e){const t=this.x-e.x,n=this.z-e.z;return Math.sqrt(t*t+n*n)}updateRBushBBox(){this.rbushBbox={minX:this.x-v.RS,minY:this.z-v.RS,maxX:this.x+v.RS,maxY:this.z+v.RS}}get minX(){return this.rbushBbox.minX}get maxX(){return this.rbushBbox.maxX}get minY(){return this.rbushBbox.minY}get maxY(){return this.rbushBbox.maxY}}var E=n(99380);class S{constructor(e,t,n,i,r,o,s,a){this.id=e,this.wall=t,this.floorId=n,this.relativePos=i,this.width=r,this.label=o,this.height=s,this.lowerElevation=a,this.getPoints=(()=>{const e=new d.Vector3,t=new d.Vector3,n=new d.Vector3,i=new d.Vector3;return(r,o,s)=>{const a=this.wall;return i.set(0,r,0),a.getBiasAdjustmentVec(n),a.from.getVec3(o).add(n).add(i),a.to.getVec3(s).add(n).add(i),t.subVectors(s,o).normalize(),e.copy(o),e.lerp(s,this.relativePos),o.copy(e).addScaledVector(t,-.5*this.width),s.copy(e).addScaledVector(t,.5*this.width),{start:o,end:s}}})(),this.getRotation=(()=>{const e=new d.Vector3,t=new d.Vector3,n=new d.Vector3,i=new d.Vector3(1,0,0);i.normalize();const r=new d.Quaternion;return()=>(this.getPoints(this.lowerElevation,e,t),n.subVectors(t,e).normalize(),r.setFromUnitVectors(i,n),r.clone())})(),this.getWidth=(()=>{const e=new d.Vector3,t=new d.Vector3;return()=>(this.getPoints(0,e,t),e.distanceTo(t))})(),this.getCenter=(()=>{const e=new d.Vector3,t=new d.Vector3;return()=>(this.getPoints(this.lowerElevation,e,t),e.add(t).multiplyScalar(.5))})()}get wallId(){return this.wall.id}getEntityAnalytic(){return(0,E.q9)(this.label)}getViewCenter(e=new d.Vector3){return e.set(0,0,0)}getSnapshot(){const{label:e,relativePos:t,width:n}=this;return{lowerElevation:0,height:0,label:e,relativePos:t,width:n}}}class b{constructor(){this.data=new Map,this.addedObservers=new Set,this.updatedObservers=new Set,this.childUpdatedObservers=new Set,this.deletedObservers=new Set}clear(){this.data.clear()}get(e){return this.data.get(e)}set(e,t){this.data.set(e,t)}delete(e){this.data.delete(e)}has(e){return this.data.has(e)}get size(){return this.data.size}onChanged(e){return(0,c.Sh)((()=>{e.onAdded&&this.addedObservers.add(e.onAdded),e.onUpdated&&this.updatedObservers.add(e.onUpdated),e.onChildUpdated&&this.childUpdatedObservers.add(e.onChildUpdated),e.onRemoved&&this.deletedObservers.add(e.onRemoved)}),(()=>{e.onAdded&&this.addedObservers.delete(e.onAdded),e.onUpdated&&this.updatedObservers.delete(e.onUpdated),e.onChildUpdated&&this.childUpdatedObservers.delete(e.onChildUpdated),e.onRemoved&&this.deletedObservers.delete(e.onRemoved)}),!0)}}var _=n(54664),O=n(35341),T=n.n(O);class A{constructor(e,t){this.data=e,this.inputs=t,this._outputCache=null}run(){this._outputCache=this.onRun(this.inputs)}invert(){if(!this._outputCache)throw new Error("Attempted to inverse a data action before running it");this.onInvert(this._outputCache,this.inputs),this._outputCache=null}merge(e){return!1}get output(){if(this._outputCache)return this._outputCache;throw new Error("Tried to read output of an action before it was run")}logInfo(){return Object.assign({name:this.name()},this.inputs)}}class w extends A{onRun(e){const t=this.data.getNode(e.nodeId),n={x:t.x,z:t.z};return this.data._updateNode(e.nodeId,e.newPos),this.data._updateDependentsForNodes(t),{prevPos:n}}onInvert(e,t){this.data._updateNode(t.nodeId,e.prevPos);const n=this.data.getNode(t.nodeId);this.data._updateDependentsForNodes(n)}merge(e){return e instanceof w&&e.inputs.nodeId===this.inputs.nodeId&&(this.inputs.newPos=e.inputs.newPos,!0)}name(){return"MoveNode"}}class N extends A{onRun(e){const t=this.data._createNode(e.from,e.floorId),n=this.data._createNode(e.to,e.floorId),i=this.data._createWall(e.type,t,n,e.width,[],.5);return{fromId:t.id,toId:n.id,wall:i.id}}onInvert(e,t){this.data._deleteWall(e.wall),this.data._deleteNode(e.fromId),this.data._deleteNode(e.toId)}merge(e){return!!(e instanceof w&&this._outputCache&&e.inputs.nodeId===this._outputCache.toId)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddFloatingEdge"}}class I extends A{onRun(e){const t=this.data.getWall(e.wallId),n=t.from.getPoint(),i=t.to.getPoint();return this.data._updateNode(t.from.id,e.newFromPos),this.data._updateNode(t.to.id,e.newToPos),this.data._updateDependentsForNodes(t.from,t.to),{prevFromPos:n,prevToPos:i}}onInvert(e,t){const n=this.data.getWall(t.wallId);this.data._updateNode(n.from.id,e.prevFromPos),this.data._updateNode(n.to.id,e.prevToPos),this.data._updateDependentsForNodes(n.from,n.to)}merge(e){return e instanceof I&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.newFromPos=e.inputs.newFromPos,this.inputs.newToPos=e.inputs.newToPos,!0)}name(){return"MoveEdge"}}class R extends A{onRun(e){const t=this.data.getNode(e.fromId),n=this.data._createNode(e.to,t.floorId),i=this.data._createWall(e.type,t,n,e.width,[],.5);return{toId:n.id,wall:i.id}}onInvert(e,t){this.data._deleteWall(e.wall),this.data._deleteNode(e.toId)}merge(e){return!!(e instanceof w&&this._outputCache&&e.inputs.nodeId===this._outputCache.toId)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddTrailingEdgeToNode"}}var k=n(47503),L=n(38523),P=n(28172),D=n(15854);function M(e,t){let n=!0;const i=(0,L.V)(e);for(let e=0,r=i.length-1;e<r;e++){const r=i[e];if(!(0,D.s)(r,t)){n=!1;break}if((0,P.v)([r,i[e+1]],t)){n=!1;break}}return n}class C extends A{run(){super.run(),this.computeRooms(),this._outputCache&&this._outputCache.updateNodeDependencies.length&&this.data._updateDependentsForNodes(...this._outputCache.updateNodeDependencies.map((e=>this.data.getNode(e))))}onInvert(e,t){throw new Error("Method not implemented.")}invert(){let e;if(!this._outputCache)throw new Error("Attempted to inverse a data action before running it");e=this.onInvert(this._outputCache,this.inputs),this._outputCache=null;for(const e of this.modificationRecord.createdRooms)this.data._deleteRoom(e.id);const t=e=>({points:e.points.map((e=>this.data.getNode(e.id))),walls:new Set(Array.from(e.walls.values()).map((e=>this.data.getWall(e.id)))),holesCW:e.holesCW.map((e=>e.map((e=>this.data.getNode(e.id))))),holes:e.holes.map((e=>new Set(Array.from(e.values()).map((e=>this.data.getWall(e.id))))))});for(const e of this.modificationRecord.updatedRooms){const{points:n,walls:i,holesCW:r,holes:o}=t(e),s=new f.pQ({id:e.id,name:e.name,points:n,walls:i,holesCW:r,holes:o,location:e.location,includeInAreaCalc:e.includeInAreaCalc,hide:e.hide,keywords:e.keywords.slice(),classifications:e.classifications.slice(),height:e.height,ceiling:e.ceiling});this.data._updateRoom(e.id,s)}for(const e of this.modificationRecord.deletedRooms){const{points:n,walls:i,holesCW:r,holes:o}=t(e);this.data._createRoom({id:e.id,name:"",points:n,walls:i,holesCW:r,holes:o,location:e.location,includeInAreaCalc:e.includeInAreaCalc,hide:e.hide,keywords:e.keywords.slice(),classifications:e.classifications.slice(),height:e.height,ceiling:e.ceiling})}if(e){const t=e.map((e=>this.data.getNode(e)));this.data._updateDependentsForNodes(...t)}}wallsForLoop(e){const t=new Set;for(let n=0;n<e.length;n++)t.add(this.data.getWallForNodes(e[n].id,e[(n+1)%e.length].id));return t}computeRooms(){var e;this.modificationRecord={createdRooms:[],updatedRooms:[],deletedRooms:[]};const{regions:t,holes:n}=this.findEnclosedRegionsAndHoles(),i=this.mapHolesToRegions(n,t),r=i.map((e=>e.map((e=>this.wallsForLoop(e))))),o=t.map((e=>new Set(this.wallsForLoop(e)))),s=new Array;for(const e of this.data.rooms.values())for(let t=0;t<o.length;t++){const n=o[t],i=Array.from(e.walls.values()).reduce(((e,t)=>n.has(t)?e+1:e),0);i>0&&s.push({score:i/Math.max(n.size,e.walls.size),newWalls:n.size-i,oldRoomId:e.id,oldRoomClassifications:e.classifications,newRoomIndex:t})}const a=new Set,l=new Array(t.length),c=new Array(t.length);s.sort(((e,t)=>{var n,i;return t.score-e.score||((null===(n=this.data.rooms.get(t.oldRoomId))||void 0===n?void 0:n.area)||0)-((null===(i=this.data.rooms.get(e.oldRoomId))||void 0===i?void 0:i.area)||0)}));for(const{oldRoomId:e,newRoomIndex:t,oldRoomClassifications:n,newWalls:i}of s)a.has(e)||l[t]||(l[t]=e,a.add(e)),!c[t]&&i<=2&&(c[t]=n);for(let e=0;e<t.length;e++)l[e]||(l[e]=(0,m.hA)());for(let n=0;n<t.length;n++){const o=l[n],s=t[n],a=new Set;for(let e=0;e<s.length;e++){const t=s[e],n=s[(e+1)%s.length],i=this.data.getWallForNodes(t.id,n.id);a.add(i)}const u=this.data.rooms.get(o);if(u){const e=new f.pQ({id:o,name:"",points:t[n],walls:a,holesCW:i[n],holes:r[n],location:u.location,includeInAreaCalc:u.includeInAreaCalc,hide:u.hide,keywords:u.keywords.slice(),classifications:u.classifications.slice(),height:u.height,ceiling:u.ceiling});(0,k.c5)(u.walls,e.walls)&&(0,k.c5)((0,k.LX)(...u.holes),(0,k.LX)(...e.holes))||(this.data._updateRoom(o,e),this.modificationRecord.updatedRooms.push(u))}else{const s=null!==(e=c[n])&&void 0!==e?e:[],l=(0,f.pO)(s,f.GZ.OUTDOOR)?f.Vc.OUTDOOR:f.Vc.INDOOR,u=!(0,f.pO)(s,f.GZ.NON_AREA),d=(0,f.pO)(s,f.GZ.HIDE),h=this.data._createRoom({id:o,name:"",points:t[n],walls:a,holesCW:i[n],holes:r[n],classifications:s.slice(),location:l,includeInAreaCalc:u,hide:d,keywords:[],height:NaN,ceiling:null});this.modificationRecord.createdRooms.push(h)}}const u=new Set(l);for(const e of this.data.rooms.values())u.has(e.id)||(this.data._deleteRoom(e.id),this.modificationRecord.deletedRooms.push(e))}findEnclosedRegionsAndHoles(){const e=new Array,t=new Array,n=new Set,i=new Set,r=(r,o)=>{const s=`${r.id}/${o.id}`,a=this.data.traceWallsFromTo(r,o),l=e=>{if(e.has(s))return!0;for(let t=0;t<a.length;t++){const n=a[t],i=a[(t+1)%a.length],r=`${n.id}/${i.id}`;e.add(r)}return!1},c=(0,E.eW)(a,!0);c>=.01?l(n)||e.push((0,E.N5)(a)):c<=-.01&&(l(i)||t.push((0,E.N5)(a).reverse()))};for(const e of this.data.walls.values())r(e.from,e.to),r(e.to,e.from);return{regions:e,holes:t}}mapHolesToRegions(e,t){const n=t.map((e=>[])),i=t.map((e=>(0,E.eW)(e))),r=t.map((e=>e.map((e=>[e.x,e.z]))));for(const o of e){const e=(0,E.eW)(o);let s=9999999,a=-1;const l=o.map((e=>[e.x,e.z]));for(let n=0;n<t.length;n++){const c=i[n];e>=c||o[0].floorId!==t[n][0].floorId||M(l,r[n])&&c<s&&(s=c,a=n)}a>=0&&n[a].push(o)}return n}}function x(e,t){const n=e.getWall(t.wallId).clone(),i=e.getEdgeCountForNode(n.from),r=e.getEdgeCountForNode(n.to);e._deleteWall(t.wallId);let o="none";1===i&&1===r?(o="both",e._deleteNode(n.from.id),e._deleteNode(n.to.id)):1===i?(o="from",e._deleteNode(n.from.id)):1===r?(o="to",e._deleteNode(n.to.id)):o="none";const s=[];switch(o){case"from":s.push(n.to.id);break;case"to":s.push(n.from.id);break;case"none":s.push(n.from.id,n.to.id)}return{deletedWall:n,deletedNodes:o,updateNodeDependencies:s}}function U(e,t){const n=t.deletedWall;let i,r;switch(t.deletedNodes){case"both":i=e._createNode({x:n.from.x,z:n.from.z},n.floorId,n.from.id),r=e._createNode({x:n.to.x,z:n.to.z},n.floorId,n.to.id),e._createWall(n.type,i,r,n.width,n.openings,n.bias,n.id);break;case"none":e._createWall(n.type,n.from,n.to,n.width,n.openings,n.bias,n.id);break;case"from":i=e._createNode({x:n.from.x,z:n.from.z},n.floorId,n.from.id),e._createWall(n.type,i,n.to,n.width,n.openings,n.bias,n.id);break;case"to":r=e._createNode({x:n.to.x,z:n.to.z},n.floorId,n.to.id),e._createWall(n.type,n.from,r,n.width,n.openings,n.bias,n.id);break;default:throw new Error(`${t.deletedNodes} is an invalid value`)}switch(t.deletedNodes){case"from":return[n.to.id];case"to":return[n.from.id];case"none":return[n.from.id,n.to.id];case"both":return[]}}class F extends C{onRun(e){return x(this.data,e)}onInvert(e,t){return U(this.data,e)}name(){return"DeleteEdge"}}function H(e,t,n){if(0===e.openings.length)return;const i=new d.Line3(e.from.getVec3(),e.to.getVec3()),r=t.map((e=>({wall:e,line:new d.Line3(e.from.getVec3(),e.to.getVec3())}))),o=(e,t)=>{const n=e.closestPointToPointParameter(t,!1);if(!(n<0||n>1))return n};for(const t of e.openings){const{label:e,width:s,relativePos:a,id:l,height:c,lowerElevation:u}=t,h=i.at(a,new d.Vector3);for(const{wall:t,line:i}of r){const r=o(i,h);if(void 0!==r){n._createWallOpening(t,e,r,s,{id:l,height:c,lowerElevation:u});break}}}}function G(e,t){return t._createWall(e.type,e.from,e.to,e.width,e.openings,e.bias,e.id)}class B extends C{onRun(e){const t=this.data.getWall(e.fromWallId).clone(),n=t.getDirection().normalize().multiplyScalar(e.along),i=t.from.getVec3().add(n);this.data._deleteWall(e.fromWallId);const r=this.data._createNode({x:i.x,z:i.z},t.floorId),o=this.data._createNode(e.to,t.floorId),s=this.data._createWall(e.type,r,o,e.width,[],.5),a=this.data._createWall(t.type,t.from,r,t.width,[],t.bias),l=this.data._createWall(t.type,r,t.to,t.width,[],t.bias);return H(t,[a,l],this.data),{deletedWall:t,newTrailingWall:s,newLeftWall:a,newRightWall:l,newNodeToId:o.id,updateNodeDependencies:[]}}onInvert(e,t){const{deletedWall:n,newTrailingWall:i,newLeftWall:r,newRightWall:o}=e;return this.data._deleteWall(i.id),this.data._deleteWall(r.id),this.data._deleteWall(o.id),this.data._deleteNode(i.from.id),this.data._deleteNode(i.to.id),G(n,this.data),[]}merge(e){return!!(e instanceof w&&this._outputCache&&e.inputs.nodeId===this._outputCache.newTrailingWall.to.id)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddTrailingEdgeToEdge"}}class V extends A{onRun({wallId:e,props:t}){const n=this.data.getWall(e),i={};for(const e of Object.keys(t))i[e]=n[e];return this.data._setEdgeProps(e,t),{wallId:e,props:i}}onInvert({wallId:e,props:t},n){this.data._setEdgeProps(e,t)}merge(e){return e instanceof V&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.props.width=e.inputs.props.width,this.inputs.props.bias=e.inputs.props.bias,!0)}name(){return"SetEdgeProps"}}class j extends C{onRun(e){const t=this.data.getWall(e.wallId),n=[],i=[],r=[],o={originalFromPos:t.from.getPoint(),originalToPos:t.to.getPoint(),deletedWalls:i,createdWalls:n,originalWallId:e.wallId,createdNodes:r,updateNodeDependencies:[]};return e.fromNode&&this.createJoint(t.from,t,i,n,r),e.toNode&&this.createJoint(t.to,t,i,n,r),o}onInvert(e,t){for(const t of e.createdWalls)this.data._deleteWall(t.id);for(const t of e.deletedWalls)G(t,this.data);for(const t of e.createdNodes)this.data._deleteNode(t.id);const n=this.data.getWall(this.inputs.wallId);return this.data._updateNode(n.from.id,e.originalFromPos),this.data._updateNode(n.to.id,e.originalToPos),[n.from.id,n.to.id]}merge(e){return e instanceof I&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.fromPos=e.inputs.newFromPos,this.inputs.toPos=e.inputs.newToPos,!0)}createJoint(e,t,n,i,r){const o=this.data._createNode({x:e.x,z:e.z},e.floorId),s=this.data.getWallsForNode(e);for(const r of s){const s=r.clone();if(s.id!==t.id){const t=s.getOtherNode(e);n.push(s),this.data._deleteWall(s.id);const r=s.from===t?this.data._createWall(s.type,t,o,s.width,[],s.bias):this.data._createWall(s.type,o,t,s.width,[],s.bias);H(s,[r],this.data),i.push(r)}}r.push(o);const a=t.from===e?this.data._createWall(t.type,o,t.from,t.width,[],t.bias):this.data._createWall(t.type,t.to,o,t.width,[],t.bias);i.push(a)}name(){return"AddJointToNode"}}class W extends C{onRun(e){const t=this.data.getNode(e.nodeId),n=Array.from(this.data.getWallsForNode(t).values());if(2!==n.length)throw new Error("Can only delete nodes with two edges on it");const i=n[0].clone(),r=i.getOtherNode(t),o=n[1].clone(),s=o.getOtherNode(t);this.data._deleteWall(i.id),this.data._deleteWall(o.id),this.data._deleteNode(t.id);const a=this.data.newWallWouldIntersect({n0:r,n1:s})?null:this.data._createWall(i.type,r,s,(i.width+o.width)/2,[],(i.bias+o.bias)/2);return a&&(H(i,[a],this.data),H(o,[a],this.data)),{deletedNode:t,deletedWall1:i,deletedWall2:o,createdWall:a,updateNodeDependencies:[]}}onInvert(e,t){const{createdWall:n,deletedNode:i,deletedWall1:r,deletedWall2:o}=e;n&&this.data._deleteWall(n.id),this.data._createNode(i.getPoint(),i.floorId,i.id);for(const e of[r,o])G(e,this.data);return[]}name(){return"DeleteNode"}}class z extends C{onRun(e){const t=this.data.getNode(e.fromId),n=this.data.getNode(e.toId);return{wall:this.data._createWall(e.type,t,n,e.width,[],.5).id,updateNodeDependencies:[]}}onInvert(e,t){return this.data._deleteWall(e.wall),[]}name(){return"AddBridgingEdge"}}class $ extends A{onRun(e){const{id:t}=e,n=this.data.getOpening(t),{label:i,relativePos:r,width:o,lowerElevation:s,height:a}=n;return this.data._setOpeningDetails(t,e),null==e.relativePos&&null==e.width&&null==e.label||this.data._updateDependentsForNodes(n.wall.from,n.wall.to),{id:t,label:i,relativePos:r,width:o,lowerElevation:s,height:a}}onInvert(e,t){const{id:n}=e;this.data._setOpeningDetails(n,e);const i=this.data.getOpening(n);this.data._updateDependentsForNodes(i.wall.from,i.wall.to)}merge(e){return e instanceof $&&e.inputs.id===this.inputs.id&&(this.inputs=e.inputs,!0)}name(){return"EditOpeningDetails"}}class K extends A{onRun(e){const{openingId:t}=e,n=this.data.getOpening(t);return this.data._deleteWallOpening(t),this.data._updateDependentsForNodes(n.wall.from,n.wall.to),{deletedOpening:n}}onInvert(e,t){const{id:n,wallId:i,label:r,relativePos:o,width:s,height:a,lowerElevation:l}=e.deletedOpening,c=this.data.getWall(i);this.data._createWallOpening(c,r,o,s,{id:n,height:a,lowerElevation:l}),this.data._updateDependentsForNodes(c.from,c.to)}name(){return"DeleteWallOpening"}}class Y extends A{onRun(e){const{wallId:t,label:n,relativePos:i,width:r,lowerElevation:o,height:s}=e,a=this.data.getWall(t),l=this.data._createWallOpening(a,n,i,r,{height:s,lowerElevation:o});return this.data._updateDependentsForNodes(a.from,a.to),{openingId:l.id}}onInvert(e,t){const{openingId:n}=e,i=this.data.getOpening(n);this.data._deleteWallOpening(n),this.data._updateDependentsForNodes(i.wall.from,i.wall.to)}name(){return"AddOpeningAction"}}function q(e,t,n,i){const r=t.getOtherNode(n);return r!==i&&!e.hasWallBetween(r,i)}function Q(e,t){const n=[],i=[],r=[],o=[],s=new Set;for(const a of t){const t=[],{mergeId:l,keepId:c}=a;s.add(c);const u=e.getNode(l),d=e.getNode(c),h=e.getWallsForNode(d),p=d.getPoint();i.push(u),r.push(c),o.push(p),e._updateNode(d.id,u.getPoint());const f=e.getWallsForNode(u);for(const n of f){const i=n.clone(),r=n.getOtherNode(u),o=n.width;e._deleteWall(n.id);let s=null;q(e,n,u,d)&&(e.hasWallBetween(r,d)||(s=e._createWall(n.type,r,d,o,[],n.bias),H(i,[s],e),h.add(s))),t.push({deleted:i,created:s}),h.delete(n)}e._deleteNode(u.id),0===h.size&&(e._deleteNode(d.id),i.push(d)),n.push(t)}return{deletedNodes:i,wallDiffs:n,oldKeepNodeIds:r,oldKeepNodePositions:o,updateNodeDependencies:s}}function X(e,t){const n=[];for(let i=t.deletedNodes.length-1;i>=0;i--){const r=t.deletedNodes[i],o=t.wallDiffs[i],s=e._createNode(r.getPoint(),r.floorId,r.id);n.push(s.id);for(const t of o){t.created&&e._deleteWall(t.created.id);let n=s,i=t.deleted.getOtherNode(r);if(s.id!==t.deleted.from.id){const e=n;n=i,i=e}e._createWall(t.deleted.type,n,i,t.deleted.width,t.deleted.openings,t.deleted.bias,t.deleted.id)}e._updateNode(t.oldKeepNodeIds[i],t.oldKeepNodePositions[i])}return t.oldKeepNodeIds}function J(e,t){const n=[],i=new Set;for(const r of t){const t=e.getNode(r),o=e.getAttachedEntities(t),s=e.findNodeOrWallForPosition(t.getVec3(),t.floorId,o);if(s&&s instanceof g.j){const o=s.getProjection(t.getVec3()),a=s.clone(),l={x:t.x,z:t.z},c=a.getDirection().normalize().multiplyScalar(o),u=a.from.getVec3().add(c);e._deleteWall(a.id),e._updateNode(r,{x:u.x,z:u.z});const d=e.hasWallBetween(a.from,t)?null:e._createWall(a.type,a.from,t,a.width,[],a.bias),h=e.hasWallBetween(t,a.to)?null:e._createWall(a.type,t,a.to,a.width,[],a.bias);H(a,[d,h].filter((e=>!!e)),e),n.push({deletedWall:a,newLeftWall:d,newRightWall:h,prevNodePos:l,nodeId:t.id}),i.add(t.id)}}return{splitDiffs:n,updateNodeDependencies:i}}function Z(e,t){for(let n=t.splitDiffs.length-1;n>=0;n--){const{newLeftWall:i,newRightWall:r,deletedWall:o,prevNodePos:s,nodeId:a}=t.splitDiffs[n];i&&e._deleteWall(i.id),r&&e._deleteWall(r.id),e._updateNode(a,s),G(o,e)}return t.splitDiffs.map((e=>e.nodeId))}function ee(e,t){const n=[],i=function(e){const t=[];for(const n of e){if(2!==n.length)throw new Error("Can only merge co-linear overlaps");if(0===t.length){t.push(n);continue}const e=t[t.length-1],i=e[1];if(n[0].t<i.t+.001){const r=n[1];r.t>=i.t&&(t[t.length-1]=[e[0],r])}else t.push(n)}return t}(t);if(i[0][0].t>0){const t=i[0][0].entity;n.push([e.from,t])}for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],o=t[1].entity,s=r[0].entity;n.push([o,s])}if(i[i.length-1][1].t<1){const t=i[i.length-1][1].entity;n.push([t,e.to])}return n}class te extends C{onRun(e){return ie(e,this.data)}onInvert(e,t){return re(e,this.data)}name(){return"MergeOverlappingEntities"}}class ne extends C{onRun(e){const t={},n=[];for(const e of this.data.getFloorsWithNodes()){const i=this.data.getNodesByFloor(e);if(i.size>0){const r=Array.from(i.values())[0],o=this.data.findOverlappingEntities(r);if(o){const i=ie({movedEntity:r,nodeOverlaps:o.nodeOverlaps,nodeWallOverlaps:o.nodeWallOverlaps,collinearWall:o.collinearWall,intersectingWall:o.intersectingWall},this.data);t[e]=i,n.push(...i.updateNodeDependencies)}}}return{overlapsByFloor:t,updateNodeDependencies:n}}onInvert(e,t){const n=[];for(const t in e.overlapsByFloor){const i=re(e.overlapsByFloor[t],this.data);n.push(...i)}return n}name(){return"ValidateGraphAndComputeRooms"}}function ie(e,t){const n=function(e,t,n){const i=[],r=new Set;let o=t,s=0;for(;(o.nodeOverlaps.length>0||o.nodeWallOverlaps.length>0)&&s<10;){const t=Q(e,o.nodeOverlaps);for(const e of t.updateNodeDependencies)r.add(e);const a=J(e,o.nodeWallOverlaps);for(const e of a.updateNodeDependencies)r.add(e);i.push({nodeMergeInvertInfo:t,nodeWallInvertInfo:a}),o=e.findOverlappingNodePairs(n),s++}for(const e of i){const t=e.nodeMergeInvertInfo.deletedNodes;for(const e of t)r.delete(e.id)}return{nodeMergeBatches:i,updateNodeDependencies:Array.from(r)}}(t,{nodeOverlaps:e.nodeOverlaps,nodeWallOverlaps:e.nodeWallOverlaps},e.movedEntity);let i=[];e.collinearWall&&(i=function(e,t){const n=[];let i=e.findWallWithWorstOverlaps(t,"colinear"),r=0;for(;null!=i&&r<10;){const o=i.wall;e._deleteWall(o.id);const s=ee(i.wall,i.overlaps).filter((t=>!e.hasWallBetween(t[0],t[1]))).map((t=>e._createWall(o.type,t[0],t[1],o.width,[],o.bias)));n.push({deletedWall:o,createdWalls:s}),i=e.findWallWithWorstOverlaps(t,"colinear"),r++}return n}(t,e.collinearWall.floorId));let r=[];return e.intersectingWall&&(r=function(e,t){const n=[];let i=e.findWallWithWorstOverlaps(t,"intersection"),r=0;for(;null!=i&&r<10;){const o=[],s=[],a=[],l=i.wall.clone();if(o.push(l),e._deleteWall(i.wall.id),null!=i){let r=i.wall.from;const c=i.wall.getDirection();for(const n of i.overlaps){if(1!==n.length)throw new Error("possible bug in RoomBoundData.findWallWithWorstOverlaps, it should only return walls intersecting at ONE point");const u=n[0],d=u.entity.clone();o.push(d),e._deleteWall(u.entity.id);const h=i.wall.from.getVec3().addScaledVector(c,n[0].t),p=n[0].entity,f=e._createNode(h,t);s.push(f);const m=e._createWall(i.wall.type,r,f,i.wall.width,[],i.wall.bias);r=f,a.push(m),H(l,[m],e);const g=e._createWall(p.type,p.from,f,p.width,[],p.bias);a.push(g);const v=e._createWall(p.type,p.to,f,p.width,[],p.bias);a.push(v),H(d,[g,v],e)}const u=e._createWall(i.wall.type,r,i.wall.to,i.wall.width,[],i.wall.bias);a.push(u),H(l,[u],e),n.push({createdWalls:a,createdNodes:s,deletedWalls:o})}i=e.findWallWithWorstOverlaps(t,"intersection"),r++}return n}(t,e.intersectingWall.floorId)),{nodeOverlapInvertInfo:n,intersectionSplitInvertInfo:r,collinearOverlapInvertInfo:i,updateNodeDependencies:n.updateNodeDependencies}}function re(e,t){!function(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];for(const t of i.createdWalls)e._deleteWall(t.id);for(const t of i.createdNodes)e._deleteNode(t.id);for(const t of i.deletedWalls)G(t,e)}}(t,e.intersectionSplitInvertInfo),function(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n],r=i.deletedWall;i.createdWalls.forEach((t=>e._deleteWall(t.id))),G(r,e)}}(t,e.collinearOverlapInvertInfo);const n=function(e,t){const n=[];for(let i=t.nodeMergeBatches.length-1;i>=0;i--){const{nodeMergeInvertInfo:r,nodeWallInvertInfo:o}=t.nodeMergeBatches[i],s=Z(e,o),a=X(e,r);n.push(...s,...a)}return n}(t,e.nodeOverlapInvertInfo);return n}var oe=n(74634),se=n(74381);class ae extends A{onRun({roomId:e,name:t,roomTypeIds:n,location:i,includeInAreaCalc:r,hide:o,keywords:s,showDimensions:a,showHeight:l}){const c=this.data.getRoom(e),u={roomId:e,name:c.name,roomTypeIds:c.roomTypeIds.slice(),includeInAreaCalc:c.includeInAreaCalc,hide:c.hide,keywords:c.keywords.slice(),showDimensions:c.showDimensions,showHeight:c.showHeight};return this.data._updateRoomDetails(e,{name:t,roomTypeIds:n,location:i,includeInAreaCalc:r,hide:o,keywords:s,showDimensions:a,showHeight:l}),u}onInvert({roomId:e,name:t,roomTypeIds:n,location:i,includeInAreaCalc:r,hide:o,showDimensions:s,showHeight:a},l){this.data._updateRoomDetails(e,{name:t,roomTypeIds:n,location:i,includeInAreaCalc:r,hide:o,showDimensions:s,showHeight:a})}name(){return"SetRoomDetails"}}var le=n(11579),ce=n(35336);class ue extends C{onRun({roomId:e}){const t={deletedEdges:[],updateNodeDependencies:[]},n=this.data.getRoom(e);for(const e of n.walls){if(1===Array.from(this.data.getRoomsForWall(e)).filter((t=>t.walls.has(e))).length){const n=x(this.data,{wallId:e.id});t.deletedEdges.push(n),t.updateNodeDependencies.push(...n.updateNodeDependencies)}}for(const e of t.deletedEdges){const n=[];switch(e.deletedNodes){case"from":n.push(e.deletedWall.from.id);break;case"to":n.push(e.deletedWall.to.id);break;case"both":n.push(e.deletedWall.from.id,e.deletedWall.to.id)}t.updateNodeDependencies=t.updateNodeDependencies.filter((e=>-1===n.indexOf(e)))}return t}onInvert(e,t){let n=[];for(const t of e.deletedEdges.reverse())n=n.concat(U(this.data,t));return n}name(){return"DeleteRoom"}}var de=n(93818),he=n(23339),pe=n(60356);const fe=new Set,me=new d.Vector3,ge=new d.Vector3,ve=new d.Vector2;var ye;!function(e){e[e.CREATE=0]="CREATE",e[e.UPDATE=1]="UPDATE",e[e.DELETE=2]="DELETE"}(ye||(ye={}));class Ee{constructor(e,t={},n=()=>{},r=new pe.w){this.roomClassifications=t,this.broadcast=n,this.fallbacks=r,this.name="wall-graph",this.version=0,this.legacyRoomIds=[],this.raycast=null,this.calcCeilings=null,this.onActionError=e=>{this.logger.error(e)},this._nodes=new b,this._walls=new b,this._rooms=new b,this._wallOpenings=new b,this.undoBuffer=new l(this.commit.bind(this)),this._nodeToWallMap=new Map,this._nodesByFloor=new Map,this._wallToRoomMap=new Map,this._wallsByFloor=new Map,this._wallsByCompositeKey=new Map,this._roomsByFloor=new Map,this._observerQueue=[],this._deleteSet=new Set,this._anythingChangeObservers=new Set,this._afterFinalizeObservers=new Set,this.logger=new i.Vy("wall-graph"),this.isLoading=!1,this.spatialIndex=new Map,this.actionList=[],this._roomsNeedingCeilingCalc=new Set,this._inFlightRoomCeilingsCalc=new Set,this.getRelativeAngle=(()=>{const e=new d.Vector2,t=new d.Vector2,n=new d.Vector2,i=(t,n)=>{if(0===t.lengthSq()){const i=this.getNodeNeighbors(n);if(0===i.size)return;const r=Array.from(i.values())[0];t.set(r.x,r.z).sub(e)}};return(r,o,s)=>{if(o===s)return 2*Math.PI;e.set(r.x,r.z),t.set(o.x,o.z).sub(e),i(t,o),n.set(s.x,s.z).sub(e),i(n,s);const a=Math.atan2(t.y,t.x);let l=-(Math.atan2(n.y,n.x)-a);return l<0&&(l+=2*Math.PI),l}})(),this.newWallWouldIntersect=(()=>{const e=new d.Vector2,t=new d.Vector2,n=new d.Vector2,i=new d.Vector2,r=new d.Vector2,o=new d.Vector2,s=new d.Vector2,a=new d.Vector2;return({n0:l,n1:c,n0OverridePos:u,n1OverridePos:d,wallToIgnore:h})=>{if(this.hasWallBetween(l,c)){if(!h)return!0;if(this.getWallForNodes(l.id,c.id)!==h)return!0}const p=e=>Math.round(1e3*e)/1e3,f=(e,t)=>{e===l&&u?t.copy(u):e===c&&d?t.copy(d):e.getVec2(t)};if(f(l,e),f(c,t),n.subVectors(e,t).length()<1e-4)return!1;const m=[[p(e.x),p(e.y)],[p(t.x),p(t.y)]],g=[[0,0],[0,0]];for(const e of this._walls.data.values()){if(l.floorId!==e.floorId||e===h)continue;if(f(e.from,i),f(e.to,r),n.subVectors(i,r).length()<1e-4)continue;if(g[0][0]=p(i.x),g[0][1]=p(i.y),g[1][0]=p(r.x),g[1][1]=p(r.y),(0,E.vo)(m,g))return!0;const t=e.to===l||e.from===l?l:e.to===c||e.from===c?c:void 0;if(t){const n=e.getOtherNode(t),i=t===l?c:l;f(t,o),f(n,s),f(i,a),s.sub(o),a.sub(o);const r=Math.atan2(s.y,s.x);let u=-(Math.atan2(a.y,a.x)-r);u<0&&(u+=2*Math.PI);const d=u,h=2*Math.PI/180;if(d<h||d>2*Math.PI-h)return!0}}return!1}})(),this._updateDependentsForNodes=(()=>{const e=new Set,t=new Set;return(...n)=>{e.clear(),t.clear();const i=n=>{if(!e.has(n)){this.removeFromSpatialIndex(n),this.insertIntoSpatialIndex(n),this._scheduleUpdate(this._walls,n,!0);const i=this._wallToRoomMap.get(n);if(i)for(const e of i.values())t.has(e)||(this._scheduleUpdate(this._rooms,e,!0),e.pointsMoved(),t.add(e));for(const e of n.openings)this._scheduleUpdate(this._wallOpenings,e,!0);e.add(n)}};for(const e of n){const t=this._nodeToWallMap.get(e);if(null!=t)for(const n of t){i(n);const t=n.getOtherNode(e),r=this._nodeToWallMap.get(t);if(null!=r)for(const e of r)i(e)}}for(const e of t)this.calculateRoomInsights(e)}})(),e&&(this.version=e.version,this.load(e))}load(e){var t,n;this.isLoading=!0;for(const e of Array.from(this.rooms.values()))this._deleteRoom(e.id);for(const e of Array.from(this.walls.values()))this._deleteWall(e.id);for(const e of Array.from(this.nodes.values()))this._deleteNode(e.id);for(const[e,t]of this.spatialIndex)t.clear();this.commit();for(const i in e.floors){const r=e.floors[i],o=r.vertices,s=new(T());this.spatialIndex.set(i,s);const a=[];for(const e in o){const t=o[e],n=this._createNode({x:t.x,z:-t.y},i,e);n.updateRBushBBox(),a.push(n)}s.load(a);const l=[];for(const e in r.edges){const i=r.edges[e],[o,s]=null!==(t=i.vertices)&&void 0!==t?t:e.split(":"),a=i.thickness,c=this.getNode(o),u=this.getNode(s),d=i.type===se.gP.INVISIBLE,h=this._createWall(d?g.b.DIVIDER:g.b.SOLID,c,u,d?v.VG:a,[],null!==(n=i.bias)&&void 0!==n?n:.5,e);if(h.bias=1-h.bias,h.updateRBushBBox(),l.push(h),!d)for(const e in i.openings){const{relativePos:t,label:n,width:r,height:o}=i.openings[e],s=i.openings[e].lowerElevation||NaN;this._createWallOpening(h,n,t,r,{id:e,height:o,lowerElevation:s})}}if(s.load(l),r.rooms)for(const e in r.rooms){const t=r.rooms[e],n=t.edges||[],i=t.holes||[];if(!n.length&&t.vertices)for(let e=0;e<t.vertices.length;e++){const i=t.vertices[e],r=t.vertices[(e+1)%t.vertices.length];n.push(this.getWallForNodes(i,r).id)}if(0===n.length){this.legacyRoomIds.push(e),this.logger.info("Skipping room with zero vertices",e);continue}const o=this.getWall(n[0]),s=new Set(n.map((e=>this.getWall(e)))),a=this.traceWallsFromTo(o.from,o.to,s),l=this.traceWallsFromTo(o.to,o.from,s),c=a.length>l.length?a:l;if(0===c.length){this.logger.warn("No node loop found for room: ",e);continue}(0,E.N5)(c);const u=new Set;for(const e of s)u.add(e.from),u.add(e.to);(0,k.c5)(new Set(c),u)||this.logger.warn("Traced room does not match edge list!",e,c,u);const d=[],h=[];for(const e of i){if(0===e.length)continue;const t=new Set(e.map((e=>this.getWall(e))));h.push(t);const n=this.getWall(e[0]),i=this.traceWallsFromTo(n.from,n.to,t);(0,E.N5)(i).reverse(),d.push(i)}const{location:p,includeInAreaCalc:m,hide:g,keywords:v}=(0,f.rO)(t.keywords||[]),y=this._createRoom({id:e,name:t.label||"",points:c,walls:s,holesCW:d,holes:h,classifications:this.translateClassificationLabels(t.classifications),location:p,includeInAreaCalc:m,hide:g,keywords:v,height:t.height||NaN,ceiling:t.ceiling||null}),S=null!=t.width&&0===t.width;null!=t.length&&0===t.length&&S&&(y.showDimensions=!1),y.showHeight=null===t.height||0!==t.height,t.width&&!Number.isNaN(t.width)&&Math.abs(t.width-y.width)>.001&&this.logger.debug(`Room ${e} has width of ${t.width} on MDS but calculated as ${y.width} locally`),t.length&&!Number.isNaN(t.length)&&Math.abs(t.length-y.length)>.001&&this.logger.debug(`Room ${e} has length of ${t.length} on MDS but calculated as ${y.length} locally`),t.area&&!Number.isNaN(t.area)&&Math.abs(t.area-y.area)>=.01&&this.logger.debug(`Room ${e} has area of ${t.area} on MDS but calculated as ${y.area} locally`)}}this.computeLowerElevationForOpenings(!1),this.lastSolidWallWidth=void 0,this.isLoading=!1}get walls(){return this._walls.data}get nodes(){return this._nodes.data}get rooms(){return this._rooms.data}get wallOpenings(){return this._wallOpenings.data}getNode(e){const t=this._nodes.get(e);if(t)return t;this.logAndThrow(new Error("WallNode does not exist in WallGraphData"))}getWall(e){const t=this._walls.get(e);if(t)return t;this.logAndThrow(new Error("Wall does not exist in WallGraphData"))}hasRoom(e){return!!this._rooms.get(e)}hasRooms(){return this._rooms.size>0}getRoom(e){const t=this._rooms.get(e);return t||this.logAndThrow(new Error("Room id is invalid!")),t}tryGetRoom(e){return this._rooms.get(e)}castRay(e,t,n,i){h(e,t,i,ve),me.set(e.x,0,e.y),ge.set(ve.x,0,ve.y);const r=this.findNodeAndWallsOverlappingLine(me,ge,n,(e=>e instanceof g.j)),o=[];for(const t of r)for(const n of t)if(n.entity instanceof g.j){const t=(new d.Vector2).lerpVectors(e,ve,n.t),i=t.distanceTo(e);o.push({entity:n.entity,t:n.t,distance:i,point:t})}return o.sort(((e,t)=>e.distance-t.distance)),o}castRayFan(e,t,n,i,r=Math.PI/6,o=11){const s=[],a=p(t,r,o);for(const t of a){const r=this.castRay(e,t,n,i);r.length>0&&s.push(r[0])}return s}_findBestAngleForSweep(e,t,n,i){var r;const o={angle:0,wallHitCount:0,averageDistance:0,minDistance:0,maxDistance:0},s=2*Math.PI/i.angleSteps;for(let a=0;a<i.angleSteps;a++){const l=a*s,c=this.castRayFan(e.position,l,n,i.maxRayDistance,i.spanAngle),u=new Set;let d=0,h=0,p=Number.MAX_VALUE,f=0;for(const e of c)if(t.includes(e.entity.id)){u.add(e.entity.id);const t=null!==(r=e.distance)&&void 0!==r?r:0;d+=t,h++,p=Math.min(p,t),f=Math.max(f,t)}const m=u.size,g=h>0?d/h:0;0===h&&(p=Number.MAX_SAFE_INTEGER,f=0,this.logger.warn(`No wall hits for sweep ${e.id} at angle ${(180*l/Math.PI).toFixed(1)}`));const v={angle:l,wallHitCount:m,averageDistance:g,minDistance:p,maxDistance:f};i.resultIsBetter(v,o)&&Object.assign(o,v)}return this.logger.debug(`Sweep ${e.idx||e.id} best @ ${(180*o.angle/Math.PI).toFixed(1)} - 2D cast from (${e.position.x.toFixed(2)}, ${e.position.y.toFixed(2)}) across ${o.averageDistance.toFixed(2)} units to (${(e.position.x+Math.cos(o.angle)*o.averageDistance).toFixed(2)}, ${(e.position.y+Math.sin(o.angle)*o.averageDistance).toFixed(2)}) - ${o.wallHitCount} hits`),o}static _defaultViewComparisonFunction(e,t){return e.averageDistance>t.averageDistance||Math.abs(e.averageDistance-t.averageDistance)<.001&&e.wallHitCount>t.wallHitCount}getBestView(e,t={}){var n,i,r,o,s,a;const l={angleSteps:null!==(n=t.angleSteps)&&void 0!==n?n:36,maxRayDistance:null!==(i=t.maxRayDistance)&&void 0!==i?i:1e3,calculateVisibleArea:null!==(r=t.calculateVisibleArea)&&void 0!==r&&r,sweepFilter:null!==(o=t.sweepFilter)&&void 0!==o?o:e=>!0,resultIsBetter:null!==(s=t.resultIsBetter)&&void 0!==s?s:Ee._defaultViewComparisonFunction,spanAngle:null!==(a=t.spanAngle)&&void 0!==a?a:Math.PI/6};l.angleSteps<1&&this.logAndThrow(new Error("angleSteps must be at least 1")),l.maxRayDistance<=0&&this.logAndThrow(new Error("maxRayDistance must be greater than 0"));const c=this.tryGetRoom(e);if(!c)return null;const u=[];for(const e of this.sweepsForRoom(c))e.enabled&&(l.sweepFilter&&!l.sweepFilter(e.id)||u.push({id:e.id,position:(h=e.floorPosition,new d.Vector2(h.x,h.z)),idx:e.index}));var h;if(0===u.length)return null;const p=Array.from(c.walls).map((e=>e.id));if(0===p.length){const e=this._findBestAngleForSweep(u[0],p,c.floorId,l);return Object.assign(Object.assign({sweepId:u[0].id},e),{metadata:{totalSweepsTested:1,totalAnglesTested:l.angleSteps,averageWallHitsPerSweep:e.wallHitCount/l.angleSteps,angleSpan:l.spanAngle}})}let f={sweepId:"",angle:0,wallHitCount:0,averageDistance:0,minDistance:Number.MAX_SAFE_INTEGER,maxDistance:0},m=0;const g=l.angleSteps*u.length;for(const e of u){const t=this._findBestAngleForSweep(e,p,c.floorId,l);m+=t.wallHitCount,l.resultIsBetter(t,f)&&(this.logger.debug(`*** New best overall view found at sweep ${e.idx||e.id} angle ${(180*t.angle/Math.PI).toFixed(1)} - [${t.minDistance.toFixed(2)}, ${t.averageDistance.toFixed(2)}, ${t.maxDistance.toFixed(2)}] - ${t.wallHitCount} hits ***`),f=Object.assign({sweepId:e.id},t),l.calculateVisibleArea&&(f.visibleArea=c.getArea(he.t.METRIC)))}return f.metadata={totalSweepsTested:u.length,totalAnglesTested:g,averageWallHitsPerSweep:m/g,angleSpan:l.spanAngle},f.sweepId?f:null}getOpening(e){const t=this._wallOpenings.get(e);return t||this.logAndThrow(new Error("Opening id is invalid")),t}getEntity(e){const t=this._walls.get(e)||this._nodes.get(e)||this._rooms.get(e)||this._wallOpenings.get(e);return t||this.logAndThrow(new Error("No entity for id.")),t}tryGetEntity(e){return this._walls.get(e)||this._nodes.get(e)||this._rooms.get(e)||this._wallOpenings.get(e)||null}getEdgeCountForNode(e){var t;return(null===(t=this._nodeToWallMap.get(e))||void 0===t?void 0:t.size)||0}getWallsForNode(e){const t=this._nodeToWallMap.get(e);if(t&&t.size>0)return t;this.logAndThrow(new Error("WallNode has no associate walls, this should not happen unless inside an action"))}getFloorsWithNodes(){return Array.from(this._nodesByFloor.keys())}getWallsForFloor(e){const t=this._wallsByFloor.get(e);return t&&t.size>0?t:null}getNodesByFloor(e){const t=this._nodesByFloor.get(e),n=new Set;return t||(this._nodesByFloor.set(e,n),n)}getRoomsForWall(e){return this._wallToRoomMap.get(e)||new Set}getRoomsForFloor(e){const t=this._roomsByFloor.get(e);return t&&t.size>0?t:null}isExteriorWall(e){const t=this._wallToRoomMap.get(e);if(t){if(t.size>0){if(1===t.size)return!0;for(const e of t.values())if(e.location===f.Vc.OUTDOOR)return!0;return!1}return!0}return!0}getWallNeighbors(e,t){const n=e[t],i=this.getEdgeCountForNode(n);if(1===i)return null;if(2!==i){const i=(()=>{const e=new d.Vector2;return(t,n)=>{const i=n.getOtherNode(t);e.set(i.x-t.x,i.z-t.z).normalize();return e.angle()}})(),r=this._nodeToWallMap.get(n);if(!r||0===r.size)return null;const o=Array.from(r).sort(((e,t)=>i(n,e)-i(n,t))),s=o.indexOf(e);let a=(s+1)%o.length,l=s-1<0?o.length-1:s-1;if("from"===t){const e=l;l=a,a=e}return{left:o[a],right:o[l]}}{const t=this._nodeToWallMap.get(n);if(!t||0===t.size)return null;for(const n of t)if(n.id!==e.id)return{left:n,right:n}}this.logAndThrow(new Error("Not finding both neighbors should never happen"))}getLastWallWidth(e){return e===g.b.SOLID&&this.lastSolidWallWidth?this.lastSolidWallWidth:this.getMostCommonWallWidth(e)}getMostCommonWallWidth(e){if(e===g.b.DIVIDER)return v.VG;const t={};for(const e of this._walls.data.values()){const n=e.width.toFixed(2);t[n]=t[n]?t[n]+1:1}let n=v.$h,i=0;for(const[e,r]of Object.entries(t))r>i&&Number(e)>v.VG&&(i=r,n=Number(e));return n}findRoomIdForPosition(e,t,n){const i={x:e.x,y:e.z},r=this._rooms.get(n||"");if(r&&n){const e=r.points.map((e=>({x:e.x,y:e.z})));if((0,oe.L)(i,e))return n}for(const e of this._rooms.data.values()){if(e.floorId!==t)continue;const n=e.points.map((e=>({x:e.x,y:e.z})));if((0,oe.L)(i,n))return e.id}return null}*entitiesAround(e,t,n){const i=this.spatialIndex.get(t);if(i){const t=i.search({minX:e.x-n,minY:e.z-n,maxX:e.x+n,maxY:e.z+n});for(const i of t){const t=i.overlapsCircle(e,n);null!=t&&(yield{entity:i,distance:t})}}}findClosestWallAround(e,t,n){const i=this.entitiesAround(e,t,n);let r=null,o=Number.MAX_VALUE;for(const{entity:e,distance:t}of i)e instanceof g.j&&t<o&&(r=e,o=t);return r}findNodeOrWallForPosition(e,t,n,i=v.w_){const r=this.entitiesAround(e,t,i);let o=null,s=null,a=Number.MAX_VALUE,l=Number.MAX_VALUE;for(const{entity:e,distance:t}of r)null==t||n.has(e.id)||(e instanceof g.j&&t<a&&(o=e,a=t),e instanceof y&&t<l&&(s=e,l=t));return s||o}findNodeAndWallsOverlappingLine(e,t,n,i=()=>!0){const r=this.spatialIndex.get(n),o=.05,s=[];if(r){const n=r.search({minX:Math.min(e.x,t.x)-o,minY:Math.min(e.z,t.z)-o,maxX:Math.max(e.x,t.x)+o,maxY:Math.max(e.z,t.z)+o});for(const r of n)if(i(r)){const n=r.overlapsLine(e,t);n.length>0&&s.push(n)}}return s}findOverlappingNodePairs(e){const t=e.floorId,n=[],i=new Set,r=new Set,o=[],s=this.getNodesByFloor(t);for(const a of s){const s=this.getAttachedEntities(a),l=this.findNodeOrWallForPosition(a.getVec3(),t,s);if(l)if(l instanceof y){const t=[a.id,l.id].sort().join(":");if(!i.has(t)){let o=a.id,s=l.id;if(s===e.id){const e=s;s=o,o=e}r.has(s)||r.has(o)||(n.push({keepId:o,mergeId:s}),i.add(t),r.add(s))}}else l instanceof g.j&&(r.has(a.id)||o.push(a.id))}return{nodeOverlaps:n,nodeWallOverlaps:o}}findWallWithWorstOverlaps(e,t){let n=[],i=null;const r=this.getWallsForFloor(e),o="colinear"===t?2:1;if(r)for(const e of r){const r="intersection"===t?this.getAttachedEntities(e.from):fe,s="intersection"===t?this.getAttachedEntities(e.to):fe,a=this.findNodeAndWallsOverlappingLine(e.from.getVec3(),e.to.getVec3(),e.floorId,(t=>t instanceof g.j&&t.id!==e.id&&!r.has(t.id)&&!s.has(t.id))).filter((e=>e.length===o));a.length>0&&a.length>n.length&&(n=a,i=e)}return null!=i?{wall:i,overlaps:n.sort(((e,t)=>e[0].t-t[0].t))}:null}findOverlappingEntities(e){const t=e.floorId,{nodeOverlaps:n,nodeWallOverlaps:i}=this.findOverlappingNodePairs(e),r=this.findWallWithWorstOverlaps(t,"colinear"),o=this.findWallWithWorstOverlaps(t,"intersection");if(n.length>0||i.length>0||o||r){return{nodeOverlaps:n,nodeWallOverlaps:i,intersectingWall:o?o.wall:void 0,collinearWall:r?r.wall:void 0}}return null}getSortedRoomClassifications(){return Object.values(this.roomClassifications).sort(((e,t)=>e.label.localeCompare(t.label)))}hasWallBetween(e,t){const n=g.j.getCompositeKey(e.id,t.id);return this._wallsByCompositeKey.has(n)}getWallForNodes(e,t){const n=g.j.getCompositeKey(e,t),i=this._wallsByCompositeKey.get(n);return i||this.logAndThrow(new Error("getWallForNodes: No wall exists for these nodes!")),i}canDeleteEntity(e){if(null!=e){const t=this.getEntity(e);if(t instanceof y){if(2!==this.getEdgeCountForNode(t))return!1;let e;for(const n of this.getWallsForNode(t).values()){if(void 0!==e&&n.type!==e)return!1;e=n.type}return!0}if(t instanceof f.pQ){return!!Array.from(t.walls).find((e=>1===Array.from(this.getRoomsForWall(e)).filter((t=>t.walls.has(e))).length))}return t instanceof g.j||t instanceof S}return!1}undo(){const e=this.undoBuffer.pop();if(e){try{this.actionList.push(e.logInfo()),e.invert()}catch(e){return void this.onActionError(e)}this.commit(),this._triggerFinalizeObservers()}}availableUndos(){return this.undoBuffer.length.value}clearUndoBuffer(){this.undoBuffer.clear()}resetHistory(){this.clearUndoBuffer(),this._observerQueue.length=0,this._deleteSet.clear()}finalizeHistory(){this.undoBuffer.finalize(),this._triggerFinalizeObservers()}getAndClearActionList(){const e=this.actionList.slice();return this.actionList.length=0,e}triggerAction(e){var t,n;try{e.run()}catch(e){return this._observerQueue.length=0,this._deleteSet.clear(),void this.onActionError(e)}const i=null===(t=this.undoBuffer.peek())||void 0===t?void 0:t.lastAction();this.undoBuffer.push(e),i!==(null===(n=this.undoBuffer.peek())||void 0===n?void 0:n.lastAction())&&this.actionList.push(e.logInfo()),this.commit()}onNodesChanged(e){return this._nodes.onChanged(e)}onWallsChanged(e){return this._walls.onChanged(e)}onRoomsChanged(e){return this._rooms.onChanged(e)}onOpeningsChanged(e){return this._wallOpenings.onChanged(e)}validateGraph(){this._recomputeRooms()&&(this.commit(),this.finalizeHistory())}commit(){const e=this._observerQueue.length;if(this._flushObserverQueue(),e>0)for(const e of this._anythingChangeObservers)e(void 0)}onPropertyChanged(e,t){const n=this["_"+e];if(n instanceof b){const i=n,r=()=>{i.addedObservers.add(t),i.updatedObservers.add(t),i.deletedObservers.add(t)},o=()=>this.removeOnPropertyChanged(e,t);return(0,c.Sh)(r,o,!0,e)}this.logAndThrow(new Error(`Property: ${e} does not exist on wall-data`))}removeOnPropertyChanged(e,t){const n=this["_"+e];if(n instanceof b){const e=n;e.addedObservers.delete(t),e.updatedObservers.delete(t),e.deletedObservers.delete(t)}else this.logAndThrow(new Error(`Property: ${e} does not exist on wall-data`))}onChanged(e){if(this._anythingChangeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,c.Sh)((()=>this._anythingChangeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._anythingChangeObservers.delete(e)}afterFinalize(e){this._afterFinalizeObservers.has(e)&&this.logAndThrow(new Error("Already subscribed!"));return(0,c.Sh)((()=>this._afterFinalizeObservers.add(e)),(()=>this._afterFinalizeObservers.delete(e)),!0)}addFloatingEdge(e,t,n,i,r){const o=new N(this,{from:t,to:n,width:i,floorId:r,type:e});return this.triggerAction(o),o.output}addBridgingEdge(e,t,n,i){const r=new z(this,{fromId:t,toId:n,width:i,type:e});return this.triggerAction(r),r.output}addTrailingEdgeToNode(e,t,n,i){const r=new R(this,{fromId:t,to:n,width:i,type:e});return this.triggerAction(r),r.output}addTrailingEdgeToEdge(e,t,n,i,r){const o=new B(this,{fromWallId:t,along:n,to:i,width:r,type:e});return this.triggerAction(o),o.output}canMoveNode(e,t){const n=this.getNode(e),i=this.getWallsForNode(n);for(const e of i){if(0===e.openings.length)continue;const i=e.getOtherNode(n),r=i.x-t.x,o=i.z-t.z,s=Math.sqrt(r*r+o*o);if(!(s>e.length))for(const t of e.openings){const e=t.relativePos*s,n=.5*t.width;if(e+n>s||e-n<0)return!1}}return!0}moveNode(e,t){const n={nodeId:e,newPos:t};this.triggerAction(new w(this,n))}moveWall(e,t,n){const i={wallId:e,newFromPos:t,newToPos:n};this.triggerAction(new I(this,i))}deleteEntity(e){if(this.canDeleteEntity(e)){const t=this.getEntity(e);if(t instanceof y){const t={nodeId:e};this.triggerAction(new W(this,t))}else if(t instanceof g.j){const t={wallId:e};this.triggerAction(new F(this,t))}else if(t instanceof S){const t={openingId:e};this.triggerAction(new K(this,t))}else if(t instanceof f.pQ){const t={roomId:e};this.triggerAction(new ue(this,t))}}}setEdgeProperties(e,t){const n={wallId:e,props:t};this.triggerAction(new V(this,n))}addWallOpening(e){const t=new Y(this,e);return this.triggerAction(t),t.output.openingId}editWallOpeningDetails(e,t){this.triggerAction(new $(this,Object.assign(Object.assign({},t),{id:e})))}addWallJoint(e,t,n){const i={wallId:e,fromNode:t,toNode:n};this.triggerAction(new j(this,i))}setRoomDetails(e,t){this.triggerAction(new ae(this,Object.assign({roomId:e},t)))}mergeOverlappingEntities(e,t,n,i,r){const o={movedEntity:e,nodeOverlaps:t,nodeWallOverlaps:n,collinearWall:i,intersectingWall:r};this.triggerAction(new te(this,o))}getRoomTypeName(e,t){var n;const i=this.getRoom(e);if(i||this.logAndThrow(new Error("Room does not exist")),i.classifications&&i.classifications.length>0){return(0,le.Kq)(i.classifications.map((e=>e.id))).map((e=>{var n;return(null===(n=this.roomClassifications[e])||void 0===n?void 0:n.label)||t})).join(le.Ae)}return(null===(n=this.roomClassifications[le.YV])||void 0===n?void 0:n.label)||t}getRoomLabel(e,t){const n=this.getRoom(e);return n||this.logAndThrow(new Error("Room does not exist")),n.name?n.name:this.getRoomTypeName(e,t)}getGrossFloorArea(e,t){var n;let i=0;const r=null!=e?null===(n=this.getRoomsForFloor(e))||void 0===n?void 0:n.values():this.rooms.values();if(r)for(const e of r)e.includeInAreaCalc&&e.location===f.Vc.INDOOR&&!isNaN(e.areaWithWalls)&&(i+=e.areaWithWalls);return(0,E.g6)(i,t)}getRoomArea(e,t){try{return this.getRoom(e).getArea(t)}catch(t){return this.logger.error(`Error getting room area for room '${e}'`,t),0}}getPotentialRoomCanvasLabels(e,t,n,i,r){const o=(...e)=>e.filter((e=>e.length>0)).join("\n"),s=this.getRoom(e),a=i&&(!s.isOther()||s.name),l=r&&!s.hide;if(!a&&!l)return[];const c=a?this.getRoomLabel(e,t):"",d=l?(0,de.JE)(n,s.getArea(n)).area:"",h=l?s.getMeasurementText(n):"",p=[o(c,d,h)],f=[];for(let e=c.length-4;e>0&&c.length>0;e--)f.push((0,u.W)(c,e));return d.length>0&&h.length>0&&p.push(...f.map((e=>o(e,d,h)))),d.length>0&&(p.push(o(c,d)),p.push(...f.map((e=>o(e,d))))),p.push(...f),p}getAttachedEntities(e){const t=new Set;t.add(e.id);const n=this.getNode(e.id),i=this.getWallsForNode(n);for(const e of i){t.add(e.id);const i=e.getOtherNode(n);1===this.getEdgeCountForNode(n)&&1===this.getEdgeCountForNode(i)&&t.add(i.id)}return t}translateClassificationLabels(e){return e?e.map((e=>{const t=this.roomClassifications[e.id];return t?Object.assign(Object.assign({},e),{label:t.label}):e})):[]}traceWallsFromTo(e,t,n){const i=[e,t];let r=!1;for(;r=!this.hasLoop(i);){const e=i[i.length-1],t=i[i.length-2],r=this.getNodeNeighbors(e,n);let o,s=4*Math.PI;for(const n of r){const i=this.getRelativeAngle(e,t,n);i<s&&(s=i,o=n)}if(o||this.logAndThrow(new Error("Expected a neighbor")),e===i[0]&&o===i[1]){i.pop();break}i.push(o)}return r?i:[]}getNodeNeighbors(e,t){const n=new Set,i=this.getWallsForNode(e);i||this.logAndThrow(new Error("Expecting node to wall map to be valid"));for(const r of i.values())t&&!t.has(r)||n.add(r.getOtherNode(e));return n}hasLoop(e){if(0===e.length||e.length%100!=0)return!1;const t=[];for(let n=e.length-1;n>=0;n--){t.unshift(e[n]);const i=e.length-2*t.length;if(i<0)return!1;let r=!0;for(let n=0;n<t.length;n++)e[i+n]!==t[n]&&(r=!1);if(r)return this.logger.error("Found infinite loop!",t.map((e=>e.id)),"in sequence",e.map((e=>e.id))),!0}return!1}_createNode(e,t,n){const i=new y(n||(0,m.hA)(),t,e.x,e.z);return this._nodes.set(i.id,i),this._addToDictHelper(t,i,this._nodesByFloor),this.insertIntoSpatialIndex(i),this._scheduleObserver({observers:this._nodes.addedObservers,param:i,type:ye.CREATE}),i}_updateNode(e,t){const n=this._nodes.get(e);n?(this.removeFromSpatialIndex(n),n.x=t.x,n.z=t.z,this.insertIntoSpatialIndex(n),this._scheduleUpdate(this._nodes,n)):this.logAndThrow(new Error("Attempted to update WallNode that does not exist"))}_deleteNode(e){const t=this._nodes.get(e);t?(this.getEdgeCountForNode(t)>0&&this.logAndThrow(new Error("Attempted to delete a node which has wall references still!")),this._nodes.delete(e),this._removeFromDictHelper(t.floorId,t,this._nodesByFloor),this.removeFromSpatialIndex(t),this._scheduleDelete(this._nodes,t)):this.logAndThrow(new Error("Attempted to delete WallNode that does not exist"))}_createRoom(e){this._validateRoomDetails(e.points,e.holesCW,e.walls,e.holes);const t=new f.pQ(e);this.rooms.set(t.id,t);for(const e of t.allWalls()){const n=this._wallToRoomMap.get(e)||new Set;n.add(t),this._wallToRoomMap.set(e,n)}return this._addToDictHelper(t.floorId,t,this._roomsByFloor),this._scheduleObserver({observers:this._rooms.addedObservers,param:t,type:ye.CREATE}),this.calculateRoomInsights(t),t}_updateRoom(e,t,n=!0){this._validateRoomDetails(t.points,t.holesCW,t.walls,t.holes),this._inFlightRoomCeilingsCalc.has(e)&&this._roomsNeedingCeilingCalc.add(e);const i=this._rooms.get(e);if(i){this._removeFromDictHelper(i.floorId,i,this._roomsByFloor);for(const e of i.allWalls()){const t=this._wallToRoomMap.get(e);t&&t.delete(i)}t.name=i.name,t.classifications=i.classifications?[...i.classifications]:[],this.rooms.set(e,t);for(const e of t.allWalls().values()){const n=this._wallToRoomMap.get(e)||new Set;n.add(t),this._wallToRoomMap.set(e,n)}this._addToDictHelper(i.floorId,i,this._roomsByFloor),this._scheduleUpdate(this._rooms,t),n&&this.calculateRoomInsights(t)}else this.logAndThrow(new Error("Attempted to update Room that does not exist"))}_validateRoomDetails(e,t,n,i){const r=e[0].floorId;for(const n of e.concat(t.flat()))n.floorId!==r&&this.logAndThrow(new Error("Room nodes have mismatching floor ids!"))}logAndThrow(e){throw this.broadcast(new ce.t(e)),e}_updateRoomDetails(e,t){const{name:n,roomTypeIds:i,location:r,includeInAreaCalc:o,hide:s,keywords:a,showDimensions:l,showHeight:c}=t,u=this.getRoom(e);u.name=null!=n?n:u.name,i&&(u.classifications=i.map((e=>({id:e,label:this.roomClassifications[e].label})))),u.location=null!=r?r:u.location,u.includeInAreaCalc=null!=o?o:u.includeInAreaCalc,u.hide=null!=s?s:u.hide,u.keywords=null!=a?a:u.keywords,u.showDimensions=null!=l?l:u.showDimensions,u.showHeight=null!=c?c:u.showHeight,this._scheduleUpdate(this._rooms,u)}_deleteRoom(e){const t=this._rooms.get(e);if(t){this._rooms.delete(t.id);for(const e of t.allWalls().values()){const n=this._wallToRoomMap.get(e);null==n||n.delete(t)}this._removeFromDictHelper(t.floorId,t,this._roomsByFloor),this._scheduleDelete(this._rooms,t)}else this.logAndThrow(new Error("Attempted to delete Room that does not exist"))}_createWall(e,t,n,i,r,o,s=(0,m.hA)()){t.id===n.id&&this.logAndThrow(new Error("Cannot create wall where the from node is the same as the to node.")),t.floorId!==n.floorId&&this.logAndThrow(new Error("Cannot create a wall between nodes on different floors.")),this.hasWallBetween(t,n)&&this.logAndThrow(new Error("Wall already exists between start and end nodes.")),this._walls.has(s)&&this.logAndThrow(new Error("Wall already exists!"));const a=this.getNode(t.id),l=this.getNode(n.id),c=new g.j(s,e,a,l,i,o);this._walls.set(c.id,c),this._addToWallDicts(c),this._scheduleObserver({observers:this._walls.addedObservers,param:c,type:ye.CREATE});for(const e of r){const{label:t,relativePos:n,width:i,id:r,height:o,lowerElevation:s}=e;this._createWallOpening(c,t,n,i,{id:r,height:o,lowerElevation:s})}return this.insertIntoSpatialIndex(c),c}_deleteWall(e){const t=this.getWall(e);for(const e of t.openings.slice())this._deleteWallOpening(e.id);this._walls.delete(e),this._removeFromWallDicts(t),this.removeFromSpatialIndex(t),this._scheduleDelete(this._walls,t)}_setEdgeProps(e,t){const{width:n,bias:i,type:r}=t,o=this.getWall(e);void 0!==r&&(o.type=r),void 0!==n&&(o.width=n,o.type===g.b.SOLID&&(this.lastSolidWallWidth=n)),void 0!==i&&(o.bias=i),this._scheduleUpdate(this._walls,o),this._updateDependentsForNodes(o.from,o.to)}_createWallOpening(e,t,n,i,r){var o,s;const a=null!==(o=r.id)&&void 0!==o?o:(0,m.hA)(),l=null!==(s=r.height)&&void 0!==s?s:null,c=r.lowerElevation,u=new S(a,e,e.floorId,n,i,t,l,c);return this._wallOpenings.set(u.id,u),e.openings.push(u),this._scheduleObserver({observers:this._wallOpenings.addedObservers,param:u,type:ye.CREATE}),u}_setOpeningDetails(e,t){var n,i,r,o,s;const a=this.getOpening(e);a.label=null!==(n=t.label)&&void 0!==n?n:a.label,a.relativePos=null!==(i=t.relativePos)&&void 0!==i?i:a.relativePos,a.width=null!==(r=t.width)&&void 0!==r?r:a.width,a.height=null!==(o=t.height)&&void 0!==o?o:a.height,a.lowerElevation=null!==(s=t.lowerElevation)&&void 0!==s?s:a.lowerElevation,this._scheduleUpdate(this._wallOpenings,a)}_deleteWallOpening(e){const t=this.getOpening(e),n=this.getWall(t.wallId),i=n.openings.findIndex((t=>t.id===e));-1!==i?n.openings.splice(i,1):this.logAndThrow(new Error("Expected opening to exist in wall array!")),this._wallOpenings.delete(e),this._scheduleDelete(this._wallOpenings,t)}_addToWallDicts(e){this._addToDictHelper(e.from,e,this._nodeToWallMap),this._addToDictHelper(e.to,e,this._nodeToWallMap),this._addToDictHelper(e.floorId,e,this._wallsByFloor),this._wallsByCompositeKey.set(g.j.getCompositeKey(e.from.id,e.to.id),e)}_addToDictHelper(e,t,n){let i=n.get(e);null!=i?i.add(t):(i=new Set,i.add(t),n.set(e,i))}_removeFromDictHelper(e,t,n){const i=n.get(e);null!=i&&(i.delete(t),0===i.size&&n.delete(e))}_removeFromWallDicts(e){this._removeFromDictHelper(e.from,e,this._nodeToWallMap),this._removeFromDictHelper(e.to,e,this._nodeToWallMap),this._removeFromDictHelper(e.floorId,e,this._wallsByFloor),this._wallToRoomMap.delete(e),this._wallsByCompositeKey.delete(g.j.getCompositeKey(e.from.id,e.to.id))}_scheduleObserver(e){this._observerQueue.push(e)}_scheduleUpdate(e,t,n=!1){this._observerQueue.find((n=>n.observers===e.addedObservers&&n.param===t))||this._scheduleObserver({observers:n?e.childUpdatedObservers:e.updatedObservers,param:t,type:ye.UPDATE})}_scheduleDelete(e,t){this._scheduleObserver({observers:e.deletedObservers,param:t,type:ye.DELETE}),this._deleteSet.add(t)}_flushObserverQueue(){const e=new Set;for(const t of this._observerQueue)if(t.type!==ye.UPDATE||!this._deleteSet.has(t.param))if(t.type===ye.CREATE&&this._deleteSet.has(t.param))e.add(t.param);else if(t.type!==ye.DELETE||!e.has(t.param))for(const e of t.observers){const n=t.param;e(n,n.id)}this._observerQueue.length=0,this._deleteSet.clear()}_triggerFinalizeObservers(){for(const e of this._afterFinalizeObservers.values())e()}getSnapshot(){const e={version:this.version,floors:{}},t=t=>{e.floors[t]||(e.floors[t]={edges:{},vertices:{},rooms:{}})};for(const[n,i]of this._nodes.data){t(i.floorId);e.floors[i.floorId].vertices[i.id]=i.getSnapshot()}for(const[n,i]of this._walls.data){t(i.floorId);e.floors[i.floorId].edges[i.id]=i.getSnapshot()}for(const[n,i]of this._rooms.data){t(i.floorId);e.floors[i.floorId].rooms[i.id]=i.getSnapshot()}return e}insertIntoSpatialIndex(e){if(this.isLoading)return;this.spatialIndex.has(e.floorId)||this.spatialIndex.set(e.floorId,new(T()));const t=this.spatialIndex.get(e.floorId);e.updateRBushBBox(),t.insert(e)}removeFromSpatialIndex(e){if(this.isLoading)return;const t=this.spatialIndex.get(e.floorId);null!=t&&t.remove(e)}_recomputeRooms(){return new ne(this,{}).run(),this._observerQueue.length>0}calculateRoomInsights(e){this.calculateRoomArea(e),this.calculateRoomAreaWithWalls(e),this.calculateRoomPerimeter(e),this.calculateRoomMeasurements(e),this.isLoading||this.scheduleCeilingComputation(e)}calculateRoomArea(e){const t=new Array(new d.Vector3,new d.Vector3,new d.Vector3,new d.Vector3);t.push(t[0]);const n=e=>{let n=0;for(let i=0;i<e.length;i++){e[i].getVec3(t[0]),e[(i+1)%e.length].getVec3(t[1]),(0,E.K$)(e,i,!0,!1,this,t[2]),(0,E.K$)(e,i,!1,!1,this,t[3]);n+=(0,_.A)(t.map((e=>[e.x,e.z])))}return n},i=n(e.getCWPoints());let r=0;for(const t of e.holesCW)r+=(0,E.eW)(t),r+=n(t.slice().reverse());const o=(0,E.eW)(e.points);e.area=Math.max(o-i-r,0)}calculateRoomPerimeter(e){let t=0;for(const n of e.minimalInnerEdges)t+=n.start.distanceTo(n.end);e.perimeter=t}calculateRoomAreaWithWalls(e){const t=new Array(new d.Vector3,new d.Vector3,new d.Vector3,new d.Vector3);t.push(t[0]);const n=e=>{let n=0;for(let i=0;i<e.length;i++){const r=e[i],o=e[(i+1)%e.length],s=this.getWallForNodes(r.id,o.id);if(!this.isExteriorWall(s))continue;e[i].getVec3(t[0]),e[(i+1)%e.length].getVec3(t[1]),(0,E.K$)(e,i,!0,!0,this,t[2]),(0,E.K$)(e,i,!1,!0,this,t[3]);n+=(0,_.A)(t.map((e=>[e.x,e.z])))}return n},i=(0,E.eW)(e.points);let r=0;for(const t of e.holesCW)r+=(0,E.eW)(t);const o=Math.max(i-r,0);if(o>0){const t=n(e.points);let i=0;for(const t of e.holesCW)i+=n(t.slice().reverse());e.areaWithWalls=o+t+i}else e.areaWithWalls=0}calculateRoomMeasurements(e){const{edges:t,thickness:n}=(0,E.I0)(e,this);let i=0,r=[new d.Vector2,new d.Vector2],o=[new d.Vector2,new d.Vector2],s=new d.Vector2(0,0);for(let e=0;e<2;e++){let a=0;for(let l=0;l<t.length;l++){const c=t[l],u=t[(l+1)%t.length];for(let h=0;h<t.length;h++){if(l===h)continue;const p=t[h],f=t[(h+1)%t.length],m=(0,E.ll)([c,u],new d.Vector2),g=(0,E.ll)([p,f],new d.Vector2);if(m.dot(g)>Math.cos(Math.PI-v.Mg))continue;const y=(new d.Vector2).subVectors(m,g).normalize();if(e>0&&Math.abs(y.dot(s))>Math.cos(Math.PI/2-v.Bg))continue;const S=(new d.Vector2).addVectors(p.getVec2(),f.getVec2()).multiplyScalar(.5);if((0,E.mN)(m,c.getVec2(),S)<0)continue;const b=new d.Vector2,_=new d.Vector2,O=(0,E.m_)([c.getVec2().addScaledVector(m,n[l]),u.getVec2().addScaledVector(m,n[l])],[p.getVec2().addScaledVector(g,n[h]),f.getVec2().addScaledVector(g,n[h])],b,_);O>a&&(a=O,0===e?(r=[b,_],s=m,i=1):(o=[b,_],i=2))}}}if(2===i){const e=(r[1].y-r[0].y)/(r[1].x-r[0].x),t=(o[1].y-o[0].y)/(o[1].x-o[0].x);if(Math.abs(e)<Math.abs(t)){const e=r;r=o,o=e}}e.length=NaN,e.width=NaN,i>=2&&(e.length=(new d.Vector2).subVectors(r[0],r[1]).length(),e.l1=r[0].clone(),e.l2=r[1].clone(),e.width=(new d.Vector2).subVectors(o[0],o[1]).length(),e.w1=o[0].clone(),e.w2=o[1].clone(),this.isRectangularIsh(e)||(e.length=NaN,e.width=NaN))}isRectangularIsh(e){if(isNaN(e.length)||isNaN(e.width))return!1;const t=e.getCWPoints();return(0,E.fZ)(t,[e.l1,e.l2],[e.w1,e.w2],this)>.9}async calculateRoomCeilings(e){const t=this.tryGetEntity(e);if(t&&t instanceof f.pQ)return!this.calcCeilings||t.area<=1e-4?Promise.resolve():(this._inFlightRoomCeilingsCalc.add(t.id),this.calcCeilings(t).then((e=>{this._inFlightRoomCeilingsCalc.delete(t.id),!this._roomsNeedingCeilingCalc.has(t.id)&&this.rooms.has(t.id)&&(t.ceiling=e,this._scheduleUpdate(this._rooms,t))})))}clearAllCeilings(){for(const e of this.rooms.values())e.ceiling=null,this._scheduleUpdate(this._rooms,e);this._flushObserverQueue()}markAllRoomsDirty(){for(const e of this.rooms.values())this._scheduleUpdate(this._rooms,e);this._flushObserverQueue()}scheduleCeilingComputation(e){this._roomsNeedingCeilingCalc.add(e.id)}async recalculateCeilings(e=!1){if(e)for(const e of this.rooms.keys())this._roomsNeedingCeilingCalc.add(e);for(;;){const e=[];for(const t of this._roomsNeedingCeilingCalc)e.push(this.calculateRoomCeilings(t));if(this._roomsNeedingCeilingCalc.clear(),await Promise.all(e),0===this._roomsNeedingCeilingCalc.size)break}return this._flushObserverQueue(),Promise.resolve()}sweepsForRoom(e){return this.fallbacks.sweepsForRoom(e)}fallbackBaseHeightForRoom(e){return this.fallbacks.fallbackBaseHeightForRoom(e)}baseHeightForFloor(e){return this.fallbacks.baseHeightForFloor(e)}roomHeightWithFallback(e){return this.fallbacks.roomHeightWithFallback(e)}fallbackBaseHeightForOpening(e){return this.fallbacks.fallbackBaseHeightForOpening(e,this)}computeLowerElevationForOpenings(e=!0){for(const t of this.wallOpenings.values())if(isNaN(t.lowerElevation)){const n=this.fallbackBaseHeightForOpening(t.wall);e?this._setOpeningDetails(t.id,{lowerElevation:n}):t.lowerElevation=n}e&&this._flushObserverQueue()}heightConstraintsForOpening(e,t){var n;let i=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;const o=this.getRoomsForWall(e.wall);for(const e of o){const t=null===(n=e.getMaxCeilingDatum())||void 0===n?void 0:n.height,o=this.roomHeightWithFallback(e);t&&!isNaN(t)&&t>r&&(r=t),!isNaN(o)&&o<i&&(i=o)}return r=r===Number.MIN_SAFE_INTEGER?v.GY:r,i=i===Number.MAX_SAFE_INTEGER?t.floors.getMinHeight():i,{max:r,min:i}}}},60356:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,w:()=>r});class i{constructor(e,t){this.sweepData=e,this.floorsData=t}*sweepsForRoom(e){for(const t of this.sweepData.sweeps())t.floorId===e.floorId&&e.containsPoint(t.floorPosition.x,t.floorPosition.z)&&(yield t)}fallbackBaseHeightForRoom(e){return this.medianSweepHeightForRoom(e)||this.baseHeightForFloor(e.floorId)}baseHeightForFloor(e){const t=this.floorsData.getFloor(e);return t.medianSweepFloorHeight()||t.boundingBox.min.y}medianSweepHeightForRoom(e){const t=[];for(const n of this.sweepsForRoom(e))if(t.push(n.floorPosition.y),t.length>=5)break;if(t.length>0){const e=t.sort(((e,t)=>e-t));return e[Math.floor(e.length/2)]}return null}roomHeightWithFallback(e){return isNaN(e.floorHeight)?this.fallbackBaseHeightForRoom(e):e.floorHeight}fallbackBaseHeightForOpening(e,t){const n=t.getRoomsForWall(e);let i=0;if(n.size>0){for(const e of n)i+=this.roomHeightWithFallback(e);i/=n.size}else i=this.baseHeightForFloor(e.floorId);return i}}class r{*sweepsForRoom(e){}fallbackBaseHeightForRoom(e){return 0}roomHeightWithFallback(e){return 0}baseHeightForFloor(e){return 0}fallbackBaseHeightForOpening(e,t){return 0}}},88186:(e,t,n)=>{"use strict";n.d(t,{pQ:()=>E,GZ:()=>a,Vc:()=>s,pO:()=>S,rO:()=>_,vQ:()=>O});var i=n(89955),r=n.n(i);class o{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"==typeof this.onEviction)for(const[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,n]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,n)&&(yield e)}}for(const e of this.cache){const[t,n]=e;!1===this._deleteIfExpired(t,n)&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=(this.maxAge===Number.POSITIVE_INFINITY?void 0:Date.now()+this.maxAge)}={}){this.cache.has(e)?this.cache.set(e,{value:t,maxAge:n}):this._set(e,{value:t,expiry:n})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,n]=e;!1===this._deleteIfExpired(t,n)&&(yield[t,n.value])}for(const e of this.oldCache){const[t,n]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,n)&&(yield[t,n.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const n=e[t],[i,r]=n;!1===this._deleteIfExpired(i,r)&&(yield[i,r.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const n=e[t],[i,r]=n;if(!this.cache.has(i)){!1===this._deleteIfExpired(i,r)&&(yield[i,r.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}var s,a,l=n(68909),c=n(93818),u=n(47503),d=n(98720),h=n(941),p=n(11579),f=n(25601),m=n(15854),g=n(54664),v=n(28172),y=n(99380);!function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor"}(s||(s={})),function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor",e.NON_AREA="nonArea",e.HIDE="hide"}(a||(a={}));class E{constructor(e){this.area=NaN,this.areaWithWalls=NaN,this.length=NaN,this.l1=new l.Vector2,this.l2=new l.Vector2,this.width=NaN,this.w1=new l.Vector2,this.w2=new l.Vector2,this.height=NaN,this.ceiling=null,this._minimalInnerEdges=null,this._minimalInnerLoop=null,this.classifications=[],this.showDimensions=!0,this.showHeight=!0,this._viewCenterCache={},this._containsPointCache=new o({maxSize:10}),this.wallsCCW=[],this.holeWallsCW=[],this.cornerStraight=(()=>{const e=new l.Vector3,t=new l.Vector3;return(n,i)=>{const r=n.end.distanceTo(i.start)<.02;e.subVectors(n.start,n.end).normalize(),t.subVectors(i.end,i.start).normalize();const o=Math.abs(Math.abs(e.dot(t))-1)<.01;return r&&o}})(),this.containsPoint=(()=>{const e=new l.Vector2;return(t,n)=>{const i=`${1e3*t|0}|${1e3*n|0}`,r=this._containsPointCache.get(i);if(null!=r)return r;if(e.set(t,n),this.bbox.containsPoint(e)){const e=this.polygon2d.shell,r=this.polygon2d.holes,o=(0,m.s)([t,n],e)&&!r.some((e=>(0,m.s)([t,n],e)));return this._containsPointCache.set(i,o),o}return!1}})(),e&&Object.assign(this,e),this.initCCWWalls()}getEntityAnalytic(){return"room"}get roomTypeIds(){return 0===this.classifications.length?[p.YV]:this.classifications.map((e=>e.id))}get floorHeight(){if(null!=this.ceiling&&this.ceiling.planes.length>0){const e=this.ceiling.planes[0].measurements;if(e.length>0)return e[0].bottom.y}return NaN}accessible(){return!(this.hide&&!this.includeInAreaCalc)}isOther(){const e=this.roomTypeIds;return 1===e.length&&e[0]===p.YV}get floorId(){return this.points[0].floorId}getMaxCeilingDatum(){if(this.isFlatCeiling())return null;let e=Number.MIN_SAFE_INTEGER,t=null;const n=new l.Vector3;if(null!=this.ceiling)for(const i of this.ceiling.planes)for(const r of i.measurements)r.height>=e&&(e=r.height,t=n.set(r.bottom.x,r.bottom.y,r.bottom.z));return null!=t?{position:t,height:e}:null}getMinCeilingHeight(){let e=Number.MAX_SAFE_INTEGER,t=!1;if(null!=this.ceiling)for(const n of this.ceiling.planes)for(const i of n.measurements)i.height<e&&i.height>=h.lD&&(e=i.height,t=!0);return t?e:isNaN(this.height)?NaN:this.height}isFlatCeiling(){return null!=this.ceiling&&Math.abs(this.ceiling.maxHeight-this.ceiling.minHeight)<=1e-8}getSnapshot(){return{height:this.height,source:"frontend",vertices:this.points.map((e=>e.id)),holes:this.holeWallsCW.map((e=>e.map((e=>e.wall.id)))),label:this.name}}pointsMoved(){this._bbox=null,this._geometry=null,this._viewCenterCache={},this._containsPointCache.clear(),this._minimalInnerLoop=null,this._poly2d=null,this._minimalInnerEdges=null}get minimalInnerLoop(){return null==this._minimalInnerLoop&&(this._minimalInnerLoop=this.calculateMinimalInnerLoop()),this._minimalInnerLoop.wallLoop}get minimalOpeningLoop(){return null==this._minimalInnerLoop&&(this._minimalInnerLoop=this.calculateMinimalInnerLoop()),this._minimalInnerLoop.openingSegments}get polygon2d(){if(null==this._poly2d){const e=this.minimalInnerLoop[0].map((e=>[e.x,e.z])),t=this.minimalInnerLoop.slice(1,this.minimalInnerLoop.length).map((e=>e.reverse().map((e=>[e.x,e.z]))));this._poly2d={shell:e,holes:t}}return this._poly2d}get minimalInnerEdges(){return null==this._minimalInnerEdges&&(this._minimalInnerEdges=this.calculateMinimalInnerEdges()),this._minimalInnerEdges}get bbox(){return this._bbox||(this._bbox=(new l.Box2).setFromPoints(this.points.map((e=>e.getVec2())))),this._bbox}getViewCenter(e=new l.Vector3,t=1){const n=t.toFixed(1),i=this._viewCenterCache[n];if(null!=i)return e.copy(i.center),e;{const i=this.points.map((e=>[e.x/t,e.z]));i.push([this.points[0].x/t,this.points[0].z]);const o=[i].concat(this.holesCW.map((e=>e.map((e=>[e.x/t,e.z])).reverse()))),s=r()(o,.1),a=s.distance,c=new l.Vector3(s[0]*t,0,s[1]);return this._viewCenterCache[n]={center:c,distance:a},e.copy(c),e}}getViewCenterDistance(e=1){this.getViewCenter(void 0,e);const t=e.toFixed(1);if(null==this._viewCenterCache[t])throw new Error("View center should have been precached");return this._viewCenterCache[t].distance}getArea(e){return(0,y.g6)(this.area,e)}getMeasurementText(e){return this.canDisplayDimensions()?[(0,c.R5)(this.width,e),(0,c.R5)(this.length,e)].join(` ${c.ac} `):""}canDisplayDimensions(){return!(isNaN(this.length)||isNaN(this.width)||this.length<=0||this.width<=0||!this.showDimensions)}canDisplayHeight(){return(!isNaN(this.height)||null!=this.ceiling)&&this.showHeight}getPerimeterText(e){return(0,c.R5)(this.perimeter,e)}getCWPoints(){return this.points.slice().reverse()}allWalls(){return(0,u.LX)(this.walls,...this.holes)}allKeywords(){const e=this.keywords.slice();return this.hide&&e.push(a.HIDE),this.includeInAreaCalc||e.push(a.NON_AREA),e.push(this.location===s.OUTDOOR?a.OUTDOOR:a.INDOOR),e}initCCWWalls(){const e=new Map;for(const t of this.allWalls())e.set(d.j.getCompositeKey(t.from.id,t.to.id),t);const t=t=>{const n=[],i=t.length;for(let r=0;r<i;r++){const o=t[r],s=t[(r+1)%i],a=d.j.getCompositeKey(o.id,s.id),l=e.get(a);if(l){const e=o.id===l.to.id;n.push({wall:l,flipped:e})}}return n};this.wallsCCW.length=0,this.wallsCCW.push(...t(this.points)),this.holeWallsCW.length=0;for(const e of this.holesCW)this.holeWallsCW.push(t(e))}getGeometry(){if(!this._geometry){const e=this.minimalInnerLoop,t=e[0].map((e=>new l.Vector2(e.x,e.z))),n=e.slice(1).map((e=>e.map((e=>new l.Vector2(e.x,e.z))))),i=l.ShapeUtils.triangulateShape(t,n).map((e=>[e[0],e[2],e[1]]));this._geometry={faces:i,points:t.concat(n.flat(1))}}return this._geometry}calculateInnerLoop(e=0){const t=[],n=[],i=i=>{t.push([]),n.push([]);const r=t[t.length-1],o=n[n.length-1],s=i.length;for(let t=0;t<s;t++){const n=i[(t+s-1)%s],a=i[t],c=i[(t+1)%s],u=(0,f.I)(a.wall,n.wall,c.wall,a.flipped,e),d=r[r.length-1],h=u.start.clone();if((!d||d&&d.distanceTo(h)>.01)&&(r.push(h),o.push([])),r.push(u.end.clone()),a.wall.openings.length>0){const e=a.wall.openings.map((e=>{const t=e.getPoints(0,new l.Vector3,new l.Vector3);return{solid:(0,y.l6)(e.label),line:new l.Line3(t.start,t.end)}}));o.push(e)}else o.push([])}};i(this.wallsCCW);for(const e of this.holeWallsCW)i(e);return{wallLoop:t,openingSegments:n}}calculateMinimalInnerLoop(e=0){const t=[],n=[],{wallLoop:i,openingSegments:r}=this.calculateInnerLoop(e);for(let e=0;e<i.length;e++){const o=i[e],s=r[e],a=o.length,l=[],c=[];c.push([]);for(let e=0;e<a;e++){const t=o[(e+a-1)%a],n=o[e],i=o[(e+1)%a];if(c[c.length-1].push(...s[e]),!this.cornerStraight({start:t,end:n},{start:n,end:i})){l.push(n);e===a-1||c.push([])}}if(c.length===l.length+1&&c.length>1){const e=c.pop();e&&c[0].push(...e)}if(e>0){const e=l.map((e=>[e.x,e.z]));(0,g.A)(e,!0)>0||l.reverse()}const u=l.length;for(let e=0;e<u;e++){const t=l[(e+u-1)%u],n=l[e],i=c[e];(0,y.yh)(t,n,i)}t.push(l),n.push(c)}return{wallLoop:t,openingSegments:n}}*minimalLoopSegments(){const e=this.minimalInnerLoop,t=this.minimalOpeningLoop;for(let n=0;n<e.length;n++){const i=e[n],r=t[n],o=i.length;for(let e=0;e<o;e++){const t=i[e],n=i[(e+1)%o],s=r[(e+1)%o];yield{start:t,end:n,gaps:s}}}}calculateMinimalInnerEdges(){const e=[];for(const{start:t,end:n,gaps:i}of this.minimalLoopSegments()){if(i.length>0){e.push({start:t,end:i[0].line.start,needsHeightLabel:!0,solid:!0,skipInsideLabel:!1});for(let t=0;t<i.length-1;t++){const n=i[t],r=i[(t+1)%i.length];e.push({start:n.line.start,end:n.line.end,needsHeightLabel:!1,solid:n.solid,skipInsideLabel:!0}),e.push({start:n.line.end,end:r.line.start,needsHeightLabel:!1,solid:!0,skipInsideLabel:!1})}const r=i[i.length-1];e.push({start:r.line.start,end:r.line.end,needsHeightLabel:!1,solid:r.solid,skipInsideLabel:!0}),e.push({start:r.line.end,end:n,needsHeightLabel:!1,solid:!0,skipInsideLabel:!1})}else e.push({start:t,end:n,needsHeightLabel:!0,solid:!0,skipInsideLabel:!1})}return e}intersectsLine2d(e,t){const{shell:n,holes:i}=this.polygon2d,r=[[e.x,e.z],[t.x,t.z]];for(const e of[n,...i])if((0,v.v)(r,e))return!0;return!1}}function S(e,t){var n;return e.length>0&&(null!==(n=e[0].defaultKeywords)&&void 0!==n?n:[]).includes(t)}function b(e){return e.filter((e=>!Object.values(a).includes(e)))}function _(e){return{location:e.includes(a.OUTDOOR)?s.OUTDOOR:s.INDOOR,includeInAreaCalc:!e.includes(a.NON_AREA),hide:e.includes(a.HIDE),keywords:b(e)}}function O(e){const t=new Set;for(const n of e)(0,u.s1)(t,n.defaultKeywords||[]);return t.has(a.INDOOR)&&t.has(a.OUTDOOR)&&t.delete(a.OUTDOOR),Array.from(t.values())}},98720:(e,t,n)=>{"use strict";n.d(t,{b:()=>i,j:()=>l});var i,r=n(68909),o=n(74381),s=n(941),a=n(86866);!function(e){e.SOLID="solid-wall",e.DIVIDER="invisible-wall"}(i||(i={}));class l{static getCompositeKey(e,t){const n=[e,t].sort();return`${n[0]}:${n[1]}`}constructor(e,t,n,i,o,s){this.bias=.5,this.openings=[],this._t1=new r.Vector3,this._t2=new r.Vector3,this._rbushBbox={minX:0,minY:0,maxX:1,maxY:1},this.overlapsCircle=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,o=new r.Vector3,s=new r.Vector3;return(r,a)=>{const l=s.copy(r);l.y=0;const c=this.getBiasAdjustmentVec(e),u=this.from.getVec3(t).add(c),d=this.to.getVec3(n).add(c),h=i.subVectors(d,u),p=h.length(),f=o.subVectors(l,u),m=f.length(),g=h.dot(f)/p,v=Math.sqrt(Math.max(m*m-g*g,0));return v<=this.width/2+a&&g>=-a&&g<=p+a?Math.min(g,v):null}})(),this.overlapsLine=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,o=new r.Vector3,s=new r.Vector3,l=new r.Vector3,c=new r.Vector3,u=new r.Vector3,d=1e-4;function h(e,t,n){return u.subVectors(t,e).dot(n)/n.lengthSq()}return(r,u)=>{const p=this.getBiasAdjustmentVec(e),f=this.from.getVec3(t).add(p),m=this.to.getVec3(n).add(p),g=i.subVectors(m,f),v=s.copy(g).normalize(),y=o.subVectors(u,r),E=l.copy(y).normalize(),S=v.dot(E);if(Math.abs(Math.abs(S)-1)<d){const e=c.subVectors(r,f),t=e.length(),n=e.dot(v);if(Math.sqrt(Math.abs(t*t-n*n))<.05){const e=d,t=.9999,n=h(r,f,y),i=h(r,m,y);if(!(n<e&&i<e)&&!(n>t&&i>t))return[{entity:this.from,t:n},{entity:this.to,t:i}].sort(((e,t)=>e.t-t.t))}}else{const e=(0,a.eB)(r.x,r.z,u.x,u.z,f.x,f.z,m.x,m.z,d);if(null!=e)return[{entity:this,t:e}]}return[]}})(),this.id=e,this.type=t,this.from=n,this.to=i,this.width=o,this.bias=s}getEntityAnalytic(){return this.type}get floorId(){return this.from.floorId}get compositeKey(){return l.getCompositeKey(this.from.id,this.to.id)}getOtherNode(e){if(e===this.from)return this.to;if(e===this.to)return this.from;throw new Error("WallNode does not belong to edge.")}hasNodes(e,t){const{from:n,to:i}=this;return!(e!==n&&e!==i||t!==n&&t!==i)}getBiasAdjustmentVec(e=new r.Vector3){this.getNormal(e);const t=(this.bias-.5)*this.width;return e.multiplyScalar(t),e}getNormal(e=new r.Vector3){return this.getDirection(e),e.normalize(),e.set(-e.z,0,e.x),e}getPlaneFacingAwayFromDirection(e,t=new r.Plane){const n=this.getNormal().normalize();return e.dot(n)>0&&n.multiplyScalar(-1),t.setFromNormalAndCoplanarPoint(n,this.from.getVec3()),t}getDirection(e){const t=e||new r.Vector3;return t.set(this.to.x-this.from.x,0,this.to.z-this.from.z),t}getEdgeWidth(e,t){const n=this.from===e&&this.to===t?this.bias:1-this.bias;return this.width*n}getEdgeNormal(e,t,n=new r.Vector3){return this.getNormal(n),this.from===e&&this.to===t||n.multiplyScalar(-1),n}getLine3(e){const t=e||new r.Line3;return this.from.getVec3(t.start),this.to.getVec3(t.end),t}getProjection(e){const t=this._t1.copy(e).sub(this.from.getVec3(this._t2)),n=this.getDirection(this._t2);return t.dot(n)/n.length()}getSnapshot(){const e={thickness:this.width,vertices:[this.from.id,this.to.id],type:this.type===i.SOLID?o.gP.WALL:o.gP.INVISIBLE};if(this.openings.length){const t={};for(const e of this.openings)t[e.id]=e.getSnapshot();e.openings=t}return e}getViewCenter(e=new r.Vector3){return e.addVectors(this.to.getVec3(),this.from.getVec3()).multiplyScalar(.5)}get length(){return this.from.distanceTo(this.to)}get minX(){return this._rbushBbox.minX}get maxX(){return this._rbushBbox.maxX}get minY(){return this._rbushBbox.minY}get maxY(){return this._rbushBbox.maxY}updateRBushBBox(){this._rbushBbox={minX:Math.min(this.from.x,this.to.x)-2*this.width-s.RS,minY:Math.min(this.from.z,this.to.z)-2*this.width-s.RS,maxX:Math.max(this.from.x,this.to.x)+2*this.width+s.RS,maxY:Math.max(this.from.z,this.to.z)+2*this.width+s.RS}}clone(){const e=new l(this.id,this.type,this.from,this.to,this.width,this.bias);return e.openings.push(...this.openings),e}}},11579:(e,t,n)=>{"use strict";n.d(t,{Ae:()=>G,Cp:()=>s,Er:()=>p,FI:()=>b,GC:()=>U,Hy:()=>S,Kq:()=>V,LX:()=>A,Q5:()=>B,QN:()=>D,SE:()=>g,SK:()=>I,TP:()=>d,V5:()=>C,Wr:()=>l,Xq:()=>u,YK:()=>O,YV:()=>k,ZQ:()=>c,_1:()=>v,_6:()=>x,aU:()=>h,bA:()=>r,eA:()=>m,i_:()=>o,lz:()=>T,m1:()=>f,mg:()=>_,ny:()=>P,oV:()=>M,om:()=>i,pZ:()=>E,pl:()=>w,sC:()=>L,u9:()=>R,v1:()=>N,vS:()=>y,x3:()=>F,xI:()=>a,xt:()=>H});const i="ge0tcan3iztta5mtgsfx99xpb",r="4by2d70b54srbin43t5m0yh9c",o="ua1m0u8pm3yngrhzwec1ue5zc",s="pnf0xzq61xcegack4iai7xppd",a="y3xuprmywgrprnm0273u3pphd",l="zp189tx2hdrry8k5nhaq5x45d",c="4gp8x21ni4i8y19r9pm4rb35a",u="00258k0mqu8750du151be805c",d="91naa1k3hiim9z4mk8352enta",h="rmu8pikcye0n7n9fsu5e4acda",p="cqig2yw0p8q99t5n02w1kf40b",f="66psa4tqgazbnffr9huy2dnpd",m="4qq4e5hz84hcur7ry87uhtmua",g="mx6e2yfk0tg0zbkbzuw5mhkda",v="0gnuunpwx63dmmqeq64aqfiyd",y="izt39gytcbymc0qtd37nrb7xb",E="ei3kmtun2xpspbg3d5ff3t3zc",S="xwhhz63a0hw735qf81knp63ha",b="ywtddu9hagraxhznwinn8t4zb",_="yeh1aa32fwgm72bh0g92ebruc",O="zgh2304w5anu0t25ia06ytfxd",T="pr9h4zy7eak91f3b7un97u42c",A="gqqw1zac1hzg1p8622ducg3zb",w="w4tdggk5i5u2zpiryugktghgb",N="e6md2spaqemc448pmau3azkhd",I="a11d2gi43h0etwedw0mx9pgwd",R="ag5uphha72sak65qazgsp09yd",k="byp7pz2tmt4ff47nhfx0uwzec",L="2nx6maxxpaeut7kx96fuacdzc",P="n07hhs9gky4cgrh7q65s9rp0d",D="s1h0hb8tpcc9i35dmupknsega",M="gba8cq0s2rdfg1zdb1epwty7d",C="0an2rky24gb91fdnpzmbwadib",x="qa21tqcsinnxde9gdmiphacza",U="k4ww3sk359ntmwgr8s75hq22a",F="nqw75004dcg2bcr41047rhg6c",H=[[o,T],[O,u],[O,w],[O,w,u],[w,u]],G=", ",B="-";function V(e){if(e.length<2)return e;for(const t of H)if(t.length===e.length&&t.every((t=>-1!==e.indexOf(t))))return t.slice();return e}},7584:(e,t,n)=>{"use strict";n.d(t,{Yk:()=>o,h4:()=>a,m2:()=>l,qQ:()=>s});var i=n(40186),r=n(56208);const o="room_bounds",s="room_bound_user_view_error";function a(e){return e.tryGetSetting(r.Q$.RoomBounds,!1)}function l(e,t,n){return!!(0,i.NW)(e)&&(!t.tryGetSetting(s,!1)&&(a(t)||n))}},50659:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var i=n(96540),r=n(51469);function o(e){return e?Array.from(e.rooms.values()):[]}function s(){const e=(0,r.N)(),[t,n]=(0,i.useState)(o(e));return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(o(e)),i=e.onRoomsChanged({onRemoved:e=>t,onUpdated:e=>t,onChildUpdated:e=>t,onAdded:e=>t});return t(),()=>{i.cancel()}}),[e]),t}},51469:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(98236),r=n(92868);const o=(0,i.v_)(r.A)},35336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,t:()=>r});var i=n(7478);class r extends i.QB{constructor(e){super(),this.error=e}}class o extends i.QB{constructor(e,t=(new Error).stack){super(),this.message=e,this.stack=t}}},25601:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,I:()=>c});var i=n(81662),r=n(68909),o=n(86866),s=n(53172);class a{constructor(){this.primary=new r.Vector3,this.bevel=new r.Vector3}set(e,t,n){this.primary.set(e,t,n),this.bevel.set(e,t,n)}copy(e,t){this.primary.copy(e),t?this.bevel.copy(t):this.bevel.copy(e)}}const l=(()=>{const e={fromLeft:new a,fromRight:new a,toLeft:new a,toRight:new a};return(t,n)=>{h(t,e);const i=n.getWallNeighbors(t,"from"),r=n.getWallNeighbors(t,"to");return i&&(u(t,i.left,"from","left",e.fromLeft),u(t,i.right,"from","right",e.fromRight)),r&&(u(t,r.left,"to","left",e.toLeft),u(t,r.right,"to","right",e.toRight)),e}})(),c=(()=>{const e={start:new r.Vector3,end:new r.Vector3},t={fromLeft:new a,fromRight:new a,toLeft:new a,toRight:new a};return(n,i,r,o,s=0)=>{let a,l,c,d,p;return o?(a="right",l="to",c="from",d=t.toRight,p=t.fromRight):(a="left",l="from",c="to",d=t.fromLeft,p=t.toLeft),h(n,t,s),n.id!==i.id&&u(n,i,l,a,d,s),u(n,r,c,a,p,s),e.start.copy(d.primary),e.end.copy(p.primary),e}})(),u=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,a=new r.Vector3,l=new r.Vector3,c=new r.Vector3,u=new r.Vector3,h=new r.Vector2,f=new r.Vector2,m=new r.Vector2,g=new r.Vector3,v=new r.Vector3;return(r,y,E,S,b,_=0)=>{const O=r.getDirection(e).normalize(),T=r[E],A="from"===E?-1:1,w=y.getOtherNode(T).getVec3(t).sub(T.getVec3(n)).normalize().multiplyScalar(A),N=O.dot(w);if(Math.acos(N)*s.tm<5)return;r.getBiasAdjustmentVec(g),y.getBiasAdjustmentVec(v);const I="left"===S?Math.PI/2:-Math.PI/2,R=O.applyAxisAngle(i.B1.UP,I).multiplyScalar(r.width/2+_).add(g),k=w.applyAxisAngle(i.B1.UP,I).multiplyScalar(y.width/2+_).add(v);r.from.getVec3(a).add(R),r.to.getVec3(l).add(R),y.from.getVec3(c).add(k),y.to.getVec3(u).add(k);if((0,o.HV)(a.x,a.z,l.x,l.z,c.x,c.z,u.x,u.z,h)){const e=d(T,r,y,h,m),t=e.x>0&&e.y>0,n=e.x<0&&e.y<0;if(e.x<r.length&&e.y<y.length)if(t)b.set(h.x,0,h.y);else{f.set(T.x+g.x+v.x,T.z+g.z+v.z).distanceTo(h)>1.2*Math.max(r.width,y.width)&&n?p(T,r,y,R,k,b):b.set(h.x,0,h.y)}}}})(),d=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3;return(r,o,s,a,l)=>{let c=o.getOtherNode(r);return r.getVec3(n),c.getVec3(e).sub(n),c=s.getOtherNode(r),c.getVec3(t).sub(n),i.set(a.x,0,a.y).sub(n),l.set(e.dot(i)/e.length(),t.dot(i)/t.length()),l}})(),h=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3;return(r,o,s=0)=>{const a=r.width+2*s;r.getBiasAdjustmentVec(n),r.getNormal(e).multiplyScalar(-a/2).add(n),r.getNormal(t).multiplyScalar(a/2).add(n);const l=r.from.getVec3(i).add(t);o.fromRight.copy(l);const c=r.to.getVec3(i).add(t);o.toRight.copy(c);const u=r.to.getVec3(i).add(e);o.toLeft.copy(u);const d=r.from.getVec3(i).add(e);o.fromLeft.copy(d)}})(),p=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,o=new r.Vector3;return(r,s,a,l,c,u)=>{const d=s.getOtherNode(r),h=a.getOtherNode(r);r.getVec3(t),d.getVec3(e).sub(t).normalize().multiplyScalar(-s.width/2),h.getVec3(n).sub(t).normalize().multiplyScalar(-a.width/2),i.copy(t).add(l).add(e),o.copy(t).add(c).add(n),u.copy(i,o)}})()},30169:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,TG:()=>a});var i=n(56147),r=n(11579);const o={[r.om]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BALCONY,[r.bA]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BASEMENT,[r.i_]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BATHROOM,[r.Cp]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BEDROOM,[r.xI]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BONUS_ROOM,[r.Wr]:i.A.WORKSHOP.LABEL_SUGGESTIONS.CLOSET,[r.ZQ]:i.A.WORKSHOP.LABEL_SUGGESTIONS.DEN,[r.Xq]:i.A.WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM,[r.TP]:i.A.WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY,[r.aU]:i.A.WORKSHOP.LABEL_SUGGESTIONS.ENTRANCE,[r.m1]:i.A.WORKSHOP.LABEL_SUGGESTIONS.EXERCISE_ROOM,[r.Er]:i.A.WORKSHOP.LABEL_SUGGESTIONS.EXTERIOR,[r.eA]:i.A.WORKSHOP.LABEL_SUGGESTIONS.FACADE,[r.SE]:i.A.WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM,[r._1]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GAME_ROOM,[r.vS]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GARAGE,[r.pZ]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GARDEN,[r.Hy]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GREAT_ROOM,[r.FI]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GYM,[r.mg]:i.A.WORKSHOP.LABEL_SUGGESTIONS.HALLWAY,[r.YK]:i.A.WORKSHOP.LABEL_SUGGESTIONS.KITCHEN,[r.lz]:i.A.WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY,[r.LX]:i.A.WORKSHOP.LABEL_SUGGESTIONS.LIBRARY,[r.pl]:i.A.WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM,[r.v1]:i.A.WORKSHOP.LABEL_SUGGESTIONS.LOFT,[r.SK]:i.A.WORKSHOP.LABEL_SUGGESTIONS.MEDIA_ROOM,[r.u9]:i.A.WORKSHOP.LABEL_SUGGESTIONS.OFFICE,[r.YV]:i.A.WORKSHOP.LABEL_SUGGESTIONS.OTHER,[r.sC]:i.A.WORKSHOP.LABEL_SUGGESTIONS.PANTRY,[r.ny]:i.A.WORKSHOP.LABEL_SUGGESTIONS.PATIO,[r.QN]:i.A.WORKSHOP.LABEL_SUGGESTIONS.POOL,[r.oV]:i.A.WORKSHOP.LABEL_SUGGESTIONS.SAUNA,[r.V5]:i.A.WORKSHOP.LABEL_SUGGESTIONS.STAIRCASE,[r._6]:i.A.WORKSHOP.LABEL_SUGGESTIONS.UTILITY_ROOM,[r.GC]:i.A.WORKSHOP.LABEL_SUGGESTIONS.VOID,[r.x3]:i.A.WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP_ROOM};function s(e,t,n){const r=t.t(i.A.SHOWCASE.ROOMS.DEFAULT_NAME);return n&&e?n.getRoomLabel(e,r):r}function a(e,t){const{id:n,label:o}=e;if(!n)return o||t.t(i.A.WORKSHOP.LABEL_SUGGESTIONS.OTHER);return n.indexOf(r.Q5)>-1?n.split(r.Q5).map((e=>t.t(l({id:n,label:o})))).join(r.Ae):t.t(l({id:n,label:o}))}function l(e){const{id:t,label:n}=e,r=o[t];return r||(n||i.A.WORKSHOP.LABEL_SUGGESTIONS.OTHER)}},941:(e,t,n)=>{"use strict";n.d(t,{$h:()=>l,Bg:()=>o,GY:()=>h,Mg:()=>r,RS:()=>s,Sj:()=>d,VG:()=>c,lD:()=>u,w_:()=>a});var i=n(53172);const r=6*i.fy,o=6*i.fy,s=.01,a=.05,l=.1,c=.02,u=1.5,d=2.032,h=200},84615:(e,t,n)=>{"use strict";var i,r;n.d(t,{k:()=>r,v:()=>i}),function(e){e.DOOR="doorway",e.OPENING="opening"}(i||(i={})),function(e){e.DOOR_UNKNOWN="door-unknown",e.DOOR_PIVOT="door-pivot",e.DOOR_SLIDE="door-slide",e.DOOR_REVOLVE="door-revolve",e.DOOR_DOUBLE="door-double",e.DOOR_FOLD="door-fold",e.DOOR_PANEL="door-panel",e.WINDOW_UNKNOWN="window-unknown",e.WINDOW_PIVOT="window-pivot",e.WINDOW_SLIDE="window-slide",e.WINDOW_REVOLVE="window-revolve",e.WINDOW_DOUBLE="window-double",e.WINDOW_FOLD="window-fold",e.WINDOW_PANEL="window-panel",e.DIVIDER="divider"}(r||(r={}))},99380:(e,t,n)=>{"use strict";n.d(t,{I0:()=>f,K$:()=>N,N5:()=>h,bt:()=>R,eW:()=>d,fI:()=>M,fZ:()=>b,g6:()=>p,jd:()=>P,l6:()=>D,ll:()=>m,mN:()=>g,m_:()=>y,q9:()=>C,vo:()=>k,yh:()=>L});var i=n(54664),r=n(8004),o=n(68909),s=n(85626),a=n(53172),l=n(11579),c=n(26348),u=n(84615);function d(e,t=!1){if(0===e.length)return 0;const n=e.map((e=>[e.x,e.z]));return n.push(n[0]),(0,i.A)(n,t)}function h(e){return d(e,!0)>0&&e.reverse(),e}function p(e,t){let n=1;return"imperial"===t?e=(0,c.Nd)(e):"metric"===t&&(n=10),Math.round(e*n)/n}const f=(e,t)=>{const n=e.getCWPoints(),i=n.length,r={edges:[],thickness:[]};for(let e=0;e<i;e++){const o=n[(e+i-1)%i],s=n[e],a=n[(e+1)%i],l=t.getWallForNodes(o.id,s.id).getEdgeWidth(o,s),c=t.getWallForNodes(s.id,a.id).getEdgeWidth(s,a);(!S([o,s],[s,a],!1)||Math.abs(c-l)>.01)&&(r.edges.push(n[e]),r.thickness.push(c))}return r},m=(e,t)=>{t.set(e[1].x-e[0].x,e[1].z-e[0].z).normalize();const n=t.x,i=t.y;return t.set(-i,n),t},g=(()=>{const e=new o.Vector2;return(t,n,i)=>(e.subVectors(i,n),t.dot(e))})(),v=(()=>{const e=new o.Vector2,t=new o.Vector2,n=new o.Vector2;return(i,r,o,s)=>(e.subVectors(o,r),t.copy(i).multiplyScalar(i.dot(e)),n.subVectors(e,t),s.addVectors(r,n),s)})(),y=(()=>{const e=new o.Vector2,t=new o.Vector2,n=new o.Vector2,i=new o.Vector2,r=new o.Vector2;return(o,s,a,l)=>{e.subVectors(o[1],o[0]).normalize(),t.subVectors(s[1],s[0]).normalize(),n.subVectors(e,t).normalize();const c=g(n,o[0],o[1]);let u=g(n,o[0],s[0]),d=g(n,o[0],s[1]);if(d<u){const e=u;u=d,d=e}const h=Math.min(c,d)-Math.max(0,u);i.subVectors(e,t).multiplyScalar(.5).multiplyScalar(h/2+Math.max(0,u)),a.copy(o[0]).add(i);const p=v(n,o[0],s[0],r);return l.copy(p).add(i),h}})(),E=(()=>{const e=new o.Vector2,t=new o.Vector2,n=Math.cos(5*a.fy);return(i,r,o)=>{e.set(i[1].x-i[0].x,i[1].z-i[0].z).normalize(),t.set(r[1].x-r[0].x,r[1].z-r[0].z).normalize();const s=e.dot(t);return s>=n||o&&s<=-n}})(),S=(()=>{const e=new o.Vector2;return(t,n,i)=>{if(!E(t,n,i))return!1;e.set(-(n[1].z-t[0].z),n[1].x-t[0].x).normalize();return!(Math.abs(g(e,t[0].getVec2(),t[1].getVec2()))>.05)}})(),b=(()=>{const e=new o.Vector2,t=new o.Vector2,n=new o.Vector3,i=new o.Vector2,r=new o.Vector2(0,0),s=[new o.Vector2,new o.Vector2],a=[new o.Vector2,new o.Vector2],l=new o.Vector2,c=new o.Vector2;return(o,u,d,h)=>{let p=Math.atan2(d[1].y-d[0].y,d[1].x-d[0].x);p<0&&(p+=2*Math.PI),p%=Math.PI/2;let f=Math.atan2(u[1].y-u[0].y,u[1].x-u[0].x);p<0&&(p+=Math.PI/2),f%=Math.PI/2,Math.abs(f-Math.PI/2-p)<Math.abs(f-p)&&(f-=Math.PI/2),Math.abs(p-Math.PI/2-f)<Math.abs(p-f)&&(p-=Math.PI/2);const m=(p+f)/2;e.set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),t.set(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let s=0;s<o.length;s++)N(o,s,!0,!1,h,n),i.set(n.x,n.z).rotateAround(r,-m),w(e,i,e),A(t,i,t);s[0].copy(u[0]).rotateAround(r,-m),s[1].copy(u[1]).rotateAround(r,-m),a[0].copy(d[0]).rotateAround(r,-m),a[1].copy(d[1]).rotateAround(r,-m),_(s,a,l,c);var g,v;return T([e,t],[l,c])/(v=[l,c],O(g=[e,t])+O(v)-T(g,v))}})(),_=(()=>{const e=new o.Vector2,t=new o.Vector2;return(n,i,r,o)=>{e.subVectors(n[1],n[0]).normalize(),t.subVectors(i[1],i[0]).normalize(),Math.abs(e.y)>Math.abs(t.y)?(r.x=Math.min(i[0].x,i[1].x),o.x=Math.max(i[0].x,i[1].x),r.y=Math.min(n[0].y,n[1].y),o.y=Math.max(n[0].y,n[1].y)):(r.x=Math.min(n[0].x,n[1].x),o.x=Math.max(n[0].x,n[1].x),r.y=Math.min(i[0].y,i[1].y),o.y=Math.max(i[0].y,i[1].y))}})();function O(e){const t=e[1].x-e[0].x,n=e[1].y-e[0].y;return t>0&&n>0?t*n:0}function T(e,t){return O([A(e[0],t[0],new o.Vector2),w(e[1],t[1],new o.Vector2)])}function A(e,t,n){return n.set(Math.max(e.x,t.x),Math.max(e.y,t.y))}function w(e,t,n){return n.set(Math.min(e.x,t.x),Math.min(e.y,t.y))}const N=(()=>{const e=6*a.fy,t=new o.Vector3,n=new o.Vector3;return(i,r,o,s,a,l)=>{const c=i[r],u=i[(r+1)%i.length],d=a.getWallForNodes(c.id,u.id).getEdgeWidth(c,u),h=o?(r+1)%i.length:r,p=(h+1)%i.length,f=(h+i.length-1)%i.length;let m,g;if(s?(m=a.getWallForNodes(i[h].id,i[f].id).getEdgeNormal(i[h],i[f]),g=a.getWallForNodes(i[p].id,i[h].id).getEdgeNormal(i[p],i[h])):(m=a.getWallForNodes(i[f].id,i[h].id).getEdgeNormal(i[f],i[h]),g=a.getWallForNodes(i[h].id,i[p].id).getEdgeNormal(i[h],i[p])),t.copy(o?m:g),m.dot(g)>Math.cos(Math.PI-e)){n.addVectors(m,g).normalize();const e=n.dot(m);Math.abs(e)>1e-6&&(n.multiplyScalar(1/e),t.copy(n))}i[h].getVec3(l).addScaledVector(t,d)}})();function I(e){return`room-${e}`}function R(e){const t=l.YV;return 0===e.length?I(t):e.length>1?I("multi-use"):s.R.includes(I(e[0]))?I(e[0]):I(t)}function k(e,t){const[[n,i],[o,s]]=e,[[a,l],[c,u]]=t,d=((0,r.kW)(e[0],t)?1:0)+((0,r.kW)(e[1],t)?1:0)+((0,r.kW)(t[0],e)?1:0)+((0,r.kW)(t[1],e)?1:0),h=(u-l)*(o-n)-(c-a)*(s-i);if(Math.abs(h)<1e-4)return d>2;const p=i-l,f=n-a,m=((c-a)*p-(u-l)*f)/h,g=((o-n)*p-(s-i)*f)/h,v=1e-8,y=.99999999;return m>v&&m<y&&g>v&&g<y}const L=(()=>{const e=new o.Line3(new o.Vector3,new o.Vector3);return(t,n,i)=>{e.set(t,n);for(const t of i){const n=e.closestPointToPoint(t.line.start,!0,new o.Vector3),i=e.closestPointToPoint(t.line.end,!0,new o.Vector3);e.closestPointToPointParameter(n,!0)<e.closestPointToPointParameter(i,!0)?t.line.set(n,i):t.line.set(i,n)}i.sort(((t,n)=>e.closestPointToPointParameter(t.line.start,!0)-e.closestPointToPointParameter(n.line.start,!0)))}})(),P=e=>e===u.k.DOOR_UNKNOWN||e===u.k.DOOR_PIVOT||e===u.k.DOOR_SLIDE||e===u.k.DOOR_REVOLVE||e===u.k.DOOR_DOUBLE||e===u.k.DOOR_FOLD||e===u.k.DOOR_PANEL,D=e=>e===u.k.WINDOW_UNKNOWN||e===u.k.WINDOW_PIVOT||e===u.k.WINDOW_SLIDE||e===u.k.WINDOW_REVOLVE||e===u.k.WINDOW_DOUBLE||e===u.k.WINDOW_FOLD||e===u.k.WINDOW_PANEL,M=e=>!(!P(e)&&!D(e)&&e!==u.k.DIVIDER),C=e=>P(e)?u.v.DOOR:u.v.OPENING},8694:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var i=n(12625),r=n(49988),o=n(62802);class s extends i.B{get roomClassifications(){return this.roomBoundData.roomClassifications}constructor(e,t){super(),this.sweepData=e,this.roomBoundData=t,this.name="current-room-bound-room-data",this.currentRoomObservable=new r.r((()=>function(e,t){if(!e||!t)return null;let n=null;for(const i of t.rooms.values())if(i.floorId===e.floorId&&i.containsPoint(e.floorPosition.x,e.floorPosition.z)){n=i;break}return n}(this.sweepData.currentSweepObject||null,this.roomBoundData)),[t=>e.makeSweepChangeSubscription(t),e=>t.onChanged(e)])}get currentRoom(){return this.currentRoomObservable.value}makeCurrentRoomChangeSubscription(e){return this.currentRoomObservable.onChanged(e)}makeCurrentRoomWithSweepDataSubscription(e){return new o.P(this.makeCurrentRoomChangeSubscription(e),this.sweepData.onChanged(e))}isInTransitionState(){return this.sweepData.isInTransitionState()}}},68387:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var i=n(12625),r=n(14614),o=n(88186),s=n(52030),a=n(73566);class l extends i.B{constructor(e,t,n){super(),this.data=e,this.applicationData=t,this.toolsData=n,this.name="room-bound-view-data",this.roomBoundsVisible=!1,this._roomNamesVisible=s.vs,this._roomWallsVisible=s.vs,this._roomDimensionsVisible=s.vs,this._forceRoomDimensionVisibility=!1,this.applicationData.onChanged((()=>{this.commit()})),this.toolsData.onPropertyChanged("activeToolName",(()=>{this.commit()}))}getSelectedRoom(e){if(!e)return null;const t=this.data.getEntity(e);return t instanceof o.pQ?t:null}setRoomBoundVisible(e){this.roomBoundsVisible=e,this.commit()}get roomNamesVisible(){return this.applicationData.application!==r.lg.SHOWCASE&&(this.applicationData.application!==r.lg.WORKSHOP||this.toolsData.activeToolName!==a.S0.MEASUREMENTS)||this._roomNamesVisible}toggleRoomNamesVisible(){this._roomNamesVisible=!this._roomNamesVisible,this.commit()}get roomWallsVisible(){return this.applicationData.application!==r.lg.SHOWCASE&&(this.applicationData.application!==r.lg.WORKSHOP||this.toolsData.activeToolName!==a.S0.MEASUREMENTS)||this._roomWallsVisible}toggleRoomWallsVisible(){this._roomWallsVisible=!this._roomWallsVisible,this.commit()}get roomDimensionsVisible(){return this._roomDimensionsVisible&&(this.toolsData.activeToolName===a.S0.MEASUREMENTS||this.toolsData.activeToolName===a.S0.ROOM_BOUNDS)||this._forceRoomDimensionVisibility}get visibleInShowcase(){return this.roomNamesVisible||this.roomDimensionsVisible||this.roomWallsVisible}toggleRoomDimensionsVisible(){this._roomDimensionsVisible=!this._roomDimensionsVisible,this.commit()}forceRoomDimensionVisibility(e){this._forceRoomDimensionVisibility=e,this.commit()}}},43718:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var i=n(56208),r=n(50659),o=n(5262),s=n(41519),a=n(86e3),l=n(14614);function c(){const e=(0,r.N)(),t=(0,a.F)()===l.lg.WORKSHOP,n=(0,o.i)(i.Q$.RoomBounds,!1)||t,c=(0,s.g)();return e.length>0&&n&&!!c}},41519:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var i=n(98236),r=n(68387);const o=(0,i.v_)(r.B)},99325:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var i=n(96540),r=n(41519);const o=e=>{var t,n,i;return{roomDimensionsVisible:null===(t=null==e?void 0:e.roomDimensionsVisible)||void 0===t||t,roomNamesVisible:null===(n=null==e?void 0:e.roomNamesVisible)||void 0===n||n,roomWallsVisible:null===(i=null==e?void 0:e.roomWallsVisible)||void 0===i||i}},s=()=>{const e=(0,r.g)(),[t,n]=(0,i.useState)(o(e));return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(o(e)),i=e.onChanged(t);return t(),()=>{i.cancel()}}),[e]),t}},52030:(e,t,n)=>{"use strict";n.d(t,{AU:()=>o,VS:()=>r,vs:()=>i});const i=!0,r="features/pie-1.1-ceilings",o="features/pie-gross-floor-area"},50485:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var i=n(12625),r=n(97994);class o extends i.B{constructor(e){if(super(),this.name="rooms",this.selected=new r.L(null),this._rooms={},this.floorToRoomsMap=new Map,e)for(const t of Object.values(e))this.add(t)}add(e){this._rooms[e.id]=e;const t=this.floorToRoomsMap.get(e.floorId);t?t.push(e):this.floorToRoomsMap.set(e.floorId,[e])}remove(e){const t=this.get(e);if(!t)return;const n=this.floorToRoomsMap.get(t.floorId);if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}delete this._rooms[e]}rooms(){const e=this._rooms,t=Object.keys(this._rooms);return function*(){for(const n of t)yield e[n]}()}get roomCount(){return Object.keys(this._rooms).length}get collection(){return this._rooms}getAllRooms(){return Object.values(this.floorToRoomsMap)}get(e){return this._rooms[e]}getByMeshSubgroup(e){return Object.values(this._rooms).find((t=>t.meshSubgroup===e))}roomsByFloor(e){return this.floorToRoomsMap.get(e)||[]}getRoomIdMap(e,t){const n={};for(const i of Object.values(this._rooms)){const r=e.getFloor(i.floorId),o=r?String((r.index<<16)+i.meshSubgroup):"",s=i.id;""===o?console.warn("[WARNING getRoomIdMap]: mapping between room IDs was incomplete!"):t?n[o]=s:n[s]=o}return n}}},68593:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(11165);class r extends i.u{constructor(e,t){super(),this.payload={owner:e,isVisible:t}}}r.id="TOGGLE_SCENES_BY_OWNER"},91779:(e,t,n)=>{"use strict";n.d(t,{q:()=>u,t:()=>c});var i=n(68909),r=n(3531),o=n(9139),s=n(10032);const a=["FontLoader","Font","ParametricGeometry","TextGeometry"],l=new o.Vy("three-globals"),c=function(e,t){i.DefaultLoadingManager.addHandler(/\.tga$/i,new r.TGALoader(s.A)),i.DefaultLoadingManager.addHandler(/\.jpe?g$/i,e()),i.DefaultLoadingManager.addHandler(/\.png$/i,t()),i.Cache.enabled=!0},u=async function(){const{modules:e}=await Promise.all([n.e(8287),n.e(1916),n.e(3276),n.e(6888),n.e(1662),n.e(8704),n.e(239)]).then(n.bind(n,15014));for(const t of e){const e=Object.keys(t);for(const n of e){const e=t[n],r=i;if(n in r)if("object"==typeof e)for(const t in e)t in r[n]||(r[n][t]=e[t]);else"function"==typeof e&&(!(n in r)||a.includes(n)?r[n]=e:l.debug(`"${n}" exists in THREE object but has not been listed as overrideable, skipping...`));else r[n]=e}}}},78849:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var i=n(12625),r=n(4850),o=n(88325),s=n(93877),a=n(93369);class l extends i.B{constructor(){super(...arguments),this.name="search-data",this.searchMode=!1,this.query="",this.typeFilters=(0,r.Z)(),this.keywordFilters=(0,r.Z)(),this.grouping=l.defaultGrouping,this.results=(0,o.y)(),this.dataTypeGroups={},this.keywordCounts=(0,o.y)({}),this.activeItemId=null,this.selectedType=null,this.simpleSearchView=!1}getSearchDataTypeList(){return Object.values(this.dataTypeGroups)}getSearchDataTypeGroup(e){return this.dataTypeGroups[e]}getQuery(){return this.query}getTypeFilters(){return this.typeFilters.values()}setTypeFilters(e){this.typeFilters.replace(e)}setTypeFilter(e){this.setTypeFilters([e])}clearTypeFilters(){this.getTypeFilters().length>0&&this.typeFilters.replace([])}toggleSearchFilter(e,t){t?this.typeFilters.push(e):this.typeFilters.remove(this.typeFilters.indexOf(e))}hasActiveQuery(){return""!==this.query||this.keywordFilters.length>0}setQuery(e){this.query=e}getKeywordFilters(){return this.keywordFilters.values()}setKeywordFilters(e){this.keywordFilters.replace(e)}setKeywordCounts(e){this.keywordCounts.replace(e)}getKeywordSummaries(){const e={};return this.getKeywordFilters().forEach((t=>{e[t]={id:t,text:t,count:0,isSelected:!0}})),this.keywordCounts.keys.forEach((t=>{const n=this.keywordCounts.get(t);e[t]?e[t].count=n:e[t]={id:t,text:t,count:n,isSelected:!1}})),Object.values(e)}hasSearchResultItem(e){const t=(0,a.u)(e);return this.results.has(t)}getSearchResultItem(e){const t=(0,a.u)(e);return this.results.get(t)}getResultsMap(){return this.results}getResults(){return this.results.values}onSearchResultsChanged(e){return this.results.onChanged(e)}setResults(e){this.getResults().forEach((e=>e.cancelBindings()));const t=e.reduce(((e,t)=>(e[(0,a.u)(t)]=t,t.registerBindings(),e)),{});this.atomic((()=>{this.results.replace(t)}))}}l.defaultGrouping=s.Hj.TYPE},79723:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var i=n(56208);const r="search";function o(e){const t=e.tryGetSetting(i.Q$.SpaceSearch,0),n=e.getOverrideParam(r,1);return t&&!(0===n)}},95143:(e,t,n)=>{"use strict";n.d(t,{A_:()=>l,S8:()=>i,x8:()=>a});const i=["<mark>","</mark>"],r=20;function o(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function s(e,t){const[n,r]=i,s=`${n}|${r}`;let a=!1;if(e.match(new RegExp(s))&&(e=e.replace(new RegExp(`(${s})`,"g"),((e,t)=>t.split("").join(""))),a=!0),t){let i;i=a?t.split("").map(o).join("[]?"):o(t),e=e.replace(new RegExp(`(${i})`,"gi"),((e,t)=>`${n}${t}${r}`))}return e}const a=s;function l(e,t){const n=function(e,t){var n;const i=e.toLowerCase(),[s,a,l]=[i.indexOf(t),e.length,(null===(n=i.match(new RegExp(`${o(t)}`,"g")))||void 0===n?void 0:n.length)||1];let c=e,u=s;if(a>r&&u>0){if(1===l){const e=Math.floor((r-t.length)/2);e>0&&u>e&&(u-=e)}c=`...${c.substr(u)}`,c.length<r&&(u-=r-c.length,u>0&&(c=`...${e.substr(u)}`))}return c}(e,t);return s(n,t)}},95072:(e,t,n)=>{"use strict";n.d(t,{X$:()=>i,aJ:()=>r,bo:()=>o});const i=75,r=50,o=50},93369:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,u:()=>s});var i=n(93877),r=n(95072);function o(e,t,n){var o;switch(n){case i.Hj.TYPE:return(null===(o=null==e?void 0:e.dataTypeGroups[t])||void 0===o?void 0:o.groupOrder)||r.X$;case i.Hj.FLOOR:return r.bo;case i.Hj.LAYER:return r.aJ}return-1}function s(e){return`${e.id}-${e.typeId}`}},84358:(e,t,n)=>{"use strict";var i;n.d(t,{Y:()=>i}),function(e){e.SPHERE="sourcetype.sphere",e.BOX="sourcetype.box",e.CYLINDER="sourcetype.cylinder"}(i||(i={}))},29543:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var i=n(68909),r=n(47213);class o extends r.y{constructor(){super(),this.box=new i.Box3,this.center=new i.Vector3,this.size=new i.Vector3(1/0,1/0,1/0),this.orientation=new i.Quaternion,this.inverseOrientation=new i.Quaternion,this.pointCache=new i.Vector3,this.transformNeedsUpdate=!1,this.box.setFromCenterAndSize(this.center,this.size)}get origin(){return this.center}updateCenter(e){this.center.copy(e),this.box.setFromCenterAndSize(this.center,this.size),this.transformNeedsUpdate=!0}updateDimensions(e){this.size.copy(e),this.box.setFromCenterAndSize(this.center,this.size)}updateOrientation(e){this.orientation.copy(e),this.transformNeedsUpdate=!0}containsPoint(e){return this.transformNeedsUpdate&&(this.transformNeedsUpdate=!1,this.inverseOrientation.copy(this.orientation).invert()),this.pointCache.copy(e).sub(this.center),this.pointCache.applyQuaternion(this.orientation),this.pointCache.add(this.center),this.box.containsPoint(this.pointCache)}}},39634:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var i=n(68909),r=n(47213);class o extends r.y{constructor(){super(...arguments),this._basePoint=new i.Vector3,this._height=1/0,this._radius=1/0,this.pointCache=new i.Vector3}get origin(){return this._basePoint}get basePoint(){return this._basePoint}get height(){return this._height}get radius(){return this._radius}updateBasePoint(e){this.basePoint.set(e.x,e.y,e.z)}updateHeight(e){this._height=e}updateRadius(e){this._radius=e}containsPoint(e){return this.pointCache.set(e.x,this._basePoint.y,e.z),this._basePoint.distanceToSquared(this.pointCache)<=this.radius**2&&this._basePoint.y<=e.y&&e.y<=this._basePoint.y+this.height}}},41369:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var i=n(68909),r=n(47213);class o extends r.y{constructor(){super(...arguments),this.origin=new i.Vector3,this.radius=1/0}updateRadius(e){this.radius=e}updateOrigin(e){this.origin.copy(e)}containsPoint(e){return this.origin.distanceToSquared(e)<=this.radius**2}}},66416:(e,t,n)=>{"use strict";var i;n.d(t,{X:()=>i}),function(e){e.USER="user",e.PANORAMA="panorama",e.UNALIGNED="unaligned",e.AUTO="auto",e.TOUR="tour"}(i||(i={}))},97696:(e,t,n)=>{"use strict";n.d(t,{PN:()=>l,nF:()=>c});var i=n(81587),r=n(66416),o=n(66806),s=n(2993),a=n(19968);r.X.PANORAMA,r.X.TOUR,r.X.USER;const l=(e,t)=>{const n=e.name||(0,i.Rt)(e.created),r=t.name||(0,i.Rt)(t.created);return n.localeCompare(r)},c=(e,t,n)=>{var i;let r=null!==(i=n.currentMode)&&void 0!==i?i:o.N.Panorama;const l=e.pose.position.clone();return(0,s.jY)(r)&&((0,a.aY)(e.pose.pitchFactor())?(r=o.N.Floorplan,l.y=e.pose.fovCorrectedFocalDistance()+t.getFloorMin()):r=o.N.Dollhouse),{position:l,viewmode:r}}},97831:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,t:()=>r});const i="features/exterior_views",r=100},12715:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var i=n(12625),r=n(88325);class o extends i.B{constructor(e){super(),this.name="splats-data",this.splats=new r.E,e&&this.splats.replace(e)}addSplat(e){this.splats.set(e.id,e)}removeSplat(e){this.splats.delete(e.id)}get hasSplats(){return this.splats.length>0}}},95386:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{static get hasPassword(){const{model:e}=window.MP_PREFETCHED_MODELDATA||{};return e&&e.has_public_access_password}static get modelErrorCode(){var e,t;return null===(t=null===(e=window.MP_PREFETCHED_MODELDATA)||void 0===e?void 0:e.model)||void 0===t?void 0:t.error_code}static getQuery(e){var t,n,i;const r=(null===(t=window.MP_PREFETCHED_MODELDATA)||void 0===t?void 0:t.queries)||{};if("GetModelPrefetch"===e){const t=r[e];if(!t)return;const o=null===(n=t.data)||void 0===n?void 0:n.model;if(!o)return;if(!(null===(i=o.locations)||void 0===i?void 0:i.length))return;return t}return r[e]}static getQueryErrors(e){var t,n,i;return null===(i=null===(n=null===(t=window.MP_PREFETCHED_MODELDATA)||void 0===t?void 0:t.queries)||void 0===n?void 0:n[e])||void 0===i?void 0:i.errors}static get config(){var e;return null===(e=window.MP_PREFETCHED_MODELDATA)||void 0===e?void 0:e.config}static get sdkMetadata(){return window.MP_SDK_METADATA}}},47840:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var i=n(84651),r=n(99625),o=n(9139),s=n(75027);const a=new o.Vy("PrefetchedQueryCache");class l{constructor(e){const{initialData:t,baseUrl:n,mdsContext:o}=e;this.client=new i.t({baseUrl:n,mdsContext:o}),this.config=e,t?(this.data=t,this.initialLoadPromise=Promise.resolve(this.data),this.fixVariablesForDefaultViewIdIfNeeded()):e.prefetchPolicy===r.G.PRELOAD&&this.preload()}async read(e,t,n={}){const{prefetchKey:i,prefetchPolicy:o=this.config.prefetchPolicy}=n;if(!i||o===r.G.NONE)return;if((null==t?void 0:t.modelId)&&(null==t?void 0:t.modelId)!==this.config.variables.modelId)return;o===r.G.PRELOAD&&void 0===this.data&&await this.preload();const s=this.has(i);return a.debug(`Cache ${s?"hit":"miss"} for ${i}`),s?this.data:void 0}clear(){this.data=void 0,this.preloadPromise=void 0}async preload(){var e;return null!==(e=this.preloadPromise)&&void 0!==e?e:this.preloadPromise=(async()=>{const{query:e,variables:t,anonymous:n}=this.config;try{return this.initialLoadPromise=this.client.query(e,t,{anonymous:n}),this.data=await this.initialLoadPromise,this.fixVariablesForDefaultViewIdIfNeeded(),!0}catch(e){return a.info(e),this.data={},!1}})()}has(e){return void 0!==(0,s.L)(this.data,e)}fixVariablesForDefaultViewIdIfNeeded(){const e=(0,s.L)(this.data,"data.model.id"),t=(0,s.L)(this.config,"variables.modelId");void 0!==this.data&&void 0!==e&&void 0!==t&&e!==t&&(a.debug(`Updating cache modelId from it's initial value ${t} to the value returned by platform ${e}`),this.config.variables.modelId=e)}}},45548:(e,t,n)=>{"use strict";n.d(t,{DI:()=>r,ft:()=>s,xi:()=>o,xt:()=>a});var i=n(7478);class r extends i.QB{constructor(e){super(),this.dataTypes=e}}class o extends i.QB{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class s extends i.QB{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class a extends i.QB{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}},3645:(e,t,n)=>{"use strict";n.d(t,{An:()=>o,Z1:()=>s,ZZ:()=>c,jg:()=>i,nt:()=>r,oZ:()=>u,td:()=>l,x$:()=>a});const i="subscriber_prompt",r="subscriber-prompt-active",o="subscriber-prompt-active",s=Object.freeze({popupDelay:14500,popupEnabled:!1,bannerEnabled:!1,domainDenylist:["ea4141d5b45bcfce5ac984955a7df9f74b323182","500ef59c0e9bd523a5e102d4b229b85df4c008c2","55d9b1786668eb25ce174aa06d46535054046935","44a68fb615814e263894da681018ed5687527b75","750514616c13561e878f04cd38cedc4bd3028f60","633e98d1f7cf36879e21d642068af2196d67a229","2566065b5d698efd82a16854185501ee2ea8eae6"]}),a={enabled:"spEnabled",forceBanner:"spBanner",forcePopup:"spPopup",forcePolicy:"spPolicy",forceReferrer:"spReferrer"},l="spaces.visitor.subscriber.prompt",c="mp/subscriber-prompt-dismissed",u="https://matterport.page.link/v2s-download"},60818:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});const i=new(n(9139).Vy)("subscriber-prompt")},34184:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(40899);class r extends i.A{}},47004:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(40899);class r extends i.A{constructor(e,t,n,i){super(e,i),this.alignmentType=t,this.placementType=n}}},40899:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.fromSweep=t,this.toSweep=e,this.timestamp=Date.now()}}},50018:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,EO:()=>r,c$:()=>i});var i,r,o=n(68909),s=n(3928),a=n(76318);!function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(i||(i={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(r||(r={}));const l={[a.MF.BASE]:"512",[a.MF.STANDARD]:"1k",[a.MF.HIGH]:"2k",[a.MF.ULTRAHIGH]:"4k"},c={[a.MF.BASE]:"low",[a.MF.STANDARD]:"high",[a.MF.HIGH]:"2k",[a.MF.ULTRAHIGH]:"4k"};class u extends s.v{static formatId(e,t){return t?`${t}:${e}`:e}static parseId(e){const t=e.split(":");return{platformId:t.length>1?t[1]:t[0],sourceViewId:t.length>1?t[0]:null}}get id(){return this._id}get platformId(){return this._platformId}get sourceViewId(){return this._sourceViewId}set sourceViewId(e){this._sourceViewId=e}constructor(e){super(),this._sourceViewId=null,this.floorId=null,this.roomId=null,this.neighborsEdited=!1,this.skyboxes={},e&&(null!=e.sourceViewId&&(this._sourceViewId=e.sourceViewId),e.platformId&&(this._platformId=e.platformId),this._id=u.formatId(this._platformId,this._sourceViewId),void 0!==e.index&&(this.index=e.index),this.name=e.name||"",this.position=e.position||new o.Vector3,this.floorPosition=e.floorPosition||new o.Vector3,void 0!==e.floorId&&(this.floorId=e.floorId),this.roomId=e.roomId||null,this.rotation=e.rotation||new o.Quaternion,this.enabled=e.enabled||!1,this.vrenabled=e.vrenabled||!1,this.neighbours=e.neighbours||[],this._sourceViewId&&(this.neighbours=this.neighbours.map((e=>u.formatId(e,this._sourceViewId)))),this.alignmentType=e.alignmentType||i.ALIGNED,this.placementType=e.placementType||r.UNPLACED,void 0!==e.uuid&&(this.uuid=e.uuid),e.resolutions&&(this.resolutions=e.resolutions.slice()),e.skyboxes&&(this.skyboxes=Object.assign({},e.skyboxes)))}isAligned(){return this.alignmentType===i.ALIGNED}isUnplaced(){return this.placementType===r.UNPLACED}equals(e,t=!0){return this.id===e.id&&this.index===e.index&&this.name===e.name&&this.position.equals(e.position)&&(!t&&!e.floorId||this.floorId===e.floorId)&&(!t&&!e.roomId||this.roomId===e.roomId)&&this.rotation.equals(e.rotation)&&this.enabled===e.enabled&&this.vrenabled===e.vrenabled&&this.alignmentType===e.alignmentType&&this.placementType===e.placementType}copy(e){return this._id=e._id,this._sourceViewId=e._sourceViewId,this._platformId=e._platformId,this.index=e.index,this.name=e.name,this.position=(new o.Vector3).copy(e.position),this.floorPosition=(new o.Vector3).copy(e.floorPosition),this.floorId=e.floorId,this.roomId=e.roomId,this.rotation=(new o.Quaternion).copy(e.rotation),this.enabled=e.enabled,this.vrenabled=e.vrenabled,this.neighbours=e.neighbours.slice(),this.alignmentType=e.alignmentType,this.placementType=e.placementType,this.resolutions=e.resolutions,this.skyboxes=Object.assign({},e.skyboxes),this}clone(){return new u({platformId:this.platformId}).copy(this)}availableResolution(e){if(!e||!this.resolutions)throw new Error("No available resolution found for sweep");return this.resolutions.includes(e)?e:this.availableResolution(this.getLowerResolution(e))}getLowerResolution(e){switch(e){case a.MF.ULTRAHIGH:return a.MF.HIGH;case a.MF.HIGH:return a.MF.STANDARD;case a.MF.STANDARD:return a.MF.BASE}return null}refresh(e){var t;const n=this.equals(e,!1);this.alignmentType=e.alignmentType,this.enabled=e.enabled,this.name=e.name,this.neighbours=e.neighbours.slice(),this.placementType=e.placementType,this.resolutions=e.resolutions,this.vrenabled=e.vrenabled;for(const n in this.skyboxes){const i=n,r=e.skyboxes[i];r&&(null===(t=this.skyboxes[i])||void 0===t||t.refreshFrom(r))}n||this.commit()}async getTileUrl(e,t,n,i){var r;const o=await this.getSkybox(e);return(null!==(r=null==o?void 0:o.tileUrlTemplate)&&void 0!==r?r:`tiles/${this.id}/${l[e]}_face<face>_<x>_<y>.jpg`).replace("<face>",`${t}`).replace("<x>",`${n}`).replace("<y>",`${i}`)}async getFaceUrl(e,t){var n;const i=await this.getSkybox(e)||await this.getSkybox(a.MF.BASE);return(null!==(n=null==i?void 0:i.urlTemplate)&&void 0!==n?n:`pan/${c[e]}/${this.id}_skybox<face>.jpg`).replace("<face>",`${t}`)}async getSkybox(e){const t=this.skyboxes[e];return t?t.get():t}get tags(){const e=[];return this.enabled&&e.push("showcase"),this.vrenabled&&e.push("vr"),e}transform(e){this.position.applyMatrix4(e),this.floorPosition.applyMatrix4(e),this.rotation.premultiply((new o.Quaternion).setFromRotationMatrix(e))}}},63362:(e,t,n)=>{"use strict";n.d(t,{HP:()=>r,WS:()=>s,WW:()=>o,_p:()=>c,tA:()=>l});var i=n(11165);class r extends i.u{constructor(e){super(),this.sweepId=e,this.payload={sweepId:e}}}r.id="SET_CURRENT_SWEEP";class o extends i.u{constructor(e,t,n=500){super(),this.payload={id:e,hovered:t,duration:n}}}o.id="HOVER_SWEEP";class s extends i.u{constructor(e,t=[],n=[]){super(),this.payload={id:e,added:t,removed:n}}}s.id="MODIFY_SWEEP_NEIGHBORS";class a extends i.u{constructor(e,t){super(),this.payload={id:e,name:t}}}a.id="RENAME_SWEEP";class l extends i.u{}l.id="ENABLE_SWEEP_SELECTION";class c extends i.u{}c.id="DISABLE_SWEEP_SELECTION"},12837:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(12625),r=n(43879),o=n(88325),s=n(24479),a=n(5894),l=n(9139),c=n(3928),u=n(92237);class d extends c.v{constructor(){super(...arguments),this.progress=new u.z(0),this.active=!1,this.from=void 0,this.to=void 0}clone(){const e=new d;return e.progress.copy(this.progress),e.active=this.active,e.from=this.from,e.to=this.to,e}}let h=0;class p extends c.v{constructor(){super(),this.id=""+h++,this.currentSweep=void 0,this.transition=new d}activateTransition(e,t){this.transition.active=!0,this.transition.from=t,this.transition.to=e}deactivateTransition(){this.transition.active=!1,this.transition.from=void 0,this.transition.to=void 0}canTransition(){return!this.transition.active}commit(){this.transition.commit(),super.commit()}equals(e){return this.id===e.id}}var f=n(50018);class m extends i.B{constructor(e){super(),this.name="sweeps",this.state=(0,r.R)(new p),this._unfilteredSweepMap=new o.E,this.sweepMap=new s.q(this._unfilteredSweepMap),this.bindings=[],e&&this.addSweeps(e),this.isSweepDisabled=this.isSweepDisabled.bind(this)}initSwitchableFromViewport(e){const{bindings:t,dataMap:n}=e.manageDataForViewports((()=>new p),this.state.currentObservable,this.state);this.viewportState=n,this.bindings.push(...t)}addFilter(e,t){return this.sweepMap.setFilter(e,t)}clearFilters(){this.sweepMap.clearFilters()}removeSweeps(e){const t=Object.values(e).map((e=>e.id));return this._unfilteredSweepMap.atomic((()=>{const n=this._unfilteredSweepMap.values;for(const i of n)if(e[i.id])this._unfilteredSweepMap.delete(i.id);else{let e=!1;t.forEach((t=>{(0,a.Nz)(i.neighbours,t)&&(e=!0)})),e&&i.commit()}})),this}addSweeps(e){const t=Object.values(e).sort(((e,t)=>e.index-t.index));return this._unfilteredSweepMap.atomic((()=>{for(const e of t)this._unfilteredSweepMap.has(e.id)?this._unfilteredSweepMap.get(e.id).refresh(e):this._unfilteredSweepMap.set(e.id,e)})),this}refresh(e){this._unfilteredSweepMap.forEach(((t,n)=>{e[n]&&t.refresh(e[n])}))}get currentSweepIndex(){if(this.state.currentSweep)return this.getSweep(this.state.currentSweep).index}get currentSweepObject(){if(this.state.currentSweep)return this.getSweep(this.state.currentSweep)}get currentAlignedSweepObject(){if(this.state.currentSweep&&!this.isSweepUnaligned(this.state.currentSweep))return this.getSweep(this.state.currentSweep)}makeSweepChangeSubscription(e){return this.state.onPropertyChanged("currentSweep",e)}getSweep(e){let t=this._unfilteredSweepMap.get(null!=e?e:"");if(!t)for(const n of this._unfilteredSweepMap.values)n.platformId!==e||(t=n);return t}getSweepByIndex(e){return this._unfilteredSweepMap.values.find((t=>t.index===e))}getSweepByUuid(e){return this._unfilteredSweepMap.values.find((t=>t.uuid===e))}containsSweep(e,t={unfiltered:!1}){if(!e)return!1;return(t.unfiltered?this._unfilteredSweepMap:this.sweepMap).has(e)}getFirstSweep(e=!1,t=()=>!0){return this.getSweepList().sort(((e,t)=>e.index-t.index)).find((n=>n.enabled&&(!e||n.alignmentType===f.c$.ALIGNED)&&t(n)))}getFirstAlignedSweep(){return this.getFirstSweep(!0)||null}getStartSweep(e){const t=e&&e.pano&&e.pano.uuid?this.getSweep(e.pano.uuid):null;return t&&t.enabled?t:this.getFirstSweep()}getClosestSweep(e,t,n=()=>!0){let i=Number.MAX_VALUE,r=null;return this.iterate((o=>{if(o.enabled&&(!t||o.alignmentType===f.c$.ALIGNED)&&n(o)){const t=e.distanceToSquared(o.position);t<i&&(i=t,r=o)}})),r}getSweepIdMap(e){const t={};for(const n of this.sweepMap)e?t[n.uuid]=n.platformId:(t[n.id]=n.uuid,t[n.platformId]=n.uuid);return t}isSweepUnaligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&!t.isAligned()}isSweepAligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&t.isAligned()}isSweepDisabled(e=this.state.currentSweep){if(!e)return!1;const t=this.getSweep(e);return!t||!t.enabled}*sweeps(){for(const e of this.sweepMap.values)yield e}iterate(e){for(const t of this.sweepMap.values)e(t,t.index)}filter(e){return this.sweepMap.values.filter(e)}sortByScore(e,t,n){return(n||this.sweepMap.values).filter((t=>e.every((e=>e(t))))).map((e=>({sweep:e,score:t.reduce(((t,n)=>t+n(e)),0)}))).sort(((e,t)=>t.score-e.score))}getSweepList(){return this.sweepMap.values}getAlignedSweeps(){return this.getSweepList().filter((e=>e.alignmentType===f.c$.ALIGNED))}getUnAlignedSweeps(){return this.getSweepList().filter((e=>e.alignmentType!==f.c$.ALIGNED))}onSweepsChanged(e){return this.sweepMap.onChanged(e)}getSweepNeighbours(e){const t=[];for(const n of e.neighbours)t.push(this.getSweep(n));return t}getAlternateSweeps(e,t={unfiltered:!1}){const n=[];if(!e)return n;const i=t.unfiltered?this._unfilteredSweepMap:this.sweepMap;for(const t of i.values)t.platformId===e.platformId&&t.id!==e.id&&n.push(t);return n}getCollection(){return this.sweepMap}getCollectionUnfiltered(){return this._unfilteredSweepMap}getIndexByAlignment(e,t){return(e?this.getAlignedSweeps():this.getUnAlignedSweeps()).findIndex((e=>e.id===t))}getStateForViewport(e){const t=this.viewportState.get(e);if(!t)throw l.Vy.for(this).error(`No SweepDataState for viewportId ${e}`,this.viewportState),new Error("No SweepDataState for viewportId");return t}isInTransitionState(){return this.state.transition.active?this.state.transition.to!==this.state.transition.from:this.isSweepUnaligned(this.state.currentSweep)}}},8333:(e,t,n)=>{"use strict";n.d(t,{Oe:()=>r,RB:()=>s,W0:()=>o});var i=n(82748);const r="settings/tiling/preload_quality",o=Object.freeze({overlayStyle:(0,i.P3)("tileoverlay",0),uploadIntervalDelay:50,highResUploadsPerFrame:2,maxHighResUploadsPerFrame:100,loadIndicatorDelay:300,uploadsPerFrame:6,maxUploadsPerFrame:100,windowHeightHighQualityThreshold:800,windowHeightHighQualityThresholdOverride:(0,i.P3)("threshold2k",void 0),concurrentDownloads:3,maxConcurrentDownloads:12,navigation:{directionFactor:10,distanceFactor:-1}});class s{constructor(){this.reset()}reset(){this.downloadFullPano=!1,this.concurrentDownloads=o.concurrentDownloads,this.uploadsPerFrame=o.uploadsPerFrame,this.highResUploadsPerFrame=o.highResUploadsPerFrame}}},23500:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const i="features/360_views"},3956:(e,t,n)=>{"use strict";n.d(t,{Jz:()=>T,UJ:()=>O});var i=n(68909),r=n(3928),o=n(14868),s=n(92237),a=n(23184),l=n(52885),c=n(84250),u=n(37458),d=n(81662),h=n(18855),p=n(60662),f=n(81544),m=n(31002),g=n(71067),v=n(57811),y=n(58097);const E=[],S=new i.Sphere;class b extends c.O{constructor(){super(...arguments),this.bindings=[]}}class _ extends r.v{constructor(){super(...arguments),this.selected=!1,this.visible=!1,this.selectable=!1,this.hovered=new s.z(0)}}class O extends i.Mesh{raycast(e,t){if(super.raycast(e,E),E.length){const{geometry:n}=this;n.boundingSphere||n.computeBoundingSphere(),S.copy(n.boundingSphere).applyMatrix4(this.matrixWorld);for(const n of E)e.ray.intersectSphere(S,n.point),n.distance=e.ray.origin.distanceTo(n.point),t.push(n);E.length=0}}}class T{needsUpdate(){this.dirty=!0}constructor(e,t,n,r,s,a,l,c,u,d,h=o.H.ALL){if(this.getSelectedSweep=e,this.getCurrentFloor=t,this.isInside=n,this.setHovered=r,this.scene=s,this.input=a,this.settingsData=l,this.sweepData=c,this.puckImagery=u,this.checkRenderModes=d,this.layer=h,this.name="sweep-puck-renderer",this.sweepToMesh={},this.dummyMat=new i.MeshBasicMaterial,this.options={selectionEnabled:!1,renderCurrentPuck:!1,editingEnabled:!1,displayNeighborsOnly:!1},this.puckOffset=new i.Vector3(0,.05,0),this.bindings=[],this.dirty=!1,this.wasDrawing=!1,this.idleColor=y.no,this.selectionColor=y.zV,this.idleOpacity=y.j$,this.editingOpacity=y.XT,this.selectionDuration=y.u4,this.puckSize=.4,this.onFloor=!0,this.updateVisibleNeighbors=(()=>()=>{const e=this.displayDisabled,{displayNeighborsOnly:t}=this.options,n=this.sweepData.state;for(const n in this.sweepToMesh)t?this.disableSweep(n):e&&this.enableSweep(n);if(t){const e=this.sweepData.getSweep(n.currentSweep);e&&(e.neighbours.forEach((e=>{this.enableSweep(e)})),this.enableSweep(e.id))}this.needsUpdate()})(),this.renderPuckHighlight=(e,t)=>{const n=this.sweepToMesh[e];n&&n.sweep.isAligned()&&(null==n||n.configure({tint:t?this.selectionColor:this.idleColor}))},this.isVisiblePuckCollider=e=>e instanceof O&&e.visible,this.onSweepAdded=(e,t)=>{this.needsUpdate(),this.sweepToMesh[t]||this.createPuck(e)},this.onSweepRemoved=(e,t)=>{this.disableSweep(t);const n=this.sweepToMesh[t];n&&(n.state.visible=!1,n.bindings.forEach((e=>e.cancel())),n.bindings.length=0,n.removeFromParent()),delete this.sweepToMesh[t]},this.puckGeometry=new i.PlaneGeometry(this.puckSize,this.puckSize),this.onFloor){const e=new i.Matrix4;e.makeRotationFromEuler(new i.Euler(-Math.PI/2,0,0,"XYZ")),this.puckGeometry.applyMatrix4(e)}this.sphereColliderGeometry=new i.SphereGeometry(.5*this.puckSize,10,10)}init(){}activate(e){this.wasDrawing=!1;const t=a.f.is(this.isVisiblePuckCollider);this.bindings.push(this.input.registerMeshHandler(f.L,t,((t,n)=>{this.setHovered({id:n.userData.sid,active:!0,duration:this.selectionDuration}),e.broadcast(new h.n(n.userData.sid,!0))}))),this.bindings.push(this.input.registerMeshHandler(f.q,t,((t,n)=>{this.setHovered({id:n.userData.sid,active:!1,duration:this.selectionDuration}),e.broadcast(new h.n(n.userData.sid,!1))}))),this.bindings.push(this.input.registerMeshHandler(m.rX,t,((t,n)=>{const i=n.userData.puck.sweep.index,r=this.sweepData.getAlignedSweeps().length;e.broadcast(new p.e(n.userData.sid,i,r))})));const n=this.sweepData.getCollection();this.bindings.push(n.onElementsChanged((({removed:e,added:t})=>{e&&e.forEach((([e,t])=>this.onSweepRemoved(t,e))),t&&t.forEach((([e,t])=>this.onSweepAdded(t,e)))}))),n.entries().forEach((([e,t])=>this.onSweepAdded(t,e))),this.updateVisibleNeighbors()}render(e){this.updateForNeighbors(this.sweepData.state.currentSweep);const t=this.checkRenderModes(),n=this.settingsData.tryGetSetting(v.f,!0);if(t&&n){if(!this.wasDrawing){for(const e in this.sweepToMesh)this.enableSweep(e);this.needsUpdate(),this.wasDrawing=!0}}else if(this.wasDrawing){for(const e in this.sweepToMesh)this.disableSweep(e);this.needsUpdate(),this.wasDrawing=!1}for(const t in this.sweepToMesh)this.sweepToMesh[t].state.hovered.tick(e);this.dirty&&(this.updateMeshes(),this.dirty=!1)}deactivate(e){for(const e in this.sweepToMesh)this.disableSweep(e,!0);for(const e of this.bindings)e.cancel();this.bindings.length=0}dispose(){for(const e in this.sweepToMesh)this.sweepToMesh[e].dispose(),this.onSweepRemoved(this.sweepToMesh[e].sweep,e)}updateMeshes(){for(const e in this.sweepToMesh){const t=this.sweepToMesh[e];this.updateMesh(t.sweep,t)}}getPuck(e){if(e)return this.sweepToMesh[e]}toggleEditingEnabled(e){this.options.editingEnabled=e;for(const t in this.sweepToMesh){this.sweepToMesh[t].configure({opacity:e?this.editingOpacity:this.idleOpacity})}}updatePuckImagery(e){this.puckImagery=e,this.updateVisibleNeighbors()}updateCheckRenderModes(e){this.checkRenderModes=e}updateForNeighbors(e){if(this.isInside()){const t=this.sweepData.getSweep(e);for(const e in this.sweepToMesh){const n=this.sweepToMesh[e].sweep;(null==n?void 0:n.sourceViewId)===(null==t?void 0:t.sourceViewId)&&this.disableSweep(e)}t&&(t.neighbours.forEach((e=>{this.enableSweep(e)})),this.enableSweep(t.id)),this.needsUpdate()}}get displayDisabled(){return void 0!==this.puckImagery.disabled}disableSweep(e,t=!1){const n=this.sweepToMesh[e];n&&(n.state.visible=n.state.selectable=!1,t&&n.state.commit())}enableSweep(e,t=!1){var n;if(!(null===(n=this.sweepData.getSweep(e))||void 0===n?void 0:n.enabled)&&!this.displayDisabled)return;const i=this.sweepToMesh[e];if(i){const{currentSweep:n}=this.sweepData.state,r=e!==n||n===e&&this.options.renderCurrentPuck;i.state.visible=i.state.selectable=r,t&&i.state.commit()}}createPuck(e){var t,n,i;if(!e.isAligned())return;const{dummyMat:r,layer:o,onFloor:s,puckGeometry:a,puckSize:l,scene:c,sphereColliderGeometry:h}=this,p=new b({radius:l/2,normal:d.B1.UP});let f;p.state=new _,p.sweep=e,s?p.position.copy(e.floorPosition).add(this.puckOffset):(p.position.copy(e.position),p.rotation.setFromQuaternion(e.rotation)),p.name=e.id,p.layers.mask=o.mask,p.renderOrder=u.X.panoMarker,p.updateMatrixWorld(!1),p.material.depthWrite=!1,f=new O(s?a:h,r),f.userData.sid=e.id,f.userData.puck=p,f.position.copy(p.position),f.rotation.copy(p.rotation),f.name=e.id,f.updateMatrixWorld(!1),p.collider=f;const m=()=>this.updateMesh(e,p);p.bindings.push(p.state.onChanged(m),p.state.hovered.onChanged(m),e.onPropertyChanged("enabled",m)),m();c.getSubTree([null!==(t=p.sweep.sourceViewId)&&void 0!==t?t:g.j,"sweep-pucks",null!==(n=p.sweep.floorId)&&void 0!==n?n:"floors",null!==(i=p.sweep.roomId)&&void 0!==i?i:"rooms"]).add(p),this.input.registerMesh(p.collider,!0,this.isVisiblePuckCollider),this.sweepToMesh[e.id]=p}updateMesh(e,t){var n;const{options:r,puckImagery:o,sweepData:s}=this,{displayNeighborsOnly:a,editingEnabled:c,renderCurrentPuck:u}=r,{currentSweep:d}=s.state,h=(!s.currentSweepObject||!!(null===(n=s.currentSweepObject)||void 0===n?void 0:n.isAligned()))&&d!==e.id||u&&d===e.id,p=a||null===this.getCurrentFloor()||this.getCurrentFloor()===e.floorId,f=!s.containsSweep(e.id)||!h,m=e.enabled||this.displayDisabled,g=this.settingsData.tryGetSetting(v.f,!0)&&p&&m;if(t.collider.visible=!f&&g&&(t.state.selectable||c),t.visible=!f&&g&&(t.state.visible||c),t.visible){const n=t.state.hovered.value,r=c&&n>0,s=e.enabled?r?o.enabledHover:o.enabled:r?o.disabledHover:o.disabled;t.configure({texture:s instanceof i.Texture?s:null,rings:s instanceof i.Texture?void 0:s,tint:e.id===this.getSelectedSweep()||t.state.selected?this.selectionColor:this.idleColor,opacity:(0,l.C)(c?this.editingOpacity:this.idleOpacity,1,n)})}}}},58097:(e,t,n)=>{"use strict";n.d(t,{XT:()=>o,j$:()=>r,no:()=>a,u4:()=>s,zV:()=>l});var i=n(38069);const r=.3,o=.9,s=300,a=i.V.WHITE.clone(),l=i.V.MP_BRAND.clone()},57811:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});const i="features/sweep_pucks"},93821:(e,t,n)=>{"use strict";n.d(t,{r:()=>b});var i=n(68909),r=n(12625),o=n(88325),s=n(97994),a=n(24479),l=n(81662),c=n(35826);function u(e,t,n,i,r){if(isNaN(t)||isNaN(n)||isNaN(i))return e;var o,s,a,l,c,u,d,h,p,f,m,g,v=e._root,y={data:r},E=e._x0,S=e._y0,b=e._z0,_=e._x1,O=e._y1,T=e._z1;if(!v)return e._root=y,e;for(;v.length;)if((h=t>=(s=(E+_)/2))?E=s:_=s,(p=n>=(a=(S+O)/2))?S=a:O=a,(f=i>=(l=(b+T)/2))?b=l:T=l,o=v,!(v=v[m=f<<2|p<<1|h]))return o[m]=y,e;if(c=+e._x.call(null,v.data),u=+e._y.call(null,v.data),d=+e._z.call(null,v.data),t===c&&n===u&&i===d)return y.next=v,o?o[m]=y:e._root=y,e;do{o=o?o[m]=new Array(8):e._root=new Array(8),(h=t>=(s=(E+_)/2))?E=s:_=s,(p=n>=(a=(S+O)/2))?S=a:O=a,(f=i>=(l=(b+T)/2))?b=l:T=l}while((m=f<<2|p<<1|h)==(g=(d>=l)<<2|(u>=a)<<1|c>=s));return o[g]=v,o[m]=y,e}function d(e,t,n,i,r,o,s){this.node=e,this.x0=t,this.y0=n,this.z0=i,this.x1=r,this.y1=o,this.z1=s}function h(e){return e[0]}function p(e){return e[1]}function f(e){return e[2]}function m(e,t,n,i){var r=new g(null==t?h:t,null==n?p:n,null==i?f:i,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function g(e,t,n,i,r,o,s,a,l){this._x=e,this._y=t,this._z=n,this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this._root=void 0}function v(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var y=m.prototype=g.prototype;y.copy=function(){var e,t,n=new g(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),i=this._root;if(!i)return n;if(!i.length)return n._root=v(i),n;for(e=[{source:i,target:n._root=new Array(8)}];i=e.pop();)for(var r=0;r<8;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(8)}):i.target[r]=v(t));return n},y.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return u(this.cover(t,n,i),t,n,i,e)},y.addAll=function(e){var t,n,i,r,o,s=e.length,a=new Array(s),l=new Array(s),c=new Array(s),d=1/0,h=1/0,p=1/0,f=-1/0,m=-1/0,g=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||isNaN(o=+this._z.call(null,t))||(a[n]=i,l[n]=r,c[n]=o,i<d&&(d=i),i>f&&(f=i),r<h&&(h=r),r>m&&(m=r),o<p&&(p=o),o>g&&(g=o));if(d>f||h>m||p>g)return this;for(this.cover(d,h,p).cover(f,m,g),n=0;n<s;++n)u(this,a[n],l[n],c[n],e[n]);return this},y.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var i=this._x0,r=this._y0,o=this._z0,s=this._x1,a=this._y1,l=this._z1;if(isNaN(i))s=(i=Math.floor(e))+1,a=(r=Math.floor(t))+1,l=(o=Math.floor(n))+1;else{for(var c,u,d=s-i||1,h=this._root;i>e||e>=s||r>t||t>=a||o>n||n>=l;)switch(u=(n<o)<<2|(t<r)<<1|e<i,(c=new Array(8))[u]=h,h=c,d*=2,u){case 0:s=i+d,a=r+d,l=o+d;break;case 1:i=s-d,a=r+d,l=o+d;break;case 2:s=i+d,r=a-d,l=o+d;break;case 3:i=s-d,r=a-d,l=o+d;break;case 4:s=i+d,a=r+d,o=l-d;break;case 5:i=s-d,a=r+d,o=l-d;break;case 6:s=i+d,r=a-d,o=l-d;break;case 7:i=s-d,r=a-d,o=l-d}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this},y.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},y.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},y.find=function(e,t,n,i){var r,o,s,a,l,c,u,h,p,f=this._x0,m=this._y0,g=this._z0,v=this._x1,y=this._y1,E=this._z1,S=[],b=this._root;for(b&&S.push(new d(b,f,m,g,v,y,E)),null==i?i=1/0:(f=e-i,m=t-i,g=n-i,v=e+i,y=t+i,E=n+i,i*=i);h=S.pop();)if(!(!(b=h.node)||(o=h.x0)>v||(s=h.y0)>y||(a=h.z0)>E||(l=h.x1)<f||(c=h.y1)<m||(u=h.z1)<g))if(b.length){var _=(o+l)/2,O=(s+c)/2,T=(a+u)/2;S.push(new d(b[7],_,O,T,l,c,u),new d(b[6],o,O,T,_,c,u),new d(b[5],_,s,T,l,O,u),new d(b[4],o,s,T,_,O,u),new d(b[3],_,O,a,l,c,T),new d(b[2],o,O,a,_,c,T),new d(b[1],_,s,a,l,O,T),new d(b[0],o,s,a,_,O,T)),(p=(n>=T)<<2|(t>=O)<<1|e>=_)&&(h=S[S.length-1],S[S.length-1]=S[S.length-1-p],S[S.length-1-p]=h)}else{var A=e-+this._x.call(null,b.data),w=t-+this._y.call(null,b.data),N=n-+this._z.call(null,b.data),I=A*A+w*w+N*N;if(I<i){var R=Math.sqrt(i=I);f=e-R,m=t-R,g=n-R,v=e+R,y=t+R,E=n+R,r=b.data}}return r},y.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e))||isNaN(a=+this._z.call(null,e)))return this;var t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g=this._root,v=this._x0,y=this._y0,E=this._z0,S=this._x1,b=this._y1,_=this._z1;if(!g)return this;if(g.length)for(;;){if((d=o>=(l=(v+S)/2))?v=l:S=l,(h=s>=(c=(y+b)/2))?y=c:b=c,(p=a>=(u=(E+_)/2))?E=u:_=u,t=g,!(g=g[f=p<<2|h<<1|d]))return this;if(!g.length)break;(t[f+1&7]||t[f+2&7]||t[f+3&7]||t[f+4&7]||t[f+5&7]||t[f+6&7]||t[f+7&7])&&(n=t,m=f)}for(;g.data!==e;)if(i=g,!(g=g.next))return this;return(r=g.next)&&delete g.next,i?(r?i.next=r:delete i.next,this):t?(r?t[f]=r:delete t[f],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[m]=g:this._root=g),this):(this._root=r,this)},y.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},y.root=function(){return this._root},y.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},y.visit=function(e){var t,n,i,r,o,s,a,l,c=[],u=this._root;for(u&&c.push(new d(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=c.pop();)if(!e(u=t.node,i=t.x0,r=t.y0,o=t.z0,s=t.x1,a=t.y1,l=t.z1)&&u.length){var h=(i+s)/2,p=(r+a)/2,f=(o+l)/2;(n=u[7])&&c.push(new d(n,h,p,f,s,a,l)),(n=u[6])&&c.push(new d(n,i,p,f,h,a,l)),(n=u[5])&&c.push(new d(n,h,r,f,s,p,l)),(n=u[4])&&c.push(new d(n,i,r,f,h,p,l)),(n=u[3])&&c.push(new d(n,h,p,o,s,a,f)),(n=u[2])&&c.push(new d(n,i,p,o,h,a,f)),(n=u[1])&&c.push(new d(n,h,r,o,s,p,f)),(n=u[0])&&c.push(new d(n,i,r,o,h,p,f))}return this},y.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new d(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var r=t.node;if(r.length){var o,s=t.x0,a=t.y0,l=t.z0,c=t.x1,u=t.y1,h=t.z1,p=(s+c)/2,f=(a+u)/2,m=(l+h)/2;(o=r[0])&&n.push(new d(o,s,a,l,p,f,m)),(o=r[1])&&n.push(new d(o,p,a,l,c,f,m)),(o=r[2])&&n.push(new d(o,s,f,l,p,u,m)),(o=r[3])&&n.push(new d(o,p,f,l,c,u,m)),(o=r[4])&&n.push(new d(o,s,a,m,p,f,h)),(o=r[5])&&n.push(new d(o,p,a,m,c,f,h)),(o=r[6])&&n.push(new d(o,s,f,m,p,u,h)),(o=r[7])&&n.push(new d(o,p,f,m,c,u,h))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},y.x=function(e){return arguments.length?(this._x=e,this):this._x},y.y=function(e){return arguments.length?(this._y=e,this):this._y},y.z=function(e){return arguments.length?(this._z=e,this):this._z};var E=n(86866),S=n(12767);class b extends r.B{constructor(e,t,n,i,r,l,u,d,h){super(),this.data=e,this.floorsData=t,this.cameraStartData=n,this.textParser=r,this.linkHandler=l,this.tagDefaultTitle=u,this.backgroundTexture=d,this.objectTagsEnabled=h,this.name="tags-view-data",this.tagViewsMap=(0,o.y)(),this.customSortIndexMap=new Map,this.spatialSortOrderMap=new Map,this.openTagViewObservable=(0,s.p)(null),this.tagsMode=c.j.DEFAULT,this.tagOrder=c.k.ORDERED,this.openTagIsDirty=!1,this.creatingTag=!1,this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.capabilities=new Map,this.orderedMapsNeedUpdate=!1,this.refreshTagViews=e=>{const t={};this.data.iterate((e=>{t[e.sid]=this.createTagView(e)})),this.updateSortMaps(Object.values(t),e),this.tagViewsMap.atomic((()=>{this.tagViewsMap.replace(t)}))},this.sortByOrder=(e,t)=>{var n,i;const r=(null!==(n=this.customSortIndexMap.get(e.id))&&void 0!==n?n:Number.MAX_SAFE_INTEGER)-(null!==(i=this.customSortIndexMap.get(t.id))&&void 0!==i?i:Number.MAX_SAFE_INTEGER);if(r)return r;const o=this.spatialSortOrderMap.get(e.id),s=this.spatialSortOrderMap.get(t.id);if(void 0===o||void 0===s)throw new Error("All ids should exist in spatialPositions");return o-s},this.sortByText=(e,t)=>{function n(e,t){return(e.label.trim()||e.description||t).toLowerCase()}return n(e,this.tagDefaultTitle)<n(t,this.tagDefaultTitle)?-1:1},this.orderedTagViews=new a.q(this.tagViewsMap),this.orderedTagViews.priority=a.g.LOW,this.orderedTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.refreshTagViews(i),this.orderedTagViews.sort(this.sortByOrder)}getAlphabeticTagViewMapFilter(){return this.alphabeticalTagViews||(this.alphabeticalTagViews=new a.q(this.tagViewsMap),this.alphabeticalTagViews.priority=a.g.LOW,this.alphabeticalTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.alphabeticalTagViews.sort(this.sortByText)),this.alphabeticalTagViews}notifyOrderedMapsMightHaveChanged(){this.orderedMapsNeedUpdate=!0}maybeUpdateOrderedMaps(){this.orderedMapsNeedUpdate&&(this.orderedMapsNeedUpdate=!1,this.refreshTagViews())}getCollection(){return this.maybeUpdateOrderedMaps(),this.tagViewsMap}getOrderedTagViewMapFilter(){return this.maybeUpdateOrderedMaps(),this.orderedTagViews}getOrderedTags(e){return this.maybeUpdateOrderedMaps(),this.getEnabledTagViewsList(this.orderedTagViews,e)}addOrderedTagFilter(e,t){return this.orderedTagViews.setFilter(e,t),()=>this.orderedTagViews.clearFilter(e)}getTagsByText(e){const t=this.getAlphabeticTagViewMapFilter();return this.getEnabledTagViewsList(t,e)}getEnabledTagViewsList(e,t){const n=e.values;return t?n.filter((e=>e.enabled)):n}getTextParser(){return this.textParser}getLinkHandler(){return this.linkHandler}getCapabilities(e){const t={focus:!0};this.capabilities.has(e)||this.capabilities.set(e,t);const n=this.capabilities.get(e)||t;return Object.assign({},n)}updateCapabilities(e,t){this.capabilities.set(e,Object.assign({},t))}setEmbedErrorTagId(e){this.embedErrorTagId=e,this.commit()}setTagsMode(e){this.tagsMode=e,this.commit()}getTagCount(e){return this.getOrderedTags(e).length}hasCustomSortOrder(){return this.customSortIndexMap.size>0}getTagView(e){return this.maybeUpdateOrderedMaps(),this.tagViewsMap.get(e)}createTagView(e){const t=e.getPin();return Object.assign(Object.assign({},t),{id:e.sid,created:e.created,modified:e.modified,label:e.label,description:e.description,enabled:e.enabled,layerId:e.layerId,attachments:[...e.externalAttachments,...e.fileAttachments,...e.sandboxAttachments],objectAnnotationId:e.objectAnnotationId,keywords:e.keywords.values(),icon:e.icon,backgroundTexture:this.backgroundTexture})}setOpenTagView(e){this.openTagViewObservable.value=e}get openTagView(){return this.openTagViewObservable.value}onOpenTagViewChanged(e){return this.openTagViewObservable.onChanged(e)}getAvailableKeywords(){return Array.from(new Set(this.data.getTagKeywords()))}updateSortMaps(e,t){t&&this.updateCustomSortMap(t),this.updateSpatialSortMap(e),this.orderedTagViews.setDirty(!0)}updateCustomSortMap(e){this.customSortIndexMap.clear(),e.forEach(((e,t)=>this.customSortIndexMap.set(e,t)))}updateSpatialSortMap(e){var t;const{floorsData:n,cameraStartData:r}=this,o=r.pose.camera.position||l.B1.ZERO,s=r.pose.camera.rotation||new i.Quaternion,a=null!==(t=n.getClosestFloorAtHeight(o.y))&&void 0!==t?t:n.getFloorAtIndex(0),c=(0,E.oA)(o,s,(0,S.hn)(1));this.spatialSortOrderMap.clear();let u=0;const d=n.getOrderedValues().map((e=>e.id)),h=d.findIndex((e=>e===a.id)),p=d.slice(h);p.push(...d.slice(0,h)),p.push(void 0);for(const t of p){const n=e.filter((e=>e.floorId===t));if(0===n.length)continue;let r,s=1/0;const a=new i.Vector3,l=(new m).x((e=>e.x)).y((e=>e.y)).z((e=>e.z));l.addAll(n.map((e=>{a.copy(e.stemNormal).setLength(e.stemLength).add(e.anchorPosition);const t={id:e.id,x:a.x,y:a.y,z:a.z},n=a.distanceToSquared(o);return n<s&&c.containsPoint(a)&&(s=n,r=t),t})));let d=null!=r?r:l.find(o.x,o.y,o.z);this.spatialSortOrderMap.set(d.id,u++),l.remove(d);let h=n.length-1;for(;h>0;)d=l.find(d.x,d.y,d.z),this.spatialSortOrderMap.set(d.id,u++),l.remove(d),h--}}}},99104:(e,t,n)=>{"use strict";n.d(t,{$m:()=>y,Bu:()=>a,J9:()=>c,KH:()=>m,Ki:()=>h,NR:()=>o,OT:()=>p,RL:()=>f,YN:()=>u,aH:()=>s,br:()=>l,eo:()=>r,ir:()=>E,jC:()=>d,kd:()=>b,l7:()=>S,mg:()=>g,wJ:()=>v});var i=n(11165);class r extends i.u{}r.id="REGISTER_TAGS_TOOL";class o extends i.u{constructor(e){super(),this.payload={opened:e}}}o.id="TAGS_TOGGLE";class s extends i.u{constructor(){super()}}s.id="TAG_START_ADD";class a extends i.u{constructor(e,t,n,i,r){super(),this.payload={id:e,properties:t,pendingAttachments:n,removedAttachments:i,embed:r}}}a.id="TAG_SAVE";class l extends i.u{constructor(e,t){super(),this.payload={id:e,visible:t}}}l.id="TAG_VISIBILITY_TOGGLE";class c extends i.u{constructor(){super()}}c.id="TAG_CANCEL_EDITS";class u extends i.u{constructor(e){super(),this.payload={tagId:e}}}u.id="TAG_EDIT";class d extends i.u{constructor(e){super(),this.payload={dirty:e}}}d.id="TAG_DIRTY_TOGGLE";class h extends i.u{constructor(e,t){super();const{transition:n=null,dock:i=null,objectTag:r=!1,forceOpen:o=!1}=t||{};this.payload={tagId:e,transition:n,dock:i,objectTag:r,forceOpen:o}}}h.id="TAG_OPEN";class p extends i.u{constructor(e){super(),this.payload={updates:e}}}p.id="TAG_UPDATE_OPEN_TAGVIEW";class f extends i.u{constructor(e,t){super(),this.payload={id:e,removalMethod:t}}}f.id="TAG_DELETE";class m extends i.u{constructor(){super()}}m.id="TAG_CLOSE";class g extends i.u{constructor(e){super(),this.payload={ids:e}}}g.id="TAG_ORDER_SAVE";class v extends i.u{constructor(e){super(),this.payload={enabled:e}}}v.id="TAGS_VISIBILITY_FILTER_ENABLED";class y extends i.u{constructor(e){super(),this.payload={ids:e}}}y.id="FILTER_VISIBLE_TAGS_COMMAND";class E extends i.u{constructor(e){super(),this.payload={mode:e}}}E.id="SET_REORDERING_MODE";class S extends i.u{constructor(e){super(),this.payload={order:e}}}S.id="TAG_ORDER_BY_SET";class b extends i.u{constructor(e){super(),this.payload={id:e}}}b.id="SET_EMBED_ERROR_ID"},35826:(e,t,n)=>{"use strict";var i,r;n.d(t,{j:()=>i,k:()=>r}),function(e){e.DEFAULT="default",e.REORDERING="reordering"}(i||(i={})),function(e){e.ORDERED="by-tag-order",e.ALPHABETICAL="by-tag-text",e.FLOOR_ORDERED="by-floor-ordered",e.FLOOR_ALPHABETICAL="by-floor-alphabetical"}(r||(r={}))},13767:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>l,AM:()=>s,GK:()=>o,Jr:()=>a,jh:()=>i,rp:()=>r});const i="tags2",r="TAG_NAV_OVERLAY",o="TAG_BILLBOARD_SHARE",s="TAG_BILLBOARD_DOCK",a="features/tagIcons",l="tagTitleOnTop";Object.freeze({colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#03687d","#03a9f4","#00bcd4","#417505","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"]})},23864:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var i=n(3928);class r extends i.v{constructor(e){super(),this.order=1e4,this.showModeControls=!0,this.showTourControls=!0,e&&Object.assign(this,e)}}},96319:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var i=n(12625),r=n(88325),o=n(24479),s=n(73566);class a extends i.B{constructor(){super(),this.name="tools-data",this.tools=(0,r.y)(),this.toolUi={},this.assetDocked=!1,this.activeToolName=null,this.previousToolName=null,this.openModal=null,this.toolPanelLayout=a.defaultToolPanelLayout,this.softOpening=!1,this.toolCollapsed=!1,this.toolChangeInProgress=!1,this.toolPalettes=new o.q(this.tools),this.toolPalettes.setFilter("enabled",(e=>e.enabled)),this.toolPalettes.setFilter("palette",(e=>!!e.palette)),this.toolPalettes.sort(((e,t)=>e.order-t.order)),this.toolPalettes.priority=o.g.LOW}iterate(e){for(const t of this.tools)e(t)}get toolsMap(){return this.tools}getToolPalettes(){return this.toolPalettes.groupBy("palette")}hasTool(e){return this.toolsMap.has(e)}getTool(e){return this.tools.get(e)}addTool(...e){e.forEach((e=>{this.removeTool(e.id),this.tools.set(e.id,e),e.ui.renderActive&&this.addToolUi(e.id,e.ui.renderActive)}))}removeTool(...e){e.forEach((e=>{var t,n;const i=this.getTool(e);(null===(t=null==i?void 0:i.ui)||void 0===t?void 0:t.renderActive)&&this.removeToolUi(i.id,i.ui.renderActive),(null===(n=null==i?void 0:i.manager)||void 0===n?void 0:n.dispose)&&i.manager.dispose(),this.tools.delete(e)}))}addToolUi(e,t){this.toolUi[e]||(this.toolUi[e]=new Set),this.toolUi[e].add(t)}removeToolUi(e,t){this.toolUi[e]&&this.toolUi[e].delete(t)}getToolUi(e){return this.toolUi[e]?[...this.toolUi[e]]:[]}removeAllTools(){this.iterate((e=>{var t;e.ui.renderActive&&this.removeToolUi(e.id,e.ui.renderActive),(null===(t=e.manager)||void 0===t?void 0:t.dispose)&&e.manager.dispose()})),this.tools.clear()}getActiveTool(){return this.activeToolName?this.getTool(this.activeToolName):null}setActiveTool(e){this.previousToolName=e?this.activeToolName:null,this.activeToolName=e,this.commit()}isPanelOpen(){return this.toolPanelLayout===s.L$.SIDE_PANEL||this.toolPanelLayout===s.L$.BOTTOM_PANEL}isToolCollapsedToBottom(){return this.toolPanelLayout===s.L$.BOTTOM_PANEL&&this.toolCollapsed}}a.defaultToolPanelLayout=s.L$.NORMAL},17084:(e,t,n)=>{"use strict";n.d(t,{Kw:()=>l,M_:()=>u,Te:()=>h,Wm:()=>d,_S:()=>a,kC:()=>c,li:()=>r,oe:()=>o,u3:()=>p,yU:()=>s});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload={collapse:e}}}r.id="TOOL_PANEL_TOGGLE_COLLAPSE";class o extends i.u{constructor(e){super(),this.payload={collapse:e}}}o.id="TOOL_BOTTOM_PANEL_COLLAPSE";class s extends i.u{constructor(e,t){super(),this.payload={toolName:e,active:t}}}s.id="TOGGLE_TOOL";class a extends i.u{constructor(e){super(),this.payload={checkForEdits:e}}}a.id="CLOSE_REMOVE_TOOLS";class l extends i.u{constructor(e){super(),this.payload={tools:e}}}l.id="REGISTER_TOOLS";class c extends i.u{}c.id="OPEN_PREVIOUS_TOOL";class u extends i.u{}u.id="OPEN_INITIAL_TOOL";class d extends i.u{constructor(e,t=!1){super(),this.payload={toolName:e,softOpening:t}}}d.id="OPEN_TOOL";class h extends i.u{}h.id="CLOSE_CURRENT_TOOL";class p extends i.u{constructor(e){super(),this.payload={toolName:e}}}p.id="CLOSE_TOOL"},73566:(e,t,n)=>{"use strict";var i,r,o,s,a;n.d(t,{L$:()=>o,Q7:()=>s,S0:()=>i,o6:()=>r,zR:()=>a}),function(e){e.START_LOCATION="START_LOCATION",e.SCANS_3D="SCANS_3D",e.VIEW_360="VIEW_360",e.PHOTOS="PHOTOS",e.LABELS="LABELS",e.LAYERS="LAYERS",e.MEASUREMENTS="MEASUREMENTS",e.HLR="HLR",e.SETTINGS_PANEL="SETTINGS_PANEL",e.NOTES="NOTES",e.TAGS="TAGS",e.BLUR="BLUR",e.SEARCH="SEARCH",e.MESH_TRIM="MESH_TRIM",e.SUMMARY="SUMMARY",e.PLUGIN_CONFIG="PLUGIN_CONFIG",e.ROOM_BOUNDS="ROOM_BOUNDS",e.ROOM_VIEW="ROOM_VIEW",e.AD_DEFURNISH="AD_DEFURNISH",e.GIZMO_TRANSFORM="GIZMO_TRANSFORM",e.GIZMO_FLOOR_MAGNET="GIZMO_FLOOR_MAGNET",e.GIZMO_WALL_MAGNET="GIZMO_WALL_MAGNET",e.COMPARE="COMPARE"}(i||(i={})),function(e){e[e.VIEW_BASED=1]="VIEW_BASED",e[e.MODEL_BASED=2]="MODEL_BASED",e[e.MISC=3]="MISC"}(r||(r={})),function(e){e.NORMAL="normal",e.NARROW="narrow",e.SIDE_PANEL="side-panel",e.BOTTOM_PANEL="bottom-panel"}(o||(o={})),function(e){e.HLR_AUTOGEN_TOUR_CREATED="tool_announcement/hlr_autogen_tour_created",e.HLR_AUTOGEN_TOUR_READY="tool_announcement/hlr_autogen_tour_ready"}(s||(s={})),function(e){e.IDLE="idle",e.OPEN="open",e.CLOSE="close"}(a||(a={}))},59760:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var i=n(76853),r=n(48411);function o(){const e=(0,i.v)(),t=(0,r.T)();return t?e.getTool(t):null}},28479:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(59760);function r(){const e=(0,i.O)();return null==e?void 0:e.analytic}},48411:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var i=n(87805),r=n(38064),o=n(96319);const s=(0,i.u)(o.M,"activeToolName",null);(0,r.c)("activeTool",s)},95541:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var i=n(73566),r=n(78956);function o(){const e=(0,r.O)();return e===i.L$.NARROW||e===i.L$.BOTTOM_PANEL}},68419:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var i=n(87805),r=n(38064),o=n(96319);const s=(0,i.u)(o.M,"openModal",null);(0,r.c)("openModal",s)},91406:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var i=n(96540),r=n(76853);function o(e){const t=(0,r.v)(),[n,o]=(0,i.useState)(t.getTool(e)||null);return(0,i.useEffect)((()=>{const n=t.onChanged((()=>o(t.getTool(e)||null)));return()=>n.cancel()}),[e,t]),n}},64057:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=n(87805),r=n(96319);const o=(0,i.u)(r.M,"toolCollapsed",!1)},78956:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var i=n(87805),r=n(38064),o=n(96319);const s=(0,i.u)(o.M,"toolPanelLayout",o.M.defaultToolPanelLayout);(0,r.c)("toolPanelLayout",s)},76853:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var i=n(38064),r=n(96540),o=n(77570);const s=()=>(0,r.useContext)(o.B).toolsData;(0,i.c)("toolsData",s)},66846:(e,t,n)=>{"use strict";n.d(t,{I:()=>s,X:()=>o});var i=n(73566),r=n(66355);function o(e,t){const n=e.tryGetSetting(r.BW,"");if(n)return n;if(t)return null;const o=e.getOverrideParam("tag","")?i.S0.TAGS:e.getOverrideParam("note","")?i.S0.NOTES:null;if(o)return o;const s=e.getOverrideParam("tool","").toUpperCase();return s||null}function s(e,t){return t.deepLinkParam?e.getOverrideParam(t.deepLinkParam,""):""}},20246:(e,t,n)=>{"use strict";n.d(t,{I7:()=>r,Vk:()=>l,_5:()=>a,f1:()=>o,k_:()=>c,rP:()=>s});var i=n(7478);class r extends i.QB{}class o extends i.QB{}class s extends i.QB{constructor(e){super(),this.collapsed=e}}class a extends i.QB{constructor(e,t){super(),this.active=e,this.collapsed=t}}class l extends i.QB{constructor(e){super(),this.show=e}}class c extends i.QB{constructor(e){super(),this.visible=e}}},66355:(e,t,n)=>{"use strict";n.d(t,{BW:()=>o,Cp:()=>r,P6:()=>i});const i=50,r=500,o="cloud_initial_tool"},68930:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,r:()=>o});var i=n(52018);class r extends i.t{constructor(e="Invalid tour transition"){super(e),this.name="TourTransition"}}class o extends i.t{constructor(e="Cannot start tour"){super(e),this.name="TourStart"}}},1333:(e,t,n)=>{"use strict";n.d(t,{ND:()=>o,Tz:()=>i,_y:()=>r,gX:()=>s,h9:()=>a});class i{}var r,o,s;!function(e){e[e.Pan=0]="Pan",e[e.PanDollhouse=1]="PanDollhouse",e[e.Zoom=2]="Zoom",e[e.Delay=3]="Delay",e[e.None=4]="None"}(r||(r={})),function(e){e[e.Left=1]="Left",e[e.Auto=0]="Auto",e[e.Right=-1]="Right"}(o||(o={})),function(e){e[e.Move=0]="Move",e[e.Burns=1]="Burns",e[e.Zoom=2]="Zoom",e[e.Path=3]="Path",e[e.FloorChange=4]="FloorChange",e[e.Delay=5]="Delay",e[e.Nop=6]="Nop"}(s||(s={}));const a=[s.Burns,s.Zoom,s.Delay]},22937:(e,t,n)=>{"use strict";n.d(t,{BW:()=>a,YH:()=>c,ap:()=>u,n1:()=>o,pT:()=>l,zM:()=>r,zb:()=>s});var i=n(7478);class r extends i.QB{}class o extends i.QB{constructor(e){super(),this.index=e}}class s extends i.QB{constructor(e){super(),this.index=e}}class a extends i.QB{constructor(e,t,n){super(),this.index=e,this.transitionType=t,this.duration=n}}class l extends i.QB{constructor(e){super(),this.willResume=e}}class c extends i.QB{}class u extends i.QB{constructor({reelEntry:e,index:t,tourLength:n}){super(),this.reelEntry=e,this.index=t,this.tourLength=n}}},60152:(e,t,n)=>{"use strict";n.d(t,{BF:()=>u,BS:()=>O,BU:()=>k,DE:()=>D,Dj:()=>f,Dw:()=>M,H1:()=>H,I5:()=>N,IT:()=>A,Ih:()=>L,Jb:()=>T,K1:()=>g,Lh:()=>F,Md:()=>E,QR:()=>b,R8:()=>R,V4:()=>I,VD:()=>m,W0:()=>B,Yh:()=>w,_V:()=>s,_W:()=>a,aS:()=>c,at:()=>P,cS:()=>x,d6:()=>o,dJ:()=>G,fi:()=>y,g$:()=>p,ht:()=>U,jt:()=>d,lo:()=>C,mf:()=>S,oz:()=>h,qN:()=>l,s$:()=>v,uO:()=>_});var i=n(15930),r=n(76318);const o="TourSpeed &wts",s="ToursMetersPerSecond",a=.4,l=10,c=1.25,u=.8,d=6,h=3,p=1e3*u,f=1e3*c,m=600,g=400,v=1200,y=1200,E=35,S=15,b=120,_=1200,O=75,T=400,A=i.Ou-m,w=(r.MF.BASE,"kb"),N="sspa",I=35,R="st",k=I/3500*1e3,L=2,P=52,D=0,M=2e3,C=.2*k,x=3500,U=e=>1===e.getOverrideParam(w,1),F=e=>e.getOverrideParam(R,3500),H=e=>e.getOverrideParam(N,I),G=e=>e.getOverrideParam("ts",-1),B=Object.freeze({maxSweepDistance:1/0,maxRaycastDistance:10,maxDistanceBeforeAddingSweeps:3,minSweepDistance:1.5,maxSidestepDistance:.4,pathRadius:.1,maxTotalSteps:40})},90160:(e,t,n)=>{"use strict";n.d(t,{A0:()=>a,Lt:()=>d,f7:()=>c,rX:()=>u,wg:()=>l});var i=n(86866),r=n(53172),o=n(60152),s=n(27625);const a=e=>{let t=o.aS;if(!isNaN(e)){const n=Math.min(Math.max(o._W,e),o.qN);t=(0,i.OF)(n,o._W,o.qN,o.BF,o.oz)}return t},l=e=>(0,i.OF)(e,o.BF,o.jt,o._W,o.qN),c=e=>Math.min(Math.max(o.BF,e),o.jt),u=e=>(0,r.pu)(e)/1e3,d=(e,t)=>(0,s.j1)(e.metadata.cameraPosition,t.metadata.cameraPosition)&&(0,s.qS)(e.metadata.cameraQuaternion,t.metadata.cameraQuaternion)},44481:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var i=n(12625),r=n(88325),o=n(97994),s=n(50018),a=n(96425);class l extends i.B{constructor(e,t,n){super(),this.data=e,this.currentTourMode=n,this.name="tours-view-data",this.reelOpen=!1,this.tourSweepViewMapObservable=(0,r.y)(),this.tourModeSettingObservable=(0,o.p)(t)}isTourEmpty(){return 0===this.data.getHighlightsCount()}onReelChanged(e){return this.data.getReel().onChanged(e)}getTourStoryMode(){return this.currentTourMode===a.cR.STORIES}get tourModeSetting(){return this.tourModeSettingObservable.value}setTourModeSetting(e){this.tourModeSettingObservable.value=e}onTourModeSettingChanged(e){return this.tourModeSettingObservable.onChanged(e)}getSnapshot(e){var t;return(null===(t=this.data.getTourEntry(e))||void 0===t?void 0:t.snapshot)||null}setSweepsInToursAcrossViews(e){this.atomic((()=>{this.clearTourSweepViews(),e.forEach((e=>{this.addTourSweepForView(e.sweepId,e.viewId)}))}))}getViewsWithSweepInTour(e){return this.getOrInitializeTourViewIdsForSweep(e)}isSweepInAnyTour(e){return this.getOrInitializeTourViewIdsForSweep(e).length>0}isSweepInTourForView(e,t){return this.getOrInitializeTourViewIdsForSweep(e).includes(t)}onSweepsInToursChanged(e){return this.tourSweepViewMapObservable.onChanged(e)}clearTourSweepViews(){this.tourSweepViewMapObservable.clear()}addTourSweepForView(e,t){const n=this.getOrInitializeTourViewIdsForSweep(e,!0);n.includes(t)||n.push(t)}getOrInitializeTourViewIdsForSweep(e,t=!1){const{platformId:n}=s.Ay.parseId(e);let i=this.tourSweepViewMapObservable.get(n);return void 0===i&&(i=[],t&&this.tourSweepViewMapObservable.set(n,i)),i}}},21875:(e,t,n)=>{"use strict";n.d(t,{R:()=>h,l:()=>d});var i=n(12625),r=n(97994),o=n(4850),s=n(9139),a=n(1333),l=n(96425),c=n(74381),u=n(35447);const d={active:!1,type:a.gX.Move,promise:Promise.resolve(),stop:()=>Promise.resolve(),start:()=>d,toIndex:-1,duration:0,started:-1,stopped:-1};class h extends i.B{constructor(e,t,n){super(),this.activeReel=e,this.allowedModes=t,this.looping=n,this.name="tour",this.tourState=l.Ci.Inactive,this.transitionObservable=(0,r.p)(d),this.tourSetupFns=[],this.tourCurrentSnapshot=-1,this.enabledTourStops=(0,o.Z)([]),this.tourPlaying=!1,this.tourWillResume=!1,this.tourEnded=!1,this.tourPlayedCount=0,this.updateEnabledStops=e=>{this.enabledTourStops.atomic((()=>{if(this.enabledTourStops.replace([]),this.activeReel&&this.activeReel.reel)for(const t of this.activeReel.reel)if(t&&t.snapshot){const n=t.snapshot.metadata.cameraMode;-1!==e.indexOf(n)&&this.enabledTourStops.push(t.id)}}))},this.updateEnabledStops(t()),this.looping=n,this.commit()}setHighlightReel(e){this.atomic((()=>{this.activeReel.replace(e),this.updateEnabledStops(this.allowedModes()),this.resetReelState()}));const t=this.getReel().reel.length,n=this.getHighlightsCount();t!==n&&s.Vy.for(this).info(t-n+" highlights disabled and hidden from reel")}addSnapshotToTour(e,t=l.dO.Current){this.allowedModes().includes(e.metadata.cameraMode)&&this.enabledTourStops.push(e.sid);const n=this.tourCurrentSnapshotSid;this.tourCurrentSnapshotSid=e.sid;const i={id:e.sid,snapshot:e,sourceViewId:e.sourceViewId,source:"workshop"};switch(t){case l.dO.Beginning:this.tourCurrentSnapshot=0,this.activeReel.reel.insert(0,i);break;case l.dO.End:this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push(i);break;case l.dO.Current:if(void 0===n)this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push(i);else{let e=this.activeReel.reel.findIndex((e=>!!e&&e.id===n))+1;(e<=0||e>this.activeReel.reel.length)&&(e=this.activeReel.reel.length-1),this.tourCurrentSnapshot=this.tourCurrentSnapshot+1,this.activeReel.reel.insert(e,i)}break;default:throw new Error(`Tours.addSnapshotToTour not implemented: ${t}`)}return this.useTransition(d),this.commit(),i}resetAllTransitionTypeOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,n)=>{t&&t.overrides&&t.overrides.transitionType&&(delete t.overrides.transitionType,this.activeReel.reel.update(n,t),e=!0)})),e&&this.activeReel.setDirty()}}resetAllPanSettingOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,n)=>{t&&t.overrides&&void 0!==(t.overrides.panAngle||t.overrides.panDirection||t.overrides.panAlignment)&&(delete t.overrides.panAngle,delete t.overrides.panDirection,delete t.overrides.panAlignment,e=!0,this.activeReel.reel.update(n,t))})),e&&this.activeReel.setDirty()}}applyHighlightOverrides(e,t){const n=this.activeReel.reel.findIndex((t=>!!t&&t.id===e));this.setHighlightOverrides(n,t)}setHighlightOverrides(e,t){const n=this.activeReel.reel.get(e);if(!n)throw Error(`Highlight not found for ${e}`);const i={id:n.id,title:n.title,description:n.description,snapshot:n.snapshot,sourceViewId:n.sourceViewId,source:n.source};n.overrides?(i.overrides=Object.assign({},n.overrides),t.hasOwnProperty("panDirection")&&(i.overrides.panDirection=t.panDirection),t.hasOwnProperty("transitionType")&&(i.overrides.transitionType=t.transitionType),t.hasOwnProperty("panAlignment")&&(i.overrides.panAlignment=t.panAlignment),t.hasOwnProperty("panAngle")&&(i.overrides.panAngle=t.panAngle),t.hasOwnProperty("panSpeed")&&(i.overrides.panSpeed=t.panSpeed)):i.overrides={transitionType:t.transitionType,panDirection:t.panDirection,panAlignment:t.panAlignment,panAngle:t.panAngle,panSpeed:t.panSpeed},this.activeReel.reel.update(e,i)}updateReelEntry(e){const{id:t}=e,n=this.activeReel.reel.findIndex((e=>!!e&&e.id===t));if(-1===n)throw Error(`Reel entry not found for ${t}`);const i=this.activeReel.reel.get(n);if(!e)throw Error(`Reel entry not found for ${n}`);const r=Object.assign({},i,e);this.activeReel.reel.update(n,r)}moveTourStop(e,t){const n=this.activeReel.reel.findIndex((t=>!!t&&t.id===e)),i=this.activeReel.reel.findIndex((e=>!!e&&e.id===t));this.activeReel.reel.move(n,i)}clear(){this.resetReelState(),this.enabledTourStops.replace([]),this.activeReel.reel.length=0,this.commit()}removeTourStop(e){const t=this.enabledTourStops.indexOf(e),n=this.activeReel.reel.findIndex((t=>!!t&&t.id===e)),i=this.getTourIndexBySid(e);if(-1!==t&&this.enabledTourStops.splice(t,1),this.enabledTourStops.length>0){const e=i<=this.tourCurrentSnapshot?this.tourCurrentSnapshot-1:this.tourCurrentSnapshot;this.setTourCurrentSnapshotByIndex(Math.max(e,0))}else this.resetReelState();this.activeReel.reel.remove(n)}getReel(){return this.activeReel}isLooping(){return this.looping}setLooping(e){this.looping=e}getActiveReelTourMode(){return this.activeReel.mode||c.UR.REEL}setActiveReelTourMode(e){this.activeReel.mode=e,this.activeReel.commit()}isTourActive(){return this.tourState!==l.Ci.Inactive}getCurrentTourState(){return{currentStep:this.getTourCurrentSnapshotIndex(),tourPlaying:this.tourPlaying||this.tourWillResume,totalSteps:this.getHighlightsCount(),tourEnded:this.tourEnded,activeStep:this.transition&&-1!==this.transition.toIndex?this.transition.toIndex:this.getTourCurrentSnapshotIndex(),highlights:this.getReelHighlights(),transition:this.transition,hasTours:this.tourExistsInAnyView(),tourPlayedCount:this.tourPlayedCount}}tourExistsInAnyView(){return!1}registerTourSetup(e){this.tourSetupFns.push(e)}async setupTour(e,...t){return Promise.all(this.tourSetupFns.map((n=>n(e,...t))))}get transition(){return this.transitionObservable.value}get isTourAutoGenerated(){const e=this.getReelHighlights();return e.length>0&&e.some(u.p_)}isTourTransitionActive(){return this.transition.active}getTourTransitionType(){return this.transition.type}useTransition(e){this.transitionObservable.value=e}async stopTourTransition(){await this.transition.stop()}iterateSnapshots(e){let t=0;this.activeReel.reel.forEach((n=>{n&&n.snapshot&&e(n.snapshot,t++)}))}isSnapshotInTour(e){return-1!==this.activeReel.reel.findIndex((t=>!!t&&t.id===e))}getEnabledSnapshots(){const e=[];return this.iterateSnapshots(((t,n)=>{e.push(t)})),e}getTourEntry(e){const t=this.activeReel.reel.findIndex((t=>!!t&&t.id===e));return this.activeReel.reel.get(t)}getReelHighlights(){const e=[];return this.activeReel.reel.forEach((t=>{t&&this.isEnabled(t.id)&&e.push(t)})),e}getHighlightsCount(){return this.enabledTourStops.length}getTourState(){return this.tourState}setTourState(e){this.tourState=e,this.commit()}getTourCurrentSnapshotIndex(){return this.tourCurrentSnapshot}getTourCurrentSnapshotSid(){return this.tourCurrentSnapshotSid}getTourEntrySidFromIndex(e){let t=0;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.id)){if(t===e)return n.id;t++}throw new Error("getTourSnapshotSid() -> Invalid snapshot index.")}getTourSnapshotsWithSweepId(e){const t=[];for(const n of this.activeReel.reel)n&&n.snapshot&&n.snapshot.metadata.scanId===e&&t.push(n.id);return t}getTourSweeps(){const e=[];for(const t of this.activeReel.reel)t&&t.snapshot&&t.snapshot.metadata.scanId&&e.push({id:t.id,sweepId:t.snapshot.metadata.scanId,sourceViewId:t.sourceViewId});return e}setTourCurrentSnapshotByIndex(e){if(e<0||e>this.getHighlightsCount())throw new Error("setTourCurrentSnapshotByIndex() -> Invalid tour index.");let t=-1;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.id)&&(t++,t===e)){this.tourCurrentSnapshot=e,this.tourCurrentSnapshotSid=n.id;break}-1===t&&this.resetReelState(),this.commit()}getTourIndexBySid(e){let t=-1;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.id)&&(t++,n.id===e))return t;return-1}isEnabled(e){return-1!==this.enabledTourStops.indexOf(e)}resetReelState(){this.tourPlayedCount=0,this.tourCurrentSnapshot=-1,this.tourCurrentSnapshotSid=void 0,this.useTransition(d),this.commit()}}},96425:(e,t,n)=>{"use strict";var i,r,o;n.d(t,{Ci:()=>r,cR:()=>i,dO:()=>o}),function(e){e.NONE="none",e.STORIES="stories",e.LEGACY="legacy"}(i||(i={})),function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.StopScheduled=2]="StopScheduled"}(r||(r={})),function(e){e[e.Beginning=0]="Beginning",e[e.Current=1]="Current",e[e.End=2]="End"}(o||(o={}))},87743:(e,t,n)=>{"use strict";n.d(t,{Ce:()=>a,Yg:()=>r,e0:()=>o,gm:()=>l,lz:()=>s});var i=n(7478);class r extends i.QB{constructor(){super()}}class o extends i.QB{constructor(){super()}}class s extends i.QB{constructor(){super()}}class a extends i.QB{constructor(e){super(),this.entry=e}}class l extends i.QB{constructor(e){super(),this.entry=e}}},19702:(e,t,n)=>{"use strict";n.d(t,{AI:()=>i,Cs:()=>h,D:()=>c,GO:()=>g,LT:()=>v,NN:()=>p,XJ:()=>l,bp:()=>r,g:()=>u,ky:()=>f,nn:()=>o,no:()=>s,np:()=>d,wo:()=>a,yL:()=>m});const i="tour-stories",r="spaces.tours_v2",o="tours2",s="gt",a=0,l=1,c="hr",u=0,d=1,h="tour",p=0,f=1,m=2,g=3,v=24},35447:(e,t,n)=>{"use strict";n.d(t,{EI:()=>d,Kl:()=>u,Qx:()=>h,cJ:()=>l,p_:()=>p,v:()=>c});var i=n(74381),r=n(56208),o=n(66806),s=n(96425),a=n(19702);function l(e){const t=e.tryGetSetting(r.Q$.HighlightReel,!0),n=e.getOverrideParam(a.D,a.np),i=e.getOverrideParam(a.Cs,a.ky);return t&&n!==a.g&&i!==a.NN}function c(e,t){const n=function(e){const t=e.tryGetSetting(r.Q$.TourButtons,!0),n=e.getOverrideParam(a.no,a.XJ),i=e.getOverrideParam(a.Cs,a.ky);return t&&n!==a.wo&&i!==a.NN}(e),i=l(e);return n||i?u(e,t)?s.cR.STORIES:s.cR.LEGACY:s.cR.NONE}function u(e,t){const n=e.getOverrideParam(a.Cs,a.ky);return n===a.yL||n!==a.GO&&t===i.UR.STORY}function d(e,t){const n=e.tryGetSetting(r.Q$.TourButtons,!0),o=e.tryGetSetting(r.Q$.HighlightReel,!0);return n||o?t===i.UR.STORY?s.cR.STORIES:s.cR.LEGACY:s.cR.NONE}function h(e){if(!e)return!1;const{cameraMode:t}=e.snapshot.metadata;return[o.N.Dollhouse,o.N.Floorplan].includes(t)}function p(e){return"vision"===e.source}},73094:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,W:()=>r});var i=n(93877);function r(e){return e.hasPolicyAvailability("org.spaces.auto_tour",["gated","unlocked"])}function o({layersData:e,modelData:t}){var n;const r=e.tryGetView(t.model.details.defaultViewId);return(null==r?void 0:r.viewType)!==i.jK.DEFURNISH&&!!(null===(n=e.getBaseModelView())||void 0===n?void 0:n.hasPolicy("perm.spaces.details.manage"))}},33156:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var i=n(12625),r=n(88325),o=n(74381),s=n(45332),a=n(87193),l=n(33895);class c extends i.B{constructor(e,t,n,i,l,c){super(),this.orgAdmin=n,this.modelOrgId=i,this.modelCreated=l,this.isDemo=c,this.name="users-data",this.users=(0,r.y)();const u=e.modelAccess||o.OQ.PUBLIC;this.currentUser=new s.o(Object.assign(Object.assign({},e),{modelAccess:u,userStatus:t?a._.KNOWN:a._.UNKNOWN})),this.addUser(this.currentUser)}loadSearchResults(e,t,n){this.atomic((()=>{e.forEach((e=>{this.loadUser(Object.assign(Object.assign({},e),{userStatus:a._.KNOWN}))})),t.forEach((e=>{this.users.get(e)||this.loadUser({email:e,id:"",userStatus:n,modelAccess:o.OQ.PUBLIC,firstName:null,lastName:null})}))}))}loadKnownUsers(e){this.atomic((()=>{e.forEach((e=>{this.loadKnownUser(e)}))}))}loadKnownUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:a._.KNOWN}))}loadContributor(e){const t=this.users.get(e.email);return t||this.loadUser(Object.assign(Object.assign({},e),{userStatus:a._.CONTRIBUTOR}))}loadFailedUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:a._.FAILED}))}loadUser(e){let t=this.users.get(e.email);return e.email===this.currentUser.email||t&&t.userStatus===a._.KNOWN&&t.modelAccess!==o.OQ.PUBLIC||(t=new s.o(e),t?this.users.set(e.email,t):this.addUser(t)),t}getUserInfoByEmail(e){return this.users.has(e)?this.users.get(e):null}getUserInfoById(e){return""===e?null:this.users.values.find((t=>t.id===e))||null}getUserDisplay(e){return this.users.has(e)?this.users.get(e):(0,l.A)(e)}iterate(e){for(const t of this.users)e(t)}getUsersWhoMayNeedAccess(){const e={};return this.users.values.forEach((t=>{t.userStatus===a._.KNOWN&&t.modelAccess!==o.OQ.PUBLIC||(e[t.email]=t)})),e}getKnownUsers(){return this.users.values.filter((e=>e.userStatus===a._.KNOWN))}addUser(e){this.users.has(e.email)||this.users.set(e.email,e)}getCurrentUser(){return this.currentUser}isLoggedIn(){return!!this.currentUser.id}isOrgAdmin(){return this.orgAdmin}isInviter(){return this.orgAdmin}getModelOrganizationId(){return this.modelOrgId}getModelCreatedDate(){return this.modelCreated}isDemoModel(){return!!this.isDemo}isEditor(){return this.currentUser.modelAccess===o.OQ.FULL}isCommenter(){const{modelAccess:e}=this.currentUser;return e===o.OQ.VIEWER||e===o.OQ.FULL}getCurrentUserId(){return this.currentUser.id}onUsersChanged(e){return this.users.onChanged(e)}}},45332:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var i=n(74381),r=n(87193),o=n(33895);class s{constructor(e){this.email="",this.id="",this.firstName="",this.lastName="",this.modelAccess=i.OQ.PUBLIC,this.userStatus=r._.UNKNOWN,this.name="",this.initials="",this.color="",e&&Object.assign(this,e);const t=this.id?this.getFullName(this.firstName,this.lastName):"";this.name=t||this.email||"",this.initials=this.getInitials(this.name),this.color=(0,o.g)(this.id)}getFullName(e,t){return e&&t?`${e} ${t}`:e||t}getInitials(e){const t=e?e.split(" ").map((e=>e[0])).join(""):"?";return t.length<3?t:`${t[0]}${t[t.length-1]}`}}},87193:(e,t,n)=>{"use strict";var i;n.d(t,{_:()=>i}),function(e){e.UNKNOWN="unknown",e.FAILED="failed",e.MENTIONED="mentioned",e.CONTRIBUTOR="contributor",e.KNOWN="known"}(i||(i={}))},33895:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,g:()=>a});var i=n(25712),r=n(87193),o=n(74381);const s=["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"];function a(e){const t=s.length;return s[(0,i.Iy)(e||"",t)]}function l(e){return{email:e,id:"",firstName:"",lastName:"",name:"Unknown",initials:"?",color:a(e),userStatus:r._.UNKNOWN,modelAccess:o.OQ.PUBLIC}}},46793:(e,t,n)=>{"use strict";n.d(t,{De:()=>l,S2:()=>u,gB:()=>c,ty:()=>a,w5:()=>i});var i,r=n(11165),o=n(66806),s=n(13893);!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning",e.ORTHOGRAPHIC="mode.orthographic",e.MESH="mode.mesh",e.EXTERIOR="mode.exterior"}(i||(i={}));const a=i.INSIDE,l=(i.INSIDE,o.N.Panorama,i.DOLLHOUSE,o.N.Dollhouse,i.FLOORPLAN,o.N.Floorplan,i.TRANSITIONING,o.N.Transition,i.OUTSIDE,o.N.Outdoor,i.ORTHOGRAPHIC,o.N.Orthographic,i.MESH,o.N.Mesh,i.EXTERIOR,o.N.ExteriorSplat,{[o.N.Panorama]:i.INSIDE,[o.N.Dollhouse]:i.DOLLHOUSE,[o.N.Floorplan]:i.FLOORPLAN,[o.N.Transition]:i.TRANSITIONING,[o.N.Outdoor]:i.OUTSIDE,[o.N.Orthographic]:i.ORTHOGRAPHIC,[o.N.Mesh]:i.MESH,[o.N.ExteriorSplat]:i.EXTERIOR}),c=e=>{const t=l[e];return void 0!==t?t:i.OUTSIDE};class u extends r.u{constructor(e,t=s.fl.Interpolate,n={},i){super(),this.payload={mode:e,transitionType:t,pose:n,transitionTime:i}}}u.id="CHANGE_VIEWMODE"},15580:(e,t,n)=>{"use strict";n.d(t,{_z:()=>r,cW:()=>c,n9:()=>o,sj:()=>l});var i=n(56208);const r="showcase-floor_plan",o="showcase-dollhouse",s="fp",a="dh";function l(e,t){return u(i.Q$.FloorPlan,r,s,e,t)}function c(e,t){return u(i.Q$.Dollhouse,o,a,e,t)}function u(e,t,n,i,r){const o=i.tryGetSetting(e,!1),s=!r&&0===i.getOverrideParam(n,1),a=o&&!s;return i.setSetting(t,a),a}},85281:(e,t,n)=>{"use strict";n.d(t,{e:()=>i,n:()=>r});const i="features/dollhouse-nudge",r="features/roombounds-floorplan-nudge"},98309:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(45862);class r extends i.Y{}},1197:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(45862);class r extends i.Y{}},45862:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.fromMode=t,this.toMode=e,this.timestamp=Date.now()}}},2993:(e,t,n)=>{"use strict";n.d(t,{Te:()=>r,jY:()=>s,nI:()=>o,vy:()=>a});var i=n(66806);const r=e=>{switch(e){case i.N.Panorama:return"Panorama";case i.N.Floorplan:return"Floorplan";case i.N.Dollhouse:return"Dollhouse";case i.N.Transition:return"Transition";case i.N.Orthographic:return"Orthographic";case i.N.Mesh:return"Mesh";case i.N.ExteriorSplat:return"Exterior"}return"Unknown"};function o(e){return e===i.N.Panorama||e===i.N.Mesh}function s(e){return e===i.N.Floorplan||e===i.N.Dollhouse}function a(e){return e===i.N.Panorama}},99583:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var i=n(12625),r=n(97994),o=n(19968),s=n(66806),a=n(2993);class l extends i.B{constructor(){super(),this.name="viewmode",this.modes=s.N,this.transitionActiveObservable=(0,r.p)(!1),this.isDollhouseDisabled=()=>!1,this.isFloorplanDisabled=()=>!1,this.isExteriorDisabled=()=>!0,this.currentModeObservable=(0,r.p)(null),this.viewmodeChangeEnabledObservable=(0,r.p)(!0),this.transition={active:!1,progress:0,from:null,isFromPitchFactorOrtho:!1,to:null,isToPitchFactorOrtho:!1,startTime:0,transitionTime:0},this.isPano=this.isPano.bind(this),this.isFloorplan=this.isFloorplan.bind(this),this.isInside=this.isInside.bind(this),this.isDollhouse=this.isDollhouse.bind(this),this.isOrthographic=this.isOrthographic.bind(this)}get currentMode(){return this.currentModeObservable.value}set currentMode(e){e!==this.currentModeObservable.value&&(this.currentModeObservable.value=e)}get viewmodeChangeEnabled(){return this.viewmodeChangeEnabledObservable.value}set viewmodeChangeEnabled(e){this.viewmodeChangeEnabledObservable.value=e}peekabooCorrectedMode(e){return this.isDollhouse()&&e.pose.isPitchFactorOrtho?s.N.Floorplan:this.currentMode}get closestMode(){return this.currentMode===s.N.Transition?this.transition.progress<.5?this.transition.from:this.transition.to:this.currentMode}makeModeChangeSubscription(e){return this.currentModeObservable.onChanged(e)}activateTransition(e,t,n,i,r){this.transition.active=!0,this.transition.progress=0,this.transition.startTime=Date.now(),this.transition.transitionTime=n,this.transition.to=t,this.transition.from=e;const a=null==i?e===s.N.Floorplan?0:1:i,l=null==r?t===s.N.Floorplan?0:1:r;this.transition.isFromPitchFactorOrtho=(0,o.aY)(a),this.transition.isToPitchFactorOrtho=(0,o.aY)(l),this.transitionActiveObservable.value=!0}deactivateTransition(){this.transition.active=!1,this.transitionActiveObservable.value=!1}isPano(){return this.currentMode===s.N.Panorama}isInside(){return(0,a.nI)(this.currentMode)}isMesh(){return this.currentMode===s.N.Mesh}isFloorplan(){return this.currentMode===s.N.Floorplan}isDollhouse(){return this.currentMode===s.N.Dollhouse}isExterior(){return this.currentMode===s.N.ExteriorSplat}isOrthographic(){return this.currentMode===s.N.Orthographic}insideModeTransitionProgress(){if(this.transition.active){const e=(0,a.nI)(this.transition.to),t=(0,a.nI)(this.transition.from);return e||t?e&&!t?this.transition.progress:!e&&t?1-this.transition.progress:1:0}return this.isInside()?1:0}exteriorModeTransitionProgress(){if(this.transition.active){const e=this.transition.to===s.N.ExteriorSplat,t=this.transition.from===s.N.ExteriorSplat;return e||t?e&&!t?this.transition.progress:!e&&t?1-this.transition.progress:1:0}return this.currentMode===s.N.ExteriorSplat?1:0}canStartTransition(){const e=this.transition.active,t=this.currentMode===s.N.Transition;return!e&&!t}transitionActive(){return!this.canStartTransition()}isTargetMode(e){const t=this.transition.from===this.transition.to,n=this.currentMode===e;return this.transition.active&&t||n}canSwitchViewMode(e){return this.canStartTransition()&&this.viewmodeChangeEnabled&&!this.isTargetMode(e)}}},11180:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var i=n(96540),r=n(88581);function o(){const e=(0,r.o)(),[t,n]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.currentModeObservable.onChanged(n);return n(e.currentMode),()=>t.cancel()}),[e]),t}},88581:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var i=n(98236),r=n(99583);const o=(0,i.v_)(r.X)},15930:(e,t,n)=>{"use strict";n.d(t,{Ou:()=>r});var i=n(66806);i.N.Dollhouse,i.N.Panorama;const r=1e3},84522:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload=Object.assign({},e)}}r.id="GET_SCREEN_POS"},71067:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});const i="base-view"},10711:(e,t,n)=>{"use strict";n.d(t,{s:()=>r,y:()=>o});var i=n(52018);class r extends i.t{constructor(e){super(e)}}class o extends i.t{constructor(e){super(e)}}},86721:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,X:()=>r});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload=Object.assign({},e)}}r.id="XR_PRESENT";class o extends i.u{constructor(){super()}}o.id="XR_PRESENT_END"},26059:(e,t,n)=>{"use strict";n.d(t,{F7:()=>i,RN:()=>o,qy:()=>r});const i="features/xr_browser_lock",r=!1,o="xruntested"},4896:(e,t,n)=>{"use strict";n.d(t,{M1:()=>l,ni:()=>a,wc:()=>i});var i,r=n(27200),o=n(21320),s=n(35404);!function(e){e.webxr="webxr",e.unsupported="unsupported"}(i||(i={}));const a=e=>{const t=!!e.tryGetSetting("is_vr",!1),n=e.tryGetSetting(s.qu,!1),i=e.getOverrideParam("vr",1);return t&&!(!i||2===i&&!(0,r.m0)())&&!n},l=async(e=!1)=>{const t=await o.A.isSessionSupported("immersive-vr");return window.isSecureContext&&(e||(0,r.Ap)()||(0,r.qL)()||!(0,r.Fr)())&&t?i.webxr:i.unsupported}},21320:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const i=new(n(9139).Vy)("vr-platform-select"),r=()=>{const e=void 0!==navigator&&"xr"in navigator&&void 0!==navigator.xr&&"isSessionSupported"in navigator.xr&&"requestSession"in navigator.xr;return window.isSecureContext&&e},o={isSessionSupported:async(e="immersive-vr")=>{var t;let n=!1;if(r())try{n=!!await(null===(t=null===navigator||void 0===navigator?void 0:navigator.xr)||void 0===t?void 0:t.isSessionSupported(e))}catch(e){i.info("WebXR disabled",e)}return i.debug(`WebXR session type: ${e} supported: ${n}`),n},apiExists:r}},74717:(e,t,n)=>{"use strict";n.d(t,{BW:()=>a,De:()=>o,EG:()=>r,hd:()=>l,i9:()=>s});var i=n(11165);class r extends i.u{constructor(e){super(),this.payload={step:e}}}r.id="ZOOM_IN";class o extends i.u{constructor(e){super(),this.payload={step:e}}}o.id="ZOOM_OUT";class s extends i.u{}s.id="ZOOM_RESET";class a extends i.u{}a.id="ZOOM_MAX_VALUE";class l extends i.u{constructor(e){super(),this.payload={value:e}}}l.id="ZOOM_SET"},59155:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var i=n(68909),r=n(8203),o=n.n(r),s=n(74869),a=n.n(s),l=n(87208),c=n.n(l),u=n(67422),d=n.n(u);const h={basicTextured:{uniforms:{tDiffuse:{value:null},alpha:{value:1}},vertexShader:o(),fragmentShader:a()},screenSpaceColored:{uniforms:{color:{value:new i.Vector3(0,0,0)},opacity:{value:1}},vertexShader:c(),fragmentShader:d()}}},97171:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});const i={Navigation:Symbol("nav"),WebGLRenderer:Symbol("webgl-renderer"),ModelMesh:Symbol("model-mesh"),Octree:Symbol("raycast-octree"),PanoTiles:Symbol("pano-tiles-preload"),Raycaster:Symbol("raycast"),Snapping:Symbol("snap"),StreamingTexture:Symbol("stream-textures"),StreamingMesh:Symbol("stream-mesh"),Tours:Symbol("tours")}},70046:(e,t,n)=>{"use strict";n.d(t,{$2:()=>d,GL:()=>c,nt:()=>u,sb:()=>l});var i=n(7478),r=n(62802),o=n(53282);const s=new(n(9139).Vy)("symbols"),a=[];class l extends i.QB{constructor(e){super(),this.symbol=e}}class c extends i.QB{constructor(e){super(),this.payload=e}}class u extends i.QB{constructor(e){super(),this.payload=e}}function d(e){return new r.P((0,o.Sh)((()=>null),(()=>a.length=0)),e.messageBus.subscribe(c,(e=>{a.push(e.payload)})),e.messageBus.subscribe(u,(e=>{const t=a.findIndex((t=>t.symbol===e.payload.symbol&&t.callback===e.payload.callback));t>=0&&a.splice(t,1)})),e.messageBus.subscribe(l,(e=>{a.forEach((t=>{if(t.symbol===e.symbol)try{t.callback()}catch(t){s.warn("Error handling SymbolMessage",e,t)}}))})))}},23184:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});class i{static isValue(e){return new i(new r(e))}static isType(e){return new i(new o(e))}static isInstanceOf(e){return new i(new s(e))}static isSimilarTo(e){return new i(new a(e))}static is(e){return new i(new l(e))}static isAny(){return new i(new c)}constructor(e){this.matcher=e}compare(e){return this.matcher.matches(e)}}class r{constructor(e){this.value=e}matches(e){return this.value===e}}class o{constructor(e){this.type=e}matches(e){return Object.getPrototypeOf(e).constructor===this.type}}class s{constructor(e){this.type=e}matches(e){if("object"==typeof e)return e instanceof this.type;const t=this.type;switch(typeof e){case"number":return t===Number;case"string":return t===String;case"boolean":return t===Boolean;case"function":return t===Function}return!1}}class a{constructor(e){this.templateObj=e}matches(e){const t=Object.getOwnPropertyNames(this.templateObj);for(const n of t)return e[n]===this.templateObj[n];return!1}}class l{constructor(e){this.predicate=e}matches(e){return this.predicate(e)}}class c{constructor(){}matches(){return!0}}},40397:(e,t,n)=>{"use strict";n.d(t,{BN:()=>w,Gp:()=>f,KK:()=>I,LM:()=>D,MN:()=>k,Nv:()=>O,Rc:()=>m,Vg:()=>_,bw:()=>v,cv:()=>P,fR:()=>g,ff:()=>A,fg:()=>E,hm:()=>b,kf:()=>y,nk:()=>L,qK:()=>S,w$:()=>T,xF:()=>N});var i=n(68909),r=n(46771),o=n(81662),s=n(27625),a=n(33007),l=n(86866),c=n(12767),u=n(53172),d=n(19968),h=n(64208),p=n(3249);const f=e=>!!e&&1===e.elements[15],m=e=>!!e&&(e.elements[15]>0&&e.elements[15]<1),g=((()=>{const e=new i.Object3D,t=new i.Vector3})(),(()=>{const e=new i.Vector3})(),(()=>{const e=new i.Vector3})(),(()=>{const e=new i.Vector3,t=new i.Vector3;return(n,i,r,s)=>(e.copy(i).sub(n),s?t.copy(o.B1.UP):t.copy(e).applyAxisAngle(o.B1.UP,-1*Math.PI/2).setY(0).normalize(),e.applyAxisAngle(t,r),i.clone().sub(e))})()),v=(()=>{const e=new i.Vector3,t=new i.Vector3;return(n,r,o)=>(e.copy(n).sub(r).normalize(),t.copy(n).sub(o).normalize(),(new i.Quaternion).setFromUnitVectors(e,t))})(),y=(()=>{const e=new r.k;return(t,n)=>(e.setPosition(t),e.lookAt(t,n,o.B1.UP),(new i.Quaternion).setFromRotationMatrix(e.asThreeMatrix4()))})(),E=(()=>{const e=new i.Vector3;return(t,n,i)=>(e.copy(o.B1.FORWARD).applyQuaternion(t).normalize(),e.clone().multiplyScalar(-1*i).add(n))})(),S=(()=>{const e=new i.Ray,t=new i.Vector3,n=new i.Vector3;return(i,r,s)=>(n.set(0,0,0),t.copy(o.B1.FORWARD).applyQuaternion(r),e.set(i,t),e.intersectPlane(s,n))})(),b=(()=>{const e=new i.Vector3,t=new i.Vector3,n=new i.Vector3,r=new i.Vector3,s=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3],a=new i.Vector3,c=new i.Vector3,u=new i.Vector3,d=new i.Vector3,h=new i.Plane,p=new i.Vector3,f=new i.Ray,m=new i.Vector3,g=new i.Vector3;return({targetPosition:v,targetRotation:E,angleDown:S,box:b,fovY:_,aspectRatio:O})=>{const T="number"==typeof S?S:-1*E.angleTo((0,l.Vs)(E,new i.Quaternion));e.copy(o.B1.FORWARD).applyQuaternion(E).setY(0),t.copy(e).setY(T).normalize(),r.copy(t).applyAxisAngle(o.B1.UP,-Math.PI/2).setY(0).normalize(),n.copy(r).cross(t).normalize();let A=0;const w=b.max,N=b.min,I=[w,N];for(let e=0;e<2;e++){const t=I[e].x;for(let e=0;e<2;e++){const n=I[e].y;for(let e=0;e<2;e++){const i=I[e].z;s[A].set(t,n,i),A++}}}a.copy(N),u.copy(v).setY(N.y);let R=c.copy(a).sub(u).dot(t);s.forEach((e=>{if(e.y===w.y)return;const n=c.copy(e).sub(u).dot(t);n<R&&(a.copy(e),R=n)}));const k=Math.sign(a.dot(r));d.copy(a).setX(a.x===w.x?N.x:w.x),Math.sign(d.dot(r))!==k?h.set(p.set(0,0,-1*Math.sign(a.z)),Math.abs(a.z)):(d.copy(a).setZ(a.z===w.z?N.z:w.z),h.set(p.set(-1*Math.sign(a.x),0,0),Math.abs(a.x))),f.set(v,m.copy(t).multiplyScalar(-1)),f.intersectPlane(h,g);const L=Math.min(Math.abs(g&&g.dot(t)),R);let P=0,D=0;s.forEach((function(e){c.copy(e).sub(v);const t=Math.abs(c.dot(r)),i=Math.abs(c.dot(n));t>P&&(P=t),i>D&&(D=i)}));const M=P/Math.tan(_*O/2),C=D/Math.tan(_/2),x=Math.max(M,C)+Math.abs(L),U=v.clone().add(t.clone().multiplyScalar(1.1*-x));return{position:U,rotation:y(U,v)}}})(),_=((()=>{const e=new i.Matrix4})(),(()=>{const e=new i.Matrix4,t=new i.Vector4})(),(()=>{const e=new i.Vector3;return(t,n,i=o.B1.UP)=>{const r=t.angleTo(n);return Math.sign(e.crossVectors(t,n).dot(i))*r}})()),O=((()=>{const e=new r.k,t=new i.Vector3})(),(e,t,n,i,r=1.5)=>{const o=1/e.elements[5];if(f(e))return r*i/(2*o);const s=t.distanceTo(n),a=Math.atan(o);return i*(r/(2*Math.tan(a)*s))}),T=(e,t,n,i,r=1.5)=>{const o=1/e.elements[0];if(f(e))return r*i/(2*o);const s=t.distanceTo(n),a=Math.atan(o);return i*(r/(2*Math.tan(a)*s))},A=function(){const e=new i.Vector3,t=new i.Matrix4;return(n,i,r)=>{const o=e.set(0,0,-n).applyMatrix4(i).z;return t.copy(i),t.invert(),e.set(2/r,0,o).applyMatrix4(t),e.x}}(),w=e=>1/e.elements[5],N=(e,t=c.Bv.fov)=>e/Math.tan((0,u.pu)(t/2)),I=(()=>{const e=new i.Vector3;return(t,n,i)=>{const r=i.angleTo(o.B1.UP),s=Math.abs(r-Math.PI);return r<.2||s<.2?(t.quaternion.setFromUnitVectors(o.B1.FORWARD,i),!0):(t.lookAt(e.copy(n).add(i)),!1)}})(),R=((()=>{const e=new i.Vector3,t=new i.Vector3(1e4,1e4,1e4),n=[new i.Line3,new i.Line3,new i.Line3,new i.Line3],r=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3]})(),(()=>{const e=new i.Vector3,t=new i.Vector3(0,1,0);return(n,i)=>{e.set(0,0,-1).applyQuaternion(n);const r=e.angleTo(t),o=Math.abs(r-Math.PI);return r<i||o<i}})()),k=(()=>{const e=new i.Vector3(1,0,0);return(t,n=-45)=>{const r=n*(Math.PI/180);return R(t,.1)?(new i.Quaternion).setFromAxisAngle(e,r):t}})(),L=(()=>{const e=new i.Quaternion,t=new i.Euler;return(n,i=35*u.fy)=>{const r=(0,d.rC)(n);if(r<i){const o=r-i;t.set(o,0,0),e.setFromEuler(t),n.multiply(e)}return n}})(),P=(()=>{const e=new i.Vector3;return(t,n,r,o,s)=>{const l=n.getWorldPosition(e).distanceTo(t),c=s.maxSize-(s.maxSize-s.minSize)*(0,h.T)(l,s.nearBound,s.farBound),u=t.clone().project(n),d=new i.Vector3(o.width/2,o.height/2,1).multiply(u),f=new i.Vector3(c/2,0,0).add(d),m=new i.Vector3(2/o.width,2/o.height,1).multiply(f).clone().unproject(n).clone().distanceTo(t)*(1+s.responsiveness/100*(r-1));return(0,p.qE)(m,a.A.epsilon,m)}})(),D=((()=>{const e=new i.Vector3,t=new i.Vector3})(),(()=>{const e=new i.Matrix4;return(t,n,i,r)=>(t.setFromRotationMatrix(e.makeBasis(n,i,r)),t)})())},44455:(e,t,n)=>{"use strict";n.d(t,{PH:()=>i});n(68909);const i=e=>!e||!Object.values(e).filter((e=>0!==e)).length},53172:(e,t,n)=>{"use strict";n.d(t,{H:()=>s,fy:()=>i,pu:()=>o,tm:()=>r});const i=Math.PI/180,r=180/Math.PI;function o(e){return e*i}function s(e){return e*r}},3249:(e,t,n)=>{"use strict";n.d(t,{qE:()=>i});const i=function(e,t,n){return Math.max(t,Math.min(e,n))}},27625:(e,t,n)=>{"use strict";n.d(t,{j1:()=>r,qS:()=>o,yt:()=>i});const i=(e,t,n=1e-5)=>Math.abs(e-t)<=n,r=(e,t,n=1e-5)=>((e,t,n=1e-5)=>i(e.x,t.x,n)&&i(e.y,t.y,n))(e,t,n)&&i(e.z,t.z,n),o=(e,t,n=1e-5)=>r(e,t,n)&&i(e.w,t.w,n)},52885:(e,t,n)=>{"use strict";function i(e,t,n){return(1-n)*e+n*t}n.d(t,{C:()=>i})},86866:(e,t,n)=>{"use strict";n.d(t,{$i:()=>b,C:()=>f,HN:()=>d,HV:()=>_,OF:()=>m,QX:()=>c,U$:()=>i,U0:()=>T,V5:()=>y,Vs:()=>E,cP:()=>u,eB:()=>O,i0:()=>p,jS:()=>S,m9:()=>g,oA:()=>h});var i,r=n(68909),o=n(46771),s=n(81662),a=n(3249),l=n(53172);!function(e){e.fromVisionVector=function(e){return new r.Vector3(e.x,e.z,-e.y)},e.fromVisionScale=function(e){return new r.Vector3(e.x,e.z,e.y)},e.fromVisionVectorInPlace=function(e){const t=e.x,n=e.z,i=-e.y;return e.set(t,n,i)},e.toVisionVector=function(e){return new r.Vector3(e.x,-e.z,e.y)},e.toVisionScale=function(e){return new r.Vector3(e.x,e.z,e.y)},e.toVisionVectorInPlace=function(e){const t=e.x,n=-e.z,i=e.y;return e.set(t,n,i)},e.fromVisionQuaternion=function(e){return new r.Quaternion(e.x,e.z,-e.y,e.w)},e.fromVisionSweepQuaternion=function(e){return new r.Quaternion(e.x,e.z,-e.y,e.w).multiply((new r.Quaternion).setFromAxisAngle(new r.Vector3(0,1,0),(0,l.pu)(90)))},e.fromVisionCameraQuaternion=function(e){return new r.Quaternion(-e.x,-e.z,e.y,-e.w).multiply((new r.Quaternion).setFromAxisAngle(new r.Vector3(1,0,0),(0,l.pu)(90)))},e.toVisionQuaternion=function(e){return new r.Quaternion(e.x,-e.z,e.y,e.w)},e.toVisionSweepQuaternion=function(e){const t=new r.Quaternion(e.x,e.y,e.z,e.w).multiply((new r.Quaternion).setFromAxisAngle(new r.Vector3(0,1,0),(0,l.pu)(-90)));return t.set(t.x,-t.z,t.y,t.w),t},e.toVisionCameraQuaternion=function(e){return new r.Quaternion(e.x,-e.z,e.y,e.w).multiply(new r.Quaternion(-.70710678118,0,0,.70710678118))}}(i||(i={}));const c=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n};function u(e,t,n){return Math.abs(t-e)<=n?t:e+Math.sign(t-e)*n}const d=function(e,t){const n=new r.Vector3(0,0,-1);return n.clone().applyQuaternion(e).angleTo(n.clone().applyQuaternion(t))},h=(()=>{const e=new o.k,t=new r.Frustum;return(n,i,r,o)=>(o=null!=o?o:t,e.identity().makeRotationFromQuaternion(i).setPosition(n),e.getInverse(e),e.premultiply(r.asThreeMatrix4()),o.setFromProjectionMatrix(e.asThreeMatrix4()),o)})(),p=((()=>{const e=new r.Sphere})(),(e,t,n,i)=>h(e,t,n).intersectsBox(i)),f=e=>{const t=e.getSize(new r.Vector3),n=Math.max(t.x,t.y,t.z);return(new r.Box3).setFromCenterAndSize(e.getCenter(new r.Vector3),new r.Vector3(n,n,n))},m=(e,t,n,i,r)=>(r-i)*((e-t)/(n-t))+i,g=(e,t,n,i,r)=>{const o=m(e,t,n,i,r);return(0,a.qE)(o,i,r)};function v(e){return 0===e.x&&0===e.y&&0===e.z}const y=(()=>{const e=new r.Vector3,t=new r.Matrix4;return n=>v(n)?n.clone():(e.copy(s.B1.FORWARD).applyQuaternion(n),t.lookAt(s.B1.ZERO,e,s.B1.UP),(new r.Quaternion).setFromRotationMatrix(t))})(),E=(()=>{const e=new r.Vector3,t=new r.Matrix4;return(n,i)=>v(n)?i.copy(n):(e.copy(s.B1.FORWARD).applyQuaternion(n).setY(0).normalize(),t.lookAt(s.B1.ZERO,e,s.B1.UP),i.setFromRotationMatrix(t))})(),S=(()=>{const e=new r.Vector3,t=new r.Ray;return(n,i,o,s)=>(s=s||new r.Vector3,t.origin.copy(n),t.lookAt(i),s.copy(t.at(o,e)))})(),b=(()=>{const e=new r.Vector3,t=new r.Ray;return(n,i,o,s)=>(s=s||new r.Vector3,t.set(n,i),s.copy(t.at(o,e)))})();function _(e,t,n,i,r,o,s,a,l){if(e===n&&t===i||r===s&&o===a)return!1;const c=(a-o)*(n-e)-(s-r)*(i-t);if(0===c)return!1;const u=((s-r)*(t-o)-(a-o)*(e-r))/c,d=e+u*(n-e),h=t+u*(i-t);return l&&l.set(d,h),!0}function O(e,t,n,i,r,o,s,a,l=0,c){if(e===n&&t===i||r===s&&o===a)return null;const u=(a-o)*(n-e)-(s-r)*(i-t);if(0===u)return null;const d=((s-r)*(t-o)-(a-o)*(e-r))/u,h=((n-e)*(t-o)-(i-t)*(e-r))/u,p=1-l;if(d<l||d>p||h<l||h>p)return null;const f=e+d*(n-e),m=t+d*(i-t);return c&&c.set(f,m),d}function T(e,t){return Math.ceil(e/t)*t}},64208:(e,t,n)=>{"use strict";function i(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}n.d(t,{T:()=>i})},92237:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var i=n(94814),r=n(3928),o=n(53282);const s=new(n(9139).Vy)("animation");class a extends r.v{get active(){return this._active}get duration(){return this._duration}get endValue(){return this._endValue}get easing(){return this._easing}get elapsed(){return this._elapsed}get delay(){return this._delay}constructor(e,t,n,r=i.p9,o=0){super(),this._easing=i.p9,void 0===t&&(t=e),void 0===n&&(this._active=!1,n=0,this._elapsed=0,this._duration=0),this.modifyAnimation(e,t,n,r,0,o)}tick(e){if(!this._active)return this.endValue;if(this._delay>0)return this._delay-=e,this.startValue;const t=(this._elapsed+e)/Math.max(this._duration,1e-5);return this.updateProgress(t),this.value}updateProgress(e){if(isNaN(e))return void s.error(`Invalid progress value: ${e}`);const t=Math.max(0,Math.min(e,1)),n=this.active,i=this.value;if(t>=1)return this.activate(!1),this.value=this._easing(1,this.startValue,this._endValue-this.startValue,1),this._elapsed=this.duration,this.commit(),void(this._onComplete&&this._onComplete.forEach((e=>e())));this.activate(!0),this.value=this._easing(t,this.startValue,this._endValue-this.startValue,1),this._elapsed=t*this.duration,i===this.value&&n===this.active||this.commit()}updateAbsolute(e){const t=e/Math.max(this._duration,1e-5);this.updateProgress(t)}modifyAnimation(e,t,n,r=i.p9,o=0,s=0){return this._easing=r,this._endValue=t,this._duration=n,this._elapsed=o,this._delay=s,this.startValue=e,this.value=e,this.activate(this._duration>=0&&e!==t),this.commit(),this}onComplete(e){return this._onComplete||(this._onComplete=[]),(0,o.Sh)((()=>this._onComplete.push(e)),(()=>this._onComplete.splice(this._onComplete.indexOf(e),1)))}onActivate(e){return this._onActivate||(this._onActivate=[]),(0,o.Sh)((()=>this._onActivate.push(e)),(()=>this._onActivate.splice(this._onActivate.indexOf(e),1)))}activate(e){e!==this._active&&this._onActivate&&this._onActivate.forEach((e=>e())),this._active=e}copy(e){this._endValue=e.endValue,this._duration=e.duration,this._active=e.active,this._easing=e.easing,this._elapsed=e.elapsed,this.startValue=e.startValue,this.value=e.value,this.commit()}clone(){const e=new a(0);return e.copy(this),e}stop(e){this._active=!1,this._elapsed=this._duration,this.value=e,this._endValue=e,this.commit()}equals(e){return this._active===e._active&&this.duration===e.duration&&this.easing===e.easing&&this.elapsed===e.elapsed&&this.endValue===e.endValue&&this.startValue===e.startValue&&this.value===e.value}}},95300:(e,t,n)=>{"use strict";n.d(t,{BE:()=>i,IX:()=>r,s1:()=>o});const i=16/9,r=function(e,t,n){const i=e/t;let r=e,o=t;return i>n?r=t*n:i<n&&(o=e/n),{width:r,height:o}},o=function(e,t){const n=new URL(e);let i=Number(n.searchParams.get("width")),o=Number(n.searchParams.get("height"));i=i&&!Number.isNaN(i)?i:1920,o=o&&!Number.isNaN(o)?o:1080;const s=r(i,o,t);return n.searchParams.set("width",s.width.toFixed()),n.searchParams.set("height",s.height.toFixed()),n}},9130:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,G:()=>o});class i{constructor(e){this.comparator=e,this.nodes=[]}push(e){return this.nodes.push(e),this.siftdown(0,this.nodes.length-1)}pop(){let e,t;return this.nodes.length&&(e=this.nodes.pop(),e)?(this.nodes.length?(t=this.nodes[0],this.nodes[0]=e,this.siftup(0)):t=e,t):null}peek(){return this.nodes[0]}contains(e){return-1!==this.nodes.indexOf(e)}replace(e){if(this.nodes.length){const t=this.nodes[0];return this.nodes[0]=e,this.siftup(0),t}return null}_pushpop(e,t,n){let i;const r=n||this.defaultCompare;return e.length&&r(e[0],t)<0&&(i=[e[0],t],t=i[0],e[0]=i[1],this._siftup(e,0,r)),t}pushpop(e){return this._pushpop(this.nodes,e,this.comparator)}_heapify(e,t){let n,i,r,o,s,a;const l=Math.floor(e.length/2),c=function(){for(a=[],r=0,s=l;0<=s?r<s:r>s;0<=s?r++:r--)a.push(r);return a}.apply(this).reverse(),u=[];for(i=0,o=c.length;i<o;i++)n=c[i],u.push(this._siftup(e,n,t));return u}heapify(){let e,t,n,i,r,o;const s=Math.floor(this.nodes.length/2),a=function(){for(o=[],n=0,r=s;0<=r?n<r:n>r;0<=r?n++:n--)o.push(n);return o}.apply(this).reverse(),l=[];for(t=0,i=a.length;t<i;t++)e=a[t],l.push(this.siftup(e));return l}updateItem(e){const t=this.nodes.indexOf(e);return-1===t?null:(this.siftdown(0,t),this.siftup(t))}clear(){return this.nodes=[]}empty(){return 0===this.nodes.length}size(){return this.nodes.length}clone(){const e=new i(this.comparator);return e.nodes=this.nodes.slice(0),e}toArray(){return this.nodes.slice(0)}insert(e){return this.push(e)}top(){return this.peek()}front(){return this.peek()}has(e){return this.contains(e)}copy(){return this.clone()}nlargest(e){let t,n,i;const r=this.nodes.slice(0,e);if(!r.length)return r;this._heapify(r,this.comparator);const o=this.nodes.slice(e);for(n=0,i=o.length;n<i;n++)t=o[n],this._pushpop(r,t,this.comparator);return r.sort(this.comparator).reverse()}defaultCompare(e,t){return e<t?-1:e>t?1:0}_siftdown(e,t,n,i){let r,o;const s=i||this.defaultCompare,a=e[n];for(;n>t&&(o=n-1>>1,r=e[o],s(a,r)<0);)e[n]=r,n=o;return e[n]=a}siftdown(e,t){return this._siftdown(this.nodes,e,t,this.comparator)}_siftup(e,t,n){let i,r;const o=n||this.defaultCompare,s=e.length,a=t,l=e[t];for(i=2*t+1;i<s;)r=i+1,r<s&&!(o(e[i],e[r])<0)&&(i=r),e[t]=e[i],i=2*(t=i)+1;return e[t]=l,this._siftdown(e,a,t,o)}siftup(e){return this._siftup(this.nodes,e,this.comparator)}}var r;function o(e){void 0===e.timeout&&(e.timeout=1/0);const t={data:e.start,g:0,heuristicValue:e.heuristic(e.start)};let n=t;t.f=t.heuristicValue;const o=new Set,l=new i(a),c=new Map;l.push(t),c.set(t.data,t);const u=Date.now();for(;l.size();){if(Date.now()-u>e.timeout)return{status:r.Timeout,cost:n.g,path:s(n)};const t=l.pop();if(!t)throw new Error("[astar.ts]: Node must exist in heap");if(c.delete(t.data),t&&e.isEnd(t.data))return{status:r.Success,cost:t.g,path:s(t)};o.add(t.data);const i=e.neighbors(t.data);for(const r of i){if(o.has(r))continue;const i=t.g+e.distance(t.data,r);let s=c.get(r),a=!1;if(void 0===s)s={data:r,g:0,heuristicValue:0,f:0},c.set(r,s);else{if(s.g<i)continue;a=!0}s.parent=t||void 0,s.g=i,s.heuristicValue=e.heuristic(r),s.f=i+s.heuristicValue,s.heuristicValue<n.heuristicValue&&(n=s),a?l.heapify():l.push(s)}}return{status:r.NoPath,cost:n.g,path:s(n)}}function s(e){if(void 0!==e.parent){const t=s(e.parent);return t.push(e.data),t}return[e.data]}function a(e,t){if(e.f&&t.f)return e.f-t.f;throw new Error('heapComparator() -> Property "f" is undefined.')}!function(e){e[e.Success=0]="Success",e[e.NoPath=1]="NoPath",e[e.Timeout=2]="Timeout"}(r||(r={}))},81609:(e,t,n)=>{"use strict";function i(e){const t=document.createElement("input");t.type="text",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}n.d(t,{l:()=>i})},81587:(e,t,n)=>{"use strict";n.d(t,{$T:()=>o,Rt:()=>a,XH:()=>s});var i=n(22374);const r=new Object,o=e=>{if(e){const t=e.valueOf();if(!isNaN(t))return e.toISOString()}return(new Date).toISOString()},s=(e,t=r)=>{if(e){const t=new Date(e);if(!isNaN(t.valueOf()))return t}return t===r?new Date:t},a=function(e){return[(0,i.H)(e.getMonth()+1),".",(0,i.H)(e.getDate()),".",e.getFullYear(),"_",(0,i.H)(e.getHours()),".",(0,i.H)(e.getMinutes()),".",(0,i.H)(e.getSeconds())].join("")}},26348:(e,t,n)=>{"use strict";n.d(t,{A4:()=>u,D6:()=>c,Nd:()=>l,hV:()=>a,ld:()=>s});const i=12,r=.30479999,o=.09290313,s=e=>e/r,a=e=>e*r,l=e=>e/o,c=e=>e*o,u=e=>{const t=e/r;let n=Math.floor(t),o=t*i%i;return Math.round(o)===i?(n+=1,o=0):o=Math.round(o),{feet:n,inches:o}}},94814:(e,t,n)=>{"use strict";n.d(t,{AU:()=>c,Bo:()=>v,Do:()=>s,ME:()=>d,WD:()=>a,dV:()=>l,e2:()=>f,jv:()=>m,lu:()=>p,p9:()=>o,p_:()=>u,rn:()=>h,sP:()=>y,v:()=>g});var i=n(65380),r=n.n(i);const o=function(e,t,n,i){return n*e/i+t},s=function(e,t,n,i){return n*(e/=i)*e+t},a=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},l=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},c=function(e,t,n,i){return n*(e/=i)*e*e+t},u=function(e,t,n,i){return e/=i,n*(--e*e*e+1)+t},d=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},h=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},p=function(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))+t},f=function(e,t,n,i){return(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t)},m=(e,t,n,i,r)=>{let o=t;if(r>0){const t=(1-Math.max(r,0))*Math.abs(i);o=n<=t?0:e(n-t,0,1,t)}return o};function g(e,t,n,i){const o=new(r())(e,t,n,i);return(e,t,n,i)=>{const r=e/i;return t+n*o.solve(r)}}function v(e,t,n,i){const o=new(r())(e,t,n,i);return e=>o.solve(e)}const y=function(e,t,n,i){return-4*n*Math.pow(e/i-(.5+t),2)+1}},20819:(e,t,n)=>{"use strict";n.d(t,{EE:()=>i,kH:()=>r});const i=e=>void 0!==e.pointerId,r=e=>void 0!==e.changedTouches},74634:(e,t,n)=>{"use strict";function i(e,t){let n,i,r=t[t.length-1],o=0;for(let s=0;s<t.length;++s)n=r,r=t[s],n.y<=e.y&&r.y<=e.y||n.y>e.y&&r.y>e.y||n.x<e.x&&r.x<e.x||(i=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),r.y<n.y&&(i=-i),o+=i>0?1:0);return o%2==1}n.d(t,{L:()=>i})},97610:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});const i=new(n(9139).Vy)("passive-support"),r=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});return window.addEventListener("testPassive",(()=>{}),t),window.removeEventListener("testPassive",(()=>{}),t),e}catch(e){return i.warn(`Passive Option for addEventListener is not supported, Safari zoom may not perform as expected: ${e}`),!1}})()},10032:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(68909);const r=new i.LoadingManager},93818:(e,t,n)=>{"use strict";n.d(t,{JE:()=>y,LB:()=>v,R5:()=>S,ac:()=>f});var i=n(82748),r=n(23339),o=n(26348);let s="",a="",l="",c="ft",u="in",d="m",h="sq. ft.",p="m",f="";var m,g;function v(e){s=e.unitsDisplayFeetSymbol,a=e.unitsDisplayInchesSymbol,l=e.unitsDisplayHalfSpace,c=e.unitsDisplayFeet,u=e.unitsDisplayInches,d=e.unitsDisplayMeters,h=e.unitsDisplaySquareFeet,p=e.unitsDisplaySquareMeters,f=e.dimensionsSeparator}!function(e){e.INCHES="inches",e.FEET="feet"}(m||(m={})),function(e){e.DISTANCE="distance",e.AREA="area"}(g||(g={}));const y=(e,t,n=m.FEET)=>{const i="number"==typeof t?(new Intl.NumberFormat).format(t):t;return e===r.t.IMPERIAL?{[g.AREA]:`${i} ${h}`,[g.DISTANCE]:n===m.FEET?`${i}${s}`:`${i}${a}`}:{[g.AREA]:`${i} ${p}`,[g.DISTANCE]:`${i} ${d}`}},E=Number((0,i.P3)("metricPrecision",2)),S=(e,t=r.t.IMPERIAL)=>{const{IMPERIAL:n,METRIC:i}=r.t,{FEET:s,INCHES:a}=m;let c=y(n,0,a).distance;switch(t){case n:const{feet:t,inches:r}=(0,o.A4)(e);let u=y(n,t,s).distance,d=y(n,r,a).distance;t<1&&(u=""),u.length>0&&(u+=l),c=u+d;break;case i:c=y(i,e.toFixed(E)).distance}return c}},25712:(e,t,n)=>{"use strict";n.d(t,{Iy:()=>a,KA:()=>c,W0:()=>o,hA:()=>s,s5:()=>l});const i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="0123456789abcdefghijklmnopqrstuvwxyz";function o(e=11,t=i){let n="";const r=window.crypto||window.msCrypto;let o;o=r?r.getRandomValues(new Uint8Array(e)):new Uint8Array(e).map((()=>255*Math.random()));for(let i=0;i<e;i++)n+=t.charAt(o[i]%t.length);return n}function s(){return o(11,r)}function a(e,t){return function(e,t){return(e%t+t)%t}(l(e),t)}function l(e){let t,n=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i),n=(n<<5)-n+t,n|=0;return n}class c{constructor(e){this.length=e,this.usedIds=new Set}generate(){let e;do{e=o(this.length,r)}while(this.usedIds.has(e));return this.reserve(e),e}reserve(e){return this.usedIds.add(e),e}}},45205:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});const i=function(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=n.charAt(Math.floor(62*Math.random()));return t}},83772:(e,t,n)=>{"use strict";n.d(t,{G2:()=>s,RP:()=>o});const i="referrer";let r="";function o(e){let t;try{t=new URL(e)}catch(t){return e}return t.searchParams.set(i,s()),t.href}function s(){return(function(){if(!window.document.referrer)return!1;let e;try{e=new URL(window.document.referrer)}catch(e){return!1}return e.origin===window.location.origin}()?function(){const e=new URL(window.location.href);if(!e.searchParams.has(i))return r;const t=e.searchParams.get(i)||"";try{new URL(t),r=t}catch(e){}return e.searchParams.delete(i),window.history.replaceState(null,"",e.href),r}():"")||window.document.referrer}},84250:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var i=n(68909);const r={defines:{RING_COUNT:0,USE_TEXTURE:!1},uniforms:{discRadius:{value:.2},discNormal:{value:new i.Vector3(0,0,1)},ringRadii:{value:[]},ringColors:{value:[]},opacity:{value:1},tint:{value:new i.Color(1,1,1)},texImg:{value:null},viewMatrixInverse:{value:new i.Matrix4},projectionMatrixInverse:{value:new i.Matrix4}},vertexShader:n(99691),fragmentShader:n(71285),side:i.FrontSide,transparent:!0};var o=n(38069);const s=new i.Color,a=[{outerRadius:1,innerRadius:.75,color:o.V.WHITE.clone(),opacity:1}];class l extends i.ShaderMaterial{constructor(e=a){super(Object.assign(Object.assign({},r),{defines:Object.assign({},r.defines),uniforms:i.UniformsUtils.clone(r.uniforms)})),this.setRings(e),Object.defineProperty(this,"opacity",{set(e){this.uniforms.opacity.value=e},get(){return this.uniforms.opacity.value}})}setDiscNormal(e){this.uniforms.discNormal.value.copy(e)}setDiscRadius(e){this.uniforms.discRadius.value=e}setRings(e){e=e||[],this.defines.RING_COUNT!==e.length&&(this.defines.RING_COUNT=e.length,this.needsUpdate=!0),this.uniforms.ringRadii.value=e.map((({innerRadius:e,outerRadius:t})=>new i.Vector2(e||-1,t))),this.uniforms.ringColors.value=e.map((({color:e,opacity:t})=>(s.copy(e),new i.Vector4(s.r,s.g,s.b,t))))}setTexture(e){this.defines.USE_TEXTURE!==!!e&&(this.defines.USE_TEXTURE=!!e,this.needsUpdate=!0),this.uniforms.texImg.value=e}getTexture(){return this.uniforms.texImg.value}setTint(e){this.uniforms.tint.value.set(null!=e?e:16777215)}getTint(){return this.uniforms.tint.value}onBeforeRender(e,t,n){this.uniforms.projectionMatrixInverse.value.copy(n.projectionMatrixInverse),this.uniforms.viewMatrixInverse.value.copy(n.matrixWorld)}}class c extends i.Mesh{constructor(e){super(new i.SphereGeometry(Math.sqrt(2),8,6),new l),this.onBeforeRender=(e,t,n)=>{this.material.onBeforeRender(e,t,n)},e&&this.configure(e)}configure(e){const{radius:t,normal:n,rings:i,texture:r,opacity:o,tint:s}=e,{material:a}=this;void 0!==t&&(this.scale.setScalar(t),a.setDiscRadius(t)),void 0!==n&&a.setDiscNormal(n),void 0!==i&&a.setRings(i),void 0!==r&&a.setTexture(r),void 0!==s&&a.setTint(s),void 0!==o&&(a.opacity=o)}dispose(){var e;null===(e=this.material.getTexture())||void 0===e||e.dispose(),this.geometry.dispose()}}},47503:(e,t,n)=>{"use strict";function i(e,t){return e.size===t.size&&[...e].every((e=>t.has(e)))}function r(...e){const t=new Set;for(const n of e)for(const e of n.values())t.add(e);return t}function o(e,t){for(const n of t)e.add(n);return e}n.d(t,{LX:()=>r,c5:()=>i,s1:()=>o})},32024:(e,t,n)=>{"use strict";n.d(t,{S:()=>l,y:()=>a});var i=n(68909),r=n(9139),o=n(10032);const s=new r.Vy("texture"),a=(e,t,n,r=i.SRGBColorSpace)=>{const a=new i.TextureLoader(o.A);a.crossOrigin="anonymous";const l=a.load(e,t,void 0,(t=>{s.error(`Failed to load ${e}`),n&&n(t)}));return l.colorSpace=r,l},l=async(e,t=i.SRGBColorSpace)=>{const n=new i.TextureLoader(o.A);n.crossOrigin="anonymous";const r=await n.loadAsync(e);return r.colorSpace=t,r}},66726:(e,t,n)=>{"use strict";n.d(t,{$j:()=>r,Cz:()=>c,Gm:()=>o,SE:()=>s,kh:()=>l,zh:()=>a});var i=n(72853);const r=function(e="",t){let n,i,r;if(e.match(/^https?/)){const t=new URL(e);n=t.protocol+"//"+t.host,i=e,r=e.match(/[^/]*$/)[0]}else{if(t.match(/^https?/)){const e=new URL(t);n=e.protocol+"//"+e.host}else n=window.location.protocol+"//"+t;i=n+"/api/player/models/"+e,r=e}return{sid:r,urlBase:n,urlModel:i,urlFiles:i+(i.match(/\/$/)?"files":"/files"),urlThumb:i+(i.match(/\/$/)?"thumb":"/thumb")}},o=function(e,t={}){for(const n in t){const i=t[n];e+=(-1===e.indexOf("?")?"?":"&")+`${n}=${i}`}return e},s=e=>e.replace(/^https?:\/\/(?:www.)?/i,"").replace(/\/(.*)/,""),a=e=>{if((0,i.J)(e)){return new URL(e).origin}return null};function l(e=window.location.href){let t=e;return(0,i.J)(t)&&(t=t.replace(/\/work\/?(\?.*)?$/,"/show/$1")),new URL(t)}function c(e,t,n){const i=l(),r=new URLSearchParams(window.location.search);var o;o=r,["q","qK","qF","tag","note","comment","pin-pos","cloudEdit"].forEach((e=>o.delete(e)));const s=encodeURIComponent(e);if(s&&r.set("q",s),t.length>0){const e=encodeURIComponent(t.join(","));r.set("qK",e)}if(n.length>0){const e=encodeURIComponent(n.join(","));r.set("qF",e)}return i.search=r.toString(),i.hash="",i.toString()}},16153:(e,t,n)=>{"use strict";n.d(t,{QM:()=>v,Il:()=>E,bF:()=>g});var i=n(68909),r=n(515),o=n(37458),s=n(19968),a=n(53172),l=n(3249),c=n(40397),u=n(73237),d=n(27024),h=n.n(d),p=n(28058);const f={vertexShader:n.n(p)(),fragmentShader:h(),uniforms:{diffuse:{value:new i.Color},opacity:{value:1},anchorPos:{value:new i.Vector3}}};class m extends u.dI{constructor(e={}){e.vertexShader=f.vertexShader,e.fragmentShader=f.fragmentShader,e.uniforms=Object.assign(Object.assign({},e.uniforms),i.UniformsUtils.clone(f.uniforms));const t=e.color,n=e.fadeDepth,r=e.fadeWidth,o=e.opacity;delete e.color,delete e.fadeDepth,delete e.fadeWidth,super(e),this.color=new i.Color,this.opacity=1,this._fadeDepth=null!=n?n:u.n4,this._fadeWidth=null!=r?r:u.OD,t&&this.color.copy(t),null!=o&&(this.opacity=o),this.updateParamsToUniform()}updateParamsToUniform(){this.uniforms.diffuse.value.copy(this.color),this.uniforms.opacity.value=this.opacity}get fadeDepth(){return this._fadeDepth}get fadeWidth(){return this._fadeWidth}setAnchorPos(e){this.uniforms.anchorPos.value.copy(e)}}var g;(0,r.Dw)({unicodeFontsURL:"https://static.matterport.com/webgl-vendors/unicode-font-resolver/1.0.1/"}),function(e){e.WORLD="world",e.NDC="ndc"}(g||(g={}));class v extends i.Object3D{constructor(e,t=g.WORLD){var n,s,a,l;super(),this.config=e,this.scaleType=t,this.unscaledWidth=0,this.unscaledHeight=0,this.bindings=[];const c=this.config.background||this.config.backgroundAsCollider;if(c){this.config.backgroundOpacity=void 0!==this.config.backgroundOpacity?this.config.backgroundOpacity:1,this.config.backgroundOpacity=this.config.background?this.config.backgroundOpacity:0;const t=this.createQuadGeometry(),n=new m({color:e.backgroundColor,transparent:!0,depthTest:this.config.backgroundOpacity>0&&!e.disableDepth,depthWrite:this.config.backgroundOpacity>0&&!e.disableDepth,opacity:this.config.backgroundOpacity,stencilRef:1,stencilFail:i.KeepStencilOp,stencilZFail:i.KeepStencilOp,stencilZPass:i.ReplaceStencilOp,stencilFunc:i.AlwaysStencilFunc,stencilWrite:!0,fadeDepth:this.config.fadeDepth,fadeWidth:this.config.fadeWidth});this.labelBackgroundMesh=new this.config.backgroundColliderType(t,n),this.labelBackgroundMesh.position.z=-.01,this.labelBackgroundMesh.name="Label Background",this.collider=this.labelBackgroundMesh,this.add(this.labelBackgroundMesh)}const u=new m({fadeDepth:this.config.fadeDepth,fadeWidth:this.config.fadeWidth}),d=this.labelTextMesh=new r.EY;d.material=u,d.name="Label Text",d.text=e.text||"",d.renderOrder=10,d.font=`${null!==(n=e.assetBasePath)&&void 0!==n?n:""}${e.fontPath}`,d.lang=e.lang,d.fontSize=1,d.fontWeight=700,d.anchorX="50%",d.anchorY="50%",d.outlineWidth=e.outline?e.outlineWidth:0,d.maxWidth=e.wordWrapWidth,d.textAlign=e.align,d.depthOffset=e.depthOffset||0,c&&(d.raycast=()=>{}),d.addEventListener("synccomplete",(()=>{var e;const[t,n,i,r]=d.textRenderInfo.visibleBounds;let o=i-t,s=r-n;isFinite(o)&&isFinite(s)&&(c&&(o+=this.config.backgroundBorderWidth,s+=this.config.backgroundBorderHeight,this.labelBackgroundMesh.scale.set(o,s,1)),this.unscaledWidth=o,this.unscaledHeight=s,this.aspect=o/Math.max(s,.001),d.position.set("50%"===d.anchorX?(t+i)/-2:0,"50%"===d.anchorY?(n+r)/-2:0,0),null===(e=this._onGeomUpdate)||void 0===e||e.call(this))})),this.scaleFactor=null!==(s=e.scale)&&void 0!==s?s:1,this.opacity=null!==(a=e.opacity)&&void 0!==a?a:1,this.setColor(null!==(l=e.color)&&void 0!==l?l:new i.Color),this.setRenderOrder(o.X.labels),this.add(d),d.sync(),this.name="Label Container";const h=d.onBeforeRender.bind(d);d.onBeforeRender=(e,t,n,i,r,o)=>{r.updateParamsToUniform(),h(e,t,n,i,r,o)},this.labelBackgroundMesh&&(this.labelBackgroundMesh.onBeforeRender=(e,t,n,i,r,o)=>{r.updateParamsToUniform()})}dispose(){this.bindings.forEach((e=>e.cancel())),this.labelTextMesh.dispose()}onGeomUpdate(e){this._onGeomUpdate=e}get text(){return this.config.text}set text(e){this.config.text=e,this.labelTextMesh.text=e,this.labelTextMesh.sync()}get mesh(){return this.labelTextMesh}getUnscaledSize(){return{width:this.unscaledWidth,height:this.unscaledHeight}}get scaleFactor(){return this.config.scale}set scaleFactor(e){this.config.scale=e,this.scale.setScalar(e)}get opacity(){return void 0!==this.config.opacity?this.config.opacity:1}set opacity(e){if(e!==this.config.opacity){this.config.opacity=e;const t=e>0&&!this.config.disableDepth;if(this.config.background){const n=this.labelBackgroundMesh.material;n.opacity=Math.min(this.config.backgroundOpacity||1,e),n.depthWrite=e>.15,n.depthTest=t}this.forEachLabelTextMaterial((n=>{n.opacity=e,n.depthTest=t})),this.visible=e>0,this.labelBackgroundMesh.visible=this.visible}}forEachLabelTextMaterial(e){if(Array.isArray(this.labelTextMesh.material))for(const t of this.labelTextMesh.material)e(t);else e(this.labelTextMesh.material)}setColor(e){this.forEachLabelTextMaterial((t=>{t.isTextOutlineMaterial||t.color.copy(e)}))}setFadeDepthTexture(e){this.forEachLabelTextMaterial((t=>{t.setFadeDepthTexture(e)})),this.labelBackgroundMesh&&this.labelBackgroundMesh.material.setFadeDepthTexture(e)}setRenderLayer(e){this.labelTextMesh.layers.mask=e.mask,this.labelBackgroundMesh&&(this.labelBackgroundMesh.layers.mask=e.mask)}setRenderOrder(e){this.renderOrder=e,this.labelTextMesh.renderOrder=e,this.labelBackgroundMesh&&(this.labelBackgroundMesh.renderOrder=e)}setPosition(e,t=e=>e){const n=t(e);this.position.copy(n),this.forEachLabelTextMaterial((e=>{e.setAnchorPos(n)})),this.labelBackgroundMesh&&this.labelBackgroundMesh.material.setAnchorPos(n)}setOrientation(e,t=0){this.quaternion.copy(e),0!==t&&this.rotateZ(-t*a.fy)}scaleBillboard(e,t,n,i,r,o,a=y.SCALE_DEFAULT){if(0!==n.elements[15])this.scaleFactor=.2*a*i*(y.ORTHO_IDEAL_HEIGHT/r);else{const u=(0,s.jn)(this.position,e,t,n.asThreeMatrix4()),d=Math.abs(u.x);if(d<1){const t=(0,c.Nv)(n,e,this.position,r,a),s=((0,l.qE)(o,1,2.5)+i)*y.SCALE_ASPECT,u=1+y.SCALE_NDC-d*y.SCALE_NDC-s,h=Math.max(Math.min(1/t*u,3),.001);this.scaleType===g.NDC?this.scaleFactor=h:this.scaleFactor=Math.min(h*y.NDC_MULT,a*y.SCALE_WORLD)}else this.scaleFactor=.001}}createQuadGeometry(){const e=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),t=new Float32Array([0,0,-1,0,0,-1,0,0,-1,0,0,-1]),n=new i.BufferGeometry;return n.setAttribute("position",new i.BufferAttribute(e,3)),n.setIndex([0,1,2,0,2,3]),n.setAttribute("normal",new i.BufferAttribute(t,3)),n}}const y={SCALE_DEFAULT:.1,SCALE_WORLD:4,SCALE_NDC:.5,SCALE_ASPECT:.035,DEPTH_WRITE_THRESHOD:.15,ORTHO_IDEAL_HEIGHT:1500,NDC_MULT:1.15};class E{constructor(e){this.currentTextConfig=E.defaultTextConfig,e?this.updateTextStyle(e):this.updateTextStyle(E.defaultTextConfig)}updateTextStyle(e){this.currentTextConfig=Object.assign(Object.assign({},this.currentTextConfig),e)}createLabel(e={text:""}){return new v(Object.assign(Object.assign({},this.currentTextConfig),e))}async preload(e={text:""}){const t=Object.assign(Object.assign({},this.currentTextConfig),e);return new Promise((e=>{var n;(0,r.PY)({font:`${null!==(n=t.assetBasePath)&&void 0!==n?n:""}${t.fontPath}`,characters:t.text},e)}))}static makeConfig(e){return Object.assign(Object.assign({},E.defaultTextConfig),e)}}E.defaultTextConfig={text:"",fontPath:"fonts/roboto-700.woff",align:"center",wordWrapWidth:void 0,color:new i.Color(0,0,0),backgroundColor:new i.Color(1,1,1),backgroundBorderWidth:.9,backgroundBorderHeight:.7,background:!0,backgroundAsCollider:!0,backgroundColliderType:i.Mesh,scale:1,outline:!1,outlineWidth:.06}},14614:(e,t,n)=>{"use strict";n.d(t,{Jj:()=>i,le:()=>a,lg:()=>l,zH:()=>c});var i,r=n(68920),o=n(12625),s=n(46671);!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.WAITING=1]="WAITING",e[e.LOADING=2]="LOADING",e[e.STARTING=3]="STARTING",e[e.PLAYING=4]="PLAYING",e[e.ERROR=5]="ERROR"}(i||(i={}));const a=["UNINITIALIZED","WAITING","LOADING","STARTING","PLAYING","ERROR"];var l;!function(e){e.UNKNOWN="unknown",e.WEBVR="webvr",e.SHOWCASE="showcase",e.WORKSHOP="workshop"}(l||(l={}));class c extends o.B{constructor(e,t=l.UNKNOWN){super(),this.name="app-data",this.phases=i,this.editMode=!1,this.playingPromise=new r.i,this.startingPromise=new r.i,this.phase=e,this.application=t,this.phaseTimes=(0,s.c)({[i.UNINITIALIZED]:0,[i.WAITING]:0,[i.LOADING]:0,[i.STARTING]:0,[i.PLAYING]:0,[i.ERROR]:0}),this.error=null,this.onPhase((()=>{this.playingPromise.resolve()}),i.PLAYING),this.onPhase((()=>{this.startingPromise.resolve()}),i.STARTING)}getName(){return this.application.toString()}getVersion(){return"26.1.3_webgl-190-ge117742b46"}onPhase(e,t){return this.onPropertyChanged("phase",(n=>{t&&n!==t||e()}))}get waitForPlaying(){return this.playingPromise.nativePromise()}toString(){return JSON.stringify({application:this.getName(),version:this.getVersion(),error:this.error,phaseTimes:this.phaseTimes})}}},11165:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});class i{get id(){return this.constructor.id}}},12161:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var i=n(9139),r=n(68920),o=n(53282);const s=new i.Vy("command-binder");class a{constructor(e=!1){this.ignoreUnboundCommands=e,this.bindings={},this.queuedCommands={},this.hookedCommands={},this.resetHooks=()=>{this.hookedCommands={}},this.issueCommand=this.issueCommand.bind(this),this.issueCommandWhenBound=this.issueCommandWhenBound.bind(this)}addBinding(e,t){if(this.bindings[e.id])throw Error(`Command ${e.id} already bound to a callback`);if(!e.id)throw Error(`Command ${e.name} does not have an id. Add one as a static member.`);this.bindings[e.id]=t,this.callQueuedCommands(e.id);return{renew:()=>{this.bindings[e.id]!==t&&this.addBinding(e,t)},cancel:()=>this.removeBinding(e,t),active:this.bindings[e.id]===t}}removeBinding(e,t){if(!this.bindings[e.id])return void s.debug("Trying to unbind unbound command");this.bindings[e.id]===t?delete this.bindings[e.id]:s.debug("Trying to unbind unbound callback")}issueCommand(e,t=!0){const n=this.bindings[e.id];return n?this.issueCommandHelper(e,n,t):this.ignoreUnboundCommands?Promise.resolve({}):Promise.reject("Command not bound: "+e.id)}issueCommandHelper(e,t,n=!0){return this.hookedCommands[e.id]&&!this.hookedCommands[e.id].resolving?this.issueHookCommand(e):t(e.payload)}issueCommandWhenBound(e){const t=new r.i;return this.issueCommand(e).then((e=>t.resolve(e))).catch((n=>{this.queuedCommands[e.id]||(this.queuedCommands[e.id]=[]),this.queuedCommands[e.id].push({command:e,deferred:t})})),t.nativePromise()}callQueuedCommands(e){const t=[];this.queuedCommands[e]&&(this.queuedCommands[e].forEach((e=>{t.push(this.issueCommand(e.command).then((t=>e.deferred.resolve(t))))})),Promise.all(t).then((()=>{delete this.queuedCommands[e]})))}hookCommand(e,t,n){let i=this.hookedCommands[e.id];if(i){if(t&&null!==i.preCommandCallback)throw Error(`Command ${e.name} has already been pre hooked`);if(!t&&null!==i.postCommandCallback)throw Error(`Command ${e.name} has already been post hooked`)}else i=this.hookedCommands[e.id]={preCommandCallback:null,postCommandCallback:null,resolving:!1};return(0,o.Sh)((()=>{t?i.preCommandCallback=n:i.postCommandCallback=n}),(()=>{t?i.preCommandCallback=null:i.postCommandCallback=null}),!0)}async issueHookCommand(e){const t=this.hookedCommands[e.id],n=this.bindings[e.id],i=e.payload,r=t.preCommandCallback,o=t.postCommandCallback;try{r&&await r(i),t.resolving=!0;const s=await this.issueCommandHelper(e,n,!0);return t.resolving=!1,o&&await o(i),s}catch(e){throw Error(`Could not completely issueHookCommand - ${e}`)}}}},35843:(e,t,n)=>{"use strict";n.d(t,{Ks:()=>c,g$:()=>u,oV:()=>a});var i=n(9139),r=n(65945),o=n(84404);const s=new i.Vy("di-container"),a=new r.mc;a.bindConstant(o.Od,!0);const l={};function c(e){return s.warn("Prefer getting container directly from engine for better encapsulation."),l[e]}function u(e,t=a){const n=new r.mc(t);return l[e]=n,n.bindConstant(o.Od,!1),n.bindConstant(o.x6,e),n}},84404:(e,t,n)=>{"use strict";n.d(t,{L0:()=>s,Od:()=>i,T6:()=>o,aX:()=>a,x6:()=>r});const i="__isRoot__",r="__engineId__",o="__workshopLoadCalledOnce__",s="__showcaseLoadCalledOnce__",a="__sdkInterfacesSetupCalled__"},63958:(e,t,n)=>{"use strict";var i,r;n.d(t,{nD:()=>d,oN:()=>s,sv:()=>c,tb:()=>i}),function(e){e[e.None=0]="None",e[e.Duration=1]="Duration",e[e.Phase=2]="Phase",e[e.Promise=3]="Promise"}(i||(i={}));class o{constructor(e){this.type=e}}class s extends o{constructor(){super(i.None)}}class a extends o{constructor(e){super(i.Duration),this.duration=e,this.startTime=Date.now()}}class l extends o{constructor(e){super(i.Phase),this.phase=e}}!function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(r||(r={}));class c extends o{constructor(e){super(i.Promise),this.promise=e,this.promiseState=r.Pending,e.then((()=>{this.promiseState=r.Fulfilled})).catch((()=>{this.promiseState=r.Rejected}))}}class u{constructor(e,t=!0){this.generator=e,t&&this.start()}start(){this.started||(this.iterator=this.generator()),this.started=!0}iterate(){const e=this.iterator.next();this.currentResult=e.value,e.done&&(this.started=!1)}}class d{constructor(){this.generators=[]}startGenerator(e){let t=this.generators.length;for(let n=0;n<this.generators.length;n++){this.generators[n].generator===e&&(t=n)}this.generators[t]=new u(e)}stopGenerator(e){for(const t of this.generators)t.generator===e&&(t.started=!1)}processGenerators(e,t){for(const n of this.generators)if(n.started)switch(e){case i.None:(!n.currentResult||n.currentResult instanceof s)&&n.iterate();break;case i.Phase:if(n.currentResult instanceof l){const e=n.currentResult;void 0!==t&&e.phase===t&&n.iterate()}break;case i.Promise:if(n.currentResult instanceof c){n.currentResult.promiseState===r.Fulfilled&&n.iterate()}break;case i.Duration:if(n.currentResult instanceof a){const e=n.currentResult;Date.now()-e.startTime>=e.duration&&n.iterate()}}}}},99689:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>s,Gq:()=>o});var i=n(68920);var r,o;!function(e){e[e.CANCELLED=0]="CANCELLED",e[e.COMPLETED=1]="COMPLETED"}(r||(r={})),function(e){e[e.COMPUTE=0]="COMPUTE",e[e.BACKGROUND=1]="BACKGROUND"}(o||(o={}));class s{constructor(){this.name="generator-spreader",this.computeQueue=[],this.backgroundQueue=[]}enqueue(e,t,n=o.COMPUTE,r=!1){this.cancel(e,n);const s=this.getQueue(n),a=new i.i;return r?s.unshift({id:e,generator:t,promise:a}):s.push({id:e,generator:t,promise:a}),a.nativePromise()}cancel(e,t=o.COMPUTE){const n=this.getQueue(t),i=this.indexOfId(e,t);if(-1!==i){const e=n[i];n.splice(i,1),e.promise.resolve({state:r.CANCELLED,result:null})}}indexOfId(e,t){const n=this.getQueue(t);let i=-1;for(let t=0;t<n.length;t++)if(e===n[t].id){i=t;break}return i}getQueue(e){return e===o.COMPUTE?this.computeQueue:this.backgroundQueue}hasTasks(e=o.COMPUTE){return this.getQueue(e).length>0}hasTask(e,t=o.COMPUTE){return-1!==this.indexOfId(e,t)}onUpdate(){const e=performance.now();for(;performance.now()-e<15&&this.computeQueue.length>0;){const e=this.computeQueue[0],{value:t,done:n}=e.generator.next();n&&(this.computeQueue.splice(0,1),e.promise.resolve({state:r.COMPLETED,result:t}))}const t=performance.now();for(;performance.now()-t<3&&this.backgroundQueue.length>0;){const e=this.backgroundQueue[0],{value:t,done:n}=e.generator.next();n&&(this.backgroundQueue.splice(0,1),e.promise.resolve({state:r.COMPLETED,result:t}))}}}},64882:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});class i{constructor(){this.bindings=[]}init(e,t){return Promise.resolve()}onUpdate(e){}dispose(e){for(const e of this.bindings)null==e||e.cancel();this.bindings=[]}}},14868:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});class i{constructor(e){this._mask=e}get mask(){return this._mask}addLayers(e){this._mask|=e.mask}removeLayers(e){return this._mask&=~e.mask}clone(){return new i(this._mask)}}class r{static get ALL(){return new i(-1)}static get NONE(){return new i(0)}static get DEFAULT(){return new i(1)}constructor(){this.layerRegistry=[],this.unusedLayers=[];for(let e=1;e<32;e++)this.unusedLayers.push(e)}claimLayer(e){const t=this.getLayer(e);if(t.mask)return t;if(0===this.unusedLayers.length)throw Error("All render layers have already been claimed");const n=this.unusedLayers[0];return this.layerRegistry[n]=e,this.unusedLayers.shift(),new i(1<<n)}getLayer(e){const t=this.layerRegistry.indexOf(e);return-1!==t?new i(1<<t):r.NONE}disposeLayer(e){const t=this.layerRegistry.indexOf(e);-1!==t&&this.unusedLayers.push(t)}}},75772:(e,t,n)=>{"use strict";var i;n.d(t,{R:()=>i}),function(e){e[e.Begin=0]="Begin",e[e.Logic=1]="Logic",e[e.Render=2]="Render",e[e.End=3]="End"}(i||(i={}))},12625:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var i=n(3928);class r extends i.v{}},45987:(e,t,n)=>{"use strict";n.d(t,{E5:()=>o,Fj:()=>s,uv:()=>r});var i=n(7478);class r extends i.QB{constructor(e,t){super(),this.phase=e,this.application=t}}class o extends i.QB{constructor(e){super(),this.application=e}}class s extends i.QB{constructor(e){super(),this.application=e}}},7478:(e,t,n)=>{"use strict";n.d(t,{QB:()=>i});class i{constructor(){this.msgId=-1}setID(e){if(-1!==this.msgId)throw Error("Message.msgId can only be set once.");this.msgId=e}}},41302:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l,x:()=>a});var i=n(9139),r=n(75817),o=n(53282);const s=new i.Vy("message-bus");var a;!function(e){e[e.PERMANENT=0]="PERMANENT",e[e.ONCE=1]="ONCE"}(a||(a={}));class l{constructor(){this.typeLookup=new r.b0,this.callbacks={},this.messageQueue=[],this.messageCount=0}subscribe(e,t,n=a.PERMANENT){return(0,o.Sh)((()=>this._subscribe(e,t,n)),(()=>this.unsubscribe(e,t)),!0,(0,r.sb)(e))}_subscribe(e,t,n=a.PERMANENT){const i=this.typeLookup.getKeyByType(e,!0);this.callbacks[i]||(this.callbacks[i]=[]),this.callbacks[i].push({type:n,callback:t})}unsubscribe(e,t){const n=this.typeLookup.getKeyByType(e);n?this.unsubscribeByIndex(n,t):s.debug(`Message callback not bound for Type: ${e.name}`)}unsubscribeByIndex(e,t){const n=this.callbacks[e].findIndex((e=>e.callback===t));-1!==n?this.callbacks[e].splice(n,1):s.debug(`Message callback not bound for TypeIndex: ${e}`)}broadcast(e){if(e.setID(this.messageCount++),this.messageQueue.push(e),1===this.messageQueue.length){for(const e of this.messageQueue){const t=this.typeLookup.getKeyByInstance(e);if(!t)continue;const n=this.callbacks[t].slice();for(const i of n)i.callback(e),i.type===a.ONCE&&this.unsubscribeByIndex(t,i.callback)}this.messageQueue=[]}}}},49988:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var i=n(5894),r=n(62802),o=n(77098);class s extends o.c{constructor(e,t){super(),this.computation=e,this.updateValue=()=>{const e=this.computation();Array.isArray(e)&&Array.isArray(this._lastValue)&&(0,i.C2)(e,this._lastValue)?this._dirtyObservable=!1:e!==this._lastValue&&(this._prevValue=this._lastValue,this._lastValue=e,this.setDirty(!0))},this._lastValue=this.computation(),this._prevValue=null,this._subscriptions=new r.P(...t.map((e=>e(this.updateValue))))}get value(){return this._lastValue}get prevValue(){return this._prevValue}renew(){this._subscriptions.renew()}cancel(){this._subscriptions.cancel()}notifyObserver(e){e(this._lastValue)}}},77098:(e,t,n)=>{"use strict";n.d(t,{c:()=>X});var i=n(53282),r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function a(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function u(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function h(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||a(e,t)}))})}function a(e,t){try{(n=r[e](t)).value instanceof d?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=l(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}Object.create;function f(e){return"function"==typeof e}function m(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var g=m((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function v(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var y=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,i,r;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=l(o),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var d=this.initialTeardown;if(f(d))try{d()}catch(e){r=e instanceof g?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=l(h),m=p.next();!m.done;m=p.next()){var v=m.value;try{b(v)}catch(e){r=null!=r?r:[],e instanceof g?r=u(u([],c(r)),c(e.errors)):r.push(e)}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(r)throw new g(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)b(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&v(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&v(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),E=y.EMPTY;function S(e){return e instanceof y||e&&"closed"in e&&f(e.remove)&&f(e.add)&&f(e.unsubscribe)}function b(e){f(e)?e():e.unsubscribe()}var _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},O={setTimeout:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=O.delegate;return(null==r?void 0:r.setTimeout)?r.setTimeout.apply(r,u([e,t],c(n))):setTimeout.apply(void 0,u([e,t],c(n)))},clearTimeout:function(e){var t=O.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function T(e){O.setTimeout((function(){var t=_.onUnhandledError;if(!t)throw e;t(e)}))}function A(){}var w=N("C",void 0,void 0);function N(e,t,n){return{kind:e,value:t,error:n}}var I=null;function R(e){if(_.useDeprecatedSynchronousErrorHandling){var t=!I;if(t&&(I={errorThrown:!1,error:null}),e(),t){var n=I,i=n.errorThrown,r=n.error;if(I=null,i)throw r}}else e()}var k=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,S(t)&&t.add(n)):n.destination=U,n}return o(t,e),t.create=function(e,t,n){return new M(e,t,n)},t.prototype.next=function(e){this.isStopped?x(function(e){return N("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?x(N("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?x(w,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(y),L=Function.prototype.bind;function P(e,t){return L.call(e,t)}var D=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){C(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){C(e)}else C(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){C(e)}},e}(),M=function(e){function t(t,n,i){var r,o,s=e.call(this)||this;f(t)||!t?r={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=i?i:void 0}:s&&_.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},r={next:t.next&&P(t.next,o),error:t.error&&P(t.error,o),complete:t.complete&&P(t.complete,o)}):r=t;return s.destination=new D(r),s}return o(t,e),t}(k);function C(e){var t;_.useDeprecatedSynchronousErrorHandling?(t=e,_.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=t)):T(e)}function x(e,t){var n=_.onStoppedNotification;n&&O.setTimeout((function(){return n(e,t)}))}var U={closed:!0,next:A,error:function(e){throw e},complete:A},F="function"==typeof Symbol&&Symbol.observable||"@@observable";function H(e){return e}function G(e){return 0===e.length?H:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var B=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,r=this,o=(i=e)&&i instanceof k||function(e){return e&&f(e.next)&&f(e.error)&&f(e.complete)}(i)&&S(i)?e:new M(e,t,n);return R((function(){var e=r,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?r._subscribe(o):r._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=V(t))((function(t,i){var r=new M({next:function(t){try{e(t)}catch(e){i(e),r.unsubscribe()}},error:i,complete:t});n.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[F]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return G(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=V(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function V(e){var t;return null!==(t=null!=e?e:_.Promise)&&void 0!==t?t:Promise}var j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function W(e){if(e instanceof B)return e;if(null!=e){if(function(e){return f(e[F])}(e))return s=e,new B((function(e){var t=s[F]();if(f(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((o=e)&&"number"==typeof o.length&&"function"!=typeof o)return r=e,new B((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(f(null==(i=e)?void 0:i.then))return n=e,new B((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,T)}));if(function(e){return Symbol.asyncIterator&&f(null==e?void 0:e[Symbol.asyncIterator])}(e))return z(e);if(function(e){return f(null==e?void 0:e[j])}(e))return t=e,new B((function(e){var n,i;try{for(var r=l(t),o=r.next();!o.done;o=r.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return f(null==e?void 0:e.getReader)}(e))return z(function(e){return h(this,arguments,(function(){var t,n,i;return a(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,d(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,d(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,d(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,i,r,o,s;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function z(e){return new B((function(t){(function(e,t){var n,i,r,o;return s(this,void 0,void 0,(function(){var s,l;return a(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=p(e),a.label=1;case 1:return[4,n.next()];case 2:if((i=a.sent()).done)return[3,4];if(s=i.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=a.sent(),r={error:l},[3,11];case 6:return a.trys.push([6,,9,10]),i&&!i.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var $=m((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),K=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype.lift=function(e){var t=new Y(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new $},t.prototype.next=function(e){var t=this;R((function(){var n,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var r=l(t.currentObservers),o=r.next();!o.done;o=r.next()){o.value.next(e)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;R((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;R((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,i=n.hasError,r=n.isStopped,o=n.observers;return i||r?E:(this.currentObservers=null,o.push(e),new y((function(){t.currentObservers=null,v(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,i=t.thrownError,r=t.isStopped;n?e.error(i):r&&e.complete()},t.prototype.asObservable=function(){var e=new B;return e.source=this,e},t.create=function(e,t){return new Y(e,t)},t}(B),Y=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return o(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:E},t}(K);function q(e){return function(t){if(function(e){return f(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Q(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!0!==t){if(!1!==t){var r=new M({next:function(){r.unsubscribe(),e()}});return W(t.apply(void 0,u([],c(n)))).subscribe(r)}}else e()}class X{constructor(){this.isObservable=!0,this._dirtyObservable=!1,this._activeObservable=!0,this._observerNotifying=!1,this._changeObservers=new Set,this._parentObservables=new Set,this._childObservables=new Set,Object.defineProperties(this,{isObservable:{value:this.isObservable,writable:!1,enumerable:!1},_dirtyObservable:{value:this._dirtyObservable,enumerable:!1},_activeObservable:{value:this._activeObservable,enumerable:!1},_observerNotifying:{value:this._observerNotifying,enumerable:!1},_changeObservers:{value:this._changeObservers,writable:!1,enumerable:!1},_childObservables:{value:this._childObservables,writable:!1,enumerable:!1},_parentObservables:{value:this._parentObservables,writable:!1,enumerable:!1}})}onChanged(e){if(this._changeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,i.Sh)((()=>this._changeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._changeObservers.delete(e)}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._changeObservers)this.notifyObserver(e);this._dirtyObservable=!1,this._observerNotifying=!1}}notifyObserver(e){e(void 0)}notifyDown(){for(const e of this._childObservables)e.notifyDown();this.notifyObservers()}notifyUp(){for(const e of this._parentObservables)e.notifyUp();this.notifyObservers()}setDirty(e=!0){this.setDirtyUp(),e&&this.notifyUp()}setDirtyUp(){if(!this._dirtyObservable){this._dirtyObservable=!0;for(const e of this._parentObservables)e.setDirtyUp()}}addChildObservable(e){X.isObservable(e)&&(this._childObservables.add(e),e._parentObservables.add(this))}removeChildObservables(e){X.isObservable(e)&&(this._childObservables.delete(e),e._parentObservables.delete(this))}atomic(e){if(!this._activeObservable)return e();try{this.setActive(!1),e()}finally{this.setActive(!0)}}setActive(e){const t=this._activeObservable;this._activeObservable=e,!t&&e&&this.notifyObservers();for(const t of this._childObservables)t.setActive(e)}deepCopy(){throw Error("deepCopy is only implemented in subclasses of Observable")}get asRxJS$(){return this._rxJS$||(this._rxJS$=new B((e=>{const t=this.onChanged((t=>{e.next(t)}));return()=>{this._rxJS$=null,t.cancel()}})).pipe(function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new K}:t,i=e.resetOnError,r=void 0===i||i,o=e.resetOnComplete,s=void 0===o||o,a=e.resetOnRefCountZero,l=void 0===a||a;return function(e){var t,i,o,a=0,c=!1,u=!1,d=function(){null==i||i.unsubscribe(),i=void 0},h=function(){d(),t=o=void 0,c=u=!1},p=function(){var e=t;h(),null==e||e.unsubscribe()};return q((function(e,f){a++,u||c||d();var m=o=null!=o?o:n();f.add((function(){0!=--a||u||c||(i=Q(p,l))})),m.subscribe(f),!t&&a>0&&(t=new M({next:function(e){return m.next(e)},error:function(e){u=!0,d(),i=Q(h,r,e),m.error(e)},complete:function(){c=!0,d(),i=Q(h,s),m.complete()}}),W(e).subscribe(t))}))(e)}}({connector:()=>new K,resetOnRefCountZero:!0}))),this._rxJS$}static isObservable(e){return e&&e.isObservable}}},4850:(e,t,n)=>{"use strict";n.d(t,{X:()=>o,Z:()=>s});var i=n(69304),r=n(77098);class o extends r.c{constructor(){super(),this.isObservableArray=!0,this.elements=[]}static from(...e){const t=new o;return t.push(...e),t}push(...e){for(const t of e)this.elements.push(t),this.addChildObservable(t);return this.setDirty(),this.length}concat(e){const t=this.elements.length;this.elements=this.elements.concat(...e);for(let e=t;e<this.elements.length;e++)this.addChildObservable(this.elements[e]);return this.setDirty(),this.length}replace(e){for(const e of this.elements)this.removeChildObservables(e);return this.elements=[],this.concat(e)}remove(e){if(e<0||e>=this.length)throw new Error(`Index ${e} not in range of ObservableArray`);const[t]=this.elements.splice(e,1);this.removeChildObservables(t),this.setDirty()}clear(){for(;this.length;)this.remove(0)}update(e,t){const n=this.elements[e];n!==t&&(this.elements[e]=t,this.removeChildObservables(n),this.addChildObservable(t),this.setDirty())}get length(){return this.elements.length}set length(e){if(e<this.elements.length){for(let t=this.elements.length-1;t>=e;t--){const e=this.elements[t];this.removeChildObservables(e)}this.elements.length=e,this.setDirty()}}entries(){return this.elements.entries()}values(){return[...this.elements]}filter(e){return this.elements.filter(e)}find(e){return this.elements.find(e)}*[Symbol.iterator](){for(const e of this.elements)yield e}map(e,t){return this.elements.map(e,t)}forEach(e,t){this.elements.forEach(e,t)}sort(e){this.elements.sort(e)}get(e){return this.elements[e]}findIndex(e,t){return this.elements.findIndex(e,t)}indexOf(e){return this.elements.indexOf(e)}splice(e,t,...n){let i;if(n.length){i=this.elements.splice(e,t,...n);for(const e of n)this.addChildObservable(e)}else i=this.elements.splice(e,t);for(const e of i)this.removeChildObservables(e);return this.setDirty(),i}insert(e,t){if(e>this.elements.length)throw new Error(`Tried to insert at index ${e} in an array that's only ${this.elements.length} long`);e!==this.elements.length?(this.elements.splice(e,0,t),this.addChildObservable(t),this.setDirty()):this.push(t)}shift(){const e=this.elements.shift();return e&&(this.removeChildObservables(e),this.setDirty()),e}move(e,t){if(t>this.elements.length-1)throw Error("Index to move to is out of bounds");const n=this.elements[e];this.elements.splice(e,1),this.elements.splice(t,0,n),this.setDirty()}includes(e,t){return this.elements.includes(e,t)}some(e,t){return this.elements.some(e,t)}every(e,t){return this.elements.every(e,t)}onElementChanged(e){let t=this.elements.slice();return this.onChanged((()=>{for(const n in t){const i=parseInt(n,10);e.onRemoved&&void 0===this.get(i)&&e.onRemoved(t[i],i)}for(const n in this.elements){const i=parseInt(n,10),o=this.get(i);void 0===t[i]?e.onAdded&&e.onAdded(o,i):(r.c.isObservable(o)&&o._dirtyObservable||o!==t[i])&&(e.onUpdated?e.onUpdated(o,i):e.onRemoved&&null===o&&e.onRemoved(t[i],i))}t=this.elements.slice()}))}deepCopy(){return this.map((e=>(0,i.A4)(e)))}}const s=e=>{const t=new o;return e&&t.concat(e),t}},88325:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,y:()=>a});var i=n(69304),r=n(77098);function o(e){return(0,i.Et)(e)?""+e:e}class s extends r.c{constructor(){super(),this.map={},this._keysSet=new Set,this._keysList=[]}get keys(){return this._keysList.slice()}get values(){return this._keysList.map((e=>this.get(e)))}sort(e){this._keysList.sort(((t,n)=>{const i=this.get(t),r=this.get(n);return e?e(i,r):0}))}entries(){const e=[];for(const t in this.map)e.push([t,this.map[t]]);return e}get length(){return this._keysList.length}*[Symbol.iterator](){for(const e of this._keysList)yield this.get(e)}get(e){return this.map[e]}has(e){return void 0!==this.map[e]}set(e,t){e=o(e);this.map[e]!==t&&(this.removeChildObservables(this.map[e]),this.addChildObservable(t),this.map[e]=t,this._keysSet.has(e)||(this._keysList.push(e),this._keysSet.add(e)),this.setDirty())}clear(){if(this.length>0){for(const e in this.map)this.removeChildObservables(this.map[e]);this.map={},this._keysSet.clear(),this._keysList=[],this.setDirty()}}replace(e){this.clear();for(const t in e)this.set(t,e[t])}delete(e){e=o(e),this.removeChildObservables(this.map[e]);const t=this.map.hasOwnProperty(e);return delete this.map[e],t&&(this._keysSet.delete(e),this._keysList.splice(this._keysList.indexOf(e),1),this.setDirty()),t}forEach(e,t){for(const n of this._keysList){const i=this.map[n];e.call(t,i,n,this)}}onElementChanged({onAdded:e,onRemoved:t,onUpdated:n}){return this.onElementsChanged((({added:i,removed:r,updated:o})=>{if(r&&t)for(const[e,n]of r)t(n,e);if(i&&e)for(const[t,n]of i)e(n,t);if(o&&n)for(const[e,t]of o)n(t,e)}))}onElementsChanged(e){let t=Object.assign({},this.map);return this.onChanged((()=>{const n={};for(const e in t)this.has(e)||(n.removed||(n.removed=[])).push([e,t[e]]);for(const e of this._keysList){const i=this.get(e);void 0===t[e]?(n.added||(n.added=[])).push([e,i]):(r.c.isObservable(i)&&i._dirtyObservable||i!==t[e])&&(null!==i?(n.updated||(n.updated=[])).push([e,i]):(n.removed||(n.removed=[])).push([e,t[e]]))}t=Object.assign({},this.map),e(n)}))}deepCopy(){const e={};for(const t of this._keysList)e[t]=(0,i.A4)(this.map[t]);return e}}const a=(e={})=>{const t=new s;return t.replace(e),t}},24479:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,q:()=>s});var i,r=n(77098),o=n(53282);!function(e){e.LOW="low",e.NORMAL="normal"}(i||(i={}));class s extends r.c{constructor(e){super(),this.priority=i.NORMAL,this.filters=new Map,this.view=[],this._keys=new Map,this._dirty=!1,this.sortNeeded=!1,this._diff={},this.map=e,this.applyFilters(),this.map.onElementsChanged((({added:e,removed:t,updated:n})=>{this._diff={added:e,removed:t,updated:n},this._diff.added&&(this._diff.added=this._diff.added.filter((([e,t])=>this.testFilters(t)))),this._diff.updated&&(this._diff.updated=this._diff.updated.filter((([e,t])=>this.testFilters(t)))),this._diff.removed&&(this._diff.removed=this._diff.removed.filter((([e,t])=>this.testFilters(t)))),this.atomic((()=>{if(t)for(const[e,n]of t)this.onRemoved(e,n);if(e)for(const[t,n]of e)this.onAdded(t,n);if(n)for(const[e,t]of n)this.onUpdated(e,t)}))})),this.map.onChanged((()=>{this.sortNeeded&&(this.applySort(),this.setDirty(),this.sortNeeded=!1)}))}onElementsChanged(e){return this.onChanged((()=>{e(this._diff)}))}onElementChanged({onAdded:e,onRemoved:t,onUpdated:n}){return this.onElementsChanged((({added:i,removed:r,updated:o})=>{if(r&&t)for(const[e,n]of r)t(n,e);if(i&&e)for(const[t,n]of i)e(n,t);if(o&&n)for(const[e,t]of o)n(t,e)}))}has(e){return this._keys.has(e)}get(e){return this.has(e)?this.map.get(e):void 0}setFilter(e,t){return(0,o.Sh)((()=>{this.filters.set(e,t),this.applyFilters(void 0,!1,!0)}),(()=>this.clearFilter(e)),!0)}clearFilter(e){return!!this.filters.has(e)&&(this.filters.delete(e),this.applyFilters(void 0,!1,!0),!0)}clearFilters(){this.filters.clear(),this.applyFilters(void 0,!1,!0)}sort(e){this.compareFunc=e,this.applySort(),this.setDirty()}*[Symbol.iterator](){for(const e of this.view)yield e}get length(){return this.view.length}groupBy(e){const t={};for(const n of this.view){const i=String(n[e]);t[i]||(t[i]=[]),t[i].push(n)}return t}get values(){return this.view.slice()}entries(){return[...this._keys.entries()]}forEach(e,t){for(const[n,i]of this._keys)e.call(t,i,n,this)}setDirty(e=!0){this.priority===i.LOW?this._dirty||(this._dirty=!0,requestAnimationFrame((()=>{this._dirty=!1,super.setDirty(e)}))):super.setDirty(e)}add(e){if(this.has(e))return!1;const t=this.map.get(e);return this._keys.set(e,t),this.view.push(t),!0}delete(e){const t=this._keys.get(e);if(!t)return!1;this._keys.delete(e);const n=this.view.indexOf(t);return-1!==n&&this.view.splice(n,1),!0}testFilters(e){return[...this.filters.values()].every((t=>t(e)))}applyFilters(e,t=!1,n=!1){n&&(this._diff={});let i=!1;const r=e?[e]:this.map.keys;for(const e of r){const t=this.map.get(e),r=this.testFilters(t);r&&this.add(e)?(n&&(this._diff.added||(this._diff.added=[]),this._diff.added.push([e,t])),i=!0):!r&&this.delete(e)&&(n&&(this._diff.removed||(this._diff.removed=[]),this._diff.removed.push([e,t])),i=!0)}e&&this.has(e)&&(n&&(this._diff.updated||(this._diff.updated=[]),this._diff.updated.push([e,this.map.get(e)])),i=!0),i&&(t?this.sortNeeded=!0:(this.applySort(),this.setDirty()))}applySort(){this.compareFunc&&this.view.sort(this.compareFunc)}onRemoved(e,t){this.has(e)&&this.testFilters(t)&&this.delete(e)&&this.setDirty()}onAdded(e,t){this.testFilters(t)&&this.applyFilters(e,!0,!1)}onUpdated(e,t){const n=this._keys.get(e),i=this.view.findIndex((e=>e===n));-1!==i&&(this.view[i]=t,this._keys.set(e,t)),this.applyFilters(e,!0,!1)}}},3928:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var i=n(9139),r=n(82748),o=n(69304),s=n(53282),a=n(77098);const l=new i.Vy("ObservableObject"),c=1===(0,r.P3)("debug",0);class u extends a.c{constructor(){super(),this._propertyObservables={},this._valueCache={},this._dirtyKeys=new Set,Object.defineProperties(this,{_propertyObservables:{value:this._propertyObservables,writable:!1,enumerable:!1},_valueCache:{value:this._valueCache,writable:!1,enumerable:!1},_dirtyKeys:{value:this._dirtyKeys,writable:!1,enumerable:!1}}),c&&setTimeout((()=>{!function(e){const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n],e._valueCache[n]=e[n],Object.defineProperty(e,n,{get:()=>t[n],set:i=>{const r=e._valueCache[n];(r!==i||a.c.isObservable(r)&&r._dirtyObservable)&&h(e,n),t[n]=i},enumerable:!0}))}(this)}),1)}onPropertyChanged(e,t){const n=e;if(this._propertyObservables[n]||(this._propertyObservables[n]=new Set),this._propertyObservables[n].has(t))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,s.Sh)((()=>this._propertyObservables[n].add(t)),(()=>this.removeOnPropertyChanged(e,t)),!0,n)}removeOnPropertyChanged(e,t){const n=e;this._propertyObservables[n].delete(t)}commit(){this.setDirtyUp(),this.notifyUp()}setDirtyUp(){for(const e in this){if(!this.hasOwnProperty(e))continue;const t=this._valueCache[e],n=this[e];t!==n?(this.removeChildObservables(t),this.addChildObservable(n),this._valueCache[e]=n,this._dirtyKeys.add(e)):a.c.isObservable(t)&&t._dirtyObservable&&this._dirtyKeys.add(e)}super.setDirtyUp()}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._dirtyKeys){for(const t of this._propertyObservables[e]||[])this.notifyPropertyObserver(t,e);c&&p(this,e)}this._observerNotifying=!1,this._dirtyKeys.clear()}super.notifyObservers()}notifyPropertyObserver(e,t){e(this._valueCache[t])}notifyObserver(e){e(this)}deepCopy(){const e={};for(const t in this)this.hasOwnProperty(t)&&(e[t]=(0,o.A4)(this[t]));return e}}const d=new Map;function h(e,t){d.has(e)||d.set(e,{});d.get(e)[t]=Error()}function p(e,t){if(d.has(e)){const n=d.get(e);n[t]&&delete n[t]}}if(c){const e=setInterval((()=>{(function(){for(const e of d.values())for(const t in e)return l.error(`ObservableObject property "${t}" was still dirty after one tick! Did you forget a .commit()?`),l.error("See stack trace of the property write below:"),l.error(e[t].stack),!0;return!1})()&&void 0!==e&&clearInterval(e)}),16)}},46671:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var i=n(69304),r=n(30786),o=n(77098),s=n(97994),a=n(3928);const l=e=>{if(!e||0===Object.keys(e).length)throw new Error("createObservableProxy() only works on objects that has predefined keys. Did you mean createObservableMap or createObservableArray?");if(e instanceof a.v)throw new Error("Using ObservableProxy on an ObservableObject is a BUG!");if(e.isObservableProxy)return e;const t={},n=new o.c,l=Object.create(e);Object.defineProperties(l,{isObservableProxy:{value:!0},onPropertyChanged:{value:(e,n)=>t[e].onChanged(n)},removeOnPropertyChanged:{value:(e,n)=>t[e].removeOnChanged(n)},deepCopy:{value:()=>(0,i.A4)(e)}}),(0,r.I4)(l,n);for(const n in e)if(e.hasOwnProperty(n)){const i=(0,s.p)(e[n]);t[n]=i,l.addChildObservable(i),Object.defineProperty(l,n,{get:()=>e[n],set:i=>{e[n]=i,t[n].value=i},enumerable:!0})}return Object.seal(l),l}},51219:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var i=n(69304),r=n(77098);class o extends r.c{constructor(){super(...arguments),this.elements=new Set}add(e){return this.has(e)||(this.elements.add(e),this.addChildObservable(e),this.setDirty()),this}clear(){this.atomic((()=>{const e=[...this.elements];for(const t of e)this.delete(t)}))}delete(e){const t=this.elements.delete(e);return t&&(this.removeChildObservables(e),this.setDirty()),t}has(e){return this.elements.has(e)}forEach(e,t){this.elements.forEach(e,t)}get size(){return this.elements.size}*entries(){yield*this.elements.entries()}*keys(){yield*this.elements.keys()}*values(){yield*this.elements.values()}*[Symbol.iterator](){yield*this.elements}addValues(e){for(const t of e)this.add(t);return this}replace(e){this.clear();for(const t of e)this.add(t)}get[Symbol.toStringTag](){return"ObservableSet"}filter(e,t){const n=[...this.elements].filter(e,t);return new Set(n)}find(e,t){return[...this.elements].find((n=>e.call(t,n,this)))}map(e,t){const n=[...this.elements].map(e,t);return new Set(n)}deepCopy(){const e=new Set;for(const t of this)e.add((0,i.A4)(t));return e}onElementChanged(e){let t=new Set(this);return this.onChanged((()=>{for(const n of t)e.onRemoved&&!this.has(n)&&e.onRemoved(n,n);for(const n of this.elements)t.has(n)?r.c.isObservable(n)&&n._dirtyObservable&&e.onUpdated&&e.onUpdated(n,n):e.onAdded&&e.onAdded(n,n);t=new Set(this)}))}}},97994:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,p:()=>a});var i=n(69304),r=n(77098);function o(e,t){return e instanceof Function?e(t):t===e}class s extends r.c{constructor(e){super(),this.value=e}notifyObserver(e){e(this.value)}get value(){return this._value}set value(e){this._value!==e&&(this.removeChildObservables(this._value),this.addChildObservable(e),this._value=e,this.setDirty())}deepCopy(){return(0,i.A4)(this._value)}waitFor(e){return new Promise((t=>{if(o(e,this._value))t();else{const n=this.onChanged((i=>{o(e,i)&&(n.cancel(),t())}))}}))}}const a=e=>new s(e)},47213:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});class i{constructor(){this.observers=new Set}observe(e){this.observers.add(e);const t=this;return{renew(){t.observers.add(e)},cancel(){t.removeObserver(e)}}}removeObserver(e){this.observers.delete(e)}notify(){for(const e of this.observers)e.notify()}}},43879:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var i=n(53282),r=n(77098),o=n(3928);function s(e){let t;const n=new Map,a=new Map,l=new Set,c=new Map,u=[],d=e=>{if(t!==e){if(u.forEach((e=>e.cancel())),u.length=0,t=e,u.push(t.onChanged((e=>{l.forEach((t=>t(e)))}))),t instanceof o.v)for(const[e,n]of c.entries())u.push(t.onPropertyChanged(e,(e=>{n.forEach((t=>t(e)))})));for(const[t,i]of n.entries())i.currentObservable=e[t];a.clear()}},h={get(e,r,s){switch(r){case"currentObservable":return t;case"onChanged":return(...e)=>{const t=e[0];return l.add(t),(0,i.Sh)((()=>l.add(t)),(()=>l.delete(t)))};case"onPropertyChanged":return(e,n)=>{if(!(t instanceof o.v))return;let r=c.get(e);return r||(r=new Set,c.set(e,r),u.push(t.onPropertyChanged(e,(t=>{if(!r)throw new Error(`No observers for property "${String(e)}"`);r.forEach((e=>e(t)))})))),r.add(n),(0,i.Sh)((()=>null==r?void 0:r.add(n)),(()=>null==r?void 0:r.delete(n)))};case"removeOnPropertyChanged":return(e,t)=>{const n=c.get(e);n&&(n.delete(t),0===n.size&&c.delete(e))};default:return"function"==typeof t[r]?(a.has(r)||a.set(r,t[r].bind(t)),a.get(r)):n.has(r)?n.get(r):Reflect.get(t,r,s)}},set:(e,n,i)=>"currentObservable"===n?(d(i),!0):Reflect.set(t,n,i)};d(e);for(const t in e)e.hasOwnProperty(t)&&e[t]instanceof r.c&&n.set(t,s(e[t]));return new Proxy(e,h)}},30786:(e,t,n)=>{"use strict";function i(e,t){const n=Object.getOwnPropertyNames(t);for(const i of n)void 0===e[i]&&("function"==typeof t[i]?Object.defineProperty(e,i,{value:t[i].bind(e)}):Object.defineProperty(e,i,{value:t[i],writable:!0}));null!==Object.getPrototypeOf(Object.getPrototypeOf(t))&&i(e,Object.getPrototypeOf(t))}function r(e,t){return new Promise((n=>{if(t(e))n();else{const i=e.onChanged((()=>{t(e)&&(i.cancel(),n())}))}}))}n.d(t,{I4:()=>i,UV:()=>r})},62802:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{constructor(...e){this.subs=e}renew(){for(const e of this.subs)e.renew()}cancel(){for(const e of this.subs)e.cancel()}}},53282:(e,t,n)=>{"use strict";n.d(t,{Sh:()=>s,WC:()=>r});const i=new(n(9139).Vy)("Subscription");class r{constructor(e,t,n){this.watchedData=e,this.registerSubscription=t,this.unregisterSubscription=n}createSubscription(e,t){return new o((()=>this.registerSubscription(e)),(()=>this.unregisterSubscription(e)),t)}getData(){return this.watchedData()}}class o{constructor(e,t,n=!1,i=""){this.startSubscription=e,this.endSubscription=t,this.id=i,this.isSubbed=!1,n&&this.renew()}renew(){this.isSubbed?i.debugWarn(`Duplicate subscription renew ${this.id}`):(this.startSubscription(),this.isSubbed=!0)}cancel(){this.isSubbed&&(this.endSubscription(),this.isSubbed=!1)}get active(){return this.isSubbed}}function s(e,t,n=!0,i=""){return new o(e,t,n,i)}},94165:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});const i="IDeepLinks"},56637:(e,t,n)=>{"use strict";function i(e){return e.isMesh}function r(e){return e.isMeshStandardMaterial}function o(e){e.traverse((e=>{if(i(e)){const t=e.raycast.bind(e);e.raycast=(e,n)=>{const i=[];t(e,i),i.length>0&&(i.forEach((e=>e.distance=1e-4)),n.push(...i))}}}))}n.d(t,{q:()=>S,ff:()=>v,jF:()=>f,W9:()=>E,UX:()=>u,nD:()=>m,Wi:()=>p,uW:()=>i,P3:()=>r,h0:()=>a,U7:()=>d,rx:()=>o});var s=n(68909);function a(e){if(0===e.length)throw Error("Can't merge empty list of geometries");if(1===e.length)return e[0];let t=0,n=0,i=0,r=0;const o=new s.Box3;for(const s of e)s.index&&(t+=s.index.count,n+=s.getAttribute("position").count,s.getAttribute("uv")&&(i+=s.getAttribute("uv").count),s.boundingBox&&(o.union(s.boundingBox),r++));const a=new s.BufferGeometry;r!==e.length||o.isEmpty()?a.computeBoundingBox():a.boundingBox=o,o.copy(u(a)),a.boundingSphere=o.getBoundingSphere(new s.Sphere);const c=l(new Float32Array(3*n),"position",e);a.setAttribute("position",new s.BufferAttribute(c,3));const d=function(e,t){let n=0,i=0;for(const r of t){const t=r.index;for(let r=0;r<t.array.length;r++)e[n+r]=t.array[r]+i;n+=t.array.length,i+=r.getAttribute("position").count}return e}(new Uint32Array(t),e);if(a.setIndex(new s.BufferAttribute(d,1)),i){const t=l(new Float32Array(2*i),"uv",e);a.setAttribute("uv",new s.BufferAttribute(t,2))}return a}function l(e,t,n){let i=0;for(const r of n){const n=r.getAttribute(t);e.set(n.array,i),i+=n.array.length}return e}const c=new s.Box3(new s.Vector3,new s.Vector3(1,1,1));function u(e){return e.boundingBox||e.computeBoundingBox(),e.boundingBox||c}function d(e,t){let n=1/0;const i=t.clone(),r=new s.Vector3,o=new s.Vector3(1/0,1/0,1/0);let a=-1;const l=new s.Triangle;return function(e,t){var n;const i=null===(n=e.index)||void 0===n?void 0:n.array,r=e.getAttribute("position");if(!r)return;const o=e.groups.length>0?e.groups:[{start:0,count:i?i.length:r.count,materialIndex:0}];let s=0;for(const e of o)for(let n=e.start;n<e.start+e.count;n+=3){let o=n,a=n+1,l=n+2;i&&(o=i[o],a=i[a],l=i[l]),t(r.getX(o),r.getY(o),r.getZ(o),r.getX(a),r.getY(a),r.getZ(a),r.getX(l),r.getY(l),r.getZ(l),s++,e.materialIndex||0)}}(e,((e,t,s,c,u,d,h,p,f,m)=>{l.a.set(e,t,s),l.b.set(c,u,d),l.c.set(h,p,f),l.closestPointToPoint(i,r);const g=i.distanceToSquared(r);g<n&&(o.copy(r),n=g,a=m)})),{point:o,distance:Math.sqrt(n),faceIndex:a}}const h=new s.PlaneGeometry(1,1);function p(){return h}const f=(e,t)=>{t=t||[];for(let e=0;e<8;e++)t[e]=t[e]||new s.Vector3;return t[0].set(e.min.x,e.min.y,e.min.z),t[1].set(e.min.x,e.max.y,e.min.z),t[2].set(e.max.x,e.max.y,e.min.z),t[3].set(e.max.x,e.min.y,e.min.z),t[4].set(e.min.x,e.min.y,e.max.z),t[5].set(e.min.x,e.max.y,e.max.z),t[6].set(e.max.x,e.max.y,e.max.z),t[7].set(e.max.x,e.min.y,e.max.z),t},m=(()=>{const e=new s.Vector3,t=new s.Vector3;return(n,i,r)=>{i=i||new s.Box3,e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),t.set(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE);for(const i of n)r&&i.applyMatrix4(r),e.x=Math.min(e.x,i.x),e.y=Math.min(e.y,i.y),e.z=Math.min(e.z,i.z),t.x=Math.max(t.x,i.x),t.y=Math.max(t.y,i.y),t.z=Math.max(t.z,i.z);return i.min.copy(e),i.max.copy(t),i}})();var g=n(3249);const v=(()=>{const e=new s.Vector3,t=new s.Vector3,n=new s.Vector3;return(i,r,o,s,a,l,c=!0)=>{n.subVectors(i,o),e.subVectors(r,i),t.subVectors(s,o);const u=e.dot(e),d=e.dot(t),h=e.dot(n),p=t.dot(t),f=t.dot(n),m=u*p-d**2;if(Math.abs(m)<1e-6)return!1;let v=(d*f-h*p)/m,y=(u*f-d*h)/m;return c&&(v=(0,g.qE)(v,0,1),y=(0,g.qE)(y,0,1)),a.lerpVectors(i,r,v),l.lerpVectors(o,s,y),!0}})();function y(e,t,n){let i=e;for(const e of t){const t=i.children.find((t=>t.name===e));if(t)i=t;else{if(!n)return;{const t=new s.Group;t.name=e,i.add(t),i=t}}}return i}function E(e,t){return y(e,t,!0)}s.Object3D;const S={stencilRef:1,stencilFail:s.KeepStencilOp,stencilZFail:s.KeepStencilOp,stencilZPass:s.ReplaceStencilOp,stencilFunc:s.AlwaysStencilFunc,stencilWrite:!0};s.KeepStencilOp,s.KeepStencilOp,s.KeepStencilOp,s.GreaterStencilFunc},64391:(e,t,n)=>{"use strict";n.d(t,{_:()=>l,f:()=>c});var i=n(68920),r=n(9139),o=n(66790);const s=new r.Vy("expiring-resource"),a=new WeakMap;function l(e,t){(0,o.S)(e,(e=>{e instanceof c&&(e.onStale=t)}))}class c{constructor(e,t){this.value=e,this.validUntil=t}refreshFrom(e){if(!e)return;this.value=e.value,this.validUntil=e.validUntil;const t=a.get(this);t&&(t.resolve(),a.delete(this))}async get(){if(this.validUntil&&this.onStale){const e=Date.now();if(e+6e4+1e4>this.validUntil.getTime()){let t=a.get(this);t||(t=new i.i,a.set(this,t),this.onStale()),e+6e4+1e3>this.validUntil.getTime()&&(s.info("Stale resource, waiting for refresh"),await t.nativePromise(),s.info("Refreshed resource"))}}return this.value}getCurrentValue(){return this.value}}},68920:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});class i{constructor(){this.base=new Promise(((e,t)=>{this.resolver=e,this.rejecter=t})),this._promise=new r(this.base,this),this.progressCallbacks=[]}then(e,t){return this.base.then(e,t)}catch(e){return this.base.catch(e)}resolve(e){return this.resolver(e),this}reject(e){return this.rejecter(e),this}notify(e){for(const t of this.progressCallbacks)t(e)}progress(e){return this.progressCallbacks.push(e),this}promise(){return this._promise}nativePromise(){return this.base}static resolve(){const e=new i;return e.resolve(),e.promise()}static reject(e){const t=new i;return t.reject(e),t.promise()}static all(e){const t=[];for(const n of e)n.nativePromise?t.push(n.nativePromise()):t.push(n);const n=new i;return Promise.all(t).then((e=>n.resolve(e)),(e=>n.reject(e))),n.promise()}}class r{constructor(e,t){this.basePromise=e,this.baseDeferred=t}then(e,t){return this.baseDeferred.then(e,t),this}catch(e){return this.baseDeferred.catch(e),this}progress(e){return this.baseDeferred.progress(e),this}nativePromise(){return this.basePromise}}},27200:(e,t,n)=>{"use strict";n.d(t,{Ap:()=>O,C8:()=>A,Cv:()=>l,Eh:()=>M,Fr:()=>a,J0:()=>u,KS:()=>U,OF:()=>d,Ow:()=>F,T:()=>m,Ul:()=>x,YR:()=>P,Yk:()=>w,Zm:()=>p,aS:()=>L,aZ:()=>S,al:()=>N,cX:()=>h,gm:()=>v,lh:()=>D,m0:()=>f,qL:()=>b,sv:()=>I,vQ:()=>C,w2:()=>T,x_:()=>k,yJ:()=>R});var i=n(9139),r=n(82748),o=n(72853);const s=new i.Vy("util-browser"),a=function(){const e=navigator.userAgent||navigator.vendor,t=new RegExp("(android|bbd+|meego).+mobile|android|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|\n    hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|\n    palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|\n    wap|windows ce|xda|xiino|MatterScan","i"),n=new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|\n    amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|\n    br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|\n    devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|\n    g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|\n    a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|\n    jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|\n    m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|\n    zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|\n    nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|\n    po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|\n    sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|\n    sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|\n    tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|\n    vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|\n    zeto|zte-","i");return(t.test(e)||n.test(e.substr(0,4))||u())&&!b()},l=/([\s\{\}\"\']|[^\x00-\x7F]|%[^0-9a-fA-F]{2})+/g,c=(e,t)=>{let n=window.navigator.userAgent.match(e);return n=n?n[1].split(t):[],{major:parseInt(n[0],10)||0,minor:parseInt(n[1],10)||0,patch:parseInt(n[2],10)||0}},u=()=>{const e=window.navigator.userAgent;return/iPad/.test(e)||h()&&navigator.maxTouchPoints>1},d=()=>{const e=window.navigator.userAgent;return/iPod|iPhone/.test(e)||h()&&navigator.maxTouchPoints>1},h=()=>{const e=window.navigator.platform;return/MAC/.test(e.toUpperCase())},p=()=>{const e=window.navigator.platform;return/WIN/.test(e.toUpperCase())},f=()=>-1!==window.navigator.userAgent.indexOf("Android"),m=()=>!O()&&(v()||E());let g=null;const v=()=>{if(null==g){const e=window.navigator.userAgent;g=-1!==e.indexOf("Firefox")}return g};let y=null;const E=()=>{if(null==y){const e=window.navigator?window.navigator.userAgent:null;y=!!window.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return y},S=()=>{if(!v())throw new Error("Not a Firefox browser");return c(/Firefox\/((?:\d+\.?){1,3})/,".")},b=()=>-1!==window.navigator.userAgent.indexOf("OculusBrowser");let _=null;const O=()=>{if(null==_){const e=window.navigator.userAgent.includes("Macintosh"),t=5===window.navigator.maxTouchPoints;_=e&&t}return _},T=()=>{switch((0,r.P3)("bot",2)){case 0:default:return!1;case 1:return!0;case 2:return/googlebot|bingbot|applebot/i.test(navigator.userAgent)}},A=()=>"ontouchstart"in window,w=()=>"share"in navigator&&(a()||u()),N=()=>window.parent!==window,I=()=>N()&&(()=>{const e=new URL(document.referrer);return o.y.some((t=>t.test(e.hostname)))})(),R=()=>window.location.search.substr(1).split("&"),k=function(){const e=window.URL||window.webkitURL,t=document.createElement("a");return document.body.appendChild(t),t.style.display="none",(n,i)=>{const r=e.createObjectURL(n);t.href=r,t.download=i,t.click(),e.revokeObjectURL(r)}}(),L=(function(){const e=document.createElement("a");document.body.appendChild(e),e.style.display="none"}(),function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}),P=function(){return!u()&&!d()&&!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},D=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},M=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};function C(e){try{return document.featurePolicy.allowsFeature(e)}catch(t){return s.warn(t),s.warn(`Feature Policy check failed, defaulting ${e} to false.`),!1}}const x=()=>{var e,t;return(e=>{const t={language:"en",region:void 0,script:void 0,ext:void 0},n=new RegExp([/^([a-z]{2,3})/,/(?:[_-]([ut]{1}[_-][a-z\-\_]+))?/,/(?:[_-]([a-z]{4}))?/,/(?:[_-]([a-z]{2}))?$/].map((e=>e.source)).join(""),"i").exec(e);if(n){const[,e,i,r,o]=n;Object.assign(t,{language:e,ext:i,script:r,region:o})}return t})((null===(t=null===(e=null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat())||void 0===e?void 0:e.resolvedOptions())||void 0===t?void 0:t.locale)||navigator.language).language||""},U=()=>{var e,t;return(null===(e=window.matchMedia("(prefers-color-scheme: dark)"))||void 0===e?void 0:e.matches)?"dark":(null===(t=window.matchMedia("(prefers-color-scheme: light)"))||void 0===t?void 0:t.matches)?"light":void 0},F=()=>{var e,t;return(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches)?"reduce":(null===(t=window.matchMedia("(prefers-reduced-motion: no-preference)"))||void 0===t?void 0:t.matches)?"no-preference":void 0}},55556:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});const i=function(e,t){const n=new RegExp(e+"=([^;]+)|$").exec(document.cookie);if(!n)return t;const i=n[1];return"boolean"==typeof t?"true"===i||"1"===i:"number"==typeof t?parseFloat(i):i}},51182:(e,t,n)=>{"use strict";n.d(t,{_9:()=>s,lk:()=>o,zM:()=>r});const i=new(n(9139).Vy)("util-browser"),r=function(e,t){if(!("localStorage"in window))return t;let n;try{n=window.localStorage.getItem(e)}catch(e){return i.debug(e),t}return null===n?t:"boolean"==typeof t?"true"===n:"number"==typeof t?parseFloat(n):n},o=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){i.error(e)}},s=function(e,t){if(!("sessionStorage"in window))return t;let n;try{n=window.sessionStorage.getItem(e)}catch(e){return i.error(e),t}return null===n?t:"boolean"==typeof t?"true"===n:"number"==typeof t?parseFloat(n):n}},72853:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,y:()=>i});const i=[/^([a-z0-9\-]*\.)*matterport\.com$/,/^([a-z0-9\-]*\.)*matterportvr\.cn$/,/^localhost$/];function r(e){try{const t=new URL(e).hostname;for(const e of i)if(t.match(e))return!0}catch(e){}return!1}},26184:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});class i{constructor(e){this.size=e,this.index=0,this.count=0,this.buffer=[],this.sorted=!1,this.buffer=new Array(e)}push(e){this.buffer[this.index]=e,this.index=(this.index+1)%this.size,this.count++,this.sorted=!1}get topIndex(){return 0===this.index?this.size-1:this.index-1}pop(){if(this.count>0){const e=this.peek();return this.count--,0===this.index?this.index=this.size-1:this.index--,e}return null}peek(){return this.isEmpty()?null:this.buffer[this.topIndex]}isEmpty(){return 0===this.count}getList(){return this.count>=this.size?this.buffer:this.buffer.slice(0,this.count)}median(){const e=Math.floor(this.count/2),t=this.getList();return this.sorted||(t.sort(),t===this.buffer&&(this.sorted=!0)),t[e]}*[Symbol.iterator](){yield*this.buffer}clear(){this.count=0,this.index=0}}},75817:(e,t,n)=>{"use strict";n.d(t,{Pw:()=>o,Uz:()=>r,b0:()=>a,sb:()=>s});var i=n(55326);const r=e=>e.prototype.constructor.name,o=e=>e.constructor,s=e=>{if("string"==typeof e)return e;if(e&&e.name)return e.name;const t=e.toString();return t.substring(0,t.indexOf("\n")).split(" ")[1]};class a{constructor(){this.typeLookupMap={},this.classUuids=new WeakMap}getKey(e){if("string"==typeof e)return e;{let t=this.classUuids.get(e);return t||(t=e.name+(0,i.e)(),this.classUuids.set(e,t)),t}}addType(e){if(!e)throw Error("Cannot index undefined type");const t=this.getKey(e);if(this.typeLookupMap[t])throw Error(`Type ${t} already registered`);return this.typeLookupMap[t]=e,t}getKeyByType(e,t){if(!e)throw Error("Cannot index undefined type");const n=this.getKey(e);let i=this.typeLookupMap[n];return!i&&t&&(i=e,this.addType(i)),i?n:""}getKeyByInstance(e,t){if(!e)throw Error("Cannot index undefined data");const n=this.getKey(e.constructor);let i=this.typeLookupMap[n];return!i&&t&&(i=e.constructor,this.addType(i)),i?n:""}getTypeByKey(e){const t=this.typeLookupMap[e];if(!t)throw Error("Key not found");if("string"==typeof t)throw Error("non type keyed result not supported");return t}getKnownTypes(){return Object.values(this.typeLookupMap)}}},5894:(e,t,n)=>{"use strict";n.d(t,{C2:()=>o,Nz:()=>i,qb:()=>s,vq:()=>r});const i=(e,t)=>{if(0===e.length)return!1;let n=!1;for(let i=0;i<e.length;i++){e[i]===t&&(e.splice(i,1),n=!0)}return n};const r=(e=[],t=[])=>e.length===t.length&&(e=e.slice().sort(),t=t.slice().sort(),e.every(((e,n)=>e.hasOwnProperty("equals")&&"function"==typeof e.equals?e.equals(t[n]):t[n]===e))),o=(e=[],t=[])=>e.length===t.length&&e.every(((e,n)=>e.hasOwnProperty("equals")&&"function"==typeof e.equals?e.equals(t[n]):t[n]===e));function s(e,t){const n=new Map;for(const i of e){const e=t(i),r=n.get(e)||[];r.push(i),n.set(e,r)}return n}},64200:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const i=(e,t=250)=>{let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout((()=>e.apply(null,i)),t)}}},93136:(e,t,n)=>{"use strict";n.d(t,{c:()=>i,o:()=>r});const i=function(e){return new Promise((t=>{setTimeout(t,e)}))},r=e=>{let t,n=-1;const i=new Promise(((i,r)=>{t=i,n=window.setTimeout(i,e)})).then((()=>{n=-1})),r=e=>{-1!==n&&(window.clearTimeout(n),e&&t(),n=-1)};return{promise:i,resolveEarly:()=>{r(!0)},cancel:()=>{r(!1)}}}},9139:(e,t,n)=>{"use strict";n.d(t,{Vy:()=>s});const i=window.navigationStart||Date.now(),r=new WeakMap;var o;!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(o||(o={}));class s{static for(e){let t=r.get(e);if(!t){const n=e.name||e.constructor.name;t=new s(n),r.set(e,t)}return t}constructor(e){this.timers={},this.handlers={[o.DEBUG]:console.debug,[o.INFO]:console.info,[o.WARN]:console.warn,[o.ERROR]:console.error};const t=e.split(new RegExp("/|\\\\"));this.prefix="["+t[t.length-1].replace(".js","")+"]"}message(e){if(s.level>=e&&console){return(this.handlers[e]?this.handlers[e]:console.log).bind(console,this.getPrefix())}return()=>{}}get debug(){return this.message(o.DEBUG)}get devInfo(){return()=>{}}get debugInfo(){return this.debug}get warnError(){return this.warn}get debugWarn(){return this.message(s.level>=o.DEBUG?o.WARN:o.DEBUG)}get info(){return this.message(o.INFO)}get warn(){return this.message(o.WARN)}get error(){return this.message(o.ERROR)}get assert(){return(e,...t)=>{if(e)return;const n="Assertion failed";0===t.length?t=[n]:"string"==typeof t[0]?t[0]=n+": "+t[0]:t.unshift(n);this.message(o.ERROR)(...t)}}time(e){s.level>=o.DEBUG&&(this.timers[e]=Date.now())}timeEnd(e){if(s.level>=o.DEBUG){const t=this.timers[e];if(!t)return;const n=(Date.now()-t)/1e3;this.debug(e,n+"s")}}getPrefix(){const e=(Date.now()-i)/1e3+"s";return`${this.prefix} ${e}`}}s.level=o.INFO},69304:(e,t,n)=>{"use strict";n.d(t,{A4:()=>r,E7:()=>a,Et:()=>l,bB:()=>s,h1:()=>o});const i=e=>"propertyObservers"===e||"changeObservers"===e||"isObservable"===e||"childChangeFunctions"===e||"isObservableProxy"===e||"diffRoot"===e||"elementChangedHandlers"===e||"knownKeysMap"===e||"knownKeysList"===e||"isVector2"===e||"isVector3"===e||"isQuaternion"===e||"onPropertyChanged"===e||"removeOnPropertyChanged"===e||"onChanged"===e||"target"===e,r=(e,t=[])=>{if(void 0!==e){if(t.includes(e))return Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};if(e instanceof Date)return new Date(e);if(null===e)return null;if(e.deepCopy)return e.deepCopy();if(e.isQuaternion)return{x:e.x,y:e.y,z:e.z,w:e.w};if(ArrayBuffer.isView(e))for(const t of[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array])if(e instanceof t)return new t(e);if("object"==typeof e){const n=Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};for(const o in e){if(i(o))continue;const s=e[o];s instanceof Date?n[o]=new Date(s):"function"!=typeof s&&(t.push(e),n[o]="object"==typeof s?r(s,t):s,t.pop())}return n}return e}},o=(e,t)=>{for(const n in t){if("function"==typeof t[n])continue;if(i(n)&&!e.hasOwnProperty(n))continue;const s=t[n];if(e.hasOwnProperty(n)){const t=e[n];(null===t?null:typeof t)!==(null===s?null:typeof s)?e[n]=r(s):"object"==typeof t?t instanceof Date?e[n]=new Date(s):o(t,s):e[n]=s}else e[n]=r(s)}},s=(e,t,n=!1)=>{const i={};for(const r in e){const o=e[r],l=t[r];a(o,l)&&(void 0===o||void 0===l||typeof o!=typeof l||"object"!=typeof o?i[r]=l:Array.isArray(l)?a(o,l)&&(i[r]=l):i[r]=n?l:s(o,l))}for(const n in t)n in e||(i[n]=t[n]);return i},a=(e,t)=>{if(null===e||"object"!=typeof e)return e!==t;if(!t)return!0;for(const n in t)if(!(n in e))return!0;for(const n in e)if(a(e[n],t[n]))return!0;return!1};function l(e){return"number"==typeof e}},82748:(e,t,n)=>{"use strict";function i(){const e=new URLSearchParams(window.location.search),t={};return e.forEach(((e,n)=>{t[n]=e})),t}function r(){const e=new URLSearchParams(window.location.search);return new URLSearchParams(e.toString())}function o(e,t=null,n=typeof t){return s(new URLSearchParams(window.location.search).get(e),t,n)}function s(e,t=null,n=typeof t){return null===e?t:"boolean"===n?"true"===e||"1"===e:"number"===n?+e:"object"===n&&t instanceof Array?""===e?t:e.split(","):e}n.d(t,{DE:()=>r,EN:()=>i,P3:()=>o,R5:()=>s,SS:()=>l,_0:()=>a});const a=e=>{if(!e)return;const t=`${window.location.origin}${window.location.pathname}?${e}`;window.location.replace(t)},l=(e,t=!0)=>{if(!e)return;const n=`${window.location.origin}${window.location.pathname}?${e}`;t?window.history.pushState({},"",n):window.history.replaceState({},"",n)}},55326:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});const i=[];for(let e=0;e<256;e++)i[e]=(e<16?"0":"")+e.toString(16);function r(){let e;const t=window.crypto||window.msCrypto;return e=t?t.getRandomValues(new Uint8Array(16)):new Uint8Array(16).map((()=>255*Math.random())),e[6]=15&e[6]|64,e[8]=63&e[8]|128,i[e[0]]+i[e[1]]+i[e[2]]+i[e[3]]+"-"+i[e[4]]+i[e[5]]+"-"+i[e[6]]+i[e[7]]+"-"+i[e[8]]+i[e[9]]+"-"+i[e[10]]+i[e[11]]+i[e[12]]+i[e[13]]+i[e[14]]+i[e[15]]}},66790:(e,t,n)=>{"use strict";function i(e,t){if(null!==e&&"object"==typeof e)for(const n in e)t(e[n],n,e),i(e[n],t)}n.d(t,{S:()=>i})},22374:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});const i=function(e,t=2,n="0",i=10){const r=e.toString(i),o=t-r.length+1;return o>0?new Array(o).join(n)+r:r}},30051:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});const i=(e,t,n="...")=>e.length<=t?e:`${e.slice(0,t)}${n}`},53061:(e,t,n)=>{"use strict";n.d(t,{Nm:()=>r,UK:()=>u,D4:()=>c});const i=["en-US","es","fr","de","ru","ja","zh-CN","zh-TW","ko","nl","it","pt"],r="en-US",o=Object.assign(Object.assign({},i.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.toLowerCase()]:t})),{})),{en:"en-US",zh:"zh-CN",cn:"zh-CN",jp:"ja"});var s=n(27200),a=n(55556),l=n(82748);function c(e){return i.includes(e)}function u(e,t=(0,l.P3)("lang","")){const n=(0,s.Ul)(),u=(0,a.G)("SESSvl",""),d=null!=u?u:"",h=""===d||-1!==d.search(/^en/);return function(e){if(!e)return r;if(c(e))return e;const t=e.toLocaleLowerCase();if(t in o)return o[t];const[n]=t.split("-");return n in o?o[n]:(i.find((e=>e.startsWith(t))),r)}(t||(e?h?n:d:n))}},48270:(e,t,n)=>{"use strict";var i,r;n.d(t,{A:()=>i,M:()=>r}),function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e.FAB="fab",e.IN_PROGRESS="in-progress"}(i||(i={})),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(r||(r={}))},9241:(e,t,n)=>{"use strict";var i;n.d(t,{l:()=>i}),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(i||(i={}))},5532:(e,t,n)=>{"use strict";var i;n.d(t,{He:()=>r,LH:()=>i}),function(e){e.HIDE="HIDE",e.SHOW="SHOW"}(i||(i={})),function(e){let t,n;!function(e){e.SETTING_OFF="GENERIC.SETTING_OFF",e.SETTING_ON="GENERIC.SETTING_ON"}(t=e.GENERIC||(e.GENERIC={})),function(e){e.CLOSE_BUTTON_TOOLTIP_MESSAGE="REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE"}(n=e.REUSABLES||(e.REUSABLES={}))}(i||(i={}));const r={[i.REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE]:"Close",[i.GENERIC.SETTING_ON]:"On",[i.GENERIC.SETTING_OFF]:"Off",[i.HIDE]:"Hide",[i.SHOW]:"Show"}},74771:(e,t,n)=>{"use strict";n.d(t,{U6:()=>s,Ym:()=>a});var i=n(96540),r=n(5532);const o={locale:new class{t(e,t){return`${r.He[e]||e}${t&&Object.keys(t).length?JSON.stringify(t):""}`}T(e){return r.He[e]||e}get languageCode(){return"en"}has(e){return e in r.He}}},s=(0,i.createContext)(o);function a(){return(0,i.useContext)(s).locale}},71224:(e,t,n)=>{"use strict";var i;n.d(t,{b:()=>i}),function(e){e.ACCOUNT_INACTIVE="unavailable.account_inactive",e.GENERIC="generic",e.INTERNAL_ERROR="internal.error",e.MODEL_ARCHIVED="unavailable.archived",e.MODEL_COMPLIANCE="unavailable.compliance",e.MODEL_CORRUPT="model.corrupt",e.MODEL_FAILED="model.failed",e.MODEL_DELETED="unavailable.gone",e.MODEL_PENDING="unavailable.pending",e.MODEL_PROCESSING="unavailable.processing",e.MODEL_RESTRICTED="unavailable.restricted",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="password.required",e.REQUEST_INVALID="request.invalid",e.WEBGL_CONTEXT_LOST="webgl.context_lost",e.WEBGL_GENERIC="webgl.generic",e.WEBGL_UNSUPPORTED="webgl.unsupported"}(i||(i={}))},75027:(e,t,n)=>{"use strict";function i(e={},t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}n.d(t,{L:()=>i})},50505:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});class i{constructor(){this.libraryCache=new Map}load(e,t){const n=this.libraryCache.get(e)||new r(e,t);return this.libraryCache.set(e,n),n.library}}class r{constructor(e,t){this._libraryPromise=new Promise(((e,t)=>{this.libraryResolver=e,this.libraryRejecter=t})),this.fetch(e,t)}async fetch(e,t){try{const n=await import(e),i=Object.assign({},n);if(t&&t in window){const e=window[t]||{};Object.assign(i,e),delete window[t]}this.libraryResolver(i)}catch(e){this.libraryRejecter(e)}}get library(){return this._libraryPromise}}},28511:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});const i={360:"61697","add-link":"61698",arrow:"61699",arrows:"61700",attach:"61701",back:"61702",blocked:"61703","blur-outline":"61704","brush-outline":"61705",checkmark:"61706","chevron-left":"61707","chevron-right":"61708",close:"61709","comment-large":"57344","comment-outline":"61710",comment:"61711",delete:"61712",dock:"61713",dollhouse:"61714",door:"61715",download:"61716","dpad-down":"61717","dpad-left":"61718","dpad-right":"61719","dpad-up":"61720","drag-edit":"61721","draw-lines":"61722","edit-floorplan":"61723",email:"61724",error:"61725","escape-key":"61726",expand:"61727","ext-link":"61728",exterior:"61729","eye-hide":"61730","eye-show":"61731",facebook:"61732",file:"61733",filter:"61734","finger-drag":"61735","floor-controls-all":"61736","floor-controls":"61737",floorplan:"61738","fullscreen-exit":"61739",fullscreen:"61740",fullscreen2:"61741","furniture-slash":"61742",furniture:"61743","gizmo-add":"61744","gizmo-arrow-left":"61745","gizmo-closed":"61746","gizmo-dot-solid":"61747","gizmo-eye-hide":"61748","gizmo-eye-show":"61749","gizmo-floorplan":"61750","gizmo-gear":"61751","gizmo-layers":"61752","gizmo-magnet-wall":"61753","gizmo-magnet":"61754","gizmo-model":"61755","gizmo-move":"61756","gizmo-open":"61757","gizmo-orthographic":"61758","gizmo-perspective":"61759","gizmo-redo":"61760","gizmo-snap":"61761","gizmo-sxs":"61762","gizmo-undo":"61763",help:"61764","hlr-badge":"61765",hlr:"61766",info:"61767","invisible-wall":"61768",keyboard:"61769",layers:"61770",link:"61771",linkedin:"61772",list:"61773",location:"61774",lock:"61775","magnifying-glass":"61776","media-mix":"61777","menu-indicator":"61778","mesh-trim":"61779",mesh:"61780",minus:"61781","more-vert":"61782","no-camera":"61783",notes:"61784","object-air-ducts":"61785","object-bathtub":"61786","object-bed":"61787","object-cabinet":"61788","object-ceiling-fan":"61789","object-chair":"61790","object-countertop":"61791","object-dishwasher":"61792","object-door-lock":"61793","object-door":"61794","object-faucet":"61795","object-fireplace":"61796","object-garage-door":"61797","object-kitchen-island":"61798","object-light":"61799","object-microwave":"61800","object-mirror":"61801","object-outlet":"61802","object-oven":"61803","object-range-hood":"61804","object-range":"61805","object-refrigerator":"61806","object-shower":"61807","object-sink":"61808","object-skylight":"61809","object-smoke-detector":"61810","object-sofa":"61811","object-table":"61812","object-television":"61813","object-thermostat":"61814","object-toilet":"61815","object-towel-rack":"61816","object-vanity":"61817","object-wall-switch":"61818","object-washer-dryer":"61819","object-window":"61820",opening:"61821","panorama-disable":"61822",panorama:"61823","paper-clip":"61824","pause-outline":"61825",pause:"61826","photo-2d":"61827","photo-360":"61828","photo-add":"61829","pie-window":"61830",pin:"61831",pinterest:"61832","play-unicode":"61833",play:"61834",plus:"61835","position-3d-fat":"61836","position-3d-horizontal":"61837","position-3d":"61838","press-hold":"61839",public_buildings_apartment:"61840",public_buildings_archway:"61841","public_buildings_building-circle-arrow-right":"61842","public_buildings_building-circle-check":"61843","public_buildings_building-circle-exclamation":"61844","public_buildings_building-circle-xmark":"61845","public_buildings_building-columns":"61846","public_buildings_building-flag":"61847","public_buildings_building-lock":"61848","public_buildings_building-shield":"61849","public_buildings_building-user":"61850","public_buildings_building-wheat":"61851",public_buildings_building:"61852",public_buildings_buildings:"61853",public_buildings_cabin:"61854",public_buildings_campground:"61855","public_buildings_car-building":"61856",public_buildings_castle:"61857",public_buildings_chimney:"61858",public_buildings_church:"61859",public_buildings_city:"61860",public_buildings_farm:"61861",public_buildings_fence:"61862","public_buildings_ferris-wheel":"61863",public_buildings_fort:"61864",public_buildings_garage:"61865",public_buildings_hospital:"61866",public_buildings_hotel:"61867","public_buildings_house-building":"61868","public_buildings_house-crack":"61869","public_buildings_house-day":"61870","public_buildings_house-fire":"61871","public_buildings_house-flag":"61872","public_buildings_house-flood-water":"61873","public_buildings_house-heart":"61874","public_buildings_house-lock":"61875","public_buildings_house-medical":"61876","public_buildings_house-night":"61877",public_buildings_house:"61878",public_buildings_industry:"61879",public_buildings_landmark:"61880",public_buildings_monument:"61881",public_buildings_mosque:"61882","public_buildings_mountain-city":"61883","public_buildings_place-of-worship":"61884","public_buildings_roller-coaster":"61885",public_buildings_school:"61886",public_buildings_store:"61887",public_buildings_synagogue:"61888",public_buildings_tent:"61889",public_buildings_toilet:"61890","public_buildings_torii-gate":"61891","public_buildings_tower-observation":"61892",public_buildings_tree:"61893",public_buildings_warehouse:"61894",public_characters_0:"61895",public_characters_1:"61896",public_characters_2:"61897",public_characters_3:"61898",public_characters_4:"61899",public_characters_5:"61900",public_characters_6:"61901",public_characters_7:"61902",public_characters_8:"61903",public_characters_9:"61904",public_characters_a:"61905",public_characters_b:"61906",public_characters_c:"61907","public_characters_circle-0":"61908","public_characters_circle-1":"61909","public_characters_circle-2":"61910","public_characters_circle-3":"61911","public_characters_circle-4":"61912","public_characters_circle-5":"61913","public_characters_circle-6":"61914","public_characters_circle-7":"61915","public_characters_circle-8":"61916","public_characters_circle-9":"61917","public_characters_circle-a":"61918","public_characters_circle-b":"61919","public_characters_circle-c":"61920","public_characters_circle-d":"61921","public_characters_circle-e":"61922","public_characters_circle-f":"61923","public_characters_circle-g":"61924","public_characters_circle-h":"61925","public_characters_circle-i":"61926","public_characters_circle-j":"61927","public_characters_circle-k":"61928","public_characters_circle-l":"61929","public_characters_circle-m":"61930","public_characters_circle-n":"61931","public_characters_circle-o":"61932","public_characters_circle-p":"61933","public_characters_circle-q":"61934","public_characters_circle-r":"61935","public_characters_circle-s":"61936","public_characters_circle-t":"61937","public_characters_circle-u":"61938","public_characters_circle-v":"61939","public_characters_circle-w":"61940","public_characters_circle-x":"61941","public_characters_circle-y":"61942","public_characters_circle-z":"61943",public_characters_d:"61944",public_characters_e:"61945",public_characters_f:"61946",public_characters_g:"61947",public_characters_h:"61948",public_characters_i:"61949",public_characters_j:"61950",public_characters_k:"61951",public_characters_l:"61952",public_characters_m:"61953",public_characters_n:"61954",public_characters_o:"61955",public_characters_p:"61956",public_characters_q:"61957",public_characters_r:"61958",public_characters_s:"61959","public_characters_square-0":"61960","public_characters_square-1":"61961","public_characters_square-2":"61962","public_characters_square-3":"61963","public_characters_square-4":"61964","public_characters_square-5":"61965","public_characters_square-6":"61966","public_characters_square-7":"61967","public_characters_square-8":"61968","public_characters_square-9":"61969","public_characters_square-a":"61970","public_characters_square-b":"61971","public_characters_square-c":"61972","public_characters_square-d":"61973","public_characters_square-e":"61974","public_characters_square-f":"61975","public_characters_square-g":"61976","public_characters_square-h":"61977","public_characters_square-i":"61978","public_characters_square-j":"61979","public_characters_square-k":"61980","public_characters_square-l":"61981","public_characters_square-m":"61982","public_characters_square-n":"61983","public_characters_square-o":"61984","public_characters_square-p":"61985","public_characters_square-q":"61986","public_characters_square-r":"61987","public_characters_square-s":"61988","public_characters_square-t":"61989","public_characters_square-u":"61990","public_characters_square-v":"61991","public_characters_square-w":"61992","public_characters_square-x":"61993","public_characters_square-xmark":"61994","public_characters_square-y":"61995","public_characters_square-z":"61996",public_characters_t:"61997",public_characters_u:"61998",public_characters_v:"61999",public_characters_w:"62000",public_characters_x:"62001",public_characters_y:"62002",public_characters_z:"62003",public_furniture_bath:"62004","public_furniture_bed-alt":"62005","public_furniture_bed-bunk":"62006","public_furniture_bed-empty":"62007",public_furniture_bed:"62008",public_furniture_blender:"62009",public_furniture_blinds:"62010","public_furniture_cabinet-filing":"62011","public_furniture_cash-register":"62012","public_furniture_chair-office":"62013",public_furniture_chair:"62014","public_furniture_charging-station":"62015","public_furniture_computer-classic":"62016","public_furniture_computer-speaker":"62017",public_furniture_couch:"62018","public_furniture_dryer-alt":"62019",public_furniture_dryer:"62020",public_furniture_dumbbell:"62021",public_furniture_dumpster:"62022",public_furniture_faucet:"62023",public_furniture_fax:"62024","public_furniture_hot-tub":"62025",public_furniture_inventory:"62026","public_furniture_lamp-desk":"62027","public_furniture_lamp-floor":"62028",public_furniture_lamp:"62029",public_furniture_laptop:"62030","public_furniture_light-ceiling":"62031",public_furniture_loveseat:"62032",public_furniture_microwave:"62033",public_furniture_piano:"62034",public_furniture_podium:"62035",public_furniture_presentation:"62036",public_furniture_projector:"62037",public_furniture_radio:"62038",public_furniture_refrigerator:"62039",public_furniture_shower:"62040",public_furniture_shredder:"62041",public_furniture_sink:"62042","public_furniture_solar-panel":"62043",public_furniture_speaker:"62044",public_furniture_speakers:"62045",public_furniture_toilet:"62046","public_furniture_trash-alt":"62047",public_furniture_turntable:"62048","public_furniture_tv-retro":"62049",public_furniture_tv:"62050",public_furniture_typewriter:"62051",public_objects_abacus:"62052","public_objects_alarm-clock":"62053","public_objects_album-collection":"62054",public_objects_backpack:"62055","public_objects_bags-shopping":"62056",public_objects_bell:"62057",public_objects_bicycle:"62058",public_objects_binoculars:"62059",public_objects_blanket:"62060",public_objects_book:"62061",public_objects_books:"62062",public_objects_boot:"62063",public_objects_box:"62064","public_objects_bread-loaf":"62065","public_objects_briefcase-medical":"62066",public_objects_briefcase:"62067",public_objects_broom:"62068",public_objects_brush:"62069",public_objects_bullhorn:"62070","public_objects_burger-soda":"62071",public_objects_calculator:"62072",public_objects_calendar:"62073",public_objects_camera:"62074",public_objects_car:"62075",public_objects_carrot:"62076","public_objects_cheese-swiss":"62077",public_objects_chess:"62078","public_objects_clipboard-check":"62079","public_objects_clipboard-list":"62080",public_objects_clipboard:"62081","public_objects_coffee-pot":"62082",public_objects_compass:"62083",public_objects_cookie:"62084",public_objects_corn:"62085",public_objects_croissant:"62086",public_objects_dice:"62087",public_objects_drumstick:"62088",public_objects_egg:"62089",public_objects_fish:"62090",public_objects_flask:"62091","public_objects_flower-tulip":"62092",public_objects_gamepad:"62093",public_objects_gem:"62094",public_objects_gift:"62095",public_objects_gifts:"62096","public_objects_glass-citrus":"62097",public_objects_glass:"62098",public_objects_glasses:"62099","public_objects_globe-stand":"62100","public_objects_graduation-cap":"62101",public_objects_guitar:"62102",public_objects_hammer:"62103","public_objects_hat-chef":"62104","public_objects_ice-cream":"62105","public_objects_ice-skate":"62106",public_objects_key:"62107","public_objects_knife-kitchen":"62108","public_objects_lightbulb-on":"62109","public_objects_lightbulb-slash":"62110",public_objects_lightbulb:"62111",public_objects_magnet:"62112",public_objects_mailbox:"62113",public_objects_map:"62114",public_objects_meat:"62115",public_objects_medal:"62116",public_objects_microphone:"62117",public_objects_mobile:"62118","public_objects_money-bill-wave":"62119","public_objects_mug-tea":"62120",public_objects_mug:"62121",public_objects_newspaper:"62122","public_objects_paint-roller":"62123",public_objects_palette:"62124",public_objects_pen:"62125",public_objects_phone:"62126","public_objects_pizza-slice":"62127","public_objects_pump-soap":"62128","public_objects_ruler-triangle":"62129",public_objects_ruler:"62130",public_objects_salad:"62131",public_objects_sandwich:"62132",public_objects_shovel:"62133",public_objects_steak:"62134",public_objects_sunglasses:"62135",public_objects_turkey:"62136",public_objects_utensils:"62137",public_objects_vial:"62138",public_objects_wallet:"62139",public_objects_wrench:"62140",public_people_baby:"62141","public_people_child-dress":"62142","public_people_child-reaching":"62143",public_people_child:"62144",public_people_children:"62145","public_people_circle-user":"62146","public_people_clipboard-user":"62147","public_people_face-angry":"62148","public_people_face-anguished":"62149","public_people_face-astonished":"62150","public_people_face-beam-hand-over-mouth":"62151","public_people_face-confounded":"62152","public_people_face-confused":"62153","public_people_face-diagonal-mouth":"62154","public_people_face-disappointed":"62155","public_people_face-dizzy":"62156","public_people_face-expressionless":"62157","public_people_face-eyes-xmarks":"62158","public_people_face-fearful":"62159","public_people_face-frown-slight":"62160","public_people_face-frown":"62161","public_people_face-glasses":"62162","public_people_face-grimace":"62163","public_people_face-grin-beam-sweat":"62164","public_people_face-grin-beam":"62165","public_people_face-grin-hearts":"62166","public_people_face-grin-squint-tears":"62167","public_people_face-grin-squint":"62168","public_people_face-grin-stars":"62169","public_people_face-grin-tears":"62170","public_people_face-grin-tongue-squint":"62171","public_people_face-grin-tongue-wink":"62172","public_people_face-grin-tongue":"62173","public_people_face-grin-wide":"62174","public_people_face-grin-wink":"62175","public_people_face-grin":"62176","public_people_face-hand-over-mouth":"62177","public_people_face-hushed":"62178","public_people_face-icicles":"62179","public_people_face-kiss":"62180","public_people_face-laugh":"62181","public_people_face-mask":"62182","public_people_face-meh-blank":"62183","public_people_face-meh":"62184","public_people_face-monocle":"62185","public_people_face-nauseated":"62186","public_people_face-party":"62187","public_people_face-pensive":"62188","public_people_face-persevering":"62189","public_people_face-pleading":"62190","public_people_face-pouting":"62191","public_people_face-raised-eyebrow":"62192","public_people_face-relieved":"62193","public_people_face-rolling-eyes":"62194","public_people_face-sad-cry":"62195","public_people_face-sad-sweat":"62196","public_people_face-sad-tear":"62197","public_people_face-scream":"62198","public_people_face-sleeping":"62199","public_people_face-sleepy":"62200","public_people_face-smile-beam":"62201","public_people_face-smile-halo":"62202","public_people_face-smile-hearts":"62203","public_people_face-smile-relaxed":"62204","public_people_face-smile-upside-down":"62205","public_people_face-smile-wink":"62206","public_people_face-smile":"62207","public_people_face-smirking":"62208","public_people_face-spiral-eyes":"62209","public_people_face-sunglasses":"62210","public_people_face-surprise":"62211","public_people_face-thermometer":"62212","public_people_face-thinking":"62213","public_people_face-tired":"62214","public_people_face-tissue":"62215","public_people_face-unamused":"62216","public_people_face-vomit":"62217","public_people_face-weary":"62218","public_people_face-woozy":"62219","public_people_face-worried":"62220","public_people_face-zipper":"62221","public_people_family-dress":"62222","public_people_family-pants":"62223",public_people_family:"62224","public_people_file-user":"62225","public_people_folder-user":"62226","public_people_head-side-brain":"62227","public_people_head-side-cough-slash":"62228","public_people_head-side-cough":"62229","public_people_head-side-goggles":"62230","public_people_head-side-headphones":"62231","public_people_head-side-heart":"62232","public_people_head-side-mask":"62233","public_people_head-side-medical":"62234","public_people_head-side-virus":"62235","public_people_head-side":"62236",public_people_people:"62237","public_people_person-biking":"62238","public_people_person-booth":"62239","public_people_person-breastfeeding":"62240","public_people_person-cane":"62241","public_people_person-carry-box":"62242","public_people_person-digging":"62243","public_people_person-dolly-empty":"62244","public_people_person-dolly":"62245","public_people_person-dress":"62246","public_people_person-drowning":"62247","public_people_person-falling":"62248","public_people_person-half-dress":"62249","public_people_person-hiking":"62250","public_people_person-military-pointing":"62251","public_people_person-pinball":"62252","public_people_person-praying":"62253","public_people_person-pregnant":"62254","public_people_person-running":"62255","public_people_person-seat-reclined":"62256","public_people_person-seat":"62257","public_people_person-shelter":"62258","public_people_person-skating":"62259","public_people_person-skiing":"62260","public_people_person-swimming":"62261","public_people_person-to-door":"62262","public_people_person-walking-luggage":"62263","public_people_person-walking-with-cane":"62264","public_people_person-walking":"62265",public_people_person:"62266",public_people_restroom:"62267","public_people_square-user":"62268","public_people_street-view":"62269","public_people_user-astronaut":"62270","public_people_user-check":"62271","public_people_user-chef":"62272","public_people_user-clock":"62273","public_people_user-cowboy":"62274","public_people_user-crown":"62275","public_people_user-doctor":"62276","public_people_user-gear":"62277","public_people_user-graduate":"62278","public_people_user-group":"62279","public_people_user-headset":"62280","public_people_user-helmet-safety":"62281","public_people_user-injured":"62282","public_people_user-large":"62283","public_people_user-lock":"62284","public_people_user-minus":"62285","public_people_user-music":"62286","public_people_user-nurse":"62287","public_people_user-pen":"62288","public_people_user-pilot":"62289","public_people_user-plus":"62290","public_people_user-police":"62291","public_people_user-shield":"62292","public_people_user-slash":"62293","public_people_user-unlock":"62294",public_people_user:"62295",public_people_users:"62296",public_people_wheelchair:"62297","public_symbols_arrow-alt-circle-down":"62298","public_symbols_arrow-alt-circle-left":"62299","public_symbols_arrow-alt-circle-right":"62300","public_symbols_arrow-alt-circle-up":"62301","public_symbols_arrow-alt-down":"62302","public_symbols_arrow-alt-left":"62303","public_symbols_arrow-alt-right":"62304","public_symbols_arrow-alt-up":"62305",public_symbols_award:"62306","public_symbols_badge-check":"62307","public_symbols_badge-dollar":"62308",public_symbols_badge:"62309",public_symbols_ban:"62310",public_symbols_bell:"62311","public_symbols_bolt-slash":"62312",public_symbols_bolt:"62313",public_symbols_bookmark:"62314","public_symbols_check-circle":"62315",public_symbols_check:"62316",public_symbols_circle:"62317",public_symbols_clock:"62318",public_symbols_club:"62319",public_symbols_cube:"62320",public_symbols_cubes:"62321",public_symbols_deaf:"62322",public_symbols_diamond:"62323","public_symbols_dollar-sign":"62324","public_symbols_exclamation-circle":"62325","public_symbols_exclamation-square":"62326","public_symbols_exclamation-triangle":"62327",public_symbols_exclamation:"62328","public_symbols_eye-slash":"62329",public_symbols_eye:"62330",public_symbols_file:"62331",public_symbols_fingerprint:"62332","public_symbols_fire-alt":"62333","public_symbols_flag-alt":"62334",public_symbols_folder:"62335",public_symbols_genderless:"62336",public_symbols_heart:"62337",public_symbols_hexagon:"62338",public_symbols_hourglass:"62339",public_symbols_image:"62340","public_symbols_info-circle":"62341","public_symbols_info-square":"62342","public_symbols_layer-group":"62343",public_symbols_link:"62344","public_symbols_location-arrow":"62345","public_symbols_lock-open":"62346",public_symbols_lock:"62347","public_symbols_map-marker-alt":"62348","public_symbols_map-marker-check":"62349","public_symbols_map-marker-exclamation":"62350","public_symbols_map-marker-minus":"62351","public_symbols_map-marker-plus":"62352","public_symbols_map-marker-question":"62353","public_symbols_map-marker-smile":"62354",public_symbols_mars:"62355",public_symbols_moon:"62356",public_symbols_octagon:"62357",public_symbols_paperclip:"62358","public_symbols_parking-circle":"62359",public_symbols_parking:"62360",public_symbols_pause:"62361",public_symbols_play:"62362","public_symbols_question-circle":"62363","public_symbols_question-square":"62364",public_symbols_question:"62365",public_symbols_recycle:"62366",public_symbols_redo:"62367",public_symbols_shapes:"62368",public_symbols_shield:"62369","public_symbols_smoking-ban":"62370",public_symbols_smoking:"62371",public_symbols_spade:"62372",public_symbols_square:"62373","public_symbols_star-filled":"62374",public_symbols_star:"62375",public_symbols_tachometer:"62376",public_symbols_tag:"62377","public_symbols_temperature-down":"62378","public_symbols_temperature-frigid":"62379","public_symbols_temperature-high":"62380","public_symbols_temperature-hot":"62381","public_symbols_temperature-low":"62382","public_symbols_temperature-up":"62383",public_symbols_text:"62384","public_symbols_thermometer-empty":"62385","public_symbols_thermometer-full":"62386","public_symbols_thermometer-half":"62387","public_symbols_thermometer-quarter":"62388","public_symbols_thermometer-three-quarters":"62389",public_symbols_thumbtack:"62390",public_symbols_tint:"62391","public_symbols_transgender-alt":"62392",public_symbols_transgender:"62393","public_symbols_trash-alt":"62394",public_symbols_triangle:"62395","public_symbols_usd-circle":"62396","public_symbols_usd-square":"62397","public_symbols_venus-mars":"62398",public_symbols_venus:"62399",public_symbols_video:"62400","public_symbols_volume-down":"62401","public_symbols_volume-mute":"62402","public_symbols_volume-off":"62403","public_symbols_volume-slash":"62404","public_symbols_volume-up":"62405",public_symbols_volume:"62406",public_symbols_water:"62407",public_symbols_waveform:"62408","public_symbols_wifi-slash":"62409",public_symbols_wifi:"62410","public_symbols_yen-sign":"62411",question:"62412",reorder:"62413",reply:"62414",restart:"62415",revert:"62416","room-00258k0mqu8750du151be805c":"62417","room-0an2rky24gb91fdnpzmbwadib":"62418","room-0gnuunpwx63dmmqeq64aqfiyd":"62419","room-2nx6maxxpaeut7kx96fuacdzc":"62420","room-4by2d70b54srbin43t5m0yh9c":"62421","room-4gp8x21ni4i8y19r9pm4rb35a":"62422","room-4qq4e5hz84hcur7ry87uhtmua":"62423","room-66psa4tqgazbnffr9huy2dnpd":"62424","room-91naa1k3hiim9z4mk8352enta":"62425","room-a11d2gi43h0etwedw0mx9pgwd":"62426","room-ag5uphha72sak65qazgsp09yd":"62427","room-byp7pz2tmt4ff47nhfx0uwzec":"62428","room-e6md2spaqemc448pmau3azkhd":"62429","room-ei3kmtun2xpspbg3d5ff3t3zc":"62430","room-gba8cq0s2rdfg1zdb1epwty7d":"62431","room-ge0tcan3iztta5mtgsfx99xpb":"62432","room-gqqw1zac1hzg1p8622ducg3zb":"62433","room-izt39gytcbymc0qtd37nrb7xb":"62434","room-multi-use":"62435","room-mx6e2yfk0tg0zbkbzuw5mhkda":"62436","room-n07hhs9gky4cgrh7q65s9rp0d":"62437","room-nqw75004dcg2bcr41047rhg6c":"62438","room-pnf0xzq61xcegack4iai7xppd":"62439","room-pr9h4zy7eak91f3b7un97u42c":"62440","room-qa21tqcsinnxde9gdmiphacza":"62441","room-rmu8pikcye0n7n9fsu5e4acda":"62442","room-s1h0hb8tpcc9i35dmupknsega":"62443","room-ua1m0u8pm3yngrhzwec1ue5zc":"62444","room-w4tdggk5i5u2zpiryugktghgb":"62445","room-xwhhz63a0hw735qf81knp63ha":"62446","room-y3xuprmywgrprnm0273u3pphd":"62447","room-yeh1aa32fwgm72bh0g92ebruc":"62448","room-ywtddu9hagraxhznwinn8t4zb":"62449","room-zgh2304w5anu0t25ia06ytfxd":"62450","room-zp189tx2hdrry8k5nhaq5x45d":"62451","rotate-left":"62452","rotate-right":"62453",rotate:"62454","rotation-3d":"62455","scale-3d":"62456",settings:"62457",share:"62458",share2:"62459","simple-tag-pin":"62460","simple-tag-small":"62461","simple-tag":"62462",snap:"62463","sparkle-fill":"62464",sparkle:"62465","start-location":"62466","stem-height":"62467","tape-measure":"62468","toggle-pencil":"62469","toolbar-360-view":"62470","toolbar-edit-vr":"62471","toolbar-hlr":"62472","toolbar-labels":"62473","toolbar-mattertags":"62474","toolbar-measurements":"62475","toolbar-more-horiz":"62476","toolbar-photos":"62477","toolbar-plugin-config":"62478","toolbar-scan-mgmt":"62479","toolbar-start-location":"62480",transitions:"62481",trash:"62482","trim-keep":"62483","trim-remove":"62484",twitter:"62485",unlock:"62486",user:"62487",visibility:"62488",vr:"62489",wall:"62490",window:"62491","zoom-reset":"62492"}},85626:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var i=n(28511);const r=Object.keys(i.J).sort(((e,t)=>e.localeCompare(t)))},30278:(e,t,n)=>{"use strict";n.d(t,{$A:()=>i,Dm:()=>s,aI:()=>o,i1:()=>r});class i extends Error{constructor(e,t,n){super(e),this.status=t,this.type=n,Error.captureStackTrace&&Error.captureStackTrace(this,i)}}class r extends i{constructor(e){super(`Cannot request OEmbed data because no configuration matches the url ${e}`,200,"OEmbedUrl")}}class o extends i{constructor(e="unknown provider"){super(`Content from OEmbed provider ${e} is not currently supported`,200,"OEmbedProvider")}}class s extends i{constructor(e="unknown provider"){super(`Content from ${e} is type "link", which Link content is not currently supported`,200,"OEmbedLink")}}},42390:(e,t,n)=>{"use strict";var i;n.d(t,{n:()=>i}),function(e){e.PHOTO="photo",e.VIDEO="video",e.LINK="link",e.RICH="rich"}(i||(i={}))},23716:(e,t,n)=>{"use strict";var i;n.d(t,{K:()=>i}),function(e){e.Behance="behance",e.DailyMotion="dailymotion",e.FaceBook="facebook",e.Flickr="flickr",e.Giphy="giphy",e.GoogleMaps="google maps",e.Instagram="instagram",e.LinkedIn="linkedin",e.Matterport="matterport",e.MixCloud="mixcloud",e.Pinterest="pinterest",e.Reddit="reddit",e.SoundCloud="soundcloud",e.SketchFab="sketchfab",e.Spotify="spotify",e.Tenor="tenor",e.TikTok="tiktok",e.Twitch="twitch",e.Twitter="twitter",e.Tumblr="tumblr",e.Vimeo="vimeo",e.YouTube="youtube"}(i||(i={}))},97084:(e,t,n)=>{"use strict";var i,r;n.d(t,{L3:()=>s,QK:()=>i}),function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SENDING=1]="SENDING",e[e.FAILED=2]="FAILED",e[e.DONE=3]="DONE"}(r||(r={}));const o=new WeakMap;class s{constructor({retries:e=0,concurrency:t=6}={}){this.totalBytesDownloaded=0,this.queue=[],this.retries=e,this.concurrency=t}get(e,t){return this.request("GET",e,t)}head(e,t){return this.request("HEAD",e,t)}options(e,t){return this.request("OPTIONS",e,t)}post(e,t){return this.request("POST",e,t)}put(e,t){return this.request("PUT",e,t)}patch(e,t){return this.request("PATCH",e,t)}delete(e,t){return this.request("DELETE",e,t)}request(e,t,n){const i=new a(e,t,n);if(null==n?void 0:n.signal){const e=()=>{this.queue.includes(i)&&(i.status===r.SENDING&&i.abort(),this.dequeue(i),i.onFail(new DOMException("Aborted","AbortError")))};n.signal.addEventListener("abort",e),o.set(i,(()=>{var t;null===(t=n.signal)||void 0===t||t.removeEventListener("abort",e),o.delete(i)}))}return this.enqueue(i),i.promise}update(){let e;for(;e=this.getNextPendingRequest();)this.sendRequest(e);for(;e=this.getNextOverflowingGet();)e.abort(),e.status=r.PENDING;this.updateTimeout=null}enqueue(e){let t=0;for(t=0;t<this.queue.length;t++){if(this.queue[t].priority<e.priority)break}this.queue.splice(t,0,e),this.updateTimeout||(this.updateTimeout=window.setTimeout((()=>{this.update()}),1))}dequeue(e){var t;null===(t=o.get(e))||void 0===t||t();const n=this.queue.indexOf(e);if(-1===n)throw new Error("Can't dequeue request not in queue");this.queue.splice(n,1),this.update()}getNextPendingRequest(){for(let e=0;e<this.queue.length&&e<this.concurrency;e++){const t=this.queue[e];if(t.status===r.PENDING)return t}return null}getNextOverflowingGet(){for(let e=this.concurrency;e<this.queue.length;e++){const t=this.queue[e];if(t.status===r.SENDING&&t.priority!==i.HIGHEST&&"GET"===t.method)return t}return null}shouldRetryStatusCode(e){return!s.doNotRetryStatusCodes[e]}sendRequest(e){e.status=r.SENDING,e.send().then((t=>{e.status=r.DONE,this.dequeue(e),e.contentLength&&e.contentLength>0&&(this.totalBytesDownloaded+=Number(e.contentLength)),e.onDone(t)})).catch((t=>{const n=null!==e.maxRetries?e.maxRetries:this.retries;let i=e.sendAttempts<n;if("object"==typeof t){const e=t.status_code||0;i=i&&this.shouldRetryStatusCode(e)}i?(e.status=r.PENDING,this.update(),console.warn(`Retried ${e.url}`),console.warn(t)):(e.status=r.FAILED,this.dequeue(e),console.warn(`Failed ${e.url}`),e.onFail(t))}))}}s.doNotRetryStatusCodes={400:!0,401:!0,403:!0,404:!0,405:!0,406:!0,410:!0,411:!0,414:!0,415:!0,421:!0,431:!0,451:!0};class a{constructor(e,t,n={}){this.sendAttempts=0,this.status=r.PENDING,this.contentLength=0,this.isAborting=!1,this.url=t,this.method=e,this.auth=n.auth||null,this.withCredentials=n.withCredentials||!1,this.priority=n.priority||i.MEDIUM,this.responseType=n.responseType||null,this.body=n.body||null,this.headers=n.headers||{},this.maxRetries=n.maxRetries||null,this.onProgress=n.onProgress,this.promise=new Promise(((e,t)=>{this.onDone=e,this.onFail=t}))}send(){const e=this.xhr=function(e,t,n){let i;if("undefined"!=typeof XMLHttpRequest)i=new XMLHttpRequest,i.withCredentials=n;else{if("undefined"==typeof XDomainRequest)throw new Error("No XMLHTTPRequest or XDomainRequest... are you trying to run me in node? :(");i=new XDomainRequest}return i.open(e,t,!0),i}(this.method,this.url,this.withCredentials);if(this.responseType)if("arraybuffer"===this.responseType||"text"===this.responseType||"json"===this.responseType||"blob"===this.responseType)e.responseType=this.responseType;else{if("image"!==this.responseType)throw new Error('reponseType can only be one of "arraybuffer", "text", "json", "blob", "image"');e.responseType="blob"}"json"===this.responseType&&e.setRequestHeader("Accept","application/json"),this.auth&&"string"==typeof this.auth&&e.setRequestHeader("Authorization",this.auth);for(const t in this.headers)e.setRequestHeader(t,this.headers[t]);return this.body&&"object"==typeof this.body&&(this.body instanceof FormData||(this.body=JSON.stringify(this.body),e.setRequestHeader("Content-Type","application/json"))),this.onProgress&&(e.onprogress=this.onProgress),new Promise(((t,n)=>{e.onreadystatechange=()=>{if(4===e.readyState){if(200===e.status||201===e.status||204===e.status)return this.parseResponse(this.xhr).then((e=>{t(e)}));if(!this.isAborting)return this.parseResponse(this.xhr).then((t=>{n(Object.assign({status_code:e.status},t))})).catch((()=>{n({status_code:e.status})}));this.isAborting=!1}},e.onerror=function(e){n(e)},e.send(this.body),this.sendAttempts++}))}parseResponse(e){return new Promise(((t,n)=>{var i;try{if(!e)throw new Error(`No request received. Trying ${this.method} on ${this.url} and expecting ${this.responseType}, but request was ${this.xhr}`);let n=e.response;if(this.contentLength=parseInt(null!==(i=e.getResponseHeader("Content-Length"))&&void 0!==i?i:"0",10),"json"===this.responseType&&"object"!=typeof n)t(JSON.parse(e.responseText));else if(200!==e.status&&201!==e.status&&204!==e.status||"image"!==this.responseType)t(n);else{const e=URL.createObjectURL(n);n=new Image,n.onload=function(){URL.revokeObjectURL(e),t(n)},n.src=e,n.crossOrigin="Anonymous"}}catch(e){n({error:"Payload was not valid JSON"})}}))}abort(){if(null===this.xhr)throw new Error("Cannot abort unsent Request");this.isAborting=!0,this.xhr.abort()}}},30877:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var i,r=n(50505);!function(e){const t=new r.o;e.connect=async function(e,n,i){let r;try{r=await e.connect()}finally{e.cancelConnecting()}return function(e,t,n,i){return new t(n,e).build(i)}(i,await async function(e){if(!e)throw new Error("Unabled to load the sdk");try{const n=await t.load(e,"sdk-client");if(n&&n.SdkBuilder&&"function"==typeof n.SdkBuilder)return n.SdkBuilder}catch(e){}throw Error(`Could not load the sdk from ${e}`)}(r.scriptUrl),n.getFactory(r),r.serializedInterface)}}(i||(i={}))},71397:(e,t,n)=>{"use strict";var i;n.d(t,{D:()=>i}),function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.RETURN=13]="RETURN",e[e.SHIFT=16]="SHIFT",e[e.CONTROL=17]="CONTROL",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.HASH=35]="HASH",e[e.LEFTARROW=37]="LEFTARROW",e[e.UPARROW=38]="UPARROW",e[e.RIGHTARROW=39]="RIGHTARROW",e[e.DOWNARROW=40]="DOWNARROW",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.AT=64]="AT",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.L_META=91]="L_META",e[e.R_META=93]="R_META",e[e.SEMICOLON=186]="SEMICOLON",e[e.PLUSEQUALS=187]="PLUSEQUALS",e[e.COMMA=188]="COMMA",e[e.DASHUNDERSCORE=189]="DASHUNDERSCORE",e[e.PERIOD=190]="PERIOD",e[e.OPENBRACKET=219]="OPENBRACKET"}(i||(i={}))},39803:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});class i{constructor(e){if(this.values=new Map,e)for(const[t,n]of e)for(const[e,i]of n)this.set(t,e,i)}set(e,t,n){this.getValuesAtKey(e).set(t,n)}delete(e,t){const n=this.values.get(e);null==n||n.delete(t)}removeKey(e){this.values.delete(e)}getValuesAtKey(e){const t=this.values.get(e)||new Map;return this.values.set(e,t),t}valuesPerKey(e){return this.getValuesAtKey(e).size}get(e,t){var n;return null===(n=this.values.get(e))||void 0===n?void 0:n.get(t)}get keys(){return this.values.keys()}hasKey(e){return this.values.has(e)}has(e,t){var n;return!!(null===(n=this.values.get(e))||void 0===n?void 0:n.has(t))}*[Symbol.iterator](){for(const[e,t]of this.values)for(const[n,i]of t)yield[e,n,i]}}},77778:(e,t,n)=>{"use strict";n.d(t,{kc:()=>i,j6:()=>r,kG:()=>o});class i{constructor(){this.values={}}add(e,t){this.getValuesAtKey(e).push(t)}remove(e,t){const n=this.values[e];if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}removeKey(e){delete this.values[e]}getValuesAtKey(e){const t=this.values[e]||[];return this.values[e]=t,t}valuesPerKey(e){return this.getValuesAtKey(e).length}find(e,t){return this.values[e]&&this.values[e].find(t)}get keys(){return Object.keys(this.values)}hasKey(e){return e in this.values}has(e,t){return this.hasKey(e)&&this.values[e].includes(t)}*[Symbol.iterator](){for(const e in this.values)for(const t of this.values[e])yield[e,t]}}n(39803);class r{constructor(){this.values=new Map}add(e,t){this.getValuesAtKey(e).add(t)}remove(e,t){const n=this.values.get(e);null==n||n.delete(t)}removeKey(e){this.values.delete(e)}getValuesAtKey(e){const t=this.values.get(e)||new Set;return this.values.set(e,t),t}valuesPerKey(e){return this.getValuesAtKey(e).size}get keys(){return this.values.keys()}hasKey(e){return this.values.has(e)}has(e,t){var n;return!!(null===(n=this.values.get(e))||void 0===n?void 0:n.has(t))}*[Symbol.iterator](){for(const[e,t]of this.values)for(const n of t)yield[e,n]}}class o extends Map{constructor(e,t){super(t),this.getDefault=e}get(e){return super.get(e)||this.getDefault()}}},25481:(e,t,n)=>{"use strict";function i(e){return"number"==typeof e&&!isNaN(e)}n.d(t,{Et:()=>i})},48059:(e,t,n)=>{"use strict";function i(e){return!!e&&"object"==typeof e}n.d(t,{G:()=>i})},10833:(e,t,n)=>{"use strict";function i(e){return"string"==typeof e}n.d(t,{K:()=>i})},86867:(e,t,n)=>{"use strict";function i(e,t){return Object.values(e).includes(t)}n.d(t,{U:()=>i})},77232:function(e,t,n){var i;!function(r,o){"use strict";var s="function",a="undefined",l="object",c="string",u="major",d="model",h="name",p="type",f="vendor",m="version",g="architecture",v="console",y="mobile",E="tablet",S="smarttv",b="wearable",_="embedded",O="Amazon",T="Apple",A="ASUS",w="BlackBerry",N="Browser",I="Chrome",R="Firefox",k="Google",L="Huawei",P="LG",D="Microsoft",M="Motorola",C="Opera",x="Samsung",U="Sharp",F="Sony",H="Xiaomi",G="Zebra",B="Facebook",V="Chromium OS",j="Mac OS",W=" Browser",z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},$=function(e,t){return typeof e===c&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},q=function(e,t){for(var n,i,r,a,c,u,d=0;d<t.length&&!c;){var h=t[d],p=t[d+1];for(n=i=0;n<h.length&&!c&&h[n];)if(c=h[n++].exec(e))for(r=0;r<p.length;r++)u=c[++i],typeof(a=p[r])===l&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):o:this[a[0]]=u?a[1].call(this,u,a[2]):o:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):o):this[a]=u||o;d+=2}},Q=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if($(t[n][i],e))return"?"===n?o:n}else if($(t[n],e))return"?"===n?o:n;return t.hasOwnProperty("*")?t["*"]:e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,C+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[h,C+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[h,C]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+N]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[h,"Smart Lenovo "+N]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+N],m],[/\bfocus\/([\w\.]+)/i],[m,[h,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,C+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,C+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[m,[h,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+W]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+W],m],[/samsungbrowser\/([\w\.]+)/i],[m,[h,x+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,B],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,I+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/(wolvic)\/([\w\.]+)/i],[h,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,K]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,x],[p,E]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,x],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,T],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,T],[p,E]],[/(macintosh);/i],[d,[f,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,U],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,L],[p,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,L],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[f,H],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,H],[p,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[p,y]],[/\b(opd2\d{3}a?) bui/i],[d,[f,"OPPO"],[p,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,M],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,M],[p,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,P],[p,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,P],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[p,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[p,y]],[/(pixel c)\b/i],[d,[f,k],[p,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,k],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,F],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,F],[p,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,O],[p,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,O],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[p,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,w],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,A],[p,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,A],[p,y]],[/(nexus 9)/i],[d,[f,"HTC"],[p,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[p,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[f,"TCL"],[p,E]],[/(itel) ((\w+))/i],[[f,K],d,[p,Q,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[p,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[p,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[f,"Nothing"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[p,E]],[/(surface duo)/i],[d,[f,D],[p,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[f,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[p,E]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[p,E]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[p,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[p,E]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[p,E]],[/\b(k88) b/i],[d,[f,"ZTE"],[p,E]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[p,E]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[p,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[p,E]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[p,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[p,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[f,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[p,E]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[p,E]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[p,E]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[p,E]],[/(sprint) (\w+)/i],[f,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,D],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,G],[p,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,G],[p,y]],[/smart-tv.+(samsung)/i],[f,[p,S]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,x],[p,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,P],[p,S]],[/(apple) ?tv/i],[f,[d,T+" TV"],[p,S]],[/crkey/i],[[d,I+"cast"],[f,k],[p,S]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,O],[p,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,U],[p,S]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,F],[p,S]],[/(mitv-\w{5}) bui/i],[d,[f,H],[p,S]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[p,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Y],[d,Y],[p,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[p,v]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[p,v]],[/(playstation [345portablevi]+)/i],[d,[f,F],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,D],[p,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[f,x],[p,b]],[/((pebble))app/i],[f,d,[p,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,T],[p,b]],[/droid.+; (glass) \d/i],[d,[f,k],[p,b]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,G],[p,b]],[/(quest( \d| pro)?)/i],[d,[f,B],[p,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,_]],[/(aeobc)\b/i],[d,[f,O],[p,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[m,Q,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,Q,X],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,j],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[h,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,V],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,m]]},Z=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof r!==a&&r.navigator?r.navigator:o,i=e||(n&&n.userAgent?n.userAgent:""),v=n&&n.userAgentData?n.userAgentData:o,S=t?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(J,t):J,b=n&&n.userAgent==i;return this.getBrowser=function(){var e,t={};return t[h]=o,t[m]=o,q.call(t,i,S.browser),t[u]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,b&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,q.call(e,i,S.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[d]=o,e[p]=o,q.call(e,i,S.device),b&&!e[p]&&v&&v.mobile&&(e[p]=y),b&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=E),e},this.getEngine=function(){var e={};return e[h]=o,e[m]=o,q.call(e,i,S.engine),e},this.getOS=function(){var e={};return e[h]=o,e[m]=o,q.call(e,i,S.os),b&&!e[h]&&v&&v.platform&&"Unknown"!=v.platform&&(e[h]=v.platform.replace(/chrome os/i,V).replace(/macos/i,j)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>500?Y(e,500):e,this},this.setUA(i),this};Z.VERSION="0.7.39",Z.BROWSER=z([h,m,u]),Z.CPU=z([g]),Z.DEVICE=z([d,f,p,v,y,S,E,b,_]),Z.ENGINE=Z.OS=z([h,m]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(i=function(){return Z}.call(t,n,t,e))===o||(e.exports=i):typeof r!==a&&(r.UAParser=Z);var ee=typeof r!==a&&(r.jQuery||r.Zepto);if(ee&&!ee.ua){var te=new Z;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"==typeof window?window:this)},29426:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=t.ErrorType=void 0,function(e){e.MalformedUnicode="MALFORMED_UNICODE",e.MalformedHexadecimal="MALFORMED_HEXADECIMAL",e.CodePointLimit="CODE_POINT_LIMIT",e.OctalDeprecation="OCTAL_DEPRECATION",e.EndOfString="END_OF_STRING"}(n=t.ErrorType||(t.ErrorType={})),t.errorMessages=new Map([[n.MalformedUnicode,"malformed Unicode character escape sequence"],[n.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[n.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[n.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[n.EndOfString,"malformed escape sequence at end of string"]])},12317:(e,t,n)=>{"use strict";t.MH=void 0;const i=n(29426);function r(e,t,n){const r=function(e){return e.match(/[^a-f0-9]/i)?NaN:parseInt(e,16)}(e);if(Number.isNaN(r)||void 0!==n&&n!==e.length)throw new SyntaxError(i.errorMessages.get(t));return r}function o(e,t){const n=r(e,i.ErrorType.MalformedUnicode,4);if(void 0!==t){const e=r(t,i.ErrorType.MalformedUnicode,4);return String.fromCharCode(n,e)}return String.fromCharCode(n)}const s=new Map([["b","\b"],["f","\f"],["n","\n"],["r","\r"],["t","\t"],["v","\v"],["0","\0"]]);const a=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function l(e,t=!1){return e.replace(a,(function(e,n,a,l,c,u,d,h,p){if(void 0!==n)return"\\";if(void 0!==a)return function(e){const t=r(e,i.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(t)}(a);if(void 0!==l)return function(e){if("{"!==(t=e).charAt(0)||"}"!==t.charAt(t.length-1))throw new SyntaxError(i.errorMessages.get(i.ErrorType.MalformedUnicode));var t;const n=r(e.slice(1,-1),i.ErrorType.MalformedUnicode);try{return String.fromCodePoint(n)}catch(e){throw e instanceof RangeError?new SyntaxError(i.errorMessages.get(i.ErrorType.CodePointLimit)):e}}(l);if(void 0!==c)return o(c,u);if(void 0!==d)return o(d);if("0"===h)return"\0";if(void 0!==h)return function(e,t=!1){if(t)throw new SyntaxError(i.errorMessages.get(i.ErrorType.OctalDeprecation));const n=parseInt(e,8);return String.fromCharCode(n)}(h,!t);if(void 0!==p)return f=p,s.get(f)||f;var f;throw new SyntaxError(i.errorMessages.get(i.ErrorType.EndOfString))}))}t.MH=l},46579:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,r=1;r<i;++r)t[r]=t[r].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function o(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var n=e;if(t)for(var i in t)n[i]=t[i];return n}function a(e){var i="[A-Za-z]",r="[0-9]",o=t(r,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(i,r,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=n(i+t(i,r,"[\\+\\-\\.]")+"*"),h=n(n(s+"|"+t(u,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("[1-9]"+r)+"|"+r),n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("0?[1-9]"+r)+"|0?0?"+r)),f=n(p+"\\."+p+"\\."+p+"\\."+p),m=n(o+"{1,4}"),g=n(n(m+"\\:"+m)+"|"+f),v=n(n(m+"\\:")+"{6}"+g),y=n("\\:\\:"+n(m+"\\:")+"{5}"+g),E=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+g),S=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+g),b=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+g),_=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),O=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),T=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),A=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),w=n([v,y,E,S,b,_,O,T,A].join("|")),N=n(n(u+"|"+s)+"+"),I=(n(w+"\\%25"+N),n(w+n("\\%25|\\%(?!"+o+"{2})")+N)),R=n("[vV]"+o+"+\\."+t(u,a,"[\\:]")+"+"),k=n("\\["+n(I+"|"+w+"|"+R)+"\\]"),L=n(n(s+"|"+t(u,a))+"*"),P=n(k+"|"+f+"(?!"+L+")|"+L),D=n(r+"*"),M=n(n(h+"@")+"?"+P+n("\\:"+D)+"?"),C=n(s+"|"+t(u,a,"[\\:\\@]")),x=n(C+"*"),U=n(C+"+"),F=n(n(s+"|"+t(u,a,"[\\@]"))+"+"),H=n(n("\\/"+x)+"*"),G=n("\\/"+n(U+H)+"?"),B=n(F+H),V=n(U+H),j="(?!"+C+")",W=(n(H+"|"+G+"|"+B+"|"+V+"|"+j),n(n(C+"|"+t("[\\/\\?]",c))+"*")),z=n(n(C+"|[\\/\\?]")+"*"),$=n(n("\\/\\/"+M+H)+"|"+G+"|"+V+"|"+j),K=n(d+"\\:"+$+n("\\?"+W)+"?"+n("\\#"+z)+"?"),Y=n(n("\\/\\/"+M+H)+"|"+G+"|"+B+"|"+j),q=n(Y+n("\\?"+W)+"?"+n("\\#"+z)+"?");return n(K+"|"+q),n(d+"\\:"+$+n("\\?"+W)+"?"),n(n("\\/\\/("+n("("+h+")@")+"?("+P+")"+n("\\:("+D+")")+"?)")+"?("+H+"|"+G+"|"+V+"|"+j+")"),n("\\?("+W+")"),n("\\#("+z+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+P+")"+n("\\:("+D+")")+"?)")+"?("+H+"|"+G+"|"+B+"|"+j+")"),n("\\?("+W+")"),n("\\#("+z+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+P+")"+n("\\:("+D+")")+"?)")+"?("+H+"|"+G+"|"+V+"|"+j+")"),n("\\?("+W+")"),n("\\#("+z+")"),n("("+h+")@"),n("\\:("+D+")"),{NOT_SCHEME:new RegExp(t("[^]",i,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+N+")")+"?\\]?$")}}var l=a(!1),c=a(!0),u=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},h=2147483647,p=36,f=1,m=26,g=38,v=700,y=72,E=128,S="-",b=/^xn--/,_=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=p-f,w=Math.floor,N=String.fromCharCode;function I(e){throw new RangeError(T[e])}function R(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}function k(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+R((e=e.replace(O,".")).split("."),t).join(".")}function L(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}var P=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p},D=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},M=function(e,t,n){var i=0;for(e=n?w(e/v):e>>1,e+=w(e/t);e>A*m>>1;i+=p)e=w(e/A);return w(i+(A+1)*e/(e+g))},C=function(e){var t=[],n=e.length,i=0,r=E,o=y,s=e.lastIndexOf(S);s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&I("not-basic"),t.push(e.charCodeAt(a));for(var l=s>0?s+1:0;l<n;){for(var c=i,u=1,d=p;;d+=p){l>=n&&I("invalid-input");var g=P(e.charCodeAt(l++));(g>=p||g>w((h-i)/u))&&I("overflow"),i+=g*u;var v=d<=o?f:d>=o+m?m:d-o;if(g<v)break;var b=p-v;u>w(h/b)&&I("overflow"),u*=b}var _=t.length+1;o=M(i-c,_,0==c),w(i/_)>h-r&&I("overflow"),r+=w(i/_),i%=_,t.splice(i++,0,r)}return String.fromCodePoint.apply(String,t)},x=function(e){var t=[],n=(e=L(e)).length,i=E,r=0,o=y,s=!0,a=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;d<128&&t.push(N(d))}}catch(e){a=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(a)throw l}}var g=t.length,v=g;for(g&&t.push(S);v<n;){var b=h,_=!0,O=!1,T=void 0;try{for(var A,R=e[Symbol.iterator]();!(_=(A=R.next()).done);_=!0){var k=A.value;k>=i&&k<b&&(b=k)}}catch(e){O=!0,T=e}finally{try{!_&&R.return&&R.return()}finally{if(O)throw T}}var P=v+1;b-i>w((h-r)/P)&&I("overflow"),r+=(b-i)*P,i=b;var C=!0,x=!1,U=void 0;try{for(var F,H=e[Symbol.iterator]();!(C=(F=H.next()).done);C=!0){var G=F.value;if(G<i&&++r>h&&I("overflow"),G==i){for(var B=r,V=p;;V+=p){var j=V<=o?f:V>=o+m?m:V-o;if(B<j)break;var W=B-j,z=p-j;t.push(N(D(j+W%z,0))),B=w(W/z)}t.push(N(D(B,0))),o=M(r,P,v==g),r=0,++v}}}catch(e){x=!0,U=e}finally{try{!C&&H.return&&H.return()}finally{if(x)throw U}}++r,++i}return t.join("")},U=function(e){return k(e,(function(e){return b.test(e)?C(e.slice(4).toLowerCase()):e}))},F=function(e){return k(e,(function(e){return _.test(e)?"xn--"+x(e):e}))},H={version:"2.1.0",ucs2:{decode:L,encode:function(e){return String.fromCodePoint.apply(String,d(e))}},decode:C,encode:x,toASCII:F,toUnicode:U},G={};function B(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function V(e){for(var t="",n=0,i=e.length;n<i;){var r=parseInt(e.substr(n+1,2),16);if(r<128)t+=String.fromCharCode(r),n+=3;else if(r>=194&&r<224){if(i-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&r)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(r>=224){if(i-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function j(e,t){function n(e){var n=V(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,B).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,B).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,B).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,B).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,B).replace(t.PCT_ENCODED,r)),e}function W(e){return e.replace(/^0*(.*)/,"$1")||"0"}function z(e,t){var n=e.match(t.IPV4ADDRESS)||[],i=u(n,2)[1];return i?i.split(".").map(W).join("."):e}function $(e,t){var n=e.match(t.IPV6ADDRESS)||[],i=u(n,3),r=i[1],o=i[2];if(r){for(var s=r.toLowerCase().split("::").reverse(),a=u(s,2),l=a[0],c=a[1],d=c?c.split(":").map(W):[],h=l.split(":").map(W),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,g=Array(f),v=0;v<f;++v)g[v]=d[v]||h[m+v]||"";p&&(g[f-1]=z(g[f-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===n?i.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],E=void 0;if(y&&y.length>1){var S=g.slice(0,y.index),b=g.slice(y.index+y.length);E=S.join(":")+"::"+b.join(":")}else E=g.join(":");return o&&(E+="%"+o),E}return e}var K=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=!1!==t.iri?c:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(K);if(r){Y?(n.scheme=r[1],n.userinfo=r[3],n.host=r[4],n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=r[7],n.fragment=r[8],isNaN(n.port)&&(n.port=r[5])):(n.scheme=r[1]||void 0,n.userinfo=-1!==e.indexOf("@")?r[3]:void 0,n.host=-1!==e.indexOf("//")?r[4]:void 0,n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=-1!==e.indexOf("?")?r[7]:void 0,n.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),n.host&&(n.host=$(z(n.host,i),i)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=G[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)j(n,i);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=H.toASCII(n.host.replace(i.PCT_ENCODED,V).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}j(n,l)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function Q(e,t){var n=!1!==t.iri?c:l,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push($(z(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}var X=/^\.\.?\//,J=/^\/\.(\/|$)/,Z=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(X))e=e.replace(X,"");else if(e.match(J))e=e.replace(J,"/");else if(e.match(Z))e=e.replace(Z,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var i=n[0];e=e.slice(i.length),t.push(i)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?c:l,i=[],r=G[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?H.toUnicode(e.host):H.toASCII(e.host.replace(n.PCT_ENCODED,V).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}j(e,n),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var o=Q(e,t);if(void 0!==o&&("suffix"!==t.reference&&i.push("//"),i.push(o),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||r&&r.absolutePath||(s=te(s)),void 0===o&&(s=s.replace(/^\/\//,"/%2F")),i.push(s)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(e=q(ne(e,n),n),t=q(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=te(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=te(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=te(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function re(e,t,n){var i=s({scheme:"null"},n);return ne(ie(q(e,i),q(t,i),i,!0),i)}function oe(e,t){return"string"==typeof e?e=ne(q(e,t),t):"object"===i(e)&&(e=q(ne(e,t),t)),e}function se(e,t,n){return"string"==typeof e?e=ne(q(e,n),n):"object"===i(e)&&(e=ne(e,n)),"string"==typeof t?t=ne(q(t,n),n):"object"===i(t)&&(t=ne(t,n)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:l.ESCAPE,B)}function le(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:l.PCT_ENCODED,V)}var ce={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ue={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function de(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var he={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=de(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(de(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),i=u(n,2),r=i[0],o=i[1];e.path=r&&"/"!==r?r:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},pe={scheme:"wss",domainHost:he.domainHost,parse:he.parse,serialize:he.serialize},fe={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ge="[0-9A-Fa-f]",ve=n(n("%[EFef]"+ge+"%"+ge+ge+"%"+ge+ge)+"|"+n("%[89A-Fa-f]"+ge+"%"+ge+ge)+"|"+n("%"+ge+ge)),ye="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Se="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",be=new RegExp(me,"g"),_e=new RegExp(ve,"g"),Oe=new RegExp(t("[^]",ye,"[\\.]",'[\\"]',Ee),"g"),Te=new RegExp(t("[^]",me,Se),"g"),Ae=Te;function we(e){var t=V(e);return t.match(be)?t:e}var Ne={scheme:"mailto",parse:function(e,t){var n=e,i=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var r=!1,o={},s=n.query.split("&"),a=0,l=s.length;a<l;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),d=0,h=u.length;d<h;++d)i.push(u[d]);break;case"subject":n.subject=le(c[1],t);break;case"body":n.body=le(c[1],t);break;default:r=!0,o[le(c[0],t)]=le(c[1],t)}}r&&(n.headers=o)}n.query=void 0;for(var p=0,f=i.length;p<f;++p){var m=i[p].split("@");if(m[0]=le(m[0]),t.unicodeSupport)m[1]=le(m[1],t).toLowerCase();else try{m[1]=H.toASCII(le(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[p]=m.join("@")}return n},serialize:function(e,t){var n=e,i=o(e.to);if(i){for(var s=0,a=i.length;s<a;++s){var l=String(i[s]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(_e,we).replace(_e,r).replace(Oe,B),d=l.slice(c+1);try{d=t.iri?H.toUnicode(d):H.toASCII(le(d,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[s]=u+"@"+d}n.path=i.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==fe[f]&&p.push(f.replace(_e,we).replace(_e,r).replace(Te,B)+"="+h[f].replace(_e,we).replace(_e,r).replace(Ae,B));return p.length&&(n.query=p.join("&")),n}},Ie=/^([^\:]+)\:(.*)/,Re={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(Ie),i=e;if(n){var r=t.scheme||i.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=r+":"+(t.nid||o),l=G[a];i.nid=o,i.nss=s,i.path=void 0,l&&(i=l.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",i=e.nid,r=n+":"+(t.nid||i),o=G[r];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(i||t.nid)+":"+a,s}},ke=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Le={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ke)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};G[ce.scheme]=ce,G[ue.scheme]=ue,G[he.scheme]=he,G[pe.scheme]=pe,G[Ne.scheme]=Ne,G[Re.scheme]=Re,G[Le.scheme]=Le,e.SCHEMES=G,e.pctEncChar=B,e.pctDecChars=V,e.parse=q,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=ie,e.resolve=re,e.normalize=oe,e.equal=se,e.escapeComponent=ae,e.unescapeComponent=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},40936:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(96540);function r(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:"contentBoxSize"===t?e.contentRect["inlineSize"===n?"width":"height"]:void 0}function o(e){void 0===e&&(e={});var t=e.onResize,n=(0,i.useRef)(void 0);n.current=t;var o=e.round||Math.round,s=(0,i.useRef)(),a=(0,i.useState)({width:void 0,height:void 0}),l=a[0],c=a[1],u=(0,i.useRef)(!1);(0,i.useEffect)((function(){return u.current=!1,function(){u.current=!0}}),[]);var d=(0,i.useRef)({width:void 0,height:void 0}),h=function(e,t){var n=(0,i.useRef)(null),r=(0,i.useRef)(null);r.current=t;var o=(0,i.useRef)(null);(0,i.useEffect)((function(){s()}));var s=(0,i.useCallback)((function(){var t=o.current,i=r.current,s=t||(i?i instanceof Element?i:i.current:null);n.current&&n.current.element===s&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:s,subscriber:e,cleanup:s?e(s):void 0})}),[e]);return(0,i.useEffect)((function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}}),[]),(0,i.useCallback)((function(e){o.current=e,s()}),[s])}((0,i.useCallback)((function(t){return s.current&&s.current.box===e.box&&s.current.round===o||(s.current={box:e.box,round:o,instance:new ResizeObserver((function(t){var i=t[0],s="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",a=r(i,s,"inlineSize"),l=r(i,s,"blockSize"),h=a?o(a):void 0,p=l?o(l):void 0;if(d.current.width!==h||d.current.height!==p){var f={width:h,height:p};d.current.width=h,d.current.height=p,n.current?n.current(f):u.current||c(f)}}))}),s.current.instance.observe(t,{box:e.box}),function(){s.current&&s.current.instance.unobserve(t)}}),[e.box,o]),e.ref);return(0,i.useMemo)((function(){return{ref:h,width:l.width,height:l.height}}),[h,l.width,l.height])}},9771:e=>{"use strict";var t=function(){};e.exports=t},81557:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform float opacity;uniform vec3 color;uniform sampler2D bg;varying vec2 vUv;\n#ifdef FADE_DEPTH\nvarying vec3 vWorldPos;\n#endif\n#ifdef FADE_DEPTH\nuniform vec2 screenSize;uniform float pixelRatio;uniform sampler2D depthTex;uniform float fadeMaxDepth;float sample_depth(){vec2 frameBufferSize=screenSize*pixelRatio;vec2 screenUv=gl_FragCoord.xy/frameBufferSize;vec2 onePx=1./frameBufferSize;float nearestDepth=texture2D(depthTex,screenUv).r*fadeMaxDepth;return nearestDepth;}float calcDepthFadeOpacity(float currDepth){float nearestDepth=sample_depth();float behindDepth=max(currDepth-nearestDepth,0.);float depthFadeStartDist=FADE_DEPTH;float depthFadeEndDist=FADE_DEPTH+FADE_WIDTH;float depthFadeT=clamp((behindDepth-depthFadeStartDist)/(depthFadeEndDist-depthFadeStartDist),0.,1.);float depthFadeOpacity=1.-mix(0.,1.,depthFadeT);return depthFadeOpacity;}\n#endif\nvoid main(){vec4 bgColor=texture2D(bg,vUv);float depthFadeOpacity=1.;\n#ifdef FADE_DEPTH\nfloat distanceFromCamera=length(cameraPosition-vWorldPos);depthFadeOpacity=calcDepthFadeOpacity(distanceFromCamera);\n#endif\nfloat finalOpacity=depthFadeOpacity*bgColor.a*opacity;gl_FragColor=linearToOutputTexel(vec4(bgColor.rgb,finalOpacity));}"},228:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform vec3 diffuse;uniform float opacity;uniform sampler2D mask;\n#ifdef USE_DASH\nuniform float dashSize;uniform float gapSize;\n#endif\nvarying float vLineDistance;\n#include <common>\nvarying vec2 vUv;\n#ifdef FADE_DEPTH\nvarying vec3 vWorldPos;\n#endif\n#ifdef FADE_DEPTH\nuniform vec2 screenSize;uniform float pixelRatio;uniform sampler2D depthTex;uniform float fadeMaxDepth;float sample_depth(){vec2 frameBufferSize=screenSize*pixelRatio;vec2 screenUv=gl_FragCoord.xy/frameBufferSize;vec2 onePx=1./frameBufferSize;float nearestDepth=texture2D(depthTex,screenUv).r*fadeMaxDepth;return nearestDepth;}float calcDepthFadeOpacity(float currDepth){float nearestDepth=sample_depth();float behindDepth=max(currDepth-nearestDepth,0.);float depthFadeStartDist=FADE_DEPTH;float depthFadeEndDist=FADE_DEPTH+FADE_WIDTH;float depthFadeT=clamp((behindDepth-depthFadeStartDist)/(depthFadeEndDist-depthFadeStartDist),0.,1.);float depthFadeOpacity=1.-mix(0.,1.,depthFadeT);return depthFadeOpacity;}\n#endif\nvoid main(){\n#ifdef USE_DASH\nif(vUv.y<-1.||vUv.y>1.)discard;if(mod(vLineDistance,dashSize+gapSize)>dashSize)discard;\n#endif\nfloat depthFadeOpacity=1.;\n#ifdef FADE_DEPTH\nfloat distanceFromCamera=length(cameraPosition-vWorldPos);depthFadeOpacity=calcDepthFadeOpacity(distanceFromCamera);\n#endif\nfloat finalOpacity=depthFadeOpacity*opacity;\n#ifdef USE_MASK\nvec2 modUv=vec2(vUv);modUv*=2.;vec4 texelColor=texture2D(mask,modUv);gl_FragColor=linearToOutputTexel(vec4(texelColor.rgb,min(texelColor.a,finalOpacity)));\n#else\ngl_FragColor=linearToOutputTexel(vec4(diffuse,finalOpacity));\n#endif\n}"},33326:e=>{e.exports="precision highp float;precision highp int;\n#include <common>\nuniform float linewidth;uniform vec2 resolution;attribute vec3 instanceStart;attribute vec3 instanceEnd;attribute vec3 instanceColorStart;attribute vec3 instanceColorEnd;varying vec2 vUv;\n#ifdef USE_DASH\nuniform float dashScale;attribute float instanceDistanceStart;attribute float instanceDistanceEnd;varying float vLineDistance;\n#endif\nuniform mat4 cameraMatrix;uniform mat4 inverseProjectionMatrix;varying vec3 vWorldPos;vec3 unproject(vec4 pos){vec4 v=cameraMatrix*inverseProjectionMatrix*pos;return vec3(v.xyz/v.w);}void trimSegment(const in vec4 start,inout vec4 end){float a=projectionMatrix[2][2];float b=projectionMatrix[3][2];float nearEstimate=-0.5*b/a;float alpha=(nearEstimate-start.z)/(end.z-start.z);end.xyz=mix(start.xyz,end.xyz,alpha);}void main(){\n#ifdef USE_COLOR\nvColor.xyz=(position.y<0.5)?instanceColorStart:instanceColorEnd;\n#endif\n#ifdef USE_DASH\nvLineDistance=(position.y<0.5)?dashScale*instanceDistanceStart:dashScale*instanceDistanceEnd;\n#endif\nfloat aspect=resolution.x/resolution.y;vUv=uv;vec4 start=modelViewMatrix*vec4(instanceStart,1.);vec4 end=modelViewMatrix*vec4(instanceEnd,1.);bool perspective=(projectionMatrix[2][3]==-1.);if(perspective){if(start.z<0.&&end.z>=0.){trimSegment(start,end);}else if(end.z<0.&&start.z>=0.){trimSegment(end,start);}}vec4 clipStart=projectionMatrix*start;vec4 clipEnd=projectionMatrix*end;vec2 ndcStart=clipStart.xy/clipStart.w;vec2 ndcEnd=clipEnd.xy/clipEnd.w;vec2 dir=ndcEnd-ndcStart;dir.x*=aspect;dir=normalize(dir);vec2 offset=vec2(dir.y,-dir.x);dir.x/=aspect;offset.x/=aspect;if(position.x<0.)offset*=-1.;offset*=linewidth;offset/=resolution.y;vec4 clip=(position.y<0.5)?clipStart:clipEnd;\n#ifdef USE_MASK\noffset*=(clipEnd.w+clipStart.w)*0.5;\n#else\noffset*=clip.w;\n#endif\nclip.xy+=offset;gl_Position=clip;vWorldPos=unproject(gl_Position);\n#include <worldpos_vertex>\n}"},47107:e=>{e.exports="precision highp float;uniform vec3 color;uniform float antialiasWidth;uniform float lineWidth;uniform float dashed;uniform float dashSize;uniform float gapSize;uniform float globalOpacity;uniform float transitionType;uniform float transitionProgress;varying float vDistanceFromAxis;varying float vDistanceAlong;varying float vDistanceAlongPct;varying float vOpacity;\n#if defined(FADE_DISTANCE_FROM_CAMERA) || defined(FADE_DEPTH)\nvarying vec3 vWorldPos;\n#endif\n#ifdef FADE_DEPTH\nuniform vec2 screenSize;uniform float pixelRatio;uniform sampler2D depthTex;uniform float fadeMaxDepth;float sample_depth(){vec2 frameBufferSize=screenSize*pixelRatio;vec2 screenUv=gl_FragCoord.xy/frameBufferSize;vec2 onePx=1./frameBufferSize;float nearestDepth=texture2D(depthTex,screenUv).r*fadeMaxDepth;return nearestDepth;}float calcDepthFadeOpacity(float currDepth){float nearestDepth=sample_depth();float behindDepth=max(currDepth-nearestDepth,0.);float depthFadeStartDist=FADE_DEPTH;float depthFadeEndDist=FADE_DEPTH+FADE_WIDTH;float depthFadeT=clamp((behindDepth-depthFadeStartDist)/(depthFadeEndDist-depthFadeStartDist),0.,1.);float depthFadeOpacity=1.-mix(0.,1.,depthFadeT);return depthFadeOpacity;}\n#endif\nvoid main(){float halfWidth=lineWidth*0.5;float antialiasing=1.-smoothstep(halfWidth,halfWidth+antialiasWidth,vDistanceFromAxis);float dashOpacity=1.;float cameraDistanceFadeOpacity=1.;\n#if defined(FADE_DISTANCE_FROM_CAMERA) || defined(FADE_DEPTH)\nfloat distanceFromCamera=length(cameraPosition-vWorldPos);\n#endif\nfloat transitionOpacity=1.;if(dashed>0.){\n#ifdef WORLDSPACE_DASH\nfloat dashAA=fwidth(vDistanceAlong)*antialiasWidth*0.5;\n#else\nfloat dashAA=antialiasWidth*0.5;\n#endif\nfloat dashT=mod(vDistanceAlong,dashSize+gapSize);dashOpacity=smoothstep(0.,dashAA,dashT)*(1.-smoothstep(dashSize-dashAA,dashSize,dashT));}if(abs(transitionType)>0.){float progress=transitionProgress;float fadeWidth=0.3;float minOffset=0.;float maxOffset=fadeWidth;if(transitionType<0.){progress=1.-progress;minOffset=-fadeWidth;maxOffset=0.;}transitionOpacity=1.-smoothstep(progress+minOffset,progress+maxOffset,vDistanceAlongPct);}\n#ifdef FADE_DISTANCE_FROM_CAMERA\nfloat fadeStartDist=FADE_DISTANCE_FROM_CAMERA-1.;float fadeEndFist=FADE_DISTANCE_FROM_CAMERA+1.;float fadeT=clamp((distanceFromCamera-fadeStartDist)/(fadeEndFist-fadeStartDist),0.,1.);cameraDistanceFadeOpacity=1.-mix(0.,1.,fadeT);\n#endif\nfloat depthFadeOpacity=1.;\n#ifdef FADE_DEPTH\ndepthFadeOpacity=calcDepthFadeOpacity(distanceFromCamera);\n#endif\nfloat fadeAlongOpacity=1.;\n#ifdef FADE_START_ALONG_PCT\nfadeAlongOpacity=1.-smoothstep(FADE_START_ALONG_PCT,1.,vDistanceAlongPct);\n#endif\ngl_FragColor=linearToOutputTexel(vec4(color,globalOpacity*dashOpacity*antialiasing*vOpacity*cameraDistanceFadeOpacity*depthFadeOpacity*transitionOpacity*fadeAlongOpacity));}"},88705:e=>{e.exports="precision highp float;uniform vec2 screenSize;vec2 rotate90(vec2 v){return vec2(-v.y,v.x);}vec2 ndcToScreen(vec4 pt){return(vec2(pt.x,pt.y)+vec2(1.,1.))*screenSize/2.;}vec2 screenToNdc(vec2 pt){return(pt*2./screenSize)-vec2(1.,1.);}uniform float lineWidth;uniform float antialiasWidth;uniform vec3 translationOffset;attribute float offsetDirection;attribute vec3 start;attribute vec3 end;attribute float t;attribute float opacity;varying float vDistanceFromAxis;varying float vDistanceAlong;varying float vDistanceAlongPct;varying float vOpacity;\n#if defined(FADE_DISTANCE_FROM_CAMERA) || defined(FADE_DEPTH)\nvarying vec3 vWorldPos;\n#endif\nvoid main(){vOpacity=opacity;vec3 offsetStart=start+translationOffset;vec3 offsetEnd=end+translationOffset;vec4 startNdc=projectionMatrix*modelViewMatrix*vec4(offsetStart,1.);vec4 endNdc=projectionMatrix*modelViewMatrix*vec4(offsetEnd,1.);vec2 startScreen=ndcToScreen(startNdc/startNdc.w);vec2 endScreen=ndcToScreen(endNdc/endNdc.w);float halfWidth=lineWidth*0.5+antialiasWidth;vec2 directionScreen=endScreen-startScreen;vec2 widthOffsetScreen=rotate90(normalize(directionScreen))*offsetDirection*halfWidth;vec2 centerlinePos=startScreen+directionScreen*t;vec2 position=centerlinePos+widthOffsetScreen*1.3;\n#if defined(FADE_DISTANCE_FROM_CAMERA) || defined(FADE_DEPTH)\nvec3 worldPos=offsetStart+(offsetEnd-offsetStart)*t;vWorldPos=worldPos;\n#endif\nvDistanceFromAxis=length(widthOffsetScreen);float clippedT=length(centerlinePos-startScreen)/length(directionScreen);\n#ifdef WORLDSPACE_DASH\nvDistanceAlong=length((offsetEnd-offsetStart)*clippedT);\n#else\nvDistanceAlong=length(directionScreen*clippedT);\n#endif\nvDistanceAlongPct=clamp(clippedT,0.,1.);float z=mix(startNdc.z,endNdc.z,clippedT);float w=mix(startNdc.w,endNdc.w,clippedT);vec2 posNdc=screenToNdc(position);gl_Position=vec4(posNdc*w,z,w);}"},94857:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}\n#ifdef INSTANCED\nvarying float alpha;varying vec3 color;\n#else\nuniform float alpha;uniform vec3 color;\n#endif\nuniform sampler2D bg;uniform sampler2D mask;varying vec2 vUv;varying vec4 vMaskRect;varying float vStrokeWidth;varying vec3 vWorldPos;\n#ifdef FADE_DEPTH\nuniform vec2 screenSize;uniform float pixelRatio;uniform sampler2D depthTex;uniform float fadeMaxDepth;float sample_depth(){vec2 frameBufferSize=screenSize*pixelRatio;vec2 screenUv=gl_FragCoord.xy/frameBufferSize;vec2 onePx=1./frameBufferSize;float nearestDepth=texture2D(depthTex,screenUv).r*fadeMaxDepth;return nearestDepth;}float calcDepthFadeOpacity(float currDepth){float nearestDepth=sample_depth();float behindDepth=max(currDepth-nearestDepth,0.);float depthFadeStartDist=FADE_DEPTH;float depthFadeEndDist=FADE_DEPTH+FADE_WIDTH;float depthFadeT=clamp((behindDepth-depthFadeStartDist)/(depthFadeEndDist-depthFadeStartDist),0.,1.);float depthFadeOpacity=1.-mix(0.,1.,depthFadeT);return depthFadeOpacity;}\n#endif\nfloat ring(vec2 pos,float radius,float thick){return mix(1.,0.,smoothstep(thick,thick+(thick*0.5),abs(length(vUv-pos)-radius)));}vec4 crop(vec4 texColor,vec2 xy,float size){texColor*=step(size,1.-xy.x);texColor*=step(size,xy.x);texColor*=step(size,1.-xy.y);texColor*=step(size,xy.y);return texColor;}vec2 center=vec2(0.5,0.5);void main(){vec4 bgColor=texture2D(bg,vUv);float depthFadeOpacity=1.;\n#ifdef FADE_DEPTH\nfloat distanceFromCamera=length(cameraPosition-vWorldPos);depthFadeOpacity=calcDepthFadeOpacity(distanceFromCamera);\n#endif\nfloat finalOpacity=bgColor.a*alpha*depthFadeOpacity;if(finalOpacity<0.1){discard;}float iconScale=1.75;vec2 maskUV=mix(vMaskRect.xy,vMaskRect.zw,(vUv-0.5)*iconScale+0.5);vec4 maskColor=texture2D(mask,maskUV);maskColor.rgb=vec3(1.);float padding=0.22;maskColor=crop(maskColor,vUv,padding);vec3 mappedColor=mix(color,maskColor.rgb,maskColor.a);const vec3 frameColor=vec3(1.,1.,1.);float frame=ring(center,0.5,vStrokeWidth);mappedColor=mix(mappedColor,frameColor,frame);gl_FragColor=linearToOutputTexel(vec4(mappedColor,finalOpacity));}"},59039:e=>{e.exports="precision highp float;precision highp int;attribute vec4 instanceMaskRect;attribute float instanceStrokeWidth;varying vec2 vUv;varying vec4 vMaskRect;varying float vStrokeWidth;varying vec3 vWorldPos;\n#ifdef INSTANCED\nattribute float instanceAlpha;varying float alpha;varying vec3 color;\n#endif\nvoid main(){vUv=uv;vMaskRect=instanceMaskRect;vStrokeWidth=instanceStrokeWidth;\n#ifdef INSTANCED\nalpha=instanceAlpha;color=instanceColor;vWorldPos=(modelMatrix*instanceMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*instanceMatrix*vec4(position,1.);\n#else\nvWorldPos=(modelMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n#endif\n}"},45550:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform float haloWidth;uniform float strokeWidth;uniform sampler2D mask;uniform vec4 maskRect;varying vec2 vUv;float ring(float startR,float endR){float dist=length(vUv)/2.;float aa=fwidth(dist)*0.5;return min(smoothstep(startR-aa,startR+aa,dist),smoothstep(endR+aa,endR-aa,dist));}void main(){float alpha=ring(0.,0.5)*0.1;float iconScale=1.75;vec2 maskUV=mix(maskRect.xy,maskRect.zw,vUv/2.*iconScale+0.5);maskUV=clamp(maskUV,maskRect.xy,maskRect.zw);alpha=max(alpha,texture2D(mask,maskUV).a*0.5);alpha=max(alpha,ring(0.5-strokeWidth,0.5)*0.5);alpha=max(alpha,ring(0.5,0.5+haloWidth)*0.3);gl_FragColor=linearToOutputTexel(vec4(1.,1.,1.,alpha));}"},98840:e=>{e.exports="precision highp float;precision highp int;uniform float haloWidth;varying vec2 vUv;void main(){float scale=1.+2.*haloWidth;vUv=((uv*2.)-1.)*scale;gl_Position=projectionMatrix*modelViewMatrix*vec4(position*scale,1.);gl_Position.z*=1.00001;}"},2834:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvarying vec3 vWorldPos;\n#ifdef FADE_DEPTH\nuniform vec2 screenSize;uniform float pixelRatio;uniform sampler2D depthTex;uniform float fadeMaxDepth;float sample_depth(){vec2 frameBufferSize=screenSize*pixelRatio;vec2 screenUv=gl_FragCoord.xy/frameBufferSize;vec2 onePx=1./frameBufferSize;float nearestDepth=texture2D(depthTex,screenUv).r*fadeMaxDepth;return nearestDepth;}float calcDepthFadeOpacity(float currDepth){float nearestDepth=sample_depth();float behindDepth=max(currDepth-nearestDepth,0.);float depthFadeStartDist=FADE_DEPTH;float depthFadeEndDist=FADE_DEPTH+FADE_WIDTH;float depthFadeT=clamp((behindDepth-depthFadeStartDist)/(depthFadeEndDist-depthFadeStartDist),0.,1.);float depthFadeOpacity=1.-mix(0.,1.,depthFadeT);return depthFadeOpacity;}\n#endif\nvoid main(){float depthFadeOpacity=1.;\n#ifdef FADE_DEPTH\nfloat distanceFromCamera=length(cameraPosition-vWorldPos);depthFadeOpacity=calcDepthFadeOpacity(distanceFromCamera);\n#endif\ngl_FragColor=linearToOutputTexel(vec4(1.,1.,1.,alpha*depthFadeOpacity));}"},65388:e=>{e.exports="precision highp float;precision highp int;uniform vec2 resolution;\n#ifdef INSTANCED\nattribute vec3 stemVector;attribute vec4 pinHeadMatrixCol0;attribute vec4 pinHeadMatrixCol1;attribute vec4 pinHeadMatrixCol2;attribute vec4 pinHeadMatrixCol3;attribute float instanceAlpha;varying float alpha;\n#else\nuniform mat4 pinHeadMatrix;\n#endif\n#define PI  3.1415926538\nuniform mat4 cameraMatrix;uniform mat4 inverseProjectionMatrix;varying vec3 vWorldPos;vec3 unproject(vec4 pos){vec4 v=cameraMatrix*inverseProjectionMatrix*pos;return vec3(v.xyz/v.w);}void main(){\n#ifdef INSTANCED\nvec3 pos=position*stemVector;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix*instanceMatrix;mat4 pinHeadMatrix=mat4(pinHeadMatrixCol0,pinHeadMatrixCol1,pinHeadMatrixCol2,pinHeadMatrixCol3);alpha=instanceAlpha;\n#else\nvec3 pos=position;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix;\n#endif\nvec3 fromOrigin=(vec3(0.,0.,0.)-pos);if(length(fromOrigin)<1e-6){gl_Position=modelViewProjMatrix*vec4(pos,1.);}else{mat4 noteViewProj=projectionMatrix*viewMatrix*pinHeadMatrix;vec4 noteNDC=noteViewProj*vec4(0.,0.,0.,1.);noteNDC.xyz/=abs(noteNDC.w);vec4 discEdgeNDC=noteViewProj*vec4(0.5,0.,0.,1.);discEdgeNDC.xyz/=abs(discEdgeNDC.w);float noteSizeNDC=length(discEdgeNDC.xy-noteNDC.xy);vec4 anchorNDC=modelViewProjMatrix*vec4(0.,0.,0.,1.);anchorNDC.xyz/=abs(anchorNDC.w);vec4 vectorNDC=modelViewProjMatrix*vec4(pos,1.);vectorNDC.xyz/=abs(vectorNDC.w);vectorNDC-=anchorNDC;float lineLengthNDC=length(vectorNDC.xy);float vertDot=abs(dot(normalize(vectorNDC.xy),vec2(0,1)));float angle=acos(vertDot)/(PI/2.);float aspect=mix(resolution.x/resolution.y,1.,angle);vec2 vector2d=normalize(vectorNDC.xy)*max(lineLengthNDC-noteSizeNDC*aspect,0.);vectorNDC.xy=vector2d.xy;vectorNDC+=anchorNDC;gl_Position=vec4(vectorNDC.xyz,1.);}vWorldPos=unproject(gl_Position);}"},74869:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}varying vec2 vUv;uniform sampler2D tDiffuse;\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){vec4 texColor=texture2D(tDiffuse,vUv);gl_FragColor=linearToOutputTexel(vec4(texColor.rgb,texColor.a*alpha));}"},8203:e=>{e.exports="precision highp float;precision highp int;\n#ifdef INSTANCED\nattribute float instanceAlpha;varying float alpha;\n#endif\nvarying vec2 vUv;varying vec3 vWorldPos;void main(){vUv=uv;\n#ifdef INSTANCED\nmat4 mvp=projectionMatrix*modelViewMatrix*instanceMatrix;alpha=instanceAlpha;\n#else\nmat4 mvp=projectionMatrix*modelViewMatrix;\n#endif\ngl_Position=mvp*vec4(position,1.);vWorldPos=(modelMatrix*vec4(position,1.)).xyz;}"},67422:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform vec3 color;uniform float opacity;void main(){gl_FragColor=linearToOutputTexel(vec4(color,opacity));}"},87208:e=>{e.exports="precision highp float;precision highp int;void main(){gl_Position=vec4(position,1.);}"},44664:e=>{e.exports="precision highp float;precision highp int;varying vec3 pos;uniform float radius;uniform float innerRadius;uniform float centerRadius;uniform float opacity;uniform vec3 angleColor;uniform float minA;uniform float minB;uniform float maxA;uniform float maxB;const float PI=3.141592653589793;void main(){float d=length(pos);if(d>radius||(d<innerRadius&&d>centerRadius)){discard;}float ang=atan(pos.z,pos.x);vec3 color=angleColor;if((d<centerRadius)||(ang>minA&&ang<maxA)||(ang>minB&&ang<maxB)){discard;}gl_FragColor=linearToOutputTexel(vec4(color,opacity));}"},96626:e=>{e.exports="precision highp float;precision highp int;varying vec3 pos;void main(){pos=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},71285:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform float opacity;uniform vec3 tint;uniform float discRadius;uniform vec3 discNormal;uniform mat4 projectionMatrix;uniform mat4 viewMatrixInverse;uniform mat4 projectionMatrixInverse;varying vec3 vFragWorldPos;varying vec3 vCenterWorldPos;\n#ifdef USE_TEXTURE\nuniform sampler2D texImg;\n#else\nuniform vec2 ringRadii[RING_COUNT];uniform vec4 ringColors[RING_COUNT];\n#endif\nfloat rayDistToPlane(vec3 rayOrigin,vec3 rayDir,vec3 planeOrigin,vec3 planeNormal){float planeConstant=-dot(planeOrigin,planeNormal);float denom=dot(planeNormal,rayDir);return denom==0.?-1e9:-(dot(rayOrigin,planeNormal)+planeConstant)/denom;}vec4 getColorAtRay(vec3 rayOrigin,vec3 rayDir){vec4 color=vec4(0.);float intersectDist=rayDistToPlane(rayOrigin,rayDir,vCenterWorldPos,discNormal);vec3 intersect=rayOrigin+rayDir*intersectDist;\n#ifdef USE_TEXTURE\nif(intersectDist>0.){vec3 cameraDir=normalize((viewMatrixInverse*vec4(0.,0.,-1.,0.)).xyz);vec3 stableDir=abs(dot(cameraDir,discNormal))>0.8?normalize(cameraDir*vec3(1.,0.,1.))*sign(discNormal.y):(viewMatrixInverse*vec4(0.,1.,0.,0.)).xyz;vec3 xAxis=normalize(cross(stableDir,discNormal));vec3 yAxis=normalize(cross(discNormal,xAxis));intersect-=vCenterWorldPos;vec2 uv=vec2(dot(xAxis,intersect),dot(yAxis,intersect))/discRadius/2.+0.5;if(clamp(uv,vec2(0.),vec2(1.))==uv){color=texture2D(texImg,uv);}}\n#else\nfloat fragRadius=intersectDist>0.?distance(intersect,vCenterWorldPos):1e9;if(fragRadius<=discRadius*2.){for(int i=0;i<RING_COUNT;i++){vec2 radii=ringRadii[i]*discRadius;vec4 ringColor=ringColors[i];float ringDist=min(fragRadius-radii[0],radii[1]-fragRadius);\n#if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\nfloat delta=length(vec2(dFdx(fragRadius),dFdy(fragRadius)))*0.70710678;ringColor.a*=smoothstep(-delta,delta,ringDist);\n#else\nringColor.a*=step(0.,ringDist);\n#endif\nfloat finalAlpha=color.a+ringColor.a*(1.-color.a);color=finalAlpha>0.?vec4((color.rgb*color.a+ringColor.rgb*ringColor.a*(1.-color.a))/finalAlpha,finalAlpha):color;}}\n#endif\ncolor.rgb*=tint;if(dot(rayDir,discNormal)>=0.){color.a=0.;}return color;}void main(){vec4 fragNDC=projectionMatrix*viewMatrix*vec4(vFragWorldPos,1.);vec4 nearWorldPos=viewMatrixInverse*projectionMatrixInverse*vec4(fragNDC.xy,-1.,1.);nearWorldPos/=nearWorldPos.w;gl_FragColor=linearToOutputTexel(getColorAtRay(nearWorldPos.xyz,normalize(vFragWorldPos-nearWorldPos.xyz)));gl_FragColor.a*=opacity;if(gl_FragColor.a==0.){discard;}}"},99691:e=>{e.exports="precision highp float;precision highp int;varying vec3 vCenterWorldPos;varying vec3 vFragWorldPos;void main(){vCenterWorldPos=(modelMatrix*vec4(0.,0.,0.,1.)).xyz;vFragWorldPos=(modelMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},27024:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform float opacity;\n#ifdef FADE_DEPTH\nvarying float vDepthFadeOpacity;\n#endif\nvarying vec3 vColor;void main(){float finalOpacity=opacity;\n#ifdef FADE_DEPTH\nfinalOpacity=min(finalOpacity,vDepthFadeOpacity);\n#endif\nvec3 finalColor=vColor;gl_FragColor=linearToOutputTexel(vec4(finalColor,finalOpacity));}"},28058:e=>{e.exports="precision highp float;precision highp int;\n#ifdef FADE_DEPTH\nvarying float vDepthFadeOpacity;\n#endif\n#ifdef FADE_DEPTH\nuniform sampler2D depthTex;uniform float fadeMaxDepth;uniform vec3 anchorPos;float sample_depth(){const float sampleScale=0.5;const vec3 sampleVertices[5]=vec3[5](vec3(0.,0.,0.),vec3(-0.5,-0.5,0.),vec3(-0.5,0.5,0.),vec3(0.5,0.5,0.),vec3(0.5,-0.5,0.));float avgDepth=0.;for(int i=0;i<5;i++){vec4 anchorNDC=projectionMatrix*modelViewMatrix*vec4(sampleVertices[i]*sampleScale,1.);vec2 screenUv=(anchorNDC.xy/anchorNDC.w+vec2(1.,1.))/2.;float nearestDepth=texture2D(depthTex,screenUv).r*fadeMaxDepth;avgDepth+=nearestDepth;}avgDepth/=5.;return avgDepth;}float calcDepthFadeOpacity(float currDepth){float nearestDepth=sample_depth();float behindDepth=max(currDepth-nearestDepth,0.);float depthFadeStartDist=FADE_DEPTH;float depthFadeEndDist=FADE_DEPTH+FADE_WIDTH;float depthFadeT=clamp((behindDepth-depthFadeStartDist)/(depthFadeEndDist-depthFadeStartDist),0.,1.);float depthFadeOpacity=1.-mix(0.,1.,depthFadeT);return depthFadeOpacity;}float calcDepthFadeOpacityVertex(){float currDepth=length(cameraPosition-anchorPos);return calcDepthFadeOpacity(currDepth);}\n#endif\nuniform vec3 diffuse;varying vec3 vColor;void main(){\n#ifdef FADE_DEPTH\nvDepthFadeOpacity=calcDepthFadeOpacityVertex();\n#endif\nvColor=diffuse;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n#ifdef FADE_DEPTH\nif(vDepthFadeOpacity<0.1){gl_Position=vec4(-100.);}\n#endif\n}"},10086:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjE0MiIgdmlld0JveD0iMCAwIDE0MiAxNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik04MiA4Mi41MDAxQzg1LjMzMzMgODIuMTY2NyA5Mi4zIDgyLjgwMDEgOTMuNSA4OC4wMDAxTTYwLjUgODIuMDczM0M1Ny4xNjY3IDgxLjc0IDUwLjIgODIuMzczMyA0OSA4Ny41NzMzTTM0Ljc2NjggNjcuMzI3NUMzNC43NjY4IDY3LjMyNzUgMzQuNzczIDY0LjgwOTQgMzcuMjg5IDY0LjgxNTZDMzkuODA5MSA2NC44MjM4IDM5LjgwMDkgNjcuMzQxOSAzOS44MDA5IDY3LjM0MTlMMzkuNzYxOCA3OS4wMjU3QzQwLjE2MjcgNzguODQwNyA0MC41ODIgNzguNjc0MiA0MS4wMjE5IDc4LjUzMDNMNDEuMDczMyA2Mi4zMTRDNDEuMDczMyA2Mi4zMTQgNDEuMDgxNSA1OS43OTYgNDMuNTk1NCA1OS44MDQyQzQ2LjExMTQgNTkuODEwMyA0Ni4xMDUzIDYyLjMzMDUgNDYuMTA1MyA2Mi4zMzA1TDQ2LjA2MjEgNzcuNTgyN0M0Ni40NzEyIDc3LjU0NTcgNDYuODkyNSA3Ny41MTY5IDQ3LjMxNiA3Ny40OTYzTDQ3LjM3MzUgNTkuODE0NUM0Ny4zNzM1IDU5LjgxNDUgNDcuMzc5NyA1Ny4yOTY0IDQ5Ljg5NzggNTcuMzA2N0M1Mi40MTU4IDU3LjMxNDkgNTIuNDA1NSA1OS44MzI5IDUyLjQwNTUgNTkuODMyOUw1Mi4zNDggNzcuNTEwN0M1Mi43Nzk3IDc3LjUzNTQgNTMuMTk0OSA3Ny41Nzg2IDUzLjYxMDEgNzcuNjE3Nkw1My42NjE1IDYxLjA5M0M1My42NjE1IDYxLjA5MyA1My42Njk3IDU4LjU3NDkgNTYuMTgzNyA1OC41ODUyQzU4LjY5OTcgNTguNTkxNCA1OC42ODk0IDYxLjEwNzQgNTguNjg5NCA2MS4xMDc0TDU4LjY0IDc4LjU4MTdMNTguNjMzOSA3OS45ODE1VjgxLjIzNzRMNTkuODg3OCA4Mi41MDM3TDYzLjU4OTggNzMuODk1QzYzLjU4OTggNzMuODk1IDY0LjQwMTggNzEuNTEyNiA2Ni43ODgzIDcyLjMyODdDNjkuMTY4NiA3My4xMzQ0IDY4LjM2MDggNzUuNTIxIDY4LjM2MDggNzUuNTIxTDY2LjUyNTIgODEuOTAzNUM2NS43OTc1IDg0LjQ0IDY1LjExNzEgODYuOTkzIDY0Ljc1OTQgODkuNTk5NEM2My43MzU4IDk2Ljk2NjYgNTcuMzk4NSAxMDIuNjMyIDQ5Ljc1NTkgMTAyLjYxMUM0MS40MjA3IDEwMi41NzYgMzQuNjc4NCA5NS43OTY5IDM0LjcwNTIgODcuNDYxN0MzNC43MDYgODcuMjc4NyAzNC43MDkzIDg2LjE5OTYgMzQuNzA5MyA4Ni4xOTk2TDM0Ljc2NjggNjcuMzI3NVpNMTA3LjIxMyA2Ny4zMjc1QzEwNy4yMTMgNjcuMzI3NSAxMDcuMjA3IDY0LjgwOTQgMTA0LjY5MSA2NC44MTU2QzEwMi4xNzEgNjQuODIzOCAxMDIuMTc3IDY3LjM0MTkgMTAyLjE3NyA2Ny4zNDE5TDEwMi4yMTYgNzkuMDI1N0MxMDEuODE3IDc4Ljg0MDcgMTAxLjM5NiA3OC42NzQyIDEwMC45NTggNzguNTMwM0wxMDAuOTA2IDYyLjMxNEMxMDAuOTA2IDYyLjMxNCAxMDAuODk4IDU5Ljc5NiA5OC4zODQyIDU5LjgwNDJDOTUuODY2MSA1OS44MTAzIDk1Ljg3MjMgNjIuMzMwNSA5NS44NzIzIDYyLjMzMDVMOTUuOTE3NSA3Ny41ODI3Qzk1LjUxMDUgNzcuNTQ1NyA5NS4wODkxIDc3LjUxNjkgOTQuNjYzNiA3Ny40OTYzTDk0LjYwODIgNTkuODE0NUM5NC42MDgyIDU5LjgxNDUgOTQuNTk5OSA1Ny4yOTY0IDkyLjA4MTkgNTcuMzA2N0M4OS41NjM4IDU3LjMxNDkgODkuNTc0MSA1OS44MzI5IDg5LjU3NDEgNTkuODMyOUw4OS42MzE2IDc3LjUxMDdDODkuMiA3Ny41MzU0IDg4Ljc4NDggNzcuNTc4NiA4OC4zNjk1IDc3LjYxNzZMODguMzE4MSA2MS4wOTNDODguMzE4MSA2MS4wOTMgODguMzA3OSA1OC41NzQ5IDg1Ljc5MzkgNTguNTg1MkM4My4yNzc5IDU4LjU5MTQgODMuMjg4MiA2MS4xMDc0IDgzLjI4ODIgNjEuMTA3NEw4My4zMzc1IDc4LjU4MTdMODMuMzQzNyA3OS45ODE1VjgxLjIzNzRMODIuMDkxOSA4Mi41MDM3TDc4LjM4OTggNzMuODk1Qzc4LjM4OTggNzMuODk1IDc3LjU3OTkgNzEuNTEyNiA3NS4xOTE0IDcyLjMyODdDNzIuODEzMSA3My4xMzQ0IDczLjYxODkgNzUuNTIxIDczLjYxODkgNzUuNTIxTDc1LjQ1NDUgODEuOTAzNUM3Ni4xODIxIDg0LjQ0IDc2Ljg2MjUgODYuOTkzIDc3LjIyMDIgODkuNTk5NEM3OC4yNDM5IDk2Ljk2NjYgODQuNTc5MSAxMDIuNjMyIDkyLjIyMzcgMTAyLjYxMUMxMDAuNTU5IDEwMi41NzYgMTA3LjMwMyA5NS43OTY5IDEwNy4yNzQgODcuNDYxN0MxMDcuMjc0IDg3LjI3ODcgMTA3LjI3IDg2LjE5OTYgMTA3LjI3IDg2LjE5OTZMMTA3LjIxMyA2Ny4zMjc1WiIgc3Ryb2tlPSIjMjIyMjIyIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTgyLjM4OTkgNTYuMjc0OEM4MS45NTIxIDU2LjI3NDggODEuNTA4MSA1Ni4xMzUgODEuMTM2IDU1Ljg0NzJDODAuMjM1NyA1NS4xNTI0IDgwLjA3MTMgNTMuODYxNiA4MC43NjYgNTIuOTYzM0w4Ni44ODk1IDQ1LjAzOTFDODcuNTc4MSA0NC4xNDI5IDg4Ljg3MzEgNDMuOTcwMiA4OS43NzE0IDQ0LjY2OTFDOTAuNjcxOCA0NS4zNjM5IDkwLjgzNjIgNDYuNjU0OCA5MC4xNDE0IDQ3LjU1MzFMODQuMDE3OSA1NS40NzcyQzgzLjYxNSA1Ni4wMDE0IDgzLjAwNjYgNTYuMjc0OCA4Mi4zODk5IDU2LjI3NDhaTTU5LjczNzcgNTYuMjc0OEM1OS4xMjMxIDU2LjI3NDggNTguNTE0NyA1NS45OTkzIDU4LjEwOTcgNTUuNDc1Mkw1MS45ODYyIDQ3LjU1MzFDNTEuMjkzNSA0Ni42NTQ4IDUxLjQ2IDQ1LjM2MzkgNTIuMzU4MyA0NC42NjkxQzUzLjI1NjUgNDMuOTc2NCA1NC41NDU0IDQ0LjE0MDggNTUuMjQyMiA0NS4wMzkxTDYxLjM2NTcgNTIuOTYzM0M2Mi4wNTg0IDUzLjg2MTYgNjEuODk0IDU1LjE1MjQgNjAuOTk1NyA1NS44NDcyQzYwLjYxOTUgNTYuMTM3MSA2MC4xNzc2IDU2LjI3NDggNTkuNzM3NyA1Ni4yNzQ4Wk03MS4wMDAxIDUyLjMzMzNDNjkuODY1NCA1Mi4zMzMzIDY4Ljk0NDUgNTEuNDEyNCA2OC45NDQ1IDUwLjI3NzhWNDIuMDU1NkM2OC45NDQ1IDQwLjkyMDkgNjkuODY1NCA0MCA3MS4wMDAxIDQwQzcyLjEzNjggNDAgNzMuMDU1NiA0MC45MjA5IDczLjA1NTYgNDIuMDU1NlY1MC4yNzc4QzczLjA1NTYgNTEuNDEyNCA3Mi4xMzY4IDUyLjMzMzMgNzEuMDAwMSA1Mi4zMzMzWiIgZmlsbD0iIzIyMjIyMiIvPgo8L3N2Zz4K"},28659:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMTI3Ljk4MzI1bW0iCiAgIGhlaWdodD0iMTI1Ljg3MDg0bW0iCiAgIHZpZXdCb3g9IjAgMCAxMjcuOTgzMjUgMTI1Ljg3MDg0IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczOSIKICAgc29kaXBvZGk6ZG9jbmFtZT0icm90YXRlLXBob25lLWZhbGxiYWNrLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4xLjIgKGI4ZTI1YmU4LCAyMDIyLTAyLTA1KSIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9Im5hbWVkdmlldzQxIgogICAgIHBhZ2Vjb2xvcj0iIzUwNTA1MCIKICAgICBib3JkZXJjb2xvcj0iI2VlZWVlZSIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMCIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMC4zMTUxMjI4MSIKICAgICBpbmtzY2FwZTpjeD0iMTc5LjI5NTE4IgogICAgIGlua3NjYXBlOmN5PSI4MDcuNjIxNjMiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxODY0IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEzODciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI1IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMzNiIgLz4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNC4yOTI2NzM1LC00LjM5MzAzMTgpIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDowLjI2NDU4MyIKICAgICAgIGQ9Im0gNzIuODIwNTc2LDEyOC4yOTE4IGMgMTEuNzczNzksLTEuMDg5ODggMjEuODgzMTQsLTIuMDUzIDIyLjQ2NTIyLC0yLjE0MDI4IDIuNzI3MzIsLTAuNDA4OTEgNS41ODUwNTQsLTIuNDkxMTIgNi45MzU4NDQsLTUuMDUzNjIgMS42NTQ0MiwtMy4xMzg1MyAxLjkwMTYxLDAuOTY5MTcgLTMuMzYyNTI0LC01NS44NzY4NCAtMi42MjI4MSwtMjguMzIzMTM0IC00Ljg4OTU0LC01Mi4wODEwODggLTUuMDM3MTYsLTUyLjc5NTQ1MyAtMC40MjQwNiwtMi4wNTIwNjEgLTEuMTc3NjcsLTMuNDgzMTc4IC0yLjY1ODk4LC01LjA0OTQ0MyAtMS44Nzk1OCwtMS45ODczNzMgLTMuNzI1MjUsLTIuODM4OTAyIC02LjQ2MDUxLC0yLjk4MDY1NSAtMi4xODE4MiwtMC4xMTMwNyAtNDQuMzU4MzA4LDMuNjc5NjUyIC00Ni42ODc4ODgsNC4xOTg0MTMgLTMuNjY2OSwwLjgxNjU1NCAtNi42MTY4MSw0LjAxNTg5MyAtNy40Mjk1LDguMDU3NjkyIC0wLjI4NjMsMS40MjM4NzEgMC4xMzMwOSw2LjQwNzcwMiA0LjQ4NDkzLDUzLjI5Njc4NiAyLjc3MDM3LDI5Ljg0OTQ4IDQuOTYzNzUsNTIuMjg1NTUgNS4xODYxNCw1My4wNDg5NiAxLjI2OTk5LDQuMzU5NzEgNS4wMDQzNCw3LjI0MjM3IDkuNDEzMzksNy4yNjY0OSAwLjk1OTI4LDAuMDA1IDExLjM3NzI0OCwtMC44ODIxNyAyMy4xNTEwMzgsLTEuOTcyMDUgeiBtIC0yMy43MDQ1NjgsLTAuOTYwNTMgYyAtMC44MDAzNywtMC4wOTQgLTEuNzY5NCwtMC4yOTU5NSAtMi4xNTM0MiwtMC40NDg3NiAtMS42NjUxMiwtMC42NjI1OCAtMy42ODM1LC0zLjEzNTk2IC00LjAzNDA3LC00Ljk0MzQ4IC0wLjA4NDcsLTAuNDM2NTcgLTIuMzA2NDgsLTI0LjA0NCAtNC45MzczNywtNTIuNDYwOTcgLTQuNjUxMjQsLTUwLjIzOTQwNiAtNC43NzIwNCwtNTEuNzA2MzkzIC00LjM3MTI4LC01My4wODQ5NTcgMC41MzgyMSwtMS44NTEzOTUgMi4zMTU1MywtMy44NTE5NDQgNC4xMDY2NywtNC42MjI0NzIgMS4xNTI0MiwtMC40OTU3NTggNC4xNTk3MSwtMC44MzE3MSAyMi45NjAzODgsLTIuNTY0OTY5IDExLjkzMzE4LC0xLjEwMDEzNCAyMi41MzM0MiwtMS45NTc4ODIgMjMuNjM5NDMsLTEuOTEyODUgMS42ODU5NSwwLjA2ODY0IDIuMjEyNDIsMC4yMDkyMjIgMy4zMDcyOSwwLjg4MzEgMS40MjIzMSwwLjg3NTQxNiAyLjg2MzMsMi43NzY4NDQgMy4yNzEwNyw0LjMxNjI4NSAwLjM0Mzk4LDEuMjk4NTg5IDkuNTQwNDY0LDEwMS4yODQzMDMgOS41NDA0NjQsMTAzLjcyNTUwMyAwLDMuMjUwMzcgLTEuMzQxODg0LDUuMzM3MDggLTQuMjYyOTk0LDYuNjI5MjIgLTAuOTk3MjksMC40NDExNSAtNC42OTc5NiwwLjg1MTA3IC0yMi43Mzk2LDIuNTE4ODYgLTExLjg1MTY1LDEuMDk1NTggLTIxLjg0NjEwOCwyLjAyNDQ3IC0yMi4yMDk5MDgsMi4wNjQxOSAtMC4zNjM4MSwwLjAzOTcgLTEuMzE2MzEsLTAuMDA1IC0yLjExNjY3LC0wLjA5ODcgeiBtIDIzLjU0NzkxOCwtOS4xMDY2OSBjIDUuNzQ4MDcsLTAuNTE1OTQgMTAuNzE1NjUsLTEuMDQ4MDcgMTEuMDM5MDUsLTEuMTgyNTEgMC44NzI2MywtMC4zNjI3MyAxLjA2OTAxLC0xLjUwMTExIDAuMzc4MTQsLTIuMTkxOTkgbCAtMC41NTg1LC0wLjU1ODUgLTExLjkxMzY3LDEuMTAzNTIgYyAtNi41NTI1MiwwLjYwNjk0IC0xMi4xNTA4OCwxLjIzMDQ3IC0xMi40NDA4LDEuMzg1NjQgLTAuMzI5ODYsMC4xNzY1MyAtMC41MjU2MiwwLjU1MDkzIC0wLjUyMzA5LDEuMDAwNDEgMC4wMDcsMS4zMjg2NSAwLjU2NDk5LDEuNjgwNDMgMi4zNzcyLDEuNTAwMDQgMC42NTQ4NCwtMC4wNjUyIDUuODkzNTksLTAuNTQwNjYgMTEuNjQxNjcsLTEuMDU2NjEgeiBtIC04Ljc0ODQ5LC05OS4xOTMyMjIgYyAyLjg0NjU2LC0wLjI4NDQ4NyAzLjYyMzk1LC0wLjQ1MDA0NSAzLjkwMjYsLTAuODMxMTI3IDAuNDkzMywtMC42NzQ2MzIgMC40MzE5OCwtMS4yNzUwMzMgLTAuMTg3NSwtMS44MzU2NSAtMC41MDQxMywtMC40NTYyMzIgLTAuNzcxMjMsLTAuNDY1NTY5IC00LjU2NDA2LC0wLjE1OTU0NyAtMi4yMTU3MywwLjE3ODc3NCAtNC40MjIzMiwwLjM5MjkwNyAtNC45MDM1NCwwLjQ3NTg1NCAtMS41OTkzOCwwLjI3NTY3NyAtMi4xMzE1MiwyLjE5MjgxMyAtMC43NTU0MywyLjcyMTYxOCAwLjMxNDYyLDAuMTIwOSAxLjEwNzgyLDAuMTY2NzggMS43NjI2NywwLjEwMTk2IDAuNjU0ODQsLTAuMDY0OCAyLjc5MDIxLC0wLjI3NzcxOCA0Ljc0NTI2LC0wLjQ3MzEwOCB6IE0gMjcuMzI1NjQ4LDEwMC4yMjI2OSBjIDAuNTYyNDUsLTAuODU4NDEgMC4yNDY0LC0xLjkzNzk1IC0wLjcwMjcyLC0yLjQwMDMzIEMgMjYuMjYxMDQ4LDk3LjY0NjA3IDI0LjU5NTc0OCw5Ni44NDc2IDIyLjkyMjI1OCw5Ni4wNDggMTUuMDI1NDQ4LDkyLjI3NDg0IDkuODgwOTc4Miw4NS41NTcyOCA4LjIwMjc2ODIsNzYuODI3NTcgYyAtMC41MDMwOSwtMi42MTY5NyAtMC40ODYzMSwtNy44ODYwMiAwLjAzMzEsLTEwLjQwMDczIDEuMzM1MTUsLTYuNDYzODUgNC45Njk3ODk4LC0xMi4zMzI3ODUgOS45ODc4Mzk4LC0xNi4xMjc1NjUgMy42OTUyNiwtMi43OTQ0NSAzLjYwNDczLC0yLjg3NDE1IDEuNjIzNzgsMS40Mjk1MSAtMi43OTc4Nyw2LjA3ODQ4IC0zLjA2MDU4LDYuNzg0MDcgLTIuNzQ1MjUsNy4zNzMyNiAwLjU3MDI4LDEuMDY1NTg1IDIuMDA4NTMsMS4zODAzMzUgMi43MTMyMSwwLjU5Mzc1NSAwLjU1MTg1LC0wLjYxNTk4NSA3LjA3NTU0LC0xNC44MzcwMTUgNy4wNzU1NCwtMTUuNDI0MDA1IDAsLTAuMjUyMTggLTAuMjA4MzYsLTAuNzAxNzIgLTAuNDYzMDIsLTAuOTk4OTggLTAuNDc1OTcsLTAuNTU1NTY5IC0xNC43MjQ2MywtNy4xOTEwNjkgLTE1LjQ0MTY2LC03LjE5MTA2OSAtMS4yMDEwNTk4LDAgLTIuMDU4NTg5OCwyLjE2NTQzIC0xLjE1NDYyOTgsMi45MTU2NSAwLjIyMTc0OTgsMC4xODQwNCAyLjc5MTUwOTgsMS40MzQ4MiA1LjcxMDU3OTgsMi43Nzk1MSA0LjE3Mzk0LDEuOTIyNzQ5IDUuMjMyMDUsMi41MTAxNzkgNC45NTQ2MiwyLjc1MDYxOSAtMC4xOTQwMiwwLjE2ODE2IC0xLjI1OTUzLDAuODkyODUgLTIuMzY3OCwxLjYxMDQyIC02LjczOTI0LDQuMzYzNDMgLTExLjY0NTcxOTgsMTEuNjUyMjggLTEzLjM2NDg0OTgsMTkuODU0MjU1IC0wLjU3MjkxLDIuNzMzMzggLTAuNjM0OTUsOC4yNTQwNCAtMC4xMjQ3NCwxMS4wOTk5NSAxLjY3Mjg0LDkuMzMwODEgNy43NzI3ODk4LDE3LjYwMDM5IDE2LjEwNTE4OTgsMjEuODMzNDcgNC4yMjAzNywyLjE0NDA1IDUuODE5NDcsMi40NTkyMiA2LjU4MDk1LDEuMjk3MDcgeiBtIDk5LjMxMzI4MiwtNC42MDk3MSBjIDAuNzIwMTIsLTAuNzIwMTEgMC42NjkwNywtMS43NTIwOSAtMC4xMjE2OCwtMi40NjAwMiAtMC4zNTc5NiwtMC4zMjA0OCAtMi44NTgyNywtMS41ODUzMiAtNS41NTYyNSwtMi44MTA3OCAtMi42OTc5NywtMS4yMjU0NSAtNC45MDU0MSwtMi4zMTgzMiAtNC45MDU0MSwtMi40Mjg2IDAsLTAuMTEwMjcgMC45MjI3NCwtMC43NzI0OCAyLjA1MDUzLC0xLjQ3MTU2IDIuNDEyNTQsLTEuNDk1NDYgNy4zOTk2NiwtNi4zMzg2MiA4LjkxMjg3LC04LjY1NTU3IDIuMzI0NTIsLTMuNTU5MiAzLjkxNDQ2LC03LjQxNjc4IDQuODExNzUsLTExLjY3NDUxIDAuNTM4NTcsLTIuNTU1NTUgMC42MDAwMiwtNy45MjM5NTUgMC4xMjExNCwtMTAuNTgzMzI1IC0xLjgwNDAyLC0xMC4wMTgzOSAtNy44NDI5NSwtMTguMDk4ODk5IC0xNi44OTM3NiwtMjIuNjA1MDY5IC0zLjY0Mzg4LC0xLjgxNDIgLTUuMTYwNzcsLTIuMDE5NzEgLTUuODQ3MzksLTAuNzkyMjIgLTAuNzMxNCwxLjMwNzU2IC0wLjI4MDQ4LDEuOTA2OTQgMi4yNzQ2NSwzLjAyMzU1IDYuMTI1NzQsMi42NzY5OCAxMC4wMDMzNCw1LjkwNDc1IDEzLjIxMTM5LDEwLjk5NzMzOSAyLjYwOTc2LDQuMTQyODQgMy43OTcyMyw4LjEyNDU1IDMuOTg3NjYsMTMuMzcxMDcgMC4xOTUxMiw1LjM3NTY2NSAtMC41NzcyLDguODY3NDE1IC0zLjAxNjE2LDEzLjYzNjM4NSAtMS4yMTkzNCwyLjM4NDIxIC00LjYzOTU0LDYuNzQ0OTkgLTYuMjU4OSw3Ljk4MDEzIC0wLjUwOTcsMC4zODg3NiAtMS4wODU4NSwwLjg1NzY4IC0xLjI4MDM1LDEuMDQyMDQgLTAuNjc2NjksMC42NDE0MiAtMi42NTIxMSwxLjgyODE1IC0yLjc5ODg2LDEuNjgxNDEgLTAuMDgxMiwtMC4wODEyIDAuODgxOTEsLTIuMzY2NDcgMi4xNDAzNCwtNS4wNzgyOSAyLjA5Nzg3LC00LjUyMDc1IDIuMjYwNTYsLTQuOTg3OTMgMS45NTczMSwtNS42MjA2NCAtMC40ODk2MywtMS4wMjE1OSAtMS42MTA5MSwtMS4zMzQ1NyAtMi40NjI5OSwtMC42ODc0OSAtMC43NjM0NSwwLjU3OTc4IC03LjI1OTIzLDE0LjUwNDE1IC03LjI1OTIzLDE1LjU2MDkxIDAsMC4zMzc3NCAwLjIyNjIxLDAuODE4NzggMC41MDI2OSwxLjA2ODk4IDAuNzA2NzMsMC42Mzk1OSAxNC41ODE5OCw3LjAwNDc1IDE1LjMwNjE3LDcuMDIxNTkgMC4zMjc0MiwwLjAwOCAwLjgzMzQ0LC0wLjIyNDI4IDEuMTI0NDgsLTAuNTE1MzMgeiIKICAgICAgIGlkPSJwYXRoMTA5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJzc3Nzc3Nzc3NzY2NzY3Nzc3Nzc3Nzc3Nzc3Njc3NzY3NzY3Nzc3Nzc3Nzc3Nzc2NzY3Nzc3Nzc3Nzc3Nzc2Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzY3MiIC8+CiAgPC9nPgo8L3N2Zz4K"},8241:(e,t,n)=>{"use strict";e.exports=n.p+"images/escape.png"},51:(e,t,n)=>{"use strict";e.exports=n.p+"images/headset-quest-2.png"},54322:(e,t,n)=>{"use strict";e.exports=n.p+"images/Desktop-help-play-button.svg"},28301:(e,t,n)=>{"use strict";e.exports=n.p+"images/Desktop-help-spacebar.png"},65224:(e,t,n)=>{"use strict";e.exports=n.p+"images/mattertag-disc-128-free.v1.png"},23672:(e,t,n)=>{"use strict";e.exports=n.p+"images/mobile-help-play-button.svg"},94246:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_360.png"},53228:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_click_inside.png"},99713:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag.png"},45894:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag.svg"},99484:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag_two_finger.png"},62979:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag_two_finger_rotate.svg"},40783:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag_two_finger_vert.svg"},13179:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_pinch.png"},58780:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_pinch.svg"},96558:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_position.png"},60497:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_position_two_finger.png"},50968:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_tap.png"},64727:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_tap.svg"},34715:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_inside_key.png"},64268:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_all.png"},31873:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_left_right.png"},88691:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_up_down.png"},16391:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_click.png"},11400:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_click.svg"},61273:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_ctrl_click.png"},46997:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_left.png"},2710:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_right.png"},38826:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_right_horiz.svg"},5293:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_right_vert.svg"},56048:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_position_left.png"},45663:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_position_left.svg"},85893:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_position_right.png"},93582:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_zoom.png"},713:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_zoom.svg"},68117:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_tap_inside.png"},35235:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_zoom_keys.png"},68909:e=>{"use strict";e.exports=THREE},38721:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifierChar=u,t.isIdentifierName=function(e){let t=!0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(55296==(64512&i)&&n+1<e.length){const t=e.charCodeAt(++n);56320==(64512&t)&&(i=65536+((1023&i)<<10)+(1023&t))}if(t){if(t=!1,!c(i))return!1}else if(!u(i))return!1}return!t},t.isIdentifierStart=c;let n="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",i="-----------------------------------------------------------------------------------------------------------------------------------------------------";const r=new RegExp("["+n+"]"),o=new RegExp("["+n+i+"]");n=i=null;const s=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function l(e,t){let n=65536;for(let i=0,r=t.length;i<r;i+=2){if(n+=t[i],n>e)return!1;if(n+=t[i+1],n>=e)return!0}return!1}function c(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&r.test(String.fromCharCode(e)):l(e,s)))}function u(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&o.test(String.fromCharCode(e)):l(e,s)||l(e,a))))}},61e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"wb",{enumerable:!0,get:function(){return r.isKeyword}}),Object.defineProperty(t,"wh",{enumerable:!0,get:function(){return r.isStrictReservedWord}});var i=n(38721),r=n(43115)},43115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyword=function(e){return r.has(e)},t.isReservedWord=a,t.isStrictBindOnlyReservedWord=c,t.isStrictBindReservedWord=function(e,t){return l(e,t)||c(e)},t.isStrictReservedWord=l;const n=["implements","interface","let","package","private","protected","public","static","yield"],i=["eval","arguments"],r=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),o=new Set(n),s=new Set(i);function a(e,t){return t&&"await"===e||"enum"===e}function l(e,t){return a(e,t)||o.has(e)}function c(e){return s.has(e)}},53359:e=>{var t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,E;p=/\/(?![*\/])(?:\[(?:[^\]\\\n\r\u2028\u2029]+|\\.)*\]|[^\/\\\n\r\u2028\u2029]+|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,h=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,t=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]+|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,m=/(['"])(?:[^'"\\\n\r]+|(?!\1)['"]|\\(?:\r\n|[^]))*(\1)?/y,d=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,g=/[`}](?:[^`\\$]+|\\[^]|\$(?!\{))*(`|\$\{)?/y,E=/[\t\v\f\ufeff\p{Zs}]+/uy,l=/\r?\n|[\r\u2028\u2029]/y,c=/\/\*(?:[^*]+|\*(?!\/))*(\*\/)?/y,f=/\/\/.*/y,i=/[<>.:={}]|\/(?![\/*])/y,n=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,r=/(['"])(?:[^'"]+|(?!\1)['"])*(\1)?/y,o=/[^<>{}]+/y,y=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,v=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,s=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,a=/^(?:return|throw|yield)$/,u=RegExp(l.source),e.exports=function*(e,{jsx:S=!1}={}){var b,_,O,T,A,w,N,I,R,k,L,P,D,M;for(({length:w}=e),T=0,A="",M=[{tag:"JS"}],b=[],L=0,P=!1;T<w;){switch((I=M[M.length-1]).tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if("/"===e[T]&&(y.test(A)||s.test(A))&&(p.lastIndex=T,N=p.exec(e))){T=p.lastIndex,A=N[0],P=!0,yield{type:"RegularExpressionLiteral",value:N[0],closed:void 0!==N[1]&&"\\"!==N[1]};continue}if(h.lastIndex=T,N=h.exec(e)){switch(D=N[0],R=h.lastIndex,k=D,D){case"(":"?NonExpressionParenKeyword"===A&&M.push({tag:"JSNonExpressionParen",nesting:L}),L++,P=!1;break;case")":L--,P=!0,"JSNonExpressionParen"===I.tag&&L===I.nesting&&(M.pop(),k="?NonExpressionParenEnd",P=!1);break;case"{":h.lastIndex=0,O=!v.test(A)&&(y.test(A)||s.test(A)),b.push(O),P=!1;break;case"}":switch(I.tag){case"InterpolationInTemplate":if(b.length===I.nesting){g.lastIndex=T,N=g.exec(e),T=g.lastIndex,A=N[0],"${"===N[1]?(A="?InterpolationInTemplate",P=!1,yield{type:"TemplateMiddle",value:N[0]}):(M.pop(),P=!0,yield{type:"TemplateTail",value:N[0],closed:"`"===N[1]});continue}break;case"InterpolationInJSX":if(b.length===I.nesting){M.pop(),T+=1,A="}",yield{type:"JSXPunctuator",value:"}"};continue}}k=(P=b.pop())?"?ExpressionBraceEnd":"}";break;case"]":P=!0;break;case"++":case"--":k=P?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(S&&(y.test(A)||s.test(A))){M.push({tag:"JSXTag"}),T+=1,A="<",yield{type:"JSXPunctuator",value:D};continue}P=!1;break;default:P=!1}T=R,A=k,yield{type:"Punctuator",value:D};continue}if(t.lastIndex=T,N=t.exec(e)){switch(T=t.lastIndex,k=N[0],N[0]){case"for":case"if":case"while":case"with":"."!==A&&"?."!==A&&(k="?NonExpressionParenKeyword")}A=k,P=!s.test(N[0]),yield{type:"#"===N[1]?"PrivateIdentifier":"IdentifierName",value:N[0]};continue}if(m.lastIndex=T,N=m.exec(e)){T=m.lastIndex,A=N[0],P=!0,yield{type:"StringLiteral",value:N[0],closed:void 0!==N[2]};continue}if(d.lastIndex=T,N=d.exec(e)){T=d.lastIndex,A=N[0],P=!0,yield{type:"NumericLiteral",value:N[0]};continue}if(g.lastIndex=T,N=g.exec(e)){T=g.lastIndex,A=N[0],"${"===N[1]?(A="?InterpolationInTemplate",M.push({tag:"InterpolationInTemplate",nesting:b.length}),P=!1,yield{type:"TemplateHead",value:N[0]}):(P=!0,yield{type:"NoSubstitutionTemplate",value:N[0],closed:"`"===N[1]});continue}break;case"JSXTag":case"JSXTagEnd":if(i.lastIndex=T,N=i.exec(e)){switch(T=i.lastIndex,k=N[0],N[0]){case"<":M.push({tag:"JSXTag"});break;case">":M.pop(),"/"===A||"JSXTagEnd"===I.tag?(k="?JSX",P=!0):M.push({tag:"JSXChildren"});break;case"{":M.push({tag:"InterpolationInJSX",nesting:b.length}),k="?InterpolationInJSX",P=!1;break;case"/":"<"===A&&(M.pop(),"JSXChildren"===M[M.length-1].tag&&M.pop(),M.push({tag:"JSXTagEnd"}))}A=k,yield{type:"JSXPunctuator",value:N[0]};continue}if(n.lastIndex=T,N=n.exec(e)){T=n.lastIndex,A=N[0],yield{type:"JSXIdentifier",value:N[0]};continue}if(r.lastIndex=T,N=r.exec(e)){T=r.lastIndex,A=N[0],yield{type:"JSXString",value:N[0],closed:void 0!==N[2]};continue}break;case"JSXChildren":if(o.lastIndex=T,N=o.exec(e)){T=o.lastIndex,A=N[0],yield{type:"JSXText",value:N[0]};continue}switch(e[T]){case"<":M.push({tag:"JSXTag"}),T++,A="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":M.push({tag:"InterpolationInJSX",nesting:b.length}),T++,A="?InterpolationInJSX",P=!1,yield{type:"JSXPunctuator",value:"{"};continue}}E.lastIndex=T,(N=E.exec(e))?(T=E.lastIndex,yield{type:"WhiteSpace",value:N[0]}):(l.lastIndex=T,(N=l.exec(e))?(T=l.lastIndex,P=!1,a.test(A)&&(A="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:N[0]}):(c.lastIndex=T,(N=c.exec(e))?(T=c.lastIndex,u.test(N[0])&&(P=!1,a.test(A)&&(A="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:N[0],closed:void 0!==N[1]}):(f.lastIndex=T,(N=f.exec(e))?(T=f.lastIndex,P=!1,yield{type:"SingleLineComment",value:N[0]}):(T+=(_=String.fromCodePoint(e.codePointAt(T))).length,A=_,P=!1,yield{type:I.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:_}))))}}},38630:(e,t,n)=>{var i;!function(e){!function(){var t="object"==typeof globalThis?globalThis:"object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),i=r(e);function r(e,t){return function(n,i){Object.defineProperty(e,n,{configurable:!0,writable:!0,value:i}),t&&t(n,i)}}void 0!==t.Reflect&&(i=r(t.Reflect,i)),function(e,t){var n=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,r=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,l=!s&&!a,c={create:s?function(){return de(Object.create(null))}:a?function(){return de({__proto__:null})}:function(){return de({})},has:l?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),d="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:le(),h="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:ce(),p="function"==typeof WeakMap?WeakMap:ue(),f=i?Symbol.for("@reflect-metadata:registry"):void 0,m=re(),g=oe(m);function v(e,t,n,i){if(U(n)){if(!$(e))throw new TypeError;if(!Y(t))throw new TypeError;return N(e,t)}if(!$(e))throw new TypeError;if(!G(t))throw new TypeError;if(!G(i)&&!U(i)&&!F(i))throw new TypeError;return F(i)&&(i=void 0),I(e,t,n=z(n),i)}function y(e,t){function n(n,i){if(!G(n))throw new TypeError;if(!U(i)&&!q(i))throw new TypeError;D(e,t,n,i)}return n}function E(e,t,n,i){if(!G(n))throw new TypeError;return U(i)||(i=z(i)),D(e,t,n,i)}function S(e,t,n){if(!G(t))throw new TypeError;return U(n)||(n=z(n)),R(e,t,n)}function b(e,t,n){if(!G(t))throw new TypeError;return U(n)||(n=z(n)),k(e,t,n)}function _(e,t,n){if(!G(t))throw new TypeError;return U(n)||(n=z(n)),L(e,t,n)}function O(e,t,n){if(!G(t))throw new TypeError;return U(n)||(n=z(n)),P(e,t,n)}function T(e,t){if(!G(e))throw new TypeError;return U(t)||(t=z(t)),M(e,t)}function A(e,t){if(!G(e))throw new TypeError;return U(t)||(t=z(t)),C(e,t)}function w(e,t,n){if(!G(t))throw new TypeError;if(U(n)||(n=z(n)),!G(t))throw new TypeError;U(n)||(n=z(n));var i=ae(t,n,!1);return!U(i)&&i.OrdinaryDeleteMetadata(e,t,n)}function N(e,t){for(var n=e.length-1;n>=0;--n){var i=(0,e[n])(t);if(!U(i)&&!F(i)){if(!Y(i))throw new TypeError;t=i}}return t}function I(e,t,n,i){for(var r=e.length-1;r>=0;--r){var o=(0,e[r])(t,n,i);if(!U(o)&&!F(o)){if(!G(o))throw new TypeError;i=o}}return i}function R(e,t,n){if(k(e,t,n))return!0;var i=ne(t);return!F(i)&&R(e,i,n)}function k(e,t,n){var i=ae(t,n,!1);return!U(i)&&j(i.OrdinaryHasOwnMetadata(e,t,n))}function L(e,t,n){if(k(e,t,n))return P(e,t,n);var i=ne(t);return F(i)?void 0:L(e,i,n)}function P(e,t,n){var i=ae(t,n,!1);if(!U(i))return i.OrdinaryGetOwnMetadata(e,t,n)}function D(e,t,n,i){ae(n,i,!0).OrdinaryDefineOwnMetadata(e,t,n,i)}function M(e,t){var n=C(e,t),i=ne(e);if(null===i)return n;var r=M(i,t);if(r.length<=0)return n;if(n.length<=0)return r;for(var o=new h,s=[],a=0,l=n;a<l.length;a++){var c=l[a];o.has(c)||(o.add(c),s.push(c))}for(var u=0,d=r;u<d.length;u++){c=d[u];o.has(c)||(o.add(c),s.push(c))}return s}function C(e,t){var n=ae(e,t,!1);return n?n.OrdinaryOwnMetadataKeys(e,t):[]}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function U(e){return void 0===e}function F(e){return null===e}function H(e){return"symbol"==typeof e}function G(e){return"object"==typeof e?null!==e:"function"==typeof e}function B(e,t){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=X(e,r);if(void 0!==i){var o=i.call(e,n);if(G(o))throw new TypeError;return o}return V(e,"default"===n?"number":n)}function V(e,t){if("string"===t){var n=e.toString;if(K(n))if(!G(r=n.call(e)))return r;if(K(i=e.valueOf))if(!G(r=i.call(e)))return r}else{var i;if(K(i=e.valueOf))if(!G(r=i.call(e)))return r;var r,o=e.toString;if(K(o))if(!G(r=o.call(e)))return r}throw new TypeError}function j(e){return!!e}function W(e){return""+e}function z(e){var t=B(e,3);return H(t)?t:W(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function K(e){return"function"==typeof e}function Y(e){return"function"==typeof e}function q(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}function Q(e,t){return e===t||e!=e&&t!=t}function X(e,t){var n=e[t];if(null!=n){if(!K(n))throw new TypeError;return n}}function J(e){var t=X(e,o);if(!K(t))throw new TypeError;var n=t.call(e);if(!G(n))throw new TypeError;return n}function Z(e){return e.value}function ee(e){var t=e.next();return!t.done&&t}function te(e){var t=e.return;t&&t.call(e)}function ne(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return t;var r=i.constructor;return"function"!=typeof r||r===e?t:r}function ie(){var e,n,i,r;U(f)||void 0===t.Reflect||f in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=se(t.Reflect));var o=new p,s={registerProvider:a,getProvider:c,setProvider:m};return s;function a(t){if(!Object.isExtensible(s))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case U(n):n=t;break;case n===t:break;case U(i):i=t;break;case i===t:break;default:void 0===r&&(r=new h),r.add(t)}}function l(t,o){if(!U(n)){if(n.isProviderFor(t,o))return n;if(!U(i)){if(i.isProviderFor(t,o))return n;if(!U(r))for(var s=J(r);;){var a=ee(s);if(!a)return;var l=Z(a);if(l.isProviderFor(t,o))return te(s),l}}}if(!U(e)&&e.isProviderFor(t,o))return e}function c(e,t){var n,i=o.get(e);return U(i)||(n=i.get(t)),U(n)?(U(n=l(e,t))||(U(i)&&(i=new d,o.set(e,i)),i.set(t,n)),n):n}function u(e){if(U(e))throw new TypeError;return n===e||i===e||!U(r)&&r.has(e)}function m(e,t,n){if(!u(n))throw new Error("Metadata provider not registered.");var i=c(e,t);if(i!==n){if(!U(i))return!1;var r=o.get(e);U(r)&&(r=new d,o.set(e,r)),r.set(t,n)}return!0}}function re(){var e;return!U(f)&&G(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[f]),U(e)&&(e=ie()),!U(f)&&G(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,f,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}function oe(e){var t=new p,n={isProviderFor:function(e,n){var i=t.get(e);return!U(i)&&i.has(n)},OrdinaryDefineOwnMetadata:s,OrdinaryHasOwnMetadata:r,OrdinaryGetOwnMetadata:o,OrdinaryOwnMetadataKeys:a,OrdinaryDeleteMetadata:l};return m.registerProvider(n),n;function i(i,r,o){var s=t.get(i),a=!1;if(U(s)){if(!o)return;s=new d,t.set(i,s),a=!0}var l=s.get(r);if(U(l)){if(!o)return;if(l=new d,s.set(r,l),!e.setProvider(i,r,n))throw s.delete(r),a&&t.delete(i),new Error("Wrong provider for target.")}return l}function r(e,t,n){var r=i(t,n,!1);return!U(r)&&j(r.has(e))}function o(e,t,n){var r=i(t,n,!1);if(!U(r))return r.get(e)}function s(e,t,n,r){i(n,r,!0).set(e,t)}function a(e,t){var n=[],r=i(e,t,!1);if(U(r))return n;for(var o=J(r.keys()),s=0;;){var a=ee(o);if(!a)return n.length=s,n;var l=Z(a);try{n[s]=l}catch(e){try{te(o)}finally{throw e}}s++}}function l(e,n,r){var o=i(n,r,!1);if(U(o))return!1;if(!o.delete(e))return!1;if(0===o.size){var s=t.get(n);U(s)||(s.delete(r),0===s.size&&t.delete(s))}return!0}}function se(e){var t=e.defineMetadata,n=e.hasOwnMetadata,i=e.getOwnMetadata,r=e.getOwnMetadataKeys,o=e.deleteMetadata,s=new p;return{isProviderFor:function(e,t){var n=s.get(e);return!(U(n)||!n.has(t))||!!r(e,t).length&&(U(n)&&(n=new h,s.set(e,n)),n.add(t),!0)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:i,OrdinaryOwnMetadataKeys:r,OrdinaryDeleteMetadata:o}}function ae(e,t,n){var i=m.getProvider(e,t);if(!U(i))return i;if(n){if(m.setProvider(e,t,g))return g;throw new Error("Illegal state.")}}function le(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var i=this._keys.length,r=n+1;r<i;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,Q(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,i)},t.prototype.values=function(){return new n(this._keys,this._values,r)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){if(!Q(this._cacheKey,e)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(Q(this._keys[n],e)){this._cacheIndex=n;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function r(e,t){return t}function s(e,t){return[e,t]}}function ce(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ue(){var e=16,t=c.create(),i=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var e;do{e="@@WeakMap@@"+l()}while(c.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,i)){if(!t)return;Object.defineProperty(e,i,{value:c.create()})}return e[i]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):s(t,e),t}return s(new Array(e),e)}function l(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",i=0;i<e;++i){var r=t[i];4!==i&&6!==i&&8!==i||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}function de(e){return e.__=void 0,delete e.__,e}e("decorate",v),e("metadata",y),e("defineMetadata",E),e("hasMetadata",S),e("hasOwnMetadata",b),e("getMetadata",_),e("getOwnMetadata",O),e("getMetadataKeys",T),e("getOwnMetadataKeys",A),e("deleteMetadata",w)}(i,t),void 0===t.Reflect&&(t.Reflect=e)}()}(i||(i={}))},47712:(e,t,n)=>{"use strict";n.d(t,{Ru:()=>T});var i=n(12317);const r=e=>"string"==typeof e,o=new Map,s="en";function a(e){return[...Array.isArray(e)?e:[e],s]}function l(e,t,n){const i=a(e);let o;if(n||(n="default"),"string"==typeof n)switch(o={day:"numeric",month:"short",year:"numeric"},n){case"full":o.weekday="long";case"long":o.month="long";break;case"short":o.month="numeric"}else o=n;return h((()=>p("date",i,n)),(()=>new Intl.DateTimeFormat(i,o))).format(r(t)?new Date(t):t)}function c(e,t,n){let i;if(n||(n="default"),"string"==typeof n)switch(i={second:"numeric",minute:"numeric",hour:"numeric"},n){case"full":case"long":i.timeZoneName="short";break;case"short":delete i.second}else i=n;return l(e,t,i)}function u(e,t,n){const i=a(e);return h((()=>p("number",i,n)),(()=>new Intl.NumberFormat(i,n))).format(t)}function d(e,t,n,{offset:i=0,...r}){const o=a(e),s=t?h((()=>p("plural-ordinal",o)),(()=>new Intl.PluralRules(o,{type:"ordinal"}))):h((()=>p("plural-cardinal",o)),(()=>new Intl.PluralRules(o,{type:"cardinal"})));return r[n]??r[s.select(n-i)]??r.other}function h(e,t){const n=e();let i=o.get(n);return i||(i=t(),o.set(n,i)),i}function p(e,t,n){return`${e}-${t.join("-")}-${JSON.stringify(n)}`}const f=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,m="%__lingui_octothorpe__%",g=(e,t)=>t[e]??t.other;function v(e,t,n){return(o={},s)=>{const a=((e,t,n={})=>{const i=t||e,r=e=>"object"==typeof e?e:n[e],o=(e,t)=>{const o=Object.keys(n).length?r("number"):void 0,s=u(i,e,o);return t.replace(new RegExp(m,"g"),s)};return{plural:(e,t)=>{const{offset:n=0}=t,r=d(i,!1,e,t);return o(e-n,r)},selectordinal:(e,t)=>{const{offset:n=0}=t,r=d(i,!0,e,t);return o(e-n,r)},select:g,number:(e,t)=>u(i,e,r(t)||{style:t}),date:(e,t)=>l(i,e,r(t)||t),time:(e,t)=>c(i,e,r(t)||t)}})(t,n,s),h=(e,t=!1)=>Array.isArray(e)?e.reduce(((e,n)=>{if("#"===n&&t)return e+m;if(r(n))return e+n;const[i,s,l]=n;let c,u={};if("plural"===s||"selectordinal"===s||"select"===s?Object.entries(l).forEach((([e,t])=>{u[e]=h(t,"plural"===s||"selectordinal"===s)})):u=l,s){c=(0,a[s])(o[i],u)}else c=o[i];return null==c?e:e+c}),""):e,p=h(e);return r(p)&&f.test(p)?(0,i.MH)(p):r(p)?p:p?String(p):""}}var y=Object.defineProperty,E=(e,t,n)=>(((e,t,n)=>{t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class S{constructor(){E(this,"_events",{})}on(e,t){var n;return(n=this._events)[e]??(n[e]=[]),this._events[e].push(t),()=>this.removeListener(e,t)}removeListener(e,t){const n=this._getListeners(e);if(!n)return;const i=n.indexOf(t);~i&&n.splice(i,1)}emit(e,...t){const n=this._getListeners(e);n&&n.map((e=>e.apply(this,t)))}_getListeners(e){const t=this._events[e];return!!Array.isArray(t)&&t}}var b=Object.defineProperty,_=(e,t,n)=>(((e,t,n)=>{t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class O extends S{constructor(e){super(),_(this,"_locale",""),_(this,"_locales"),_(this,"_localeData",{}),_(this,"_messages",{}),_(this,"_missing"),_(this,"_messageCompiler"),_(this,"t",this._.bind(this)),null!=e.missing&&(this._missing=e.missing),null!=e.messages&&this.load(e.messages),null!=e.localeData&&this.loadLocaleData(e.localeData),("string"==typeof e.locale||e.locales)&&this.activate(e.locale??s,e.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(e,t){const n=this._localeData[e];n?Object.assign(n,t):this._localeData[e]=t}setMessagesCompiler(e){return this._messageCompiler=e,this}loadLocaleData(e,t){"string"==typeof e?this._loadLocaleData(e,t):Object.keys(e).forEach((t=>this._loadLocaleData(t,e[t]))),this.emit("change")}_load(e,t){const n=this._messages[e];n?Object.assign(n,t):this._messages[e]=t}load(e,t){"string"==typeof e&&"object"==typeof t?this._load(e,t):Object.entries(e).forEach((([e,t])=>this._load(e,t))),this.emit("change")}loadAndActivate({locale:e,locales:t,messages:n}){this._locale=e,this._locales=t||void 0,this._messages[this._locale]=n,this.emit("change")}activate(e,t){this._locale=e,this._locales=t,this.emit("change")}_(e,t,n){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=n?.message;e||(e=""),r(e)||(t=e.values||t,i=e.message,e=e.id);const o=this.messages[e],s=void 0===o,a=this._missing;if(a&&s)return"function"==typeof a?a(this._locale,e):a;s&&this.emit("missing",{id:e,locale:this._locale});let l=o||i||e;return r(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:\n\n> ${l}\n\nThat means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.\nICU features such as interpolation and plurals will not work properly for that message. \n\nPlease compile your catalog first. \n`)),r(l)&&f.test(l)?JSON.parse(`"${l}"`):r(l)?l:v(l,this._locale,this._locales)(t,n?.formats)}date(e,t){return l(this._locales||this._locale,e,t)}number(e,t){return u(this._locales||this._locale,e,t)}}const T=function(e={}){return new O(e)}()},4106:(e,t,n)=>{"use strict";n.d(t,{CY:()=>a,uB:()=>s});var i=n(96540);const r=i.createContext(null),o=e=>i.useContext(r);function s(){return o()}const a=({i18n:e,defaultComponent:t,children:n})=>{const o=i.useRef(e.locale),s=i.useCallback((()=>({i18n:e,defaultComponent:t,_:e.t.bind(e)})),[e,t]),[a,l]=i.useState(s());return i.useEffect((()=>{const t=()=>{o.current=e.locale,l(s())},n=e.on("change",t);return o.current!==e.locale&&t(),n}),[e,s]),o.current?i.createElement(r.Provider,{value:a},n):null}},40157:(e,t,n)=>{"use strict";n.d(t,{MZ:()=>r,a4:()=>i,fJ:()=>s,k_:()=>a,mP:()=>o,ro:()=>l,zn:()=>c});const i="async-injection:INJECTABLE",r="async-injection:INJECT",o="async-injection:POSTCONSTRUCT_SYNC",s="async-injection:POSTCONSTRUCT_ASYNC",a="async-injection:RELEASE",l="async-injection:OPTIONAL",c="design:paramtypes"},65945:(e,t,n)=>{"use strict";n.d(t,{mc:()=>b,y_:()=>m,_q:()=>f});var i=n(40157);function r(e){return!!e&&(e instanceof Error||e&&"string"==typeof e.message&&"string"==typeof e.stack)}function o(e){return!!e&&(e instanceof Promise||e&&"function"==typeof e.then)}function s(e){var t,n;const r=Reflect.getMetadata(i.k_,e.constructor);if(r&&e.constructor.prototype[r]&&"function"==typeof e.constructor.prototype[r]){const i=null===(n=(t=e[r]).bind)||void 0===n?void 0:n.call(t,e);if(i)return i(),!0}return!1}class a{constructor(){}resolveIfSingleton(e){if(null===this.singleton){const e=this.provideAsState();if(e.pending)return e.promise;if(e.rejected)return Promise.reject(e.rejected)}}releaseIfSingleton(){if(this.singleton){const e=this.provideAsState();e.pending?e.promise.then((e=>{this.singleton=null,s(e)})).catch((()=>{this.singleton=null})):(this.singleton=null,!e.rejected&&e.fulfilled&&s(e.fulfilled))}}}class l extends a{constructor(e,t,n){super(),this.injector=e,this.id=t,this.maker=n}makeBindAs(){const e={onError:e=>{this.errorHandler=e},onSuccess:t=>(this.successHandler=t,e),asSingleton:()=>(this.singleton=null,e)};return e}queryErrorHandler(e,t){if(this.errorHandler){const n=this.errorHandler(this.injector,this.id,this.maker,e,t);if(r(n))throw n;if(void 0===n)throw e;return n}throw e}makePromiseForObj(e,t){return new Promise(((n,i)=>{const o=(e,t)=>{if(this.errorHandler){const i=this.errorHandler(this.injector,this.id,this.maker,e,t);if(r(i))e=i;else if(void 0!==i)return void n(i)}i(e)};e.then((e=>{try{n(t(e))}catch(n){o(n,t(e))}})).catch((e=>{o(e,t(void 0))}))}))}}class c{static MakeState(e,t,n){const i=new c;return o(e)?(i._pending=!0,i._promise=e.then((e=>(i._fulfilled=e,i._pending=!1,e)),(e=>{throw i._rejected=e,i._pending=!1,e}))):(i._pending=!1,t?i._rejected=t:i._fulfilled=n,i._promise=null),i}constructor(){}get promise(){return this._promise}get pending(){return this._pending}get fulfilled(){return this._fulfilled}get rejected(){return this._rejected}}class u extends l{constructor(e,t,n){super(e,t,n)}provideAsState(){let e=this.singleton;return e||(e=c.MakeState(this.makePromiseForObj(this.maker(this.injector),(e=>e)))),null===this.singleton&&(this.singleton=e),e}}function d(e){let t;return e&&(t=e.name,!t&&e.constructor&&(t=e.constructor.name)),t}function h(e){return`index-${e}`}function p(e,t,n){const i=function(e,t,n){if(!function(e){return!("function"!=typeof e||!e.hasOwnProperty("prototype"))&&e.prototype.constructor===e}(t))throw new Error("@"+e+" is not valid here ["+d(t)+"]");return h(n)}(e,t,n);if(Reflect.hasOwnMetadata(e,t,i))throw new Error("@"+e+" applied multiple times ["+t.constructor.name+"]");return i}function f(){return function(e){if(Reflect.hasOwnMetadata(i.a4,e))throw new Error("@Injectable applied multiple times ["+d(e)+"]");Reflect.defineMetadata(i.a4,!0,e)}}function m(e){return function(t,n,r){if(void 0===e)throw new Error("Undefined id passed to @Inject ["+d(t)+"]");const o=p("Inject",t,r);Reflect.defineMetadata(i.MZ,e,t,o)}}function g(e,t){return Reflect.getMetadata(i.ro,e,h(t))}class v extends l{constructor(e,t,n){super(e,t,n)}provideAsState(){let e=this.singleton;return e||(e=this.provideAsStateImpl()),null===this.singleton&&(this.singleton=e),e}resolveIfSingleton(e){if(!e||Reflect.getMetadata(i.fJ,this.maker))return super.resolveIfSingleton(!1)}makePostConstructState(e){var t,n;if("object"==typeof e&&!Array.isArray(e)&&e.constructor){let r,s=!1;if("function"==typeof this.successHandler)s=!0,r=()=>this.successHandler(e,this.injector,this.id,this.maker);else{let o=Reflect.getMetadata(i.mP,e.constructor);o||(s=!0,o=Reflect.getMetadata(i.fJ,e.constructor)),o&&e.constructor.prototype[o]&&"function"==typeof e.constructor.prototype[o]&&(r=null===(n=(t=e[o]).bind)||void 0===n?void 0:n.call(t,e))}if(r){let t;try{t=r()}catch(t){try{return e=this.queryErrorHandler(t,e),c.MakeState(null,void 0,e)}catch(e){return c.MakeState(null,e,void 0)}}if(t&&(t instanceof Promise||s&&o(t)))return c.MakeState(this.makePromiseForObj(t,(()=>e)))}}return c.MakeState(null,void 0,e)}getConstructorParameterStates(){const e=Reflect.getMetadata(i.zn,this.maker);return void 0!==e&&Array.isArray(e)?e.map(((e,t)=>{const n=(r=this.maker,o=t,Reflect.getMetadata(i.MZ,r,h(o)));var r,o;const s=void 0===n?e:n;if(void 0===s)throw new Error(`Injection error. Unable to determine parameter ${t} type/value of ${this.maker.toString()} constructor`);let a=this.injector.resolveState(s);if(!a.pending&&a.rejected){const e=g(this.maker,t);e&&(a=c.MakeState(null,void 0,e.value))}return a})):[]}provideAsStateImpl(){const e=this.getConstructorParameterStates(),t=e.find((e=>!e.pending&&e.rejected));if(t)return t;if(e.some((e=>e.pending))){const t=this.makePromiseForObj(Promise.all(e.map(((e,t)=>e.pending?e.promise.catch((e=>{const n=g(this.maker,t);if(!n)throw e;return n.value})):e.rejected?Promise.reject(e.rejected):Promise.resolve(e.fulfilled)))),(e=>{if(e)return Reflect.construct(this.maker,e)}));return c.MakeState(t.then((e=>{const t=this.makePostConstructState(e);return t.pending?t.promise:t.rejected?t.rejected:t.fulfilled})))}try{const t=Reflect.construct(this.maker,e.map((e=>e.fulfilled)));return this.makePostConstructState(t)}catch(e){try{return c.MakeState(null,void 0,this.queryErrorHandler(e))}catch(e){return c.MakeState(null,e,void 0)}}}}class y extends a{constructor(e){super(),this.singleton=c.MakeState(null,void 0,e)}provideAsState(){return this.singleton}}class E extends l{constructor(e,t,n){super(e,t,n)}provideAsState(){let e=this.singleton;if(!e)try{e=c.MakeState(null,void 0,this.maker(this.injector))}catch(t){try{e=c.MakeState(null,void 0,this.queryErrorHandler(t))}catch(t){e=c.MakeState(null,t,void 0)}}return null===this.singleton&&(this.singleton=e),e}resolveIfSingleton(e){if(!e)return super.resolveIfSingleton(!1)}}class S{constructor(e){this.reason=e}}class b{constructor(e){this.parent=e,this.providers=new Map}isIdKnown(e,t){return!!this.providers.get(e)||!(!t||!this.parent)&&this.parent.isIdKnown(e,!0)}get(e){const t=this.providers.get(e);if(!t){if(this.parent)return this.parent.get(e);throw new Error("Symbol not bound: "+e.toString())}const n=t.provideAsState();if(n.pending)throw new Error("Synchronous request on unresolved asynchronous dependency tree: "+e.toString());if(n.rejected)throw n.rejected;return n.fulfilled}resolve(e){const t=this.resolveState(e);return o(t.promise)?t.promise:t.rejected?Promise.reject(t.rejected):Promise.resolve(t.fulfilled)}removeBinding(e,t,n){var i;if(n){const t=this.providers.get(e);t&&t.releaseIfSingleton()}this.providers.delete(e),t&&this.parent&&(null===(i=this.parent)||void 0===i||i.removeBinding(e,!0,n))}bindConstant(e,t){return this.providers.set(e,new y(t)),t}bindClass(e,t){if(void 0===t&&(t=e),!Reflect.getMetadata(i.a4,t))throw new Error("Class not decorated with @Injectable ["+t.toString()+"]");const n=new v(this,e,t);return this.providers.set(e,n),n.makeBindAs()}bindFactory(e,t){const n=new E(this,e,t);return this.providers.set(e,n),n.makeBindAs()}bindAsyncFactory(e,t){const n=new u(this,e,t);return this.providers.set(e,n),n.makeBindAs()}resolveSingletons(e,t){var n;const i=()=>new Promise(((t,n)=>{const i=new Map;this.providers.forEach(((t,n)=>{const r=t.resolveIfSingleton(e);null!=r&&i.set(n,r)}));const r=Array.from(i.values()),o=Array.from(i.keys());Promise.all(r.map((e=>e.catch((e=>new S(e)))))).then((e=>{const i=new Map;e.forEach(((e,t)=>{e instanceof S&&i.set(o[t],e.reason)})),i.size>0?n(i):t()}))}));if(t&&"function"==typeof(null===(n=this.parent)||void 0===n?void 0:n.resolveSingletons)){return this.parent.resolveSingletons(e,t).then((()=>i().then((()=>this))))}return i().then((()=>this))}resolveState(e){const t=this.providers.get(e);if(!t){if(this.parent){if(this.parent instanceof b)return this.parent.resolveState(e);try{return c.MakeState(this.parent.resolve(e),void 0,void 0)}catch(e){return c.MakeState(null,e)}}return c.MakeState(null,new Error("Symbol not bound: "+e.toString()))}return t.provideAsState()}releaseSingletons(){this.providers.forEach((e=>{e.releaseIfSingleton()}))}clone(e){e||(e=b);const t=new e(this.parent);return this.providers.forEach(((e,n)=>{e instanceof l&&((e=Object.assign(Object.create(Object.getPrototypeOf(e)),e)).injector=t),t.providers.set(n,e)})),t}}},80129:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(57637);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=10,s=2;function a(e){return l(e,[])}function l(e,t){switch(r(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(i.A)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var a=r.call(e);if(a!==e)return"string"==typeof a?a:l(a,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>s)return"[Array]";for(var n=Math.min(o,e.length),i=e.length-n,r=[],a=0;a<n;++a)r.push(l(e[a],t));1===i?r.push("... 1 more item"):i>1&&r.push("... ".concat(i," more items"));return"["+r.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>s)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var i=n.map((function(n){return n+": "+l(e[n],t)}));return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},57637:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0},73559:(e,t,n)=>{"use strict";n.d(t,{aZ:()=>o,ou:()=>s,Ll:()=>a});var i=n(57637);function r(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,i.A&&(e.prototype[i.A]=t)}var o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();r(o);var s=function(){function e(e,t,n,i,r,o,s){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function a(e){return null!=e&&"string"==typeof e.kind}r(s)},75995:(e,t,n)=>{"use strict";function i(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,i=!0,r=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,i=!0,r=0;break;case 9:case 32:++r;break;default:i&&!n&&(null===o||r<o)&&(o=r),i=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var o=0;o<t.length&&r(t[o]);)++o;for(var s=t.length;s>o&&r(t[s-1]);)--s;return t.slice(o,s).join("\n")}function r(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),r=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!i||o||s||n,l="";return!a||i&&r||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,a&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}n.d(t,{i$:()=>i,yo:()=>o})},43298:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var i=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"})},11751:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var i=n(84705),r=n(75995);function o(e){return(0,i.YR)(e,{leave:s})}var s={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return l(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=u("(",l(e.variableDefinitions,", "),")"),r=l(e.directives," "),o=e.selectionSet;return n||r||i||"query"!==t?l([t,l([n,i]),r,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,r=e.directives;return t+": "+n+u(" = ",i)+u(" ",l(r," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,r=e.directives,o=e.selectionSet,s=u("",t,": ")+n,a=s+u("(",l(i,", "),")");return a.length>80&&(a=s+u("(\n",d(l(i,"\n")),"\n)")),l([a,l(r," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+u(" ",l(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return l(["...",u("on ",t),l(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,r=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(u("(",l(i,", "),")")," ")+"on ".concat(n," ").concat(u("",l(r," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,r.yo)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+l(e.values,", ")+"]"},ObjectValue:function(e){return"{"+l(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+u("(",l(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:a((function(e){var t=e.directives,n=e.operationTypes;return l(["schema",l(t," "),c(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:a((function(e){return l(["scalar",e.name,l(e.directives," ")]," ")})),ObjectTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return l(["type",t,u("implements ",l(n," & ")),l(i," "),c(r)]," ")})),FieldDefinition:a((function(e){var t=e.name,n=e.arguments,i=e.type,r=e.directives;return t+(p(n)?u("(\n",d(l(n,"\n")),"\n)"):u("(",l(n,", "),")"))+": "+i+u(" ",l(r," "))})),InputValueDefinition:a((function(e){var t=e.name,n=e.type,i=e.defaultValue,r=e.directives;return l([t+": "+n,u("= ",i),l(r," ")]," ")})),InterfaceTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return l(["interface",t,u("implements ",l(n," & ")),l(i," "),c(r)]," ")})),UnionTypeDefinition:a((function(e){var t=e.name,n=e.directives,i=e.types;return l(["union",t,l(n," "),i&&0!==i.length?"= "+l(i," | "):""]," ")})),EnumTypeDefinition:a((function(e){var t=e.name,n=e.directives,i=e.values;return l(["enum",t,l(n," "),c(i)]," ")})),EnumValueDefinition:a((function(e){return l([e.name,l(e.directives," ")]," ")})),InputObjectTypeDefinition:a((function(e){var t=e.name,n=e.directives,i=e.fields;return l(["input",t,l(n," "),c(i)]," ")})),DirectiveDefinition:a((function(e){var t=e.name,n=e.arguments,i=e.repeatable,r=e.locations;return"directive @"+t+(p(n)?u("(\n",d(l(n,"\n")),"\n)"):u("(",l(n,", "),")"))+(i?" repeatable":"")+" on "+l(r," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return l(["extend schema",l(t," "),c(n)]," ")},ScalarTypeExtension:function(e){return l(["extend scalar",e.name,l(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return l(["extend type",t,u("implements ",l(n," & ")),l(i," "),c(r)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return l(["extend interface",t,u("implements ",l(n," & ")),l(i," "),c(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,i=e.types;return l(["extend union",t,l(n," "),i&&0!==i.length?"= "+l(i," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,i=e.values;return l(["extend enum",t,l(n," "),c(i)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,i=e.fields;return l(["extend input",t,l(n," "),c(i)]," ")}};function a(e){return function(t){return l([t.description,e(t)],"\n")}}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function c(e){return u("{\n",d(l(e,"\n")),"\n}")}function u(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function d(e){return u("  ",e.replace(/\n/g,"\n  "))}function h(e){return-1!==e.indexOf("\n")}function p(e){return null!=e&&e.some(h)}},84705:(e,t,n)=>{"use strict";n.d(t,{YR:()=>a,sP:()=>s});var i=n(80129),r=n(73559),o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},s=Object.freeze({});function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=void 0,c=Array.isArray(e),u=[e],d=-1,h=[],p=void 0,f=void 0,m=void 0,g=[],v=[],y=e;do{var E=++d===u.length,S=E&&0!==h.length;if(E){if(f=0===v.length?void 0:g[g.length-1],p=m,m=v.pop(),S){if(c)p=p.slice();else{for(var b={},_=0,O=Object.keys(p);_<O.length;_++){var T=O[_];b[T]=p[T]}p=b}for(var A=0,w=0;w<h.length;w++){var N=h[w][0],I=h[w][1];c&&(N-=A),c&&null===I?(p.splice(N,1),A++):p[N]=I}}d=a.index,u=a.keys,h=a.edits,c=a.inArray,a=a.prev}else{if(f=m?c?d:u[d]:void 0,null==(p=m?m[f]:y))continue;m&&g.push(f)}var R,k=void 0;if(!Array.isArray(p)){if(!(0,r.Ll)(p))throw new Error("Invalid AST Node: ".concat((0,i.A)(p),"."));var L=l(t,p.kind,E);if(L){if((k=L.call(t,p,f,m,g,v))===s)break;if(!1===k){if(!E){g.pop();continue}}else if(void 0!==k&&(h.push([f,k]),!E)){if(!(0,r.Ll)(k)){g.pop();continue}p=k}}}if(void 0===k&&S&&h.push([f,p]),E)g.pop();else a={inArray:c,index:d,keys:u,edits:h,prev:a},u=(c=Array.isArray(p))?p:null!==(R=n[p.kind])&&void 0!==R?R:[],d=-1,h=[],m&&v.push(m),m=p}while(void 0!==a);return 0!==h.length&&(y=h[h.length-1][1]),y}function l(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var r=n?i.leave:i.enter;if("function"==typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}},61728:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DRACOLoader:()=>o});var i=n(68909);const r=new WeakMap;class o extends i.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const o=new i.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(e=>{this.parse(e,t,r)}),n,r)}parse(e,t,n=()=>{}){this.decodeDracoFile(e,t,null,null,i.SRGBColorSpace,n).catch(n)}decodeDracoFile(e,t,n,r,o=i.LinearSRGBColorSpace,s=()=>{}){const a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:o};return this.decodeGeometry(e,a).then(t).catch(s)}decodeGeometry(e,t){const n=JSON.stringify(t);if(r.has(e)){const t=r.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then((n=>(i=n,new Promise(((n,r)=>{i._callbacks[o]={resolve:n,reject:r},i.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return a.catch((()=>!0)).then((()=>{i&&o&&this._releaseTask(i,o)})),r.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new i.BufferGeometry;e.index&&t.setIndex(new i.BufferAttribute(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],o=r.name,s=r.array,a=r.itemSize,l=new i.BufferAttribute(s,a);"color"===o&&(this._assignVertexColorSpace(l,r.vertexColorSpace),l.normalized=s instanceof Float32Array==!1),t.setAttribute(o,l)}return t}_assignVertexColorSpace(e,t){if(t!==i.SRGBColorSpace)return;const n=new i.Color;for(let t=0,r=e.count;t<r;t++)n.fromBufferAttribute(e,t),i.ColorManagement.toWorkingColorSpace(n,i.SRGBColorSpace),e.setXYZ(t,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new i.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,i)=>{n.load(e,t,void 0,i)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const i=s.toString(),r=["/* draco decoder */",n,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}function s(){let e,t;function n(e,t,n,i,r,o){const s=o.num_components(),a=n.num_points()*s,l=a*r.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,r),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,o,c,l,u);const d=new r(e.HEAPF32.buffer,u,a).slice();return e._free(u),{name:i,array:d,itemSize:s}}onmessage=function(i){const r=i.data;switch(r.type){case"init":e=r.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const i=r.buffer,o=r.taskConfig;t.then((e=>{const t=e.draco,s=new t.Decoder;try{const e=function(e,t,i,r){const o=r.attributeIDs,s=r.attributeTypes;let a,l;const c=t.GetEncodedGeometryType(i);if(c===e.TRIANGULAR_MESH)a=new e.Mesh,l=t.DecodeArrayToMesh(i,i.byteLength,a);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,l=t.DecodeArrayToPointCloud(i,i.byteLength,a)}if(!l.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const u={index:null,attributes:[]};for(const i in o){const l=self[s[i]];let c,d;if(r.useUniqueIDs)d=o[i],c=t.GetAttributeByUniqueId(a,d);else{if(d=t.GetAttributeId(a,e[o[i]]),-1===d)continue;c=t.GetAttribute(a,d)}const h=n(e,t,a,i,l,c);"color"===i&&(h.vertexColorSpace=r.vertexColorSpace),u.attributes.push(h)}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){const i=n.num_faces(),r=3*i,o=4*r,s=e._malloc(o);t.GetTrianglesUInt32Array(n,o,s);const a=new Uint32Array(e.HEAPF32.buffer,s,r).slice();return e._free(s),{array:a,itemSize:1}}(e,t,a));return e.destroy(a),u}(t,s,new Int8Array(i),o),a=e.attributes.map((e=>e.array.buffer));e.index&&a.push(e.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:e},a)}catch(e){console.error(e),self.postMessage({type:"error",id:r.id,error:e.message})}finally{t.destroy(s)}}))}}}},17888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GLTFLoader:()=>o});var i=n(68909),r=n(51566);class o extends i.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new d(e)})),this.register((function(e){return new h(e)})),this.register((function(e){return new b(e)})),this.register((function(e){return new _(e)})),this.register((function(e){return new O(e)})),this.register((function(e){return new f(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new g(e)})),this.register((function(e){return new v(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new y(e)})),this.register((function(e){return new p(e)})),this.register((function(e){return new S(e)})),this.register((function(e){return new E(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new T(e)})),this.register((function(e){return new A(e)}))}load(e,t,n,r){const o=this;let s;if(""!==this.resourcePath)s=this.resourcePath;else if(""!==this.path){const t=i.LoaderUtils.extractUrlBase(e);s=i.LoaderUtils.resolveURL(t,this.path)}else s=i.LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);const a=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},l=new i.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,(function(n){try{o.parse(n,s,(function(n){t(n),o.manager.itemEnd(e)}),a)}catch(e){a(e)}}),n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let r;const o={},s={},l=new TextDecoder;if("string"==typeof e)r=JSON.parse(e);else if(e instanceof ArrayBuffer){if(l.decode(new Uint8Array(e,0,4))===w){try{o[a.KHR_BINARY_GLTF]=new R(e)}catch(e){return void(i&&i(e))}r=JSON.parse(o[a.KHR_BINARY_GLTF].content)}else r=JSON.parse(l.decode(e))}else r=e;if(void 0===r.asset||r.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const u=new ee(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](u);t.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[t.name]=t,o[t.name]=!0}if(r.extensionsUsed)for(let e=0;e<r.extensionsUsed.length;++e){const t=r.extensionsUsed[e],n=r.extensionsRequired||[];switch(t){case a.KHR_MATERIALS_UNLIT:o[t]=new c;break;case a.KHR_DRACO_MESH_COMPRESSION:o[t]=new k(r,this.dracoLoader);break;case a.KHR_TEXTURE_TRANSFORM:o[t]=new L;break;case a.KHR_MESH_QUANTIZATION:o[t]=new P;break;default:n.indexOf(t)>=0&&void 0===s[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}u.setExtensions(o),u.setPlugins(s),u.parse(n,i)}parseAsync(e,t){const n=this;return new Promise((function(i,r){n.parse(e,t,i,r)}))}}function s(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const a={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class l{constructor(e){this.parser=e,this.name=a.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const o=t.json,s=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let a;const l=new i.Color(16777215);void 0!==s.color&&l.setRGB(s.color[0],s.color[1],s.color[2],i.LinearSRGBColorSpace);const c=void 0!==s.range?s.range:0;switch(s.type){case"directional":a=new i.DirectionalLight(l),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new i.PointLight(l),a.distance=c;break;case"spot":a=new i.SpotLight(l),a.distance=c,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),Y(a,s),void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,i=n.json.nodes[e],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(e){return n._getNodeRef(t.cache,r,e)}))}}class c{constructor(){this.name=a.KHR_MATERIALS_UNLIT}getMaterialType(){return i.MeshBasicMaterial}extendParams(e,t,n){const r=[];e.color=new i.Color(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const t=o.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],i.LinearSRGBColorSpace),e.opacity=t[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(e,"map",o.baseColorTexture,i.SRGBColorSpace))}return Promise.all(r)}}class u{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name].emissiveStrength;return void 0!==i&&(t.emissiveIntensity=i),Promise.resolve()}}class d{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];if(void 0!==s.clearcoatFactor&&(t.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&o.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(o.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){const e=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new i.Vector2(e,e)}return Promise.all(o)}}class h{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return t.dispersion=void 0!==i.dispersion?i.dispersion:0,Promise.resolve()}}class p{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&r.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&r.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class f{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new i.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(void 0!==s.sheenColorFactor){const e=s.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],i.LinearSRGBColorSpace)}return void 0!==s.sheenRoughnessFactor&&(t.sheenRoughness=s.sheenRoughnessFactor),void 0!==s.sheenColorTexture&&o.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,i.SRGBColorSpace)),void 0!==s.sheenRoughnessTexture&&o.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class m{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&r.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class g{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.thickness=void 0!==s.thicknessFactor?s.thicknessFactor:0,void 0!==s.thicknessTexture&&o.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=(new i.Color).setRGB(a[0],a[1],a[2],i.LinearSRGBColorSpace),Promise.all(o)}}class v{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return t.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}class y{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.specularIntensity=void 0!==s.specularFactor?s.specularFactor:1,void 0!==s.specularTexture&&o.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=(new i.Color).setRGB(a[0],a[1],a[2],i.LinearSRGBColorSpace),void 0!==s.specularColorTexture&&o.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,i.SRGBColorSpace)),Promise.all(o)}}class E{constructor(e){this.parser=e,this.name=a.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return t.bumpScale=void 0!==o.bumpFactor?o.bumpFactor:1,void 0!==o.bumpTexture&&r.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(r)}}class S{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.anisotropyStrength&&(t.anisotropy=o.anisotropyStrength),void 0!==o.anisotropyRotation&&(t.anisotropyRotation=o.anisotropyRotation),void 0!==o.anisotropyTexture&&r.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class b{constructor(e){this.parser=e,this.name=a.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,o)}}class _{constructor(e){this.parser=e,this.name=a.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],s=i.images[o.source];let a=n.textureLoader;if(s.uri){const e=n.options.manager.getHandler(s.uri);null!==e&&(a=e)}return n.loadTextureImage(e,o.source,a)}}class O{constructor(e){this.parser=e,this.name=a.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],s=i.images[o.source];let a=n.textureLoader;if(s.uri){const e=n.options.manager.getHandler(s.uri);null!==e&&(a=e)}return n.loadTextureImage(e,o.source,a)}}class T{constructor(e){this.name=a.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],i=this.parser.getDependency("buffer",e.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(t){const n=e.byteOffset||0,i=e.byteLength||0,o=e.count,s=e.byteStride,a=new Uint8Array(t,n,i);return r.decodeGltfBufferAsync?r.decodeGltfBufferAsync(o,s,a,e.mode,e.filter).then((function(e){return e.buffer})):r.ready.then((function(){const t=new ArrayBuffer(o*s);return r.decodeGltfBuffer(new Uint8Array(t),o,s,a,e.mode,e.filter),t}))}))}return null}}class A{constructor(e){this.name=a.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const r=t.meshes[n.mesh];for(const e of r.primitives)if(e.mode!==x.TRIANGLES&&e.mode!==x.TRIANGLE_STRIP&&e.mode!==x.TRIANGLE_FAN&&void 0!==e.mode)return null;const o=n.extensions[this.name].attributes,s=[],a={};for(const e in o)s.push(this.parser.getDependency("accessor",o[e]).then((t=>(a[e]=t,a[e]))));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then((e=>{const t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,o=[];for(const e of n){const t=new i.Matrix4,n=new i.Vector3,s=new i.Quaternion,l=new i.Vector3(1,1,1),c=new i.InstancedMesh(e.geometry,e.material,r);for(let e=0;e<r;e++)a.TRANSLATION&&n.fromBufferAttribute(a.TRANSLATION,e),a.ROTATION&&s.fromBufferAttribute(a.ROTATION,e),a.SCALE&&l.fromBufferAttribute(a.SCALE,e),c.setMatrixAt(e,t.compose(n,s,l));for(const t in a)if("_COLOR_0"===t){const e=a[t];c.instanceColor=new i.InstancedBufferAttribute(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,a[t]);i.Object3D.prototype.copy.call(c,e),this.parser.assignFinalMaterial(c),o.push(c)}return t.isGroup?(t.clear(),t.add(...o),t):o[0]})))}}const w="glTF",N=1313821514,I=5130562;class R{constructor(e){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==w)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-12,r=new DataView(e,12);let o=0;for(;o<i;){const t=r.getUint32(o,!0);o+=4;const i=r.getUint32(o,!0);if(o+=4,i===N){const i=new Uint8Array(e,12+o,t);this.content=n.decode(i)}else if(i===I){const n=12+o;this.body=e.slice(n,n+t)}o+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class k{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},l={},c={};for(const e in s){const t=B[e]||e.toLowerCase();a[t]=s[e]}for(const t in e.attributes){const i=B[t]||t.toLowerCase();if(void 0!==s[t]){const r=n.accessors[e.attributes[t]],o=U[r.componentType];c[i]=o.name,l[i]=!0===r.normalized}}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t,n){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],i=l[t];void 0!==i&&(n.normalized=i)}t(e)}),a,c,i.LinearSRGBColorSpace,n)}))}))}}class L{constructor(){this.name=a.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class P{constructor(){this.name=a.KHR_MESH_QUANTIZATION}}class D extends i.Interpolant{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let e=0;e!==i;e++)t[e]=n[r+e];return t}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=2*s,l=3*s,c=i-t,u=(n-t)/c,d=u*u,h=d*u,p=e*l,f=p-l,m=-2*h+3*d,g=h-d,v=1-m,y=g-d+u;for(let e=0;e!==s;e++){const t=o[f+e+s],n=o[f+e+a]*c,i=o[p+e+s],l=o[p+e]*c;r[e]=v*t+y*n+m*i+g*l}return r}}const M=new i.Quaternion;class C extends D{interpolate_(e,t,n,i){const r=super.interpolate_(e,t,n,i);return M.fromArray(r).normalize().toArray(r),r}}const x={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},U={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},F={9728:i.NearestFilter,9729:i.LinearFilter,9984:i.NearestMipmapNearestFilter,9985:i.LinearMipmapNearestFilter,9986:i.NearestMipmapLinearFilter,9987:i.LinearMipmapLinearFilter},H={33071:i.ClampToEdgeWrapping,33648:i.MirroredRepeatWrapping,10497:i.RepeatWrapping},G={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},B={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},V={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},j={CUBICSPLINE:void 0,LINEAR:i.InterpolateLinear,STEP:i.InterpolateDiscrete},W="OPAQUE",z="MASK",$="BLEND";function K(e,t,n){for(const i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function Y(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function q(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,i=t.weights.length;n<i;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,i=n.length;t<i;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Q(e){let t;const n=e.extensions&&e.extensions[a.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+X(n.attributes):e.indices+":"+X(e.attributes)+":"+e.mode,void 0!==e.targets)for(let n=0,i=e.targets.length;n<i;n++)t+=":"+X(e.targets[n]);return t}function X(e){let t="";const n=Object.keys(e).sort();for(let i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function J(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Z=new i.Matrix4;class ee{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new s,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=-1,o=!1,a=-1;if("undefined"!=typeof navigator){const e=navigator.userAgent;n=!0===/^((?!chrome|android).)*safari/i.test(e);const t=e.match(/Version\/(\d+)/);r=n&&t?parseInt(t[1],10):-1,o=e.indexOf("Firefox")>-1,a=o?e.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"==typeof createImageBitmap||n&&r<17||o&&a<98?this.textureLoader=new i.TextureLoader(this.options.manager):this.textureLoader=new i.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new i.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const o={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:n,userData:{}};return K(r,o,i),Y(o,i),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){for(const e of o.scenes)e.updateMatrixWorld();e(o)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let n=0,i=t.length;n<i;n++){const i=t[n].joints;for(let t=0,n=i.length;t<n;t++)e[i[t]].isBone=!0}for(let t=0,i=e.length;t<i;t++){const i=e[t];void 0!==i.mesh&&(this._addNodeRef(this.meshCache,i.mesh),void 0!==i.skin&&(n[i.mesh].isSkinnedMesh=!0)),void 0!==i.camera&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),r=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[n,i]of e.children.entries())r(i,t.children[n])};return r(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const r=e(t[i]);r&&n.push(r)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":i=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":i=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!i)throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(i.map((function(t,i){return n.getDependency(e,i)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,o){n.load(i.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const e=G[r.type],t=U[r.componentType],n=!0===r.normalized,o=new t(r.count*e);return Promise.resolve(new i.BufferAttribute(o,e,n))}const o=[];return void 0!==r.bufferView?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),void 0!==r.sparse&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then((function(e){const o=e[0],s=G[r.type],a=U[r.componentType],l=a.BYTES_PER_ELEMENT,c=l*s,u=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,h=!0===r.normalized;let p,f;if(d&&d!==c){const e=Math.floor(u/d),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let c=t.cache.get(n);c||(p=new a(o,e*d,r.count*d/l),c=new i.InterleavedBuffer(p,d/l),t.cache.add(n,c)),f=new i.InterleavedBufferAttribute(c,s,u%d/l,h)}else p=null===o?new a(r.count*s):new a(o,u,r.count*s),f=new i.BufferAttribute(p,s,h);if(void 0!==r.sparse){const t=G.SCALAR,n=U[r.sparse.indices.componentType],l=r.sparse.indices.byteOffset||0,c=r.sparse.values.byteOffset||0,u=new n(e[1],l,r.sparse.count*t),d=new a(e[2],c,r.sparse.count*s);null!==o&&(f=new i.BufferAttribute(f.array.slice(),f.itemSize,f.normalized)),f.normalized=!1;for(let e=0,t=u.length;e<t;e++){const t=u[e];if(f.setX(t,d[e*s]),s>=2&&f.setY(t,d[e*s+1]),s>=3&&f.setZ(t,d[e*s+2]),s>=4&&f.setW(t,d[e*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}f.normalized=h}return f}))}loadTexture(e){const t=this.json,n=this.options,i=t.textures[e].source,r=t.images[i];let o=this.textureLoader;if(r.uri){const e=n.manager.getHandler(r.uri);null!==e&&(o=e)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,t,n){const r=this,o=this.json,s=o.textures[e],a=o.images[t],l=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=s.name||a.name||"",""===t.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(t.name=a.uri);const n=(o.samplers||{})[s.sampler]||{};return t.magFilter=F[n.magFilter]||i.LinearFilter,t.minFilter=F[n.minFilter]||i.LinearMipmapLinearFilter,t.wrapS=H[n.wrapS]||i.RepeatWrapping,t.wrapT=H[n.wrapT]||i.RepeatWrapping,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==i.NearestFilter&&t.minFilter!==i.LinearFilter,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,r=this.json,o=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const s=r.images[e],a=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(void 0!==s.bufferView)l=n.getDependency("bufferView",s.bufferView).then((function(e){c=!0;const t=new Blob([e],{type:s.mimeType});return l=a.createObjectURL(t),l}));else if(void 0===s.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then((function(e){return new Promise((function(n,r){let s=n;!0===t.isImageBitmapLoader&&(s=function(e){const t=new i.Texture(e);t.needsUpdate=!0,n(t)}),t.load(i.LoaderUtils.resolveURL(e,o.path),s,void 0,r)}))})).then((function(e){var t;return!0===c&&a.revokeObjectURL(l),Y(e,s),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":t.search(/\.ktx2($|\?)/i)>0||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),e}));return this.sourceCache[e]=u,u}assignTexture(e,t,n,i){const r=this;return this.getDependency("texture",n.index).then((function(o){if(!o)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((o=o.clone()).channel=n.texCoord),r.extensions[a.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[a.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=r.associations.get(o);o=r.extensions[a.KHR_TEXTURE_TRANSFORM].extendTexture(o,e),r.associations.set(o,t)}}return void 0!==i&&(o.colorSpace=i),e[t]=o,o}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,o=void 0!==t.attributes.color,s=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new i.PointsMaterial,i.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new i.LineBasicMaterial,i.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(r||o||s){let e="ClonedMaterial:"+n.uuid+":";r&&(e+="derivative-tangents:"),o&&(e+="vertex-colors:"),s&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),o&&(t.vertexColors=!0),s&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return i.MeshStandardMaterial}loadMaterial(e){const t=this,n=this.json,r=this.extensions,o=n.materials[e];let s;const l={},c=[];if((o.extensions||{})[a.KHR_MATERIALS_UNLIT]){const e=r[a.KHR_MATERIALS_UNLIT];s=e.getMaterialType(),c.push(e.extendParams(l,o,t))}else{const n=o.pbrMetallicRoughness||{};if(l.color=new i.Color(1,1,1),l.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;l.color.setRGB(e[0],e[1],e[2],i.LinearSRGBColorSpace),l.opacity=e[3]}void 0!==n.baseColorTexture&&c.push(t.assignTexture(l,"map",n.baseColorTexture,i.SRGBColorSpace)),l.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,l.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(c.push(t.assignTexture(l,"metalnessMap",n.metallicRoughnessTexture)),c.push(t.assignTexture(l,"roughnessMap",n.metallicRoughnessTexture))),s=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,l)}))))}!0===o.doubleSided&&(l.side=i.DoubleSide);const u=o.alphaMode||W;if(u===$?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,u===z&&(l.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&s!==i.MeshBasicMaterial&&(c.push(t.assignTexture(l,"normalMap",o.normalTexture)),l.normalScale=new i.Vector2(1,1),void 0!==o.normalTexture.scale)){const e=o.normalTexture.scale;l.normalScale.set(e,e)}if(void 0!==o.occlusionTexture&&s!==i.MeshBasicMaterial&&(c.push(t.assignTexture(l,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(l.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&s!==i.MeshBasicMaterial){const e=o.emissiveFactor;l.emissive=(new i.Color).setRGB(e[0],e[1],e[2],i.LinearSRGBColorSpace)}return void 0!==o.emissiveTexture&&s!==i.MeshBasicMaterial&&c.push(t.assignTexture(l,"emissiveMap",o.emissiveTexture,i.SRGBColorSpace)),Promise.all(c).then((function(){const n=new s(l);return o.name&&(n.name=o.name),Y(n,o),t.associations.set(n,{materials:e}),o.extensions&&K(r,n,o),n}))}createUniqueName(e){const t=i.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function o(e){return n[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return te(n,e,t)}))}const s=[];for(let n=0,l=e.length;n<l;n++){const l=e[n],c=Q(l),u=r[c];if(u)s.push(u.promise);else{let e;e=l.extensions&&l.extensions[a.KHR_DRACO_MESH_COMPRESSION]?o(l):te(new i.BufferGeometry,l,t),r[c]={primitive:l,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,o=this.extensions,s=n.meshes[e],a=s.primitives,l=[];for(let e=0,t=a.length;e<t;e++){const t=void 0===a[e].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new i.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.FrontSide})),c.DefaultMaterial):this.getDependency("material",a[e].material);l.push(t)}var c;return l.push(t.loadGeometries(a)),Promise.all(l).then((function(n){const l=n.slice(0,n.length-1),c=n[n.length-1],u=[];for(let n=0,d=c.length;n<d;n++){const d=c[n],h=a[n];let p;const f=l[n];if(h.mode===x.TRIANGLES||h.mode===x.TRIANGLE_STRIP||h.mode===x.TRIANGLE_FAN||void 0===h.mode)p=!0===s.isSkinnedMesh?new i.SkinnedMesh(d,f):new i.Mesh(d,f),!0===p.isSkinnedMesh&&p.normalizeSkinWeights(),h.mode===x.TRIANGLE_STRIP?p.geometry=(0,r.toTrianglesDrawMode)(p.geometry,i.TriangleStripDrawMode):h.mode===x.TRIANGLE_FAN&&(p.geometry=(0,r.toTrianglesDrawMode)(p.geometry,i.TriangleFanDrawMode));else if(h.mode===x.LINES)p=new i.LineSegments(d,f);else if(h.mode===x.LINE_STRIP)p=new i.Line(d,f);else if(h.mode===x.LINE_LOOP)p=new i.LineLoop(d,f);else{if(h.mode!==x.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);p=new i.Points(d,f)}Object.keys(p.geometry.morphAttributes).length>0&&q(p,s),p.name=t.createUniqueName(s.name||"mesh_"+e),Y(p,s),h.extensions&&K(o,p,h),t.assignFinalMaterial(p),u.push(p)}for(let n=0,i=u.length;n<i;n++)t.associations.set(u[n],{meshes:e,primitives:n});if(1===u.length)return s.extensions&&K(o,u[0],s),u[0];const d=new i.Group;s.extensions&&K(o,d,s),t.associations.set(d,{meshes:e});for(let e=0,t=u.length;e<t;e++)d.add(u[e]);return d}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new i.PerspectiveCamera(i.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new i.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Y(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n=[];for(let e=0,i=t.joints.length;e<i;e++)n.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const n=e.pop(),r=e,o=[],s=[];for(let e=0,a=r.length;e<a;e++){const a=r[e];if(a){o.push(a);const t=new i.Matrix4;null!==n&&t.fromArray(n.array,16*e),s.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}return new i.Skeleton(o,s)}))}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],o=r.name?r.name:"animation_"+e,s=[],a=[],l=[],c=[],u=[];for(let e=0,t=r.channels.length;e<t;e++){const t=r.channels[e],n=r.samplers[t.sampler],i=t.target,o=i.node,d=void 0!==r.parameters?r.parameters[n.input]:n.input,h=void 0!==r.parameters?r.parameters[n.output]:n.output;void 0!==i.node&&(s.push(this.getDependency("node",o)),a.push(this.getDependency("accessor",d)),l.push(this.getDependency("accessor",h)),c.push(n),u.push(i))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then((function(e){const t=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=[];for(let e=0,i=t.length;e<i;e++){const i=t[e],o=r[e],u=s[e],d=a[e],h=l[e];if(void 0===i)continue;i.updateMatrix&&i.updateMatrix();const p=n._createAnimationTracks(i,o,u,d,h);if(p)for(let e=0;e<p.length;e++)c.push(p[e])}return new i.AnimationClip(o,void 0,c)}))}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,i.mesh,e);return void 0!==i.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=i.weights.length;t<n;t++)e.morphTargetInfluences[t]=i.weights[t]})),t}))}loadNode(e){const t=this,n=this.json.nodes[e],i=t._loadNodeShallow(e),r=[],o=n.children||[];for(let e=0,n=o.length;e<n;e++)r.push(t.getDependency("node",o[e]));const s=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([i,Promise.all(r),s]).then((function(e){const t=e[0],n=e[1],i=e[2];null!==i&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(i,Z)}));for(let e=0,i=n.length;e<i;e++)t.add(n[e]);return t}))}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const o=t.nodes[e],s=o.name?r.createUniqueName(o.name):"",a=[],l=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return l&&a.push(l),void 0!==o.camera&&a.push(r.getDependency("camera",o.camera).then((function(e){return r._getNodeRef(r.cameraCache,o.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){a.push(e)})),this.nodeCache[e]=Promise.all(a).then((function(t){let a;if(a=!0===o.isBone?new i.Bone:t.length>1?new i.Group:1===t.length?t[0]:new i.Object3D,a!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(o.name&&(a.userData.name=o.name,a.name=s),Y(a,o),o.extensions&&K(n,a,o),void 0!==o.matrix){const e=new i.Matrix4;e.fromArray(o.matrix),a.applyMatrix4(e)}else void 0!==o.translation&&a.position.fromArray(o.translation),void 0!==o.rotation&&a.quaternion.fromArray(o.rotation),void 0!==o.scale&&a.scale.fromArray(o.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a})),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,o=new i.Group;n.name&&(o.name=r.createUniqueName(n.name)),Y(o,n),n.extensions&&K(t,o,n);const s=n.nodes||[],a=[];for(let e=0,t=s.length;e<t;e++)a.push(r.getDependency("node",s[e]));return Promise.all(a).then((function(e){for(let t=0,n=e.length;t<n;t++)o.add(e[t]);return r.associations=(e=>{const t=new Map;for(const[e,n]of r.associations)(e instanceof i.Material||e instanceof i.Texture)&&t.set(e,n);return e.traverse((e=>{const n=r.associations.get(e);null!=n&&t.set(e,n)})),t})(o),o}))}_createAnimationTracks(e,t,n,r,o){const s=[],a=e.name?e.name:e.uuid,l=[];let c;switch(V[o.path]===V.weights?e.traverse((function(e){e.morphTargetInfluences&&l.push(e.name?e.name:e.uuid)})):l.push(a),V[o.path]){case V.weights:c=i.NumberKeyframeTrack;break;case V.rotation:c=i.QuaternionKeyframeTrack;break;case V.translation:case V.scale:c=i.VectorKeyframeTrack;break;default:if(1===n.itemSize)c=i.NumberKeyframeTrack;else c=i.VectorKeyframeTrack}const u=void 0!==r.interpolation?j[r.interpolation]:i.InterpolateLinear,d=this._getArrayFromAccessor(n);for(let e=0,n=l.length;e<n;e++){const n=new c(l[e]+"."+V[o.path],t.array,d,u);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(n),s.push(n)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const e=J(t.constructor),n=new Float32Array(t.length);for(let i=0,r=t.length;i<r;i++)n[i]=t[i]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof i.QuaternionKeyframeTrack?C:D)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function te(e,t,n){const r=t.attributes,o=[];function s(t,i){return n.getDependency("accessor",t).then((function(t){e.setAttribute(i,t)}))}for(const t in r){const n=B[t]||t.toLowerCase();n in e.attributes||o.push(s(r[t],n))}if(void 0!==t.indices&&!e.index){const i=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(i)}return i.ColorManagement.workingColorSpace!==i.LinearSRGBColorSpace&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${i.ColorManagement.workingColorSpace}" not supported.`),Y(e,t),function(e,t,n){const r=t.attributes,o=new i.Box3;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,s=e.max;if(void 0===t||void 0===s)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(o.set(new i.Vector3(t[0],t[1],t[2]),new i.Vector3(s[0],s[1],s[2])),e.normalized){const t=J(U[e.componentType]);o.min.multiplyScalar(t),o.max.multiplyScalar(t)}}const s=t.targets;if(void 0!==s){const e=new i.Vector3,t=new i.Vector3;for(let i=0,r=s.length;i<r;i++){const r=s[i];if(void 0!==r.POSITION){const i=n.json.accessors[r.POSITION],o=i.min,s=i.max;if(void 0!==o&&void 0!==s){if(t.setX(Math.max(Math.abs(o[0]),Math.abs(s[0]))),t.setY(Math.max(Math.abs(o[1]),Math.abs(s[1]))),t.setZ(Math.max(Math.abs(o[2]),Math.abs(s[2]))),i.normalized){const e=J(U[i.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(e)}e.boundingBox=o;const a=new i.Sphere;o.getCenter(a.center),a.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=a}(e,t,n),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,n){let i=!1,r=!1,o=!1;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(void 0!==n.POSITION&&(i=!0),void 0!==n.NORMAL&&(r=!0),void 0!==n.COLOR_0&&(o=!0),i&&r&&o)break}if(!i&&!r&&!o)return Promise.resolve(e);const s=[],a=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(i){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;s.push(t)}if(r){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;a.push(t)}if(o){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then((function(t){const n=t[0],s=t[1],a=t[2];return i&&(e.morphAttributes.position=n),r&&(e.morphAttributes.normal=s),o&&(e.morphAttributes.color=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}},9289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SVGLoader:()=>o});var i=n(68909);const r=i.SRGBColorSpace;class o extends i.Loader{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,n,r){const o=this,s=new i.FileLoader(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,(function(n){try{t(o.parse(n))}catch(t){r?r(t):console.error(t),o.manager.itemError(e)}}),n,r)}parse(e){const t=this;function n(e,t,n,i,r,s,a,l){if(0==t||0==n)return void e.lineTo(l.x,l.y);i=i*Math.PI/180,t=Math.abs(t),n=Math.abs(n);const c=(a.x-l.x)/2,u=(a.y-l.y)/2,d=Math.cos(i)*c+Math.sin(i)*u,h=-Math.sin(i)*c+Math.cos(i)*u;let p=t*t,f=n*n;const m=d*d,g=h*h,v=m/p+g/f;if(v>1){const e=Math.sqrt(v);p=(t*=e)*t,f=(n*=e)*n}const y=p*g+f*m,E=(p*f-y)/y;let S=Math.sqrt(Math.max(0,E));r===s&&(S=-S);const b=S*t*h/n,_=-S*n*d/t,O=Math.cos(i)*b-Math.sin(i)*_+(a.x+l.x)/2,T=Math.sin(i)*b+Math.cos(i)*_+(a.y+l.y)/2,A=o(1,0,(d-b)/t,(h-_)/n),w=o((d-b)/t,(h-_)/n,(-d-b)/t,(-h-_)/n)%(2*Math.PI);e.currentPath.absellipse(O,T,t,n,A,A+w,0===s,i)}function o(e,t,n,i){const r=e*n+t*i,o=Math.sqrt(e*e+t*t)*Math.sqrt(n*n+i*i);let s=Math.acos(Math.max(-1,Math.min(1,r/o)));return e*i-t*n<0&&(s=-s),s}function s(e,t){t=Object.assign({},t);let n={};if(e.hasAttribute("class")){const t=e.getAttribute("class").split(/\s/).filter(Boolean).map((e=>e.trim()));for(let e=0;e<t.length;e++)n=Object.assign(n,v["."+t[e]])}function i(i,r,o){void 0===o&&(o=function(e){return e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),e}),e.hasAttribute(i)&&(t[r]=o(e.getAttribute(i))),n[i]&&(t[r]=o(n[i])),e.style&&""!==e.style[i]&&(t[r]=o(e.style[i]))}function r(e){return Math.max(0,Math.min(1,d(e)))}function o(e){return Math.max(0,d(e))}return e.hasAttribute("id")&&(n=Object.assign(n,v["#"+e.getAttribute("id")])),i("fill","fill"),i("fill-opacity","fillOpacity",r),i("fill-rule","fillRule"),i("opacity","opacity",r),i("stroke","stroke"),i("stroke-opacity","strokeOpacity",r),i("stroke-width","strokeWidth",o),i("stroke-linejoin","strokeLineJoin"),i("stroke-linecap","strokeLineCap"),i("stroke-miterlimit","strokeMiterLimit",o),i("visibility","visibility"),t}function a(e,t){return e-(t-e)}function l(e,t,n){if("string"!=typeof e)throw new TypeError("Invalid input: "+typeof e);const i={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/};let r=0,o=!0,s="",a="";const l=[];function c(e,t,n){const i=new SyntaxError('Unexpected character "'+e+'" at index '+t+".");throw i.partial=n,i}function u(){""!==s&&(""===a?l.push(Number(s)):l.push(Number(s)*Math.pow(10,Number(a)))),s="",a=""}let d;const h=e.length;for(let p=0;p<h;p++)if(d=e[p],Array.isArray(t)&&t.includes(l.length%n)&&i.FLAGS.test(d))r=1,s=d,u();else{if(0===r){if(i.WHITESPACE.test(d))continue;if(i.DIGIT.test(d)||i.SIGN.test(d)){r=1,s=d;continue}if(i.POINT.test(d)){r=2,s=d;continue}i.COMMA.test(d)&&(o&&c(d,p,l),o=!0)}if(1===r){if(i.DIGIT.test(d)){s+=d;continue}if(i.POINT.test(d)){s+=d,r=2;continue}if(i.EXP.test(d)){r=3;continue}i.SIGN.test(d)&&1===s.length&&i.SIGN.test(s[0])&&c(d,p,l)}if(2===r){if(i.DIGIT.test(d)){s+=d;continue}if(i.EXP.test(d)){r=3;continue}i.POINT.test(d)&&"."===s[s.length-1]&&c(d,p,l)}if(3===r){if(i.DIGIT.test(d)){a+=d;continue}if(i.SIGN.test(d)){if(""===a){a+=d;continue}1===a.length&&i.SIGN.test(a)&&c(d,p,l)}}i.WHITESPACE.test(d)?(u(),r=0,o=!1):i.COMMA.test(d)?(u(),r=0,o=!0):i.SIGN.test(d)?(u(),r=1,s=d):i.POINT.test(d)?(u(),r=2,s=d):c(d,p,l)}return u(),l}const c=["mm","cm","in","pt","pc","px"],u={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function d(e){let n,i="px";if("string"==typeof e||e instanceof String)for(let t=0,n=c.length;t<n;t++){const n=c[t];if(e.endsWith(n)){i=n,e=e.substring(0,e.length-n.length);break}}return"px"===i&&"px"!==t.defaultUnit?n=u.in[t.defaultUnit]/t.defaultDPI:(n=u[i][t.defaultUnit],n<0&&(n=u[i].in*t.defaultDPI)),n*parseFloat(e)}function h(e){const t=e.elements;return t[0]*t[4]-t[1]*t[3]<0}function p(e){const t=e.elements,n=t[0]*t[3]+t[1]*t[4];if(0===n)return!1;const i=f(e),r=m(e);return Math.abs(n/(i*r))>Number.EPSILON}function f(e){const t=e.elements;return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function m(e){const t=e.elements;return Math.sqrt(t[3]*t[3]+t[4]*t[4])}const g=[],v={},y=[],E=new i.Matrix3,S=new i.Matrix3,b=new i.Matrix3,_=new i.Matrix3,O=new i.Vector2,T=new i.Vector3,A=new i.Matrix3,w=(new DOMParser).parseFromString(e,"image/svg+xml");!function e(t,o){if(1!==t.nodeType)return;const c=function(e){if(!(e.hasAttribute("transform")||"use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))))return null;const t=function(e){const t=new i.Matrix3,n=E;if("use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))){const n=d(e.getAttribute("x")),i=d(e.getAttribute("y"));t.translate(n,i)}if(e.hasAttribute("transform")){const i=e.getAttribute("transform").split(")");for(let e=i.length-1;e>=0;e--){const r=i[e].trim();if(""===r)continue;const o=r.indexOf("("),s=r.length;if(o>0&&o<s){const e=r.slice(0,o),t=l(r.slice(o+1));switch(n.identity(),e){case"translate":if(t.length>=1){const e=t[0];let i=0;t.length>=2&&(i=t[1]),n.translate(e,i)}break;case"rotate":if(t.length>=1){let e=0,i=0,r=0;e=t[0]*Math.PI/180,t.length>=3&&(i=t[1],r=t[2]),S.makeTranslation(-i,-r),b.makeRotation(e),_.multiplyMatrices(b,S),S.makeTranslation(i,r),n.multiplyMatrices(S,_)}break;case"scale":if(t.length>=1){const e=t[0];let i=e;t.length>=2&&(i=t[1]),n.scale(e,i)}break;case"skewX":1===t.length&&n.set(1,Math.tan(t[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===t.length&&n.set(1,0,0,Math.tan(t[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===t.length&&n.set(t[0],t[2],t[4],t[1],t[3],t[5],0,0,1)}}t.premultiply(n)}}return t}(e);y.length>0&&t.premultiply(y[y.length-1]);return A.copy(t),y.push(t),t}(t);let u=!1,w=null;switch(t.nodeName){case"svg":case"g":o=s(t,o);break;case"style":!function(e){if(!e.sheet||!e.sheet.cssRules||!e.sheet.cssRules.length)return;for(let t=0;t<e.sheet.cssRules.length;t++){const n=e.sheet.cssRules[t];if(1!==n.type)continue;const i=n.selectorText.split(/,/gm).filter(Boolean).map((e=>e.trim()));for(let e=0;e<i.length;e++){const t=Object.fromEntries(Object.entries(n.style).filter((([,e])=>""!==e)));v[i[e]]=Object.assign(v[i[e]]||{},t)}}}(t);break;case"path":o=s(t,o),t.hasAttribute("d")&&(w=function(e){const t=new i.ShapePath,r=new i.Vector2,o=new i.Vector2,s=new i.Vector2;let c=!0,u=!1;const d=e.getAttribute("d");if(""===d||"none"===d)return null;const h=d.match(/[a-df-z][^a-df-z]*/gi);for(let e=0,i=h.length;e<i;e++){const i=h[e],d=i.charAt(0),p=i.slice(1).trim();let f;switch(!0===c&&(u=!0,c=!1),d){case"M":f=l(p);for(let e=0,n=f.length;e<n;e+=2)r.x=f[e+0],r.y=f[e+1],o.x=r.x,o.y=r.y,0===e?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),0===e&&s.copy(r);break;case"H":f=l(p);for(let e=0,n=f.length;e<n;e++)r.x=f[e],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"V":f=l(p);for(let e=0,n=f.length;e<n;e++)r.y=f[e],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"L":f=l(p);for(let e=0,n=f.length;e<n;e+=2)r.x=f[e+0],r.y=f[e+1],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"C":f=l(p);for(let e=0,n=f.length;e<n;e+=6)t.bezierCurveTo(f[e+0],f[e+1],f[e+2],f[e+3],f[e+4],f[e+5]),o.x=f[e+2],o.y=f[e+3],r.x=f[e+4],r.y=f[e+5],0===e&&!0===u&&s.copy(r);break;case"S":f=l(p);for(let e=0,n=f.length;e<n;e+=4)t.bezierCurveTo(a(r.x,o.x),a(r.y,o.y),f[e+0],f[e+1],f[e+2],f[e+3]),o.x=f[e+0],o.y=f[e+1],r.x=f[e+2],r.y=f[e+3],0===e&&!0===u&&s.copy(r);break;case"Q":f=l(p);for(let e=0,n=f.length;e<n;e+=4)t.quadraticCurveTo(f[e+0],f[e+1],f[e+2],f[e+3]),o.x=f[e+0],o.y=f[e+1],r.x=f[e+2],r.y=f[e+3],0===e&&!0===u&&s.copy(r);break;case"T":f=l(p);for(let e=0,n=f.length;e<n;e+=2){const n=a(r.x,o.x),i=a(r.y,o.y);t.quadraticCurveTo(n,i,f[e+0],f[e+1]),o.x=n,o.y=i,r.x=f[e+0],r.y=f[e+1],0===e&&!0===u&&s.copy(r)}break;case"A":f=l(p,[3,4],7);for(let e=0,i=f.length;e<i;e+=7){if(f[e+5]==r.x&&f[e+6]==r.y)continue;const i=r.clone();r.x=f[e+5],r.y=f[e+6],o.x=r.x,o.y=r.y,n(t,f[e],f[e+1],f[e+2],f[e+3],f[e+4],i,r),0===e&&!0===u&&s.copy(r)}break;case"m":f=l(p);for(let e=0,n=f.length;e<n;e+=2)r.x+=f[e+0],r.y+=f[e+1],o.x=r.x,o.y=r.y,0===e?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),0===e&&s.copy(r);break;case"h":f=l(p);for(let e=0,n=f.length;e<n;e++)r.x+=f[e],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"v":f=l(p);for(let e=0,n=f.length;e<n;e++)r.y+=f[e],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"l":f=l(p);for(let e=0,n=f.length;e<n;e+=2)r.x+=f[e+0],r.y+=f[e+1],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"c":f=l(p);for(let e=0,n=f.length;e<n;e+=6)t.bezierCurveTo(r.x+f[e+0],r.y+f[e+1],r.x+f[e+2],r.y+f[e+3],r.x+f[e+4],r.y+f[e+5]),o.x=r.x+f[e+2],o.y=r.y+f[e+3],r.x+=f[e+4],r.y+=f[e+5],0===e&&!0===u&&s.copy(r);break;case"s":f=l(p);for(let e=0,n=f.length;e<n;e+=4)t.bezierCurveTo(a(r.x,o.x),a(r.y,o.y),r.x+f[e+0],r.y+f[e+1],r.x+f[e+2],r.y+f[e+3]),o.x=r.x+f[e+0],o.y=r.y+f[e+1],r.x+=f[e+2],r.y+=f[e+3],0===e&&!0===u&&s.copy(r);break;case"q":f=l(p);for(let e=0,n=f.length;e<n;e+=4)t.quadraticCurveTo(r.x+f[e+0],r.y+f[e+1],r.x+f[e+2],r.y+f[e+3]),o.x=r.x+f[e+0],o.y=r.y+f[e+1],r.x+=f[e+2],r.y+=f[e+3],0===e&&!0===u&&s.copy(r);break;case"t":f=l(p);for(let e=0,n=f.length;e<n;e+=2){const n=a(r.x,o.x),i=a(r.y,o.y);t.quadraticCurveTo(n,i,r.x+f[e+0],r.y+f[e+1]),o.x=n,o.y=i,r.x=r.x+f[e+0],r.y=r.y+f[e+1],0===e&&!0===u&&s.copy(r)}break;case"a":f=l(p,[3,4],7);for(let e=0,i=f.length;e<i;e+=7){if(0==f[e+5]&&0==f[e+6])continue;const i=r.clone();r.x+=f[e+5],r.y+=f[e+6],o.x=r.x,o.y=r.y,n(t,f[e],f[e+1],f[e+2],f[e+3],f[e+4],i,r),0===e&&!0===u&&s.copy(r)}break;case"Z":case"z":t.currentPath.autoClose=!0,t.currentPath.curves.length>0&&(r.copy(s),t.currentPath.currentPoint.copy(r),c=!0);break;default:console.warn(i)}u=!1}return t}(t));break;case"rect":o=s(t,o),w=function(e){const t=d(e.getAttribute("x")||0),n=d(e.getAttribute("y")||0),r=d(e.getAttribute("rx")||e.getAttribute("ry")||0),o=d(e.getAttribute("ry")||e.getAttribute("rx")||0),s=d(e.getAttribute("width")),a=d(e.getAttribute("height")),l=.448084975506,c=new i.ShapePath;c.moveTo(t+r,n),c.lineTo(t+s-r,n),(0!==r||0!==o)&&c.bezierCurveTo(t+s-r*l,n,t+s,n+o*l,t+s,n+o);c.lineTo(t+s,n+a-o),(0!==r||0!==o)&&c.bezierCurveTo(t+s,n+a-o*l,t+s-r*l,n+a,t+s-r,n+a);c.lineTo(t+r,n+a),(0!==r||0!==o)&&c.bezierCurveTo(t+r*l,n+a,t,n+a-o*l,t,n+a-o);c.lineTo(t,n+o),(0!==r||0!==o)&&c.bezierCurveTo(t,n+o*l,t+r*l,n,t+r,n);return c}(t);break;case"polygon":o=s(t,o),w=function(e){function t(e,t,n){const i=d(t),s=d(n);0===o?r.moveTo(i,s):r.lineTo(i,s),o++}const n=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,r=new i.ShapePath;let o=0;return e.getAttribute("points").replace(n,t),r.currentPath.autoClose=!0,r}(t);break;case"polyline":o=s(t,o),w=function(e){function t(e,t,n){const i=d(t),s=d(n);0===o?r.moveTo(i,s):r.lineTo(i,s),o++}const n=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,r=new i.ShapePath;let o=0;return e.getAttribute("points").replace(n,t),r.currentPath.autoClose=!1,r}(t);break;case"circle":o=s(t,o),w=function(e){const t=d(e.getAttribute("cx")||0),n=d(e.getAttribute("cy")||0),r=d(e.getAttribute("r")||0),o=new i.Path;o.absarc(t,n,r,0,2*Math.PI);const s=new i.ShapePath;return s.subPaths.push(o),s}(t);break;case"ellipse":o=s(t,o),w=function(e){const t=d(e.getAttribute("cx")||0),n=d(e.getAttribute("cy")||0),r=d(e.getAttribute("rx")||0),o=d(e.getAttribute("ry")||0),s=new i.Path;s.absellipse(t,n,r,o,0,2*Math.PI);const a=new i.ShapePath;return a.subPaths.push(s),a}(t);break;case"line":o=s(t,o),w=function(e){const t=d(e.getAttribute("x1")||0),n=d(e.getAttribute("y1")||0),r=d(e.getAttribute("x2")||0),o=d(e.getAttribute("y2")||0),s=new i.ShapePath;return s.moveTo(t,n),s.lineTo(r,o),s.currentPath.autoClose=!1,s}(t);break;case"defs":u=!0;break;case"use":o=s(t,o);const r=(t.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),c=t.viewportElement.getElementById(r);c?e(c,o):console.warn("SVGLoader: 'use node' references non-existent node id: "+r)}w&&(void 0!==o.fill&&"none"!==o.fill&&w.color.setStyle(o.fill,r),function(e,t){function n(e){T.set(e.x,e.y,1).applyMatrix3(t),e.set(T.x,T.y)}function r(e){const n=e.xRadius,r=e.yRadius,o=Math.cos(e.aRotation),s=Math.sin(e.aRotation),a=new i.Vector3(n*o,n*s,0),l=new i.Vector3(-r*s,r*o,0),c=a.applyMatrix3(t),u=l.applyMatrix3(t),d=E.set(c.x,u.x,0,c.y,u.y,0,0,0,1),p=S.copy(d).invert(),f=b.copy(p).transpose().multiply(p).elements,m=function(e,t,n){let i,r,o,s,a;const l=e+n,c=e-n,u=Math.sqrt(c*c+4*t*t);l>0?(i=.5*(l+u),a=1/i,r=e*a*n-t*a*t):l<0?r=.5*(l-u):(i=.5*u,r=-.5*u);o=c>0?c+u:c-u;Math.abs(o)>2*Math.abs(t)?(a=-2*t/o,s=1/Math.sqrt(1+a*a),o=a*s):0===Math.abs(t)?(o=1,s=0):(a=-.5*o/t,o=1/Math.sqrt(1+a*a),s=a*o);c>0&&(a=o,o=-s,s=a);return{rt1:i,rt2:r,cs:o,sn:s}}(f[0],f[1],f[4]),g=Math.sqrt(m.rt1),v=Math.sqrt(m.rt2);e.xRadius=1/g,e.yRadius=1/v,e.aRotation=Math.atan2(m.sn,m.cs);if(!((e.aEndAngle-e.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const n=S.set(g,0,0,0,v,0,0,0,1),r=b.set(m.cs,m.sn,0,-m.sn,m.cs,0,0,0,1),o=n.multiply(r).multiply(d),s=e=>{const{x:t,y:n}=new i.Vector3(Math.cos(e),Math.sin(e),0).applyMatrix3(o);return Math.atan2(n,t)};e.aStartAngle=s(e.aStartAngle),e.aEndAngle=s(e.aEndAngle),h(t)&&(e.aClockwise=!e.aClockwise)}}function o(e){const n=f(t),i=m(t);e.xRadius*=n,e.yRadius*=i;const r=n>Number.EPSILON?Math.atan2(t.elements[1],t.elements[0]):Math.atan2(-t.elements[3],t.elements[4]);e.aRotation+=r,h(t)&&(e.aStartAngle*=-1,e.aEndAngle*=-1,e.aClockwise=!e.aClockwise)}const s=e.subPaths;for(let e=0,i=s.length;e<i;e++){const i=s[e].curves;for(let e=0;e<i.length;e++){const s=i[e];s.isLineCurve?(n(s.v1),n(s.v2)):s.isCubicBezierCurve?(n(s.v0),n(s.v1),n(s.v2),n(s.v3)):s.isQuadraticBezierCurve?(n(s.v0),n(s.v1),n(s.v2)):s.isEllipseCurve&&(O.set(s.aX,s.aY),n(O),s.aX=O.x,s.aY=O.y,p(t)?r(s):o(s))}}}(w,A),g.push(w),w.userData={node:t,style:o});const N=t.childNodes;for(let t=0;t<N.length;t++){const n=N[t];u&&"style"!==n.nodeName&&"defs"!==n.nodeName||e(n,o)}c&&(y.pop(),y.length>0?A.copy(y[y.length-1]):A.identity())}(w.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});return{paths:g,xml:w.documentElement}}static createShapes(e){const t=999999999,n=0,r=1,o=2,s=3,a=4,l=5,c=6,u={loc:n,t:0};function d(e,t,i,r){const s=e.x,a=t.x,l=i.x,c=r.x,d=e.y,p=t.y,f=i.y,m=r.y,g=(c-l)*(d-f)-(m-f)*(s-l),v=(m-f)*(a-s)-(c-l)*(p-d),y=g/v,E=((a-s)*(d-f)-(p-d)*(s-l))/v;if(0===v&&0!==g||y<=0||y>=1||E<0||E>1)return null;if(0===g&&0===v){for(let l=0;l<2;l++){if(h(0===l?i:r,e,t),u.loc==n){const e=0===l?i:r;return{x:e.x,y:e.y,t:u.t}}if(u.loc==o){return{x:+(s+u.t*(a-s)).toPrecision(10),y:+(d+u.t*(p-d)).toPrecision(10),t:u.t}}}return null}for(let o=0;o<2;o++)if(h(0===o?i:r,e,t),u.loc==n){const e=0===o?i:r;return{x:e.x,y:e.y,t:u.t}}return{x:+(s+y*(a-s)).toPrecision(10),y:+(d+y*(p-d)).toPrecision(10),t:y}}function h(e,t,i){const d=i.x-t.x,h=i.y-t.y,p=e.x-t.x,f=e.y-t.y,m=d*f-p*h;if(e.x===t.x&&e.y===t.y)return u.loc=n,void(u.t=0);if(e.x===i.x&&e.y===i.y)return u.loc=r,void(u.t=1);if(m<-Number.EPSILON)return void(u.loc=s);if(m>Number.EPSILON)return void(u.loc=a);if(d*p<0||h*f<0)return void(u.loc=l);if(Math.sqrt(d*d+h*h)<Math.sqrt(p*p+f*f))return void(u.loc=c);let g;g=0!==d?p/d:f/h,u.loc=o,u.t=g}function p(e,t,n){const r=new i.Vector2;t.getCenter(r);const o=[];return n.forEach((t=>{if(t.boundingBox.containsPoint(r)){(function(e,t){const n=[],r=[];for(let o=1;o<e.length;o++){const s=e[o-1],a=e[o];for(let e=1;e<t.length;e++){const o=d(s,a,t[e-1],t[e]);null!==o&&void 0===n.find((e=>e.t<=o.t+Number.EPSILON&&e.t>=o.t-Number.EPSILON))&&(n.push(o),r.push(new i.Vector2(o.x,o.y)))}}return r})(e,t.points).forEach((e=>{o.push({identifier:t.identifier,isCW:t.isCW,point:e})}))}})),o.sort(((e,t)=>e.point.x-t.point.x)),o}let f=t,m=-999999999,g=e.subPaths.map((e=>{const n=e.getPoints();let r=-999999999,o=t,s=-999999999,a=t;for(let e=0;e<n.length;e++){const t=n[e];t.y>r&&(r=t.y),t.y<o&&(o=t.y),t.x>s&&(s=t.x),t.x<a&&(a=t.x)}return m<=s&&(m=s+1),f>=a&&(f=a-1),{curves:e.curves,points:n,isCW:i.ShapeUtils.isClockWise(n),identifier:-1,boundingBox:new i.Box2(new i.Vector2(a,o),new i.Vector2(s,r))}}));g=g.filter((e=>e.points.length>1));for(let e=0;e<g.length;e++)g[e].identifier=e;const v=g.map((t=>function(e,t,n,r,o){null!=o&&""!==o||(o="nonzero");const s=new i.Vector2;e.boundingBox.getCenter(s);const a=p([new i.Vector2(n,s.y),new i.Vector2(r,s.y)],e.boundingBox,t);a.sort(((e,t)=>e.point.x-t.point.x));const l=[],c=[];a.forEach((t=>{t.identifier===e.identifier?l.push(t):c.push(t)}));const u=l[0].point.x,d=[];let h=0;for(;h<c.length&&c[h].point.x<u;)d.length>0&&d[d.length-1]===c[h].identifier?d.pop():d.push(c[h].identifier),h++;if(d.push(e.identifier),"evenodd"===o){const t=d.length%2==0,n=d[d.length-2];return{identifier:e.identifier,isHole:t,for:n}}if("nonzero"===o){let n=!0,i=null,r=null;for(let e=0;e<d.length;e++){const o=d[e];n?(r=t[o].isCW,n=!1,i=o):r!==t[o].isCW&&(r=t[o].isCW,n=!0)}return{identifier:e.identifier,isHole:n,for:i}}console.warn('fill-rule: "'+o+'" is currently not implemented.')}(t,g,f,m,e.userData?e.userData.style.fillRule:void 0))),y=[];return g.forEach((e=>{if(!v[e.identifier].isHole){const t=new i.Shape;t.curves=e.curves;v.filter((t=>t.isHole&&t.for===e.identifier)).forEach((e=>{const n=g[e.identifier],r=new i.Path;r.curves=n.curves,t.holes.push(r)})),y.push(t)}})),y}static getStrokeStyle(e,t,n,i,r){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:n=void 0!==n?n:"miter",strokeLineCap:i=void 0!==i?i:"butt",strokeMiterLimit:r=void 0!==r?r:4}}static pointsToStroke(e,t,n,r){const s=[],a=[],l=[];if(0===o.pointsToStrokeWithBuffers(e,t,n,r,s,a,l))return null;const c=new i.BufferGeometry;return c.setAttribute("position",new i.Float32BufferAttribute(s,3)),c.setAttribute("normal",new i.Float32BufferAttribute(a,3)),c.setAttribute("uv",new i.Float32BufferAttribute(l,2)),c}static pointsToStrokeWithBuffers(e,t,n,r,o,s,a,l){const c=new i.Vector2,u=new i.Vector2,d=new i.Vector2,h=new i.Vector2,p=new i.Vector2,f=new i.Vector2,m=new i.Vector2,g=new i.Vector2,v=new i.Vector2,y=new i.Vector2,E=new i.Vector2,S=new i.Vector2,b=new i.Vector2,_=new i.Vector2,O=new i.Vector2,T=new i.Vector2,A=new i.Vector2;n=void 0!==n?n:12,r=void 0!==r?r:.001,l=void 0!==l?l:0;const w=(e=function(e){let t=!1;for(let n=1,i=e.length-1;n<i;n++)if(e[n].distanceTo(e[n+1])<r){t=!0;break}if(!t)return e;const n=[];n.push(e[0]);for(let t=1,i=e.length-1;t<i;t++)e[t].distanceTo(e[t+1])>=r&&n.push(e[t]);return n.push(e[e.length-1]),n}(e)).length;if(w<2)return 0;const N=e[0].equals(e[w-1]);let I,R,k=e[0];const L=t.strokeWidth/2,P=1/(w-1);let D,M,C,x,U=0,F=!1,H=0,G=3*l,B=2*l;V(e[0],e[1],c).multiplyScalar(L),g.copy(e[0]).sub(c),v.copy(e[0]).add(c),y.copy(g),E.copy(v);for(let n=1;n<w;n++){I=e[n],R=n===w-1?N?e[1]:void 0:e[n+1];const i=c;if(V(k,I,i),d.copy(i).multiplyScalar(L),S.copy(I).sub(d),b.copy(I).add(d),D=U+P,M=!1,void 0!==R){V(I,R,u),d.copy(u).multiplyScalar(L),_.copy(I).sub(d),O.copy(I).add(d),C=!0,d.subVectors(R,k),i.dot(d)<0&&(C=!1),1===n&&(F=C),d.subVectors(R,I),d.normalize();const e=Math.abs(i.dot(d));if(e>Number.EPSILON){const n=L/e;d.multiplyScalar(-n),h.subVectors(I,k),p.copy(h).setLength(n).add(d),T.copy(p).negate();const i=p.length(),r=h.length();h.divideScalar(r),f.subVectors(R,I);const o=f.length();switch(f.divideScalar(o),h.dot(T)<r&&f.dot(T)<o&&(M=!0),A.copy(p).add(I),T.add(I),x=!1,M?C?(O.copy(T),b.copy(T)):(_.copy(T),S.copy(T)):z(),t.strokeLineJoin){case"bevel":$(C,M,D);break;case"round":K(C,M),C?W(I,S,_,D,0):W(I,O,b,D,1);break;default:const e=L*t.strokeMiterLimit/i;if(e<1){if("miter-clip"!==t.strokeLineJoin){$(C,M,D);break}K(C,M),C?(f.subVectors(A,S).multiplyScalar(e).add(S),m.subVectors(A,_).multiplyScalar(e).add(_),j(S,D,0),j(f,D,0),j(I,D,.5),j(I,D,.5),j(f,D,0),j(m,D,0),j(I,D,.5),j(m,D,0),j(_,D,0)):(f.subVectors(A,b).multiplyScalar(e).add(b),m.subVectors(A,O).multiplyScalar(e).add(O),j(b,D,1),j(f,D,1),j(I,D,.5),j(I,D,.5),j(f,D,1),j(m,D,1),j(I,D,.5),j(m,D,1),j(O,D,1))}else M?(C?(j(v,U,1),j(g,U,0),j(A,D,0),j(v,U,1),j(A,D,0),j(T,D,1)):(j(v,U,1),j(g,U,0),j(A,D,1),j(g,U,0),j(T,D,0),j(A,D,1)),C?_.copy(A):O.copy(A)):C?(j(S,D,0),j(A,D,0),j(I,D,.5),j(I,D,.5),j(A,D,0),j(_,D,0)):(j(b,D,1),j(A,D,1),j(I,D,.5),j(I,D,.5),j(A,D,1),j(O,D,1)),x=!0}}else z()}else z();N||n!==w-1||Y(e[0],y,E,C,!0,U),U=D,k=I,g.copy(_),v.copy(O)}if(N){if(M&&o){let e=A,t=T;F!==C&&(e=T,t=A),C?(x||F)&&(t.toArray(o,0),t.toArray(o,9),x&&e.toArray(o,3)):!x&&F||(t.toArray(o,3),t.toArray(o,9),x&&e.toArray(o,0))}}else Y(I,S,b,C,!1,D);return H;function V(e,t,n){return n.subVectors(t,e),n.set(-n.y,n.x).normalize()}function j(e,t,n){o&&(o[G]=e.x,o[G+1]=e.y,o[G+2]=0,s&&(s[G]=0,s[G+1]=0,s[G+2]=1),G+=3,a&&(a[B]=t,a[B+1]=n,B+=2)),H+=3}function W(e,t,i,r,o){c.copy(t).sub(e).normalize(),u.copy(i).sub(e).normalize();let s=Math.PI;const a=c.dot(u);Math.abs(a)<1&&(s=Math.abs(Math.acos(a))),s/=n,d.copy(t);for(let t=0,i=n-1;t<i;t++)h.copy(d).rotateAround(e,s),j(d,r,o),j(h,r,o),j(e,r,.5),d.copy(h);j(h,r,o),j(i,r,o),j(e,r,.5)}function z(){j(v,U,1),j(g,U,0),j(S,D,0),j(v,U,1),j(S,D,0),j(b,D,1)}function $(e,t,n){t?e?(j(v,U,1),j(g,U,0),j(S,D,0),j(v,U,1),j(S,D,0),j(T,D,1),j(S,n,0),j(_,n,0),j(T,n,.5)):(j(v,U,1),j(g,U,0),j(b,D,1),j(g,U,0),j(T,D,0),j(b,D,1),j(b,n,1),j(T,n,0),j(O,n,1)):e?(j(S,n,0),j(_,n,0),j(I,n,.5)):(j(b,n,1),j(O,n,0),j(I,n,.5))}function K(e,t){t&&(e?(j(v,U,1),j(g,U,0),j(S,D,0),j(v,U,1),j(S,D,0),j(T,D,1),j(S,U,0),j(I,D,.5),j(T,D,1),j(I,D,.5),j(_,U,0),j(T,D,1)):(j(v,U,1),j(g,U,0),j(b,D,1),j(g,U,0),j(T,D,0),j(b,D,1),j(b,U,1),j(T,D,0),j(I,D,.5),j(I,D,.5),j(T,D,0),j(O,U,1)))}function Y(e,n,i,r,s,l){switch(t.strokeLineCap){case"round":s?W(e,i,n,l,.5):W(e,n,i,l,.5);break;case"square":if(s)c.subVectors(n,e),u.set(c.y,-c.x),d.addVectors(c,u).add(e),h.subVectors(u,c).add(e),r?(d.toArray(o,3),h.toArray(o,0),h.toArray(o,9)):(d.toArray(o,3),1===a[7]?h.toArray(o,9):d.toArray(o,9),h.toArray(o,0));else{c.subVectors(i,e),u.set(c.y,-c.x),d.addVectors(c,u).add(e),h.subVectors(u,c).add(e);const t=o.length;r?(d.toArray(o,t-3),h.toArray(o,t-6),h.toArray(o,t-12)):(h.toArray(o,t-6),d.toArray(o,t-3),h.toArray(o,t-12))}}}}}},3531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TGALoader:()=>r});var i=n(68909);class r extends i.DataTextureLoader{constructor(e){super(e)}parse(e){const t=0,n=1,r=2,o=3,s=9,a=10,l=11,c=48,u=4,d=0,h=1,p=2,f=3;if(e.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let m=0;const g=new Uint8Array(e),v={id_length:g[m++],colormap_type:g[m++],image_type:g[m++],colormap_index:g[m++]|g[m++]<<8,colormap_length:g[m++]|g[m++]<<8,colormap_size:g[m++],origin:[g[m++]|g[m++]<<8,g[m++]|g[m++]<<8],width:g[m++]|g[m++]<<8,height:g[m++]|g[m++]<<8,pixel_size:g[m++],flags:g[m++]};if(function(e){switch(e.image_type){case n:case s:if(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case r:case o:case a:case l:if(e.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+e.image_type)}if(e.width<=0||e.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size)throw new Error("THREE.TGALoader: Invalid pixel size "+e.pixel_size)}(v),v.id_length+m>e.length)throw new Error("THREE.TGALoader: No data.");m+=v.id_length;let y=!1,E=!1,S=!1;switch(v.image_type){case s:y=!0,E=!0;break;case n:E=!0;break;case a:y=!0;break;case r:break;case l:y=!0,S=!0;break;case o:S=!0}const b=new Uint8Array(v.width*v.height*4),_=function(e,t,n,i,r){let o,s;const a=n.pixel_size>>3,l=n.width*n.height*a;if(t&&(s=r.subarray(i,i+=n.colormap_length*(n.colormap_size>>3))),e){let e,t,n;o=new Uint8Array(l);let s=0;const c=new Uint8Array(a);for(;s<l;)if(e=r[i++],t=1+(127&e),128&e){for(n=0;n<a;++n)c[n]=r[i++];for(n=0;n<t;++n)o.set(c,s+n*a);s+=a*t}else{for(t*=a,n=0;n<t;++n)o[s+n]=r[i++];s+=t}}else o=r.subarray(i,i+=t?n.width*n.height:l);return{pixel_data:o,palettes:s}}(y,E,v,m,g);return function(e,t,n,i,r){let o,s,a,l,m,g;switch((v.flags&c)>>u){default:case p:o=0,a=1,m=t,s=0,l=1,g=n;break;case d:o=0,a=1,m=t,s=n-1,l=-1,g=-1;break;case f:o=t-1,a=-1,m=-1,s=0,l=1,g=n;break;case h:o=t-1,a=-1,m=-1,s=n-1,l=-1,g=-1}if(S)switch(v.pixel_size){case 8:!function(e,t,n,i,r,o,s,a){let l,c,u,d=0;const h=v.width;for(u=t;u!==i;u+=n)for(c=r;c!==s;c+=o,d++)l=a[d],e[4*(c+h*u)+0]=l,e[4*(c+h*u)+1]=l,e[4*(c+h*u)+2]=l,e[4*(c+h*u)+3]=255}(e,s,l,g,o,a,m,i);break;case 16:!function(e,t,n,i,r,o,s,a){let l,c,u=0;const d=v.width;for(c=t;c!==i;c+=n)for(l=r;l!==s;l+=o,u+=2)e[4*(l+d*c)+0]=a[u+0],e[4*(l+d*c)+1]=a[u+0],e[4*(l+d*c)+2]=a[u+0],e[4*(l+d*c)+3]=a[u+1]}(e,s,l,g,o,a,m,i);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(v.pixel_size){case 8:!function(e,t,n,i,r,o,s,a,l){const c=l;let u,d,h,p=0;const f=v.width;for(h=t;h!==i;h+=n)for(d=r;d!==s;d+=o,p++)u=a[p],e[4*(d+f*h)+3]=255,e[4*(d+f*h)+2]=c[3*u+0],e[4*(d+f*h)+1]=c[3*u+1],e[4*(d+f*h)+0]=c[3*u+2]}(e,s,l,g,o,a,m,i,r);break;case 16:!function(e,t,n,i,r,o,s,a){let l,c,u,d=0;const h=v.width;for(u=t;u!==i;u+=n)for(c=r;c!==s;c+=o,d+=2)l=a[d+0]+(a[d+1]<<8),e[4*(c+h*u)+0]=(31744&l)>>7,e[4*(c+h*u)+1]=(992&l)>>2,e[4*(c+h*u)+2]=(31&l)<<3,e[4*(c+h*u)+3]=32768&l?0:255}(e,s,l,g,o,a,m,i);break;case 24:!function(e,t,n,i,r,o,s,a){let l,c,u=0;const d=v.width;for(c=t;c!==i;c+=n)for(l=r;l!==s;l+=o,u+=3)e[4*(l+d*c)+3]=255,e[4*(l+d*c)+2]=a[u+0],e[4*(l+d*c)+1]=a[u+1],e[4*(l+d*c)+0]=a[u+2]}(e,s,l,g,o,a,m,i);break;case 32:!function(e,t,n,i,r,o,s,a){let l,c,u=0;const d=v.width;for(c=t;c!==i;c+=n)for(l=r;l!==s;l+=o,u+=4)e[4*(l+d*c)+2]=a[u+0],e[4*(l+d*c)+1]=a[u+1],e[4*(l+d*c)+0]=a[u+2],e[4*(l+d*c)+3]=a[u+3]}(e,s,l,g,o,a,m,i);break;default:throw new Error("THREE.TGALoader: Format not supported.")}}(b,v.width,v.height,_.pixel_data,_.palettes),{data:b,width:v.width,height:v.height,flipY:!0,generateMipmaps:!0,minFilter:i.LinearMipmapLinearFilter}}}},51566:(e,t,n)=>{"use strict";n.r(t),n.d(t,{computeMikkTSpaceTangents:()=>r,computeMorphedAttributes:()=>f,deepCloneAttribute:()=>a,deinterleaveAttribute:()=>c,deinterleaveGeometry:()=>u,estimateBytesUsed:()=>d,interleaveAttributes:()=>l,mergeAttributes:()=>s,mergeGeometries:()=>o,mergeGroups:()=>m,mergeVertices:()=>h,toCreasedNormals:()=>g,toTrianglesDrawMode:()=>p});var i=n(68909);function r(e,t,n=!0){if(!t||!t.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!e.hasAttribute("position")||!e.hasAttribute("normal")||!e.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function r(e){if(e.normalized||e.isInterleavedBufferAttribute){const t=new Float32Array(e.count*e.itemSize);for(let n=0,i=0;n<e.count;n++)t[i++]=e.getX(n),t[i++]=e.getY(n),e.itemSize>2&&(t[i++]=e.getZ(n));return t}return e.array instanceof Float32Array?e.array:new Float32Array(e.array)}const o=e.index?e.toNonIndexed():e,s=t.generateTangents(r(o.attributes.position),r(o.attributes.normal),r(o.attributes.uv));if(n)for(let e=3;e<s.length;e+=4)s[e]*=-1;return o.setAttribute("tangent",new i.BufferAttribute(s,4)),e!==o&&e.copy(o),e}function o(e,t=!1){const n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),o=new Set(Object.keys(e[0].morphAttributes)),a={},l={},c=e[0].morphTargetsRelative,u=new i.BufferGeometry;let d=0;for(let i=0;i<e.length;++i){const s=e[i];let h=0;if(n!==(null!==s.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in s.attributes){if(!r.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[e]&&(a[e]=[]),a[e].push(s.attributes[e]),h++}if(h!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+". Make sure all geometries have the same number of attributes."),null;if(c!==s.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in s.morphAttributes){if(!o.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===l[e]&&(l[e]=[]),l[e].push(s.morphAttributes[e])}if(t){let e;if(n)e=s.index.count;else{if(void 0===s.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+". The geometry must have either an index or a position attribute"),null;e=s.attributes.position.count}u.addGroup(d,e,i),d+=e}}if(n){let t=0;const n=[];for(let i=0;i<e.length;++i){const r=e[i].index;for(let e=0;e<r.count;++e)n.push(r.getX(e)+t);t+=e[i].attributes.position.count}u.setIndex(n)}for(const e in a){const t=s(a[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" attribute."),null;u.setAttribute(e,t)}for(const e in l){const t=l[e][0].length;if(0===t)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[e]=[];for(let n=0;n<t;++n){const t=[];for(let i=0;i<l[e].length;++i)t.push(l[e][i][n]);const i=s(t);if(!i)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" morphAttribute."),null;u.morphAttributes[e].push(i)}}return u}function s(e){let t,n,r,o=-1,s=0;for(let i=0;i<e.length;++i){const a=e[i];if(void 0===t&&(t=a.array.constructor),t!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=a.itemSize),n!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===r&&(r=a.normalized),r!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===o&&(o=a.gpuType),o!==a.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;s+=a.count*n}const a=new t(s),l=new i.BufferAttribute(a,n,r);let c=0;for(let t=0;t<e.length;++t){const i=e[t];if(i.isInterleavedBufferAttribute){const e=c/n;for(let t=0,r=i.count;t<r;t++)for(let r=0;r<n;r++){const n=i.getComponent(t,r);l.setComponent(t+e,r,n)}}else a.set(i.array,c);c+=i.count*n}return void 0!==o&&(l.gpuType=o),l}function a(e){return e.isInstancedInterleavedBufferAttribute||e.isInterleavedBufferAttribute?c(e):e.isInstancedBufferAttribute?(new i.InstancedBufferAttribute).copy(e):(new i.BufferAttribute).copy(e)}function l(e){let t,n=0,r=0;for(let i=0,o=e.length;i<o;++i){const o=e[i];if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=o.array.length,r+=o.itemSize}const o=new i.InterleavedBuffer(new t(n),r);let s=0;const a=[],l=["getX","getY","getZ","getW"],c=["setX","setY","setZ","setW"];for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n.itemSize,u=n.count,d=new i.InterleavedBufferAttribute(o,r,s,n.normalized);a.push(d),s+=r;for(let e=0;e<u;e++)for(let t=0;t<r;t++)d[c[t]](e,n[l[t]](e))}return a}function c(e){const t=e.data.array.constructor,n=e.count,r=e.itemSize,o=e.normalized,s=new t(n*r);let a;a=e.isInstancedInterleavedBufferAttribute?new i.InstancedBufferAttribute(s,r,o,e.meshPerAttribute):new i.BufferAttribute(s,r,o);for(let t=0;t<n;t++)a.setX(t,e.getX(t)),r>=2&&a.setY(t,e.getY(t)),r>=3&&a.setZ(t,e.getZ(t)),r>=4&&a.setW(t,e.getW(t));return a}function u(e){const t=e.attributes,n=e.morphTargets,i=new Map;for(const e in t){const n=t[e];n.isInterleavedBufferAttribute&&(i.has(n)||i.set(n,c(n)),t[e]=i.get(n))}for(const e in n){const t=n[e];t.isInterleavedBufferAttribute&&(i.has(t)||i.set(t,c(t)),n[e]=i.get(t))}}function d(e){let t=0;for(const n in e.attributes){const i=e.getAttribute(n);t+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const n=e.getIndex();return t+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,t}function h(e,t=1e-4){t=Math.max(t,Number.EPSILON);const n={},i=e.getIndex(),r=e.getAttribute("position"),o=i?i.count:r.count;let s=0;const a=Object.keys(e.attributes),l={},c={},u=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"];for(let t=0,n=a.length;t<n;t++){const n=a[t],i=e.attributes[n];l[n]=new i.constructor(new i.array.constructor(i.count*i.itemSize),i.itemSize,i.normalized);const r=e.morphAttributes[n];r&&(c[n]||(c[n]=[]),r.forEach(((e,t)=>{const i=new e.array.constructor(e.count*e.itemSize);c[n][t]=new e.constructor(i,e.itemSize,e.normalized)})))}const p=.5*t,f=Math.log10(1/t),m=Math.pow(10,f),g=p*m;for(let t=0;t<o;t++){const r=i?i.getX(t):t;let o="";for(let t=0,n=a.length;t<n;t++){const n=a[t],i=e.getAttribute(n),s=i.itemSize;for(let e=0;e<s;e++)o+=~~(i[d[e]](r)*m+g)+","}if(o in n)u.push(n[o]);else{for(let t=0,n=a.length;t<n;t++){const n=a[t],i=e.getAttribute(n),o=e.morphAttributes[n],u=i.itemSize,p=l[n],f=c[n];for(let e=0;e<u;e++){const t=d[e],n=h[e];if(p[n](s,i[t](r)),o)for(let e=0,i=o.length;e<i;e++)f[e][n](s,o[e][t](r))}}n[o]=s,u.push(s),s++}}const v=e.clone();for(const t in e.attributes){const e=l[t];if(v.setAttribute(t,new e.constructor(e.array.slice(0,s*e.itemSize),e.itemSize,e.normalized)),t in c)for(let e=0;e<c[t].length;e++){const n=c[t][e];v.morphAttributes[t][e]=new n.constructor(n.array.slice(0,s*n.itemSize),n.itemSize,n.normalized)}}return v.setIndex(u),v}function p(e,t){if(t===i.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===i.TriangleFanDrawMode||t===i.TriangleStripDrawMode){let n=e.getIndex();if(null===n){const t=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<i.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,o=[];if(t===i.TriangleFanDrawMode)for(let e=1;e<=r;e++)o.push(n.getX(0)),o.push(n.getX(e)),o.push(n.getX(e+1));else for(let e=0;e<r;e++)e%2==0?(o.push(n.getX(e)),o.push(n.getX(e+1)),o.push(n.getX(e+2))):(o.push(n.getX(e+2)),o.push(n.getX(e+1)),o.push(n.getX(e)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=e.clone();return s.setIndex(o),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function f(e){const t=new i.Vector3,n=new i.Vector3,r=new i.Vector3,o=new i.Vector3,s=new i.Vector3,a=new i.Vector3,l=new i.Vector3,c=new i.Vector3,u=new i.Vector3;function d(e,i,d,h,p,f,m,g){t.fromBufferAttribute(i,p),n.fromBufferAttribute(i,f),r.fromBufferAttribute(i,m);const v=e.morphTargetInfluences;if(d&&v){l.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(let e=0,i=d.length;e<i;e++){const i=v[e],g=d[e];0!==i&&(o.fromBufferAttribute(g,p),s.fromBufferAttribute(g,f),a.fromBufferAttribute(g,m),h?(l.addScaledVector(o,i),c.addScaledVector(s,i),u.addScaledVector(a,i)):(l.addScaledVector(o.sub(t),i),c.addScaledVector(s.sub(n),i),u.addScaledVector(a.sub(r),i)))}t.add(l),n.add(c),r.add(u)}e.isSkinnedMesh&&(e.applyBoneTransform(p,t),e.applyBoneTransform(f,n),e.applyBoneTransform(m,r)),g[3*p+0]=t.x,g[3*p+1]=t.y,g[3*p+2]=t.z,g[3*f+0]=n.x,g[3*f+1]=n.y,g[3*f+2]=n.z,g[3*m+0]=r.x,g[3*m+1]=r.y,g[3*m+2]=r.z}const h=e.geometry,p=e.material;let f,m,g;const v=h.index,y=h.attributes.position,E=h.morphAttributes.position,S=h.morphTargetsRelative,b=h.attributes.normal,_=h.morphAttributes.position,O=h.groups,T=h.drawRange;let A,w,N,I,R,k,L;const P=new Float32Array(y.count*y.itemSize),D=new Float32Array(b.count*b.itemSize);if(null!==v)if(Array.isArray(p))for(A=0,N=O.length;A<N;A++)for(R=O[A],k=Math.max(R.start,T.start),L=Math.min(R.start+R.count,T.start+T.count),w=k,I=L;w<I;w+=3)f=v.getX(w),m=v.getX(w+1),g=v.getX(w+2),d(e,y,E,S,f,m,g,P),d(e,b,_,S,f,m,g,D);else for(k=Math.max(0,T.start),L=Math.min(v.count,T.start+T.count),A=k,N=L;A<N;A+=3)f=v.getX(A),m=v.getX(A+1),g=v.getX(A+2),d(e,y,E,S,f,m,g,P),d(e,b,_,S,f,m,g,D);else if(Array.isArray(p))for(A=0,N=O.length;A<N;A++)for(R=O[A],k=Math.max(R.start,T.start),L=Math.min(R.start+R.count,T.start+T.count),w=k,I=L;w<I;w+=3)f=w,m=w+1,g=w+2,d(e,y,E,S,f,m,g,P),d(e,b,_,S,f,m,g,D);else for(k=Math.max(0,T.start),L=Math.min(y.count,T.start+T.count),A=k,N=L;A<N;A+=3)f=A,m=A+1,g=A+2,d(e,y,E,S,f,m,g,P),d(e,b,_,S,f,m,g,D);return{positionAttribute:y,normalAttribute:b,morphedPositionAttribute:new i.Float32BufferAttribute(P,3),morphedNormalAttribute:new i.Float32BufferAttribute(D,3)}}function m(e){if(0===e.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),e;let t=e.groups;if(t=t.sort(((e,t)=>e.materialIndex!==t.materialIndex?e.materialIndex-t.materialIndex:e.start-t.start)),null===e.getIndex()){const t=e.getAttribute("position"),n=[];for(let e=0;e<t.count;e+=3)n.push(e,e+1,e+2);e.setIndex(n)}const n=e.getIndex(),i=[];for(let e=0;e<t.length;e++){const r=t[e],o=r.start,s=o+r.count;for(let e=o;e<s;e++)i.push(n.getX(e))}e.dispose(),e.setIndex(i);let r=0;for(let e=0;e<t.length;e++){const n=t[e];n.start=r,r+=n.count}let o=t[0];e.groups=[o];for(let n=1;n<t.length;n++){const i=t[n];o.materialIndex===i.materialIndex?o.count+=i.count:(o=i,e.groups.push(o))}return e}function g(e,t=Math.PI/3){const n=Math.cos(t),r=100*(1+1e-10),o=[new i.Vector3,new i.Vector3,new i.Vector3],s=new i.Vector3,a=new i.Vector3,l=new i.Vector3,c=new i.Vector3;function u(e){return`${~~(e.x*r)},${~~(e.y*r)},${~~(e.z*r)}`}const d=e.index?e.toNonIndexed():e,h=d.attributes.position,p={};for(let e=0,t=h.count/3;e<t;e++){const t=3*e,n=o[0].fromBufferAttribute(h,t+0),r=o[1].fromBufferAttribute(h,t+1),l=o[2].fromBufferAttribute(h,t+2);s.subVectors(l,r),a.subVectors(n,r);const c=(new i.Vector3).crossVectors(s,a).normalize();for(let e=0;e<3;e++){const t=u(o[e]);t in p||(p[t]=[]),p[t].push(c)}}const f=new Float32Array(3*h.count),m=new i.BufferAttribute(f,3,!1);for(let e=0,t=h.count/3;e<t;e++){const t=3*e,i=o[0].fromBufferAttribute(h,t+0),r=o[1].fromBufferAttribute(h,t+1),d=o[2].fromBufferAttribute(h,t+2);s.subVectors(d,r),a.subVectors(i,r),l.crossVectors(s,a).normalize();for(let e=0;e<3;e++){const i=p[u(o[e])];c.set(0,0,0);for(let e=0,t=i.length;e<t;e++){const t=i[e];l.dot(t)>n&&c.add(t)}c.normalize(),m.setXYZ(t+e,c.x,c.y,c.z)}}return d.setAttribute("normal",m),d}},55285:(e,t,n)=>{"use strict";n.d(t,{Lh:()=>h,ML:()=>s,Mj:()=>c,QH:()=>f,lW:()=>v,w5:()=>m});var i=n(96540),r=n(20181);var o="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function s(e,t,n,r){const s=(0,i.useRef)(t);o((()=>{s.current=t}),[t]),(0,i.useEffect)((()=>{const t=(null==n?void 0:n.current)??window;if(!t||!t.addEventListener)return;const i=e=>{s.current(e)};return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}),[e,n,r])}function a(e){const t=(0,i.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return o((()=>{t.current=e}),[e]),(0,i.useCallback)(((...e)=>t.current(...e)),[t])}var l="undefined"==typeof window;function c(e,t,n={}){const{initializeWithValue:r=!0}=n,o=(0,i.useCallback)((e=>n.serializer?n.serializer(e):JSON.stringify(e)),[n]),c=(0,i.useCallback)((e=>{if(n.deserializer)return n.deserializer(e);if("undefined"===e)return;const i=t instanceof Function?t():t;let r;try{r=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),i}return r}),[n,t]),u=(0,i.useCallback)((()=>{const n=t instanceof Function?t():t;if(l)return n;try{const t=window.localStorage.getItem(e);return t?c(t):n}catch(t){return console.warn(`Error reading localStorage key ${e}:`,t),n}}),[t,e,c]),[d,h]=(0,i.useState)((()=>r?u():t instanceof Function?t():t)),p=a((t=>{l&&console.warn(`Tried setting localStorage key ${e} even though environment is not a client`);try{const n=t instanceof Function?t(u()):t;window.localStorage.setItem(e,o(n)),h(n),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(t){console.warn(`Error setting localStorage key ${e}:`,t)}}));(0,i.useEffect)((()=>{h(u())}),[e]);const f=(0,i.useCallback)((t=>{(null==t?void 0:t.key)&&t.key!==e||h(u())}),[e,u]);return s("storage",f),s("local-storage",f),[d,p]}function u(e){const t=(0,i.useRef)(e);t.current=e,(0,i.useEffect)((()=>()=>{t.current()}),[])}function d(e,t=500,n){const o=(0,i.useRef)();u((()=>{o.current&&o.current.cancel()}));const s=(0,i.useMemo)((()=>{const i=r(e,t,n),s=(...e)=>i(...e);return s.cancel=()=>{i.cancel()},s.isPending=()=>!!o.current,s.flush=()=>i.flush(),s}),[e,t,n]);return(0,i.useEffect)((()=>{o.current=r(e,t,n)}),[e,t,n]),s}function h(e={}){const{initializeWithValue:t=!0}=e,[n,r]=(0,i.useState)(null),a=(0,i.useCallback)((()=>({width:(null==n?void 0:n.offsetWidth)??void 0,height:(null==n?void 0:n.offsetHeight)??void 0})),[null==n?void 0:n.offsetHeight,null==n?void 0:n.offsetWidth]),[l,c]=(0,i.useState)((()=>t?a():{width:void 0,height:void 0})),u=(0,i.useCallback)((()=>{c(a())}),[null==n?void 0:n.offsetHeight,null==n?void 0:n.offsetWidth]);s("resize",u),o((()=>{u()}),[null==n?void 0:n.offsetHeight,null==n?void 0:n.offsetWidth]);const d=[r,l];return d.ref=d[0],d.width=l.width,d.height=l.height,d}var p="undefined"==typeof window;function f(e,t={}){let{initializeWithValue:n=!0}=t;p&&(n=!1);const r=(0,i.useCallback)((e=>{if(t.deserializer)return t.deserializer(e);if("undefined"===e)return;let n;try{n=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),null}return n}),[t]),o=(0,i.useCallback)((()=>{if(p)return null;try{const t=window.localStorage.getItem(e);return t?r(t):null}catch(t){return console.warn(`Error reading localStorage key ${e}:`,t),null}}),[e,r]),[a,l]=(0,i.useState)((()=>{if(n)return o()}));(0,i.useEffect)((()=>{l(o())}),[e]);const c=(0,i.useCallback)((t=>{(null==t?void 0:t.key)&&t.key!==e||l(o())}),[e,o]);return s("storage",c),s("local-storage",c),a}function m(e,t){const n=function(){const e=(0,i.useRef)(!0);return e.current?(e.current=!1,!0):e.current}();(0,i.useEffect)((()=>{if(!n)return e()}),t)}var g="undefined"==typeof window;function v(e={}){let{initializeWithValue:t=!0}=e;g&&(t=!1);const[n,r]=(0,i.useState)((()=>t?{width:window.innerWidth,height:window.innerHeight}:{width:void 0,height:void 0})),a=d(r,null==e?void 0:e.debounceDelay);function l(){((null==e?void 0:e.debounceDelay)?a:r)({width:window.innerWidth,height:window.innerHeight})}return s("resize",l),o((()=>{l()}),[]),n}},32244:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":60,"w":876,"h":744,"nm":"Rating Modal","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Vector 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[437.969,578.877,0],"to":[0,-8.167,0],"ti":[0,8.167,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":18,"s":[437.969,529.877,0],"to":[0,0,0],"ti":[0,0,0]},{"t":25,"s":[437.969,529.877,0]}],"ix":2},"a":{"a":0,"k":[0,51.205,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.83,0.808,0.833],"y":[1.233,0.833,0.35]},"o":{"x":[0.283,0.284,0],"y":[-0.056,-0.064,0]},"t":0,"s":[176.81,195.773,100]},{"i":{"x":[0.564,0.562,0.794],"y":[3.244,0.849,2.131]},"o":{"x":[0.466,0.473,0.167],"y":[-4.295,-0.161,0.141]},"t":23,"s":[207.791,222.842,100]},{"t":28,"s":[207.791,207.791,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.52,0.008],[0,0],[0,0],[0.001,-0.183],[-8.335,-0.035],[-1.024,7.367],[-0.728,2.537],[0,0],[2.38,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.516,0.006],[0,0],[0,0],[0.432,0.025],[0,0],[2.518,0.008],[0,0],[0,0],[0.409,-0.037],[0,0],[2.516,0.006],[0,0],[0,0],[0.401,-0.185],[0,0]],"o":[[-2.516,-0.006],[0,0],[0,0],[-0.027,8.335],[7.643,0.021],[0.358,-2.606],[0,0],[0,0],[-2.387,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.514,-0.01],[0,0],[-0.415,-0.039],[0,0],[0,0],[-2.518,-0.01],[0,0],[-0.423,0.021],[0,0],[0,0],[-2.514,-0.008],[0,0],[-0.44,0.144],[0,0],[0,0]],"v":[[-33.701,-15.143],[-36.223,-12.631],[-36.281,6.241],[-36.285,7.503],[-21.234,22.652],[-6.23,9.641],[-4.465,1.945],[-2.629,-4.438],[-4.202,-7.63],[-7.4,-6.064],[-11.102,2.545],[-12.356,1.279],[-12.356,0.023],[-12.35,-1.377],[-12.3,-18.852],[-14.806,-21.374],[-17.328,-18.866],[-17.38,-2.341],[-18.642,-2.448],[-18.584,-20.126],[-21.092,-22.652],[-23.616,-20.144],[-23.674,-2.463],[-24.928,-2.376],[-24.885,-17.628],[-27.394,-20.155],[-29.917,-17.645],[-29.968,-1.429],[-31.228,-0.933],[-31.189,-12.617]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[-2.52,0.008],[0,0],[0,0],[-0.001,-0.183],[8.335,-0.035],[1.024,7.367],[0.728,2.537],[0,0],[-2.378,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.516,0.006],[0,0],[0,0],[-0.432,0.025],[0,0],[-2.518,0.008],[0,0],[0,0],[-0.407,-0.037],[0,0],[-2.518,0.006],[0,0],[0,0],[-0.399,-0.185],[0,0]],"o":[[2.516,-0.006],[0,0],[0,0],[0.029,8.335],[-7.645,0.021],[-0.358,-2.606],[0,0],[0,0],[2.389,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.514,-0.01],[0,0],[0.415,-0.039],[0,0],[0,0],[2.518,-0.01],[0,0],[0.426,0.021],[0,0],[0,0],[2.514,-0.008],[0,0],[0.438,0.144],[0,0],[0,0]],"v":[[33.701,-15.143],[36.223,-12.631],[36.281,6.241],[36.285,7.503],[21.234,22.652],[6.23,9.641],[4.465,1.945],[2.629,-4.438],[4.202,-7.63],[7.4,-6.064],[11.102,2.545],[12.354,1.279],[12.354,0.023],[12.348,-1.377],[12.298,-18.852],[14.804,-21.374],[17.328,-18.866],[17.38,-2.341],[18.642,-2.448],[18.584,-20.126],[21.092,-22.652],[23.618,-20.144],[23.674,-2.463],[24.928,-2.376],[24.882,-17.628],[27.394,-20.155],[29.917,-17.645],[29.968,-1.429],[31.226,-0.933],[31.187,-12.617]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[3.333,-0.333]],"o":[[-1.2,-5.2],[0,0]],"v":[[22.51,8.041],[11.01,2.541]],"c":false},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[-3.333,-0.333]],"o":[[1.2,-5.2],[0,0]],"v":[[-21.99,7.614],[-10.49,2.114]],"c":false},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,0.192156862745,0.345098039216,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":19,"s":[1,0.192156862745,0.345098039216,1]},{"t":26,"s":[0.133333333333,0.133333333333,0.133333333333,1]}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Vector","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":23,"s":[0]},{"t":27,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[435.195,196.412,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":23,"s":[209.366,209.366,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":31,"s":[257.214,257.214,100]},{"t":35,"s":[209.366,209.366,100]}],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":23,"s":[{"i":[[33.137,0],[0,-33.137],[-33.137,0],[0,33.137]],"o":[[-33.137,0],[0,33.137],[33.137,0],[0,-33.137]],"v":[[-0.955,14.988],[-60.955,74.988],[-0.955,134.988],[59.045,74.988]],"c":true}]},{"t":31,"s":[{"i":[[47.354,0],[0,-47.354],[-47.354,0],[0,47.354]],"o":[[-47.354,0],[0,47.354],[47.354,0],[0,-47.354]],"v":[[0.906,-36.975],[-84.837,48.768],[0.906,134.511],[86.648,48.768]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.9,-0.695],[-0.438,0],[-0.403,0.524],[0,0],[0.9,0.695],[0.689,-0.896],[0,0]],"o":[[0.372,0.288],[0.617,0],[0,0],[0.695,-0.898],[-0.898,-0.699],[0,0],[-0.695,0.898]],"v":[[10.071,7.71],[11.325,8.137],[12.953,7.34],[19.076,-0.584],[18.706,-3.468],[15.825,-3.098],[9.701,4.826]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.615,0],[-0.376,0.29],[0.693,0.898],[0,0],[0.898,-0.693],[-0.693,-0.898]],"o":[[0.405,0.524],[0.44,0],[0.898,-0.695],[0,0],[-0.697,-0.898],[-0.898,0.695],[0,0]],"v":[[-12.955,7.338],[-11.327,8.137],[-10.069,7.71],[-9.699,4.826],[-15.823,-3.098],[-18.707,-3.468],[-19.079,-0.584]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-1.135,0],[0,1.135],[0,0],[1.137,0],[0,-1.135]],"o":[[0,1.135],[1.137,0],[0,0],[0,-1.135],[-1.135,0],[0,0]],"v":[[-2.12,2.14],[-0.065,4.196],[1.991,2.14],[1.991,-6.082],[-0.065,-8.137],[-2.12,-6.082]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.131453797221,0.131453797221,0.131453797221,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":23,"op":253,"st":-47,"bm":0}],"markers":[]}')},2377:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":120,"w":250,"h":250,"nm":"Comp 1","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":3,"nm":" phone","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[125,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":" Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,20.039,0],"ix":2},"a":{"a":0,"k":[10.091,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Vector","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[10.091,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-2.523,0.835],[2.523,0.835],[3.364,0],[2.523,-0.835],[-2.523,-0.835],[-3.364,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":3,"nm":" Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,192.952,0],"ix":2},"a":{"a":0,"k":[22.705,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Vector","parent":4,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[22.705,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-6.727,0.835],[6.727,0.835],[7.568,0],[6.727,-0.835],[-6.727,-0.835],[-7.568,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":3,"nm":" Group","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Vector","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.246,0],[0,0],[0,3.224],[0,0],[3.246,0],[0,0],[0,-3.224],[0,0]],"o":[[0,0],[3.246,0],[0,0],[0,-3.224],[0,0],[-3.246,0],[0,0],[0,3.224]],"v":[[-12.614,35.5],[12.614,35.5],[18.5,29.653],[18.5,-29.653],[12.614,-35.5],[-12.614,-35.5],[-18.5,-29.653],[-18.5,29.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-2.321,0],[0,0],[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305]],"o":[[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305],[0,0],[-2.321,0],[0,0]],"v":[[-16.818,-29.653],[-12.614,-33.829],[12.614,-33.829],[16.818,-29.653],[16.818,29.653],[12.614,33.829],[-12.614,33.829],[-16.818,29.653]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":3,"ty":4,"nm":"Ellipse 19 (Stroke) 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":270,"ix":10},"p":{"a":0,"k":[40.962,100.923,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Ellipse 19 (Stroke)","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[213.962,108.423,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Phone","refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":74,"s":[100]},{"t":79,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"Rotate","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":51,"s":[100]},{"t":57,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0}],"markers":[]}')},63837:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},72079:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e].call(n.exports,n,n.exports,s),n.exports}s.m=r,s.amdO={},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var r=Object.create(null);s.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,s.d(r,o),r},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>"js/"+({239:"three-examples",777:"split",1662:"sdk-bundle",2276:"late-stream",3745:"menus",4456:"lib-lottie",5385:"init",5976:"splats",6780:"encoders",7475:"late",7587:"autotours",8044:"compare",8636:"ws-autotours",9114:"core",9553:"control-kit"}[e]||e)+".js",s.miniCssF=e=>"css/"+({777:"split",5385:"init",7475:"late",8044:"compare",8636:"ws-autotours",9114:"core"}[e]||e)+".css",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="mp_webgl:",s.l=(e,t,r,o)=>{if(n[e])n[e].push(t);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+r){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+r),a.src=e),n[e]=[t];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var r=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../"})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,n)=>{var i=s.miniCssF(e),r=s.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(s=n[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){var s;if((r=(s=o[i]).getAttribute("data-href"))===e||r===t)return s}})(i,r))return t();((e,t,n,i,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",s.nc&&(o.nonce=s.nc),o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)i();else{var s=n&&n.type,a=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+a+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,o.parentNode&&o.parentNode.removeChild(o),r(l)}},o.href=t,function(e){const t=Array.from(document.querySelectorAll("matterport-viewer"));t&&t.length?t.forEach((function(t){if(t&&t.shadowRoot){if(t.shadowRoot.querySelector(`link[href="${e.getAttribute("href")}"]`))return;t.shadowRoot.appendChild(e)}})):document.head.appendChild(e)}(o)})(e,r,0,t,n)})),t={6784:0};s.f.miniCss=(n,i)=>{t[n]?i.push(t[n]):0!==t[n]&&{777:1,1820:1,5385:1,7475:1,8044:1,8636:1,9114:1}[n]&&i.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{s.b=document.baseURI||self.location.href;var e={6784:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var o=s.p+s.u(t),a=new Error;s.l(o,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,r,[o,a,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(l)l(s)}for(t&&t(n);c<o.length;c++)r=o[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s.nc=void 0,(()=>{"use strict";s(38630);var e=s(65945),t=s(40157),n=s(68920),i=s(9139);const r=new i.Vy("module-loader");var o,a;(a=o||(o={}))[a.Registered=0]="Registered",a[a.Loading=1]="Loading",a[a.Initialized=2]="Initialized",a[a.Unloaded=3]="Unloaded";class l{constructor(t=new e.mc){this.container=t,this.symbolMap=new Map}registerModule(e,t){if(this.symbolMap.has(e))throw Error(`Type ${String(e)} already registered`);const i={loadClass:t,ctorPromise:new n.i,initPromise:new n.i,state:o.Registered};return this.symbolMap.set(e,i),this.container.bindAsyncFactory(e,(()=>i.initPromise.nativePromise())),i}moduleRegistered(e){return this.symbolMap.has(e)}moduleLoaded(e){const t=this.symbolMap.get(e);return!!t&&![o.Registered,o.Unloaded].includes(t.state)}getModule(e){const t=this.symbolMap.get(e);if(!t)throw Error(`Trying to get ${String(e)} before it was registered!`);if(t.state===o.Unloaded)throw Error(`${String(e)} module unloaded`);return t.initPromise.nativePromise()}getModuleSync(e){const t=this.symbolMap.get(e);return t?t.state!==o.Initialized?null:t.module||null:null}loadModule(n,i,s={}){const a=this.symbolMap.get(i);if(!a)throw Error(`${String(i)} not found`);if(a.state===o.Initialized)return a;if(a.state!==o.Registered&&a.state!==o.Unloaded)throw Error(`${String(i)} already loading`);return a.state=o.Loading,a.loadClass().then((async l=>{if("function"!=typeof l&&(l=l.default),!l)throw new Error(`${String(i)} has no default export during module loading`);let c;if(Reflect.hasOwnMetadata(t.a4,l)){const t=new e.mc(this.container);t.bindClass(l),c=await t.resolve(l)}else c=new l;a.ctorPromise.resolve(c).then((()=>{const e=Date.now();let t=!1;setTimeout((()=>{t||r.debug(`${c.name} init took over 2 seconds`)}),2e3),c.init(s,n).then((()=>{r.debug(`${c.name} init took ${(Date.now()-e)/1e3} secs.`),t=!0,a.state=o.Initialized,a.module=c,a.initPromise.resolve(c),this.container.bindConstant(i,c)})).catch((e=>{a.initPromise.reject(e)}))}))})).catch((e=>{r.error(`Failed to load es6Module for ${String(i)}: ${e}`),a.initPromise.reject(e)})),a}whenQueueEmpties(e,t=[]){const i=[],s=new Map;for(const[e,n]of this.symbolMap)n.state!==o.Loading||t.includes(e)||(i.push(n.initPromise),s.set(e,n.initPromise));for(const[t,n]of s){const i=setTimeout((()=>r.debugInfo("still loading",t)),e);n.then((()=>clearTimeout(i)))}return n.i.all(i).nativePromise()}unloadModule(e){const t=this.symbolMap.get(e);if(!t)throw Error("Attempting to unload unregistered module");if(t.state===o.Unloaded||t.state===o.Registered)throw Error("Attempting to unload not-loaded module");t.state=o.Unloaded,t.ctorPromise=new n.i,t.initPromise=new n.i,t.module=void 0,this.container.removeBinding(e,!1,!0)}}var c=s(41302),u=s(45987);function d(e,t){for(const n in t)if(e===t[n].module)return n.replace("Symbol(","Module(");return"[Unknown module]"}class h{constructor(e,t,n){this.engine=e,this.moduleLookup=t,this.fetchedModules=[],this.messageBus=e.msgBus,this.market=new p(e.market,n),this.commandBinder=e.commandBinder,this.generatorSpreader=e.generatorSpreader,this.uniqueId=e.uniqueId,this.diContainer=e.diContainer,this.getModuleBySymbolSync=e.getModuleBySymbolSync.bind(e),this.tryGetModuleBySymbolSync=e.tryGetModuleBySymbolSync.bind(e),this.addComponent=e.addComponent.bind(e),this.getComponentByType=e.getComponentByType.bind(e),this.getComponents=e.getComponents.bind(e),this.removeComponent=e.removeComponent.bind(e),this.subscribe=e.subscribe.bind(e),this.unsubscribe=e.unsubscribe.bind(e),this.broadcast=e.broadcast.bind(e),this.claimRenderLayer=e.claimRenderLayer.bind(e),this.getRenderLayer=e.getRenderLayer.bind(e),this.disposeRenderLayer=e.disposeRenderLayer.bind(e),this.startGenerator=e.startGenerator.bind(e),this.stopGenerator=e.stopGenerator.bind(e),this.after=e.after.bind(e),this.tick=e.tick.bind(e),this.toggleRendering=e.toggleRendering.bind(e),e.triggerRenderViewport&&(this.triggerRenderViewport=e.triggerRenderViewport.bind(e))}getModuleBySymbol(e){const t=Date.now();return this.engine.getModuleBySymbol(e).then((n=>{const i=Date.now();return this._track(e,t,i,n),n}))}getModuleBySymbolSync(e){return this._track(e,Date.now(),Date.now()),this.engine.getModuleBySymbolSync(e)}tryGetModuleBySymbolSync(e){return this._track(e,Date.now(),Date.now()),this.engine.getModuleBySymbolSync(e)}getLoadedDependencies(){return[...this.fetchedModules,...this.market.getLoadedDependencies()]}get msgBus(){return this.messageBus}_track(e,t,n,i){const r=null!=i?i:this.engine.tryGetModuleBySymbolSync(e);this.fetchedModules.push({moduleName:d(r,this.moduleLookup),isModule:!0,startAwait:t,finishAwait:n})}}class p{constructor(e,t){this.market=e,this.onRegisterData=t,this.fetchedData=[],this._register=e.register.bind(e),this._unregister=e.unregister.bind(e)}register(e,t){this._register(e,t),this.onRegisterData(t.name,Date.now())}unregister(e){this._unregister(e)}waitForData(e){const t=Date.now();return this.market.waitForData(e).then((e=>{const n=Date.now(),i=e.name.startsWith("data:")?e.name:`data:${e.name}`;return this.fetchedData.push({moduleName:i,isModule:!1,startAwait:t,finishAwait:n}),e}))}tryGetData(e){const t=Date.now(),n=this.market.tryGetData(e);if(n){const e=Date.now(),i=n.name.startsWith("data:")?n.name:`data:${n.name}`;return this.fetchedData.push({moduleName:i,isModule:!1,startAwait:t,finishAwait:e}),n}return null}getLoadedDependencies(){return this.fetchedData}}var f=s(75817);const m="Data not present.";class g{constructor(){this.log=new i.Vy("market"),this.typeLookup=new f.b0,this.store={},this.firstUpdatePromises={}}register(e,t){const n=this.typeLookup.getKeyByType(e,!0);if(this.store[n])throw Error("Data can only be registered to one Module");this.store[n]=t,t.commit(),n in this.firstUpdatePromises&&(this.firstUpdatePromises[n].resolve(this.store[n]),delete this.firstUpdatePromises[n])}unregister(e){const t=this.typeLookup.getKeyByType(e,!0);if(!this.store[t])throw Error("No Data was registered to the Module");delete this.store[t]}getData(e){const t=this.typeLookup.getKeyByType(e);if(t in this.store)return this.store[t];throw Error(m)}waitForData(e){const t=this.typeLookup.getKeyByType(e,!0);return t in this.store?Promise.resolve(this.store[t]):(this.firstUpdatePromises[t]||(this.firstUpdatePromises[t]=new n.i,setTimeout((()=>{i.Vy.level>=3&&!(t in this.store)&&this.log.debug(`still waiting for ${e.name}-data after 5 seconds`)}),5e3)),this.firstUpdatePromises[t].nativePromise())}tryGetData(e){try{return this.getData(e)}catch(e){if(e.message!==m)throw this.log.error("tryGetData",e.message),e}return null}}var v=s(99689),y=s(12161),E=s(75772),S=s(63958),b=s(14868),_=s(14614);class O{constructor(){this.phaseTimes=[],this.modules={},this.onDataRegister=this.onDataRegister.bind(this),this.addAppPhase(_.Jj.UNINITIALIZED),window.profilingData={phaseTimes:this.phaseTimes,modules:this.modules,rows:[]}}addAppPhase(e){e!==_.Jj.PLAYING&&e!==_.Jj.ERROR||(window.profilingData.rows=[...Object.values(this.modules)].sort(((e,t)=>e[4]-t[4]))),this.phaseTimes[e]=Date.now()}addModuleLoadTime(e,t,n,r){const o=[r.map((e=>`${e.moduleName}`))].join(","),s=r.reduce(((e,t)=>e+t.finishAwait-t.startAwait),0),a=Math.min(100,s/(n-t)*100);null==e&&i.Vy.for(this).warnError("Module name is required"),this.modules[e]=[e,e,null,t,n,null,a,o]}onDataRegister(e,t){null==e&&i.Vy.for(this).warnError("Data.name is required"),e.startsWith("data:")||(e=`data:${e}`),this.modules[e]=[e,e,null,t,t,null,0,""]}listDependencies(){var e;const t=Object.entries(this.modules).map((([e,t])=>{var n;return{key:e,uses:(null===(n=t[7])||void 0===n?void 0:n.split(",").filter((e=>!!e)).sort(((e,t)=>e.localeCompare(t))))||[],usedBy:[]}}));for(const n of t)for(const i of n.uses)null===(e=t.find((e=>e.key===i)))||void 0===e||e.usedBy.push(n.key);return t.sort(((e,t)=>e.key.localeCompare(t.key)))}listPhaseTimings(){{const e=this.phaseTimes[_.Jj.UNINITIALIZED];return this.phaseTimes.map(((t,n)=>({phase:_.le[n],time:void 0!==t?t-e:void 0}))).filter((e=>void 0!==e.time))}}listModuleTimings(){const e=this.phaseTimes[_.Jj.UNINITIALIZED];return Object.values(this.modules).map((t=>({moduleName:t[0],initStart:t[3]-e,initEnd:t[4]-e,initDuration:t[4]-t[3]}))).sort(((e,t)=>e.initStart-t.initStart))}}var T=s(35843);const A=new i.Vy("engine");let w=E.R.End,N=0;class I{constructor(){this.moduleLookup={},this.componentLookup={},this.currentApplication=null,this.moduleProfiler=new O,this._id=N++,this._container=(0,T.g$)(this._id),this._container.bindConstant("IEngine",this),this.generatorSpreader=new v.Ch,this.commandBinder=new y.w,this.market=new g,this._container.bindConstant("IMarket",this.market),this.messageBus=new c.Q,this.engineGenerators=new S.nD,this.layers=new b.H,this.symbolLoader=new l(this._container),this.afterPhasePromises=[],this.afterPhaseListenerCount=[],this.resetPromises(),A.debug(`Engine ${this._id} created`),this.subscribe(u.uv,(e=>this.moduleProfiler.addAppPhase(e.phase)))}get uniqueId(){return this._id}get diContainer(){return this._container}async loadApplication(e,t,n){if(e===this.currentApplication)throw Error("Application already loaded");const i=(this.currentApplication?this.currentApplication.getManifest():[]).map((e=>e.type)),r=e.getManifest(),o=r.map((e=>e.type)),s=this.currentApplication;this.currentApplication=null;const a=r.filter((e=>-1===i.indexOf(e.type)));for(const e of a)this.symbolLoader.moduleRegistered(e.type)||this.registerModule(e);if(s)try{await this.unload(s,(e=>!o.includes(e)))}catch(e){A.error(e),t&&t(e)}try{this.currentApplication=e,await e.load(this,{coldStart:null===s,autoPlay:n})}catch(e){A.error(e),t&&t(e)}}async unload(e,t){const n=[...e.getManifest().map((e=>e.type)).filter(t||(()=>!0)).map((e=>this.unloadModuleBySymbol(e))),e.unload(this)];n.length&&await Promise.all(n)}async dispose(){this.currentApplication&&(await this.unload(this.currentApplication),this.currentApplication.stop(),this.currentApplication=null)}registerModule(e){if(this.currentApplication)throw Error("Cannot register modules while application is running");this.symbolLoader.registerModule(e.type,e.promise)}loadModuleBySymbol(e){const t=e,n=t.type;this.moduleLoadInjectionHook&&(t.config=this.moduleLoadInjectionHook(n,t.config||{}));const i=new h(this,this.moduleLookup,this.moduleProfiler.onDataRegister),r=Date.now(),o=this.symbolLoader.loadModule(i,t.type,t.config);return o.ctorPromise.then((e=>this.moduleLookup[n]={symbol:t.type,module:e,initialized:!1,initPromise:o.initPromise.nativePromise()})),o.initPromise.then((()=>{this.moduleProfiler.addModuleLoadTime(n,r,Date.now(),i.getLoadedDependencies()),this.moduleLookup[n].initialized=!0})),o.initPromise.nativePromise()}setLoadInjection(e){if(void 0!==this.moduleLoadInjectionHook)throw Error("Hook already registered");this.moduleLoadInjectionHook=e}async unloadModuleBySymbol(e){if(!this.symbolLoader.moduleLoaded(e))return void A.debug(`${String(e)} module already unloaded`);A.debug(`Unloading ${String(e)} module`);const t=await this.getModuleBySymbol(e),n=this.getModuleIndex(t);this.componentLookup[n]&&(await Promise.all(this.componentLookup[n].map((async e=>{await this.removeComponent(t,e.component),e.component.dispose()}))),this.componentLookup[n]=[]),this.symbolLoader.unloadModule(e),t.dispose(this)}async waitForLoadingModules(e=1e4,t=[]){await Promise.all([this.symbolLoader.whenQueueEmpties(e,t)])}getModuleBySymbol(e){return this.symbolLoader.getModule(e)}getModuleBySymbolSync(e){return this.symbolLoader.getModuleSync(e)}tryGetModuleBySymbolSync(e){try{return this.getModuleBySymbolSync(e)}catch(e){return null}}getComponentByType(e){for(const t in this.moduleLookup){const n=this.moduleLookup[t].module,i=this.getModuleIndex(n),r=this.componentLookup[i]||[];for(const t of r)if(t.component instanceof e)return t.component}return null}async addComponent(e,t){const n=this.getModuleIndex(e);let i=this.componentLookup[n];i||(this.componentLookup[n]=i=[]);let r=-1;for(let e=0;e<i.length;e++)if(i[e].component===t){r=e;break}if(-1===r&&(r=i.push({component:t,active:!1})-1,t.init()),i[r].active)throw Error("Tried to add already active component: "+typeof t);await t.activate(this),i[r].active=!0}async removeComponent(e,t){const n=this.getModuleIndex(e),i=this.componentLookup[n];if(i){let e=null;for(const n of i)if(n.component===t){e=n;break}e&&e.active&&(await t.deactivate(this),e.active=!1)}}tick(){if(w!==E.R.End)throw Error("Engine.tick called outside of waiting. Did the engine get called recursively?!");w=E.R.Begin,this.resolveAfterPhase(E.R.Begin);const e=performance.now(),t=this.lastTick?e-this.lastTick:16;this.lastTick=e,w=E.R.Logic,this.generatorSpreader.onUpdate();try{for(const e in this.moduleLookup){const n=this.moduleLookup[e];n&&n.initialized&&n.module.onUpdate(t)}}catch(e){throw A.error(e),e}this.resolveAfterPhase(E.R.Logic),this.engineGenerators.processGenerators(S.tb.Phase,E.R.Logic);try{this.renderComponents(t)}catch(e){throw A.error(e),e}try{w=E.R.Render,this.resolveAfterPhase(E.R.Render),this.engineGenerators.processGenerators(S.tb.Phase,E.R.Render),w=E.R.End,this.resolveAfterPhase(E.R.End),this.engineGenerators.processGenerators(S.tb.None),this.engineGenerators.processGenerators(S.tb.Promise),this.engineGenerators.processGenerators(S.tb.Duration)}catch(e){throw A.error(e),e}}triggerRenderViewport(e){for(const t in this.moduleLookup){const n=this.componentLookup[t];if(n)for(const t of n)t.active&&t.component.beforeRenderViewport&&t.component.beforeRenderViewport(e)}}subscribe(e,t,n=c.x.PERMANENT){return this.messageBus.subscribe(e,t,n)}unsubscribe(e,t){this.messageBus.unsubscribe(e,t)}broadcast(e){this.messageBus.broadcast(e)}claimRenderLayer(e){return this.layers.claimLayer(e)}getRenderLayer(e){return this.layers.getLayer(e)}disposeRenderLayer(e){this.layers.disposeLayer(e)}startGenerator(e){this.engineGenerators.startGenerator(e)}stopGenerator(e){this.engineGenerators.stopGenerator(e)}after(e){return this.afterPhaseListenerCount[e]++,this.afterPhasePromises[e].nativePromise()}getModuleIndex(e){for(const t in this.moduleLookup)if(this.moduleLookup[t]&&this.moduleLookup[t].module===e)return t;return""}*getComponents(){for(const e in this.moduleLookup){const t=this.componentLookup[e];if(t)for(const e of t)yield e}}toggleRendering(e,t){const n=this.getModuleIndex(e),i=this.componentLookup[n];if(i)for(const e of i)e.active=t}renderComponents(e){for(const t in this.moduleLookup){const n=this.componentLookup[t];if(n)for(const t of n)t.active&&t.component.beforeRender&&t.component.beforeRender(e)}for(const t in this.moduleLookup){if(!t)continue;const n=this.componentLookup[t];if(n)for(const t of n)t.active&&t.component.render(e)}}resetPromises(){this.resetAfterPhasePromises()}resetAfterPhasePromises(){this.resetAfterPhasePromise(E.R.Logic),this.resetAfterPhasePromise(E.R.Render),this.resetAfterPhasePromise(E.R.Begin),this.resetAfterPhasePromise(E.R.End)}resetAfterPhasePromise(e){this.afterPhasePromises[e]=new n.i,this.afterPhaseListenerCount[e]=0}resolveAfterPhase(e){this.afterPhaseListenerCount[e]>0&&(this.afterPhasePromises[e].resolve(),this.resetAfterPhasePromise(e))}get msgBus(){return this.messageBus}}var R,k=s(84404);R=function(){const e=5121,t=5126,n=5131,i=36193;let r;function o(e,t,n){return function(i,r,o){return((i+e-1)/e|0)*((r+t-1)/t|0)*n*o}}function s(e,t,n){return function(i,r,o){return(Math.max(i,e)*Math.max(r,t)/n|0)*o}}const a=new Map([[33776,o(4,4,8)],[33777,o(4,4,8)],[33778,o(4,4,16)],[33779,o(4,4,16)],[36196,o(4,4,8)],[35840,s(8,8,2)],[35842,s(8,8,2)],[35841,s(16,8,4)],[35843,s(16,8,4)],[37488,o(4,4,8)],[37489,o(4,4,8)],[37492,o(4,4,8)],[37493,o(4,4,8)],[37494,o(4,4,8)],[37495,o(4,4,8)],[37490,o(4,4,16)],[37491,o(4,4,16)],[37496,o(4,4,16)],[37497,o(4,4,16)],[37808,o(4,4,16)],[37840,o(4,4,16)],[37809,o(5,4,16)],[37841,o(5,4,16)],[37810,o(5,5,16)],[37842,o(5,5,16)],[37811,o(6,5,16)],[37843,o(6,5,16)],[37812,o(6,6,16)],[37844,o(6,6,16)],[37813,o(8,5,16)],[37845,o(8,5,16)],[37814,o(8,6,16)],[37846,o(8,6,16)],[37815,o(8,8,16)],[37847,o(8,8,16)],[37816,o(10,5,16)],[37848,o(10,5,16)],[37817,o(10,6,16)],[37849,o(10,6,16)],[37818,o(10,8,16)],[37850,o(10,8,16)],[37819,o(10,10,16)],[37851,o(10,10,16)],[37820,o(12,10,16)],[37852,o(12,10,16)],[37821,o(12,12,16)],[37853,o(12,12,16)],[35916,o(4,4,8)],[35917,o(4,4,8)],[35918,o(4,4,16)],[35919,o(4,4,16)],[36492,o(4,4,16)],[36493,o(4,4,16)],[36494,o(4,4,16)],[36495,o(4,4,16)],[36283,o(4,4,8)],[36284,o(4,4,8)],[36285,o(4,4,16)],[36286,o(4,4,16)]]);function l(o,s){const a=function(o){if(!r){const o={};o[6406]={bytesPerElement:[1,2,2,4],type:[e,n,i,t]},o[6409]={bytesPerElement:[1,2,2,4],type:[e,n,i,t]},o[6410]={bytesPerElement:[2,4,4,8],type:[e,n,i,t]},o[6407]={bytesPerElement:[3,6,6,12,2],type:[e,n,i,t,33635]},o[6408]={bytesPerElement:[4,8,8,16,2,2],type:[e,n,i,t,32819,32820]},o[35906]={bytesPerElement:[4,8,8,16,2,2],type:[e,n,i,t,32819,32820]},o[6402]={bytesPerElement:[2,4],type:[5125,5123]},o[34041]={bytesPerElement:[4]},o[33321]={bytesPerElement:[1]},o[36756]={bytesPerElement:[1]},o[33325]={bytesPerElement:[2]},o[33326]={bytesPerElement:[4]},o[33330]={bytesPerElement:[1]},o[33329]={bytesPerElement:[1]},o[33332]={bytesPerElement:[2]},o[33331]={bytesPerElement:[2]},o[33334]={bytesPerElement:[4]},o[33333]={bytesPerElement:[4]},o[33323]={bytesPerElement:[2]},o[36757]={bytesPerElement:[2]},o[33327]={bytesPerElement:[4]},o[33328]={bytesPerElement:[8]},o[33336]={bytesPerElement:[2]},o[33335]={bytesPerElement:[2]},o[33338]={bytesPerElement:[4]},o[33337]={bytesPerElement:[4]},o[33340]={bytesPerElement:[8]},o[33339]={bytesPerElement:[8]},o[32849]={bytesPerElement:[3]},o[35905]={bytesPerElement:[3]},o[36194]={bytesPerElement:[2]},o[36758]={bytesPerElement:[3]},o[35898]={bytesPerElement:[4]},o[35901]={bytesPerElement:[4]},o[34843]={bytesPerElement:[6]},o[34837]={bytesPerElement:[12]},o[36221]={bytesPerElement:[3]},o[36239]={bytesPerElement:[3]},o[36215]={bytesPerElement:[6]},o[36233]={bytesPerElement:[6]},o[36209]={bytesPerElement:[12]},o[36227]={bytesPerElement:[12]},o[32856]={bytesPerElement:[4]},o[35907]={bytesPerElement:[4]},o[36759]={bytesPerElement:[4]},o[32855]={bytesPerElement:[2]},o[32854]={bytesPerElement:[2]},o[32857]={bytesPerElement:[4]},o[34842]={bytesPerElement:[8]},o[34836]={bytesPerElement:[16]},o[36220]={bytesPerElement:[4]},o[36238]={bytesPerElement:[4]},o[36975]={bytesPerElement:[4]},o[36214]={bytesPerElement:[8]},o[36232]={bytesPerElement:[8]},o[36226]={bytesPerElement:[16]},o[36208]={bytesPerElement:[16]},o[33189]={bytesPerElement:[2]},o[33190]={bytesPerElement:[4]},o[36012]={bytesPerElement:[4]},o[35056]={bytesPerElement:[4]},o[36013]={bytesPerElement:[4]},o[36168]={bytesPerElement:[1]},r=o}return r[o]}(o);if(!a)throw"unknown internal format";if(a.type){const e=a.type.indexOf(s);if(e<0)throw new Error(`unsupported type ${s} for internalformat ${o}`);return a.bytesPerElement[e]}return a.bytesPerElement[0]}function c(e,t,n,i,r){const o=a.get(e);return o?o(t,n,i):function(e,t,n,i,r){return t*n*i*l(e,r)}(e,t,n,i,r)}function u(e){return function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer}(e)||e instanceof ArrayBuffer}function d(){return(new Error).stack.split("\n").slice(2).filter((e=>!e.includes("webgl-memory.js"))).join("\n")}const h=new Set;function p(e,t,n={}){if(h.has(e))return e;h.add(e);const i=n.origGLErrorFn||e.getError;let r=!1;const o=n.sharedState||function(e){const t={samples:(i=e).getParameter(i.SAMPLES)||1,depthBits:i.getParameter(i.DEPTH_BITS),stencilBits:i.getParameter(i.STENCIL_BITS),contextAttributes:i.getContextAttributes()};var i;const o={baseContext:e,config:n,apis:{gman_webgl_memory:{ctx:{getMemoryInfo(){const n=function(e,t){if(e.isContextLost())return 0;const{samples:n}=t,i=e.drawingBufferWidth*e.drawingBufferHeight,r=function(e){const{depthBits:t,stencilBits:n}=e,i=(t+n+7)/8|0;return 3===i?4:i}(t);return 4*i+i*n*4+i*r}(e,t);return{memory:{...l,drawingbuffer:n,total:n+l.buffer+l.texture+l.renderbuffer},resources:{...f}}},getResourcesInfo:e=>function(e,t){return[...e.webglObjectToMemory.keys()].filter((e=>e instanceof t)).map((t=>e.webglObjectToMemory.get(t)))}(o,e),setAllowUnknownTextures(e){r=e}}}},resources:{},memory:{texture:0,buffer:0,renderbuffer:0},bindings:new Map,defaultVertexArray:{},webglObjectToMemory:new Map},a=new Set(["webgl","webgl2","webgl_lose_context"]);function c(){o.bindings.clear(),o.webglObjectToMemory.clear(),o.webglObjectToMemory.set(o.defaultVertexArray,{}),o.currentVertexArray=o.defaultVertexArray,[o.resources,o.memory].forEach((function(e){for(const t in e)e[t]=0}))}return e.canvas&&(e.canvas.addEventListener("webglcontextlost",(function(){c(),o.isContextLost=!0;for(const[e,{ctx:t,origFuncs:n}]of[...Object.entries(o.apis)])if(!a.has(e)&&n){h.delete(t);for(const[e,i]of Object.entries(n))t[e]=i;delete s[e]}})),e.canvas.addEventListener("webglcontextrestored",(function(){o.isContextLost=!1}))),c(),o}(e);n.sharedState=o;const{apis:s,bindings:a,memory:l,resources:f,webglObjectToMemory:m}=o,g={};function v(){}function y(e,t,n){return e[n||`create${t[0].toUpperCase()}${t.substr(1)}`]?(f[t]=0,function(e,n,i,r){o.isContextLost||(++f[t],m.set(r,{size:0,stackCreated:d()}))}):null}function E(t,n=v,i){const r=i||`delete${t[0].toUpperCase()}${t.substr(1)}`;return e[r]?function(e,i,r){if(o.isContextLost)return;const[s]=r,a=m.get(s);a&&(--f[t],n(s,a),m.delete(s))}:null}function S(e,t,n,i,r){if(o.isContextLost)return;const s=a.get(e);if(!s)throw new Error(`no renderbuffer bound to ${e}`);const u=m.get(s);if(!u)throw new Error(`unknown renderbuffer ${s}`);const h=c(n,i,r,1)*t;l.renderbuffer-=u.size,u.size=h,u.stackUpdated=d(),l.renderbuffer+=h}const b=5121,_=34067,O=35866,T=34069,A=new Set([T,34070,34071,34072,34073,34074]);function w(e){return A.has(e)}function N(e){e=w(e)?_:e;const t=a.get(e);if(!t)throw new Error(`no texture bound to ${e}`);let n=m.get(t);if(!n&&!r)throw new Error(`unknown texture ${t}`);return n||(n={size:0},m.set(t,n)),n}function I(e,t,n,i,r,o,s,a){const u=e.size,h=c(i,r,o,s,a),p=w(t)?t-T:0;e.mips=e.mips||[],e.mips[n]=e.mips[n]||[];const f=e.mips[n][p]||{};e.size-=f.size||0,f.size=h,f.internalFormat=i,f.type=a,f.width=r,f.height=o,f.depth=s,e.mips[n][p]=f,e.size+=h,l.texture-=u,l.texture+=e.size,e.stackUpdated=d()}function R(e,t,n,i,r,o){const s=N(e),a=e===_?6:1,l=e===_?T:e;for(let c=0;c<t;++c){for(let e=0;e<a;++e)I(s,l+e,c,n,i,r,o);i=Math.ceil(Math.max(i/2,1)),r=Math.ceil(Math.max(r/2,1)),o=e===O?o:Math.ceil(Math.max(o/2,1))}}function k(e,t,n){if(o.isContextLost)return;const[i]=n;o.currentVertexArray=i||o.defaultVertexArray}function L(e,t){if(!o.isContextLost)if(34963===e)m.get(o.currentVertexArray).elementArrayBuffer=t;else a.set(e,t)}const P={},D={bufferData(e,t,n){if(o.isContextLost)return;const[i,r,,,s]=n;let c;if(c=34963===i?m.get(o.currentVertexArray).elementArrayBuffer:a.get(i),!c)throw new Error(`no buffer bound to ${i}`);let h=0;if(void 0!==s)h=s*r.BYTES_PER_ELEMENT;else if(u(r))h=r.byteLength;else{if("number"!=typeof r)throw new Error(`unsupported bufferData src type ${r}`);h=r}const p=m.get(c);if(!p)throw new Error(`unknown buffer ${c}`);l.buffer-=p.size,p.size=h,p.stackUpdated=d(),l.buffer+=h},bindVertexArray:k,bindVertexArrayOES:k,bindBuffer(e,t,n){const[i,r]=n;L(i,r)},bindBufferBase(e,t,n){const[i,,r]=n;L(i,r)},bindBufferRange(e,t,n){const[i,,r,,]=n;L(i,r)},bindRenderbuffer(e,t,n){if(o.isContextLost)return;const[i,r]=n;a.set(i,r)},bindTexture(e,t,n){if(o.isContextLost)return;const[i,r]=n;a.set(i,r)},copyTexImage2D(e,t,n){if(o.isContextLost)return;const[i,r,s,,,a,l]=n;I(N(i),i,r,s,a,l,1,b)},createBuffer:y(e,"buffer"),createFramebuffer:y(e,"framebuffer"),createRenderbuffer:y(e,"renderbuffer"),createProgram:y(e,"program"),createQuery:y(e,"query"),createShader:y(e,"shader"),createSampler:y(e,"sampler"),createTexture:y(e,"texture"),createTransformFeedback:y(e,"transformFeedback"),createVertexArray:y(e,"vertexArray"),createVertexArrayOES:y(e,"vertexArray","createVertexArrayOES"),compressedTexImage2D(e,t,n){if(o.isContextLost)return;const[i,r,s,a,l]=n;I(N(i),i,r,s,a,l,1,b)},compressedTexImage3D(e,t,n){if(o.isContextLost)return;const[i,r,s,a,l,c]=n;I(N(i),i,r,s,a,l,c,b)},deleteBuffer:E("buffer",(function(e,t){l.buffer-=t.size})),deleteFramebuffer:E("framebuffer"),deleteProgram:E("program"),deleteQuery:E("query"),deleteRenderbuffer:E("renderbuffer",(function(e,t){l.renderbuffer-=t.size})),deleteSampler:E("sampler"),deleteShader:E("shader"),deleteSync:E("sync"),deleteTexture:E("texture",(function(e,t){l.texture-=t.size})),deleteTransformFeedback:E("transformFeedback"),deleteVertexArray:E("vertexArray"),deleteVertexArrayOES:E("vertexArray",v,"deleteVertexArrayOES"),fenceSync:function(e){if(!o.isContextLost&&e.fenceSync)return f.sync=0,function(e,t,n,i){++f.sync,m.set(i,{size:0})}}(e),generateMipmap(e,t,n){if(o.isContextLost)return;const[i]=n,r=N(i),s=r.parameters&&r.parameters.get(33084)||0,a=r.parameters&&r.parameters.get(33085)||1024,l=r.mips[s][0];let{width:c,height:u,depth:d}=l;const{internalFormat:h,type:p}=l;let f=s+1;const m=i===_?6:1,g=i===_?T:i;for(;f<=a&&(1!==c||1!==u||1!==d&&i!==O);){c=Math.ceil(Math.max(c/2,1)),u=Math.ceil(Math.max(u/2,1)),d=i===O?d:Math.ceil(Math.max(d/2,1));for(let e=0;e<m;++e)I(r,g+e,f,h,c,u,d,p);++f}},getSupportedExtensions(e,t,n,i){o.isContextLost||i.push("GMAN_webgl_memory")},renderbufferStorage(e,t,n){const[i,r,o,s]=n;S(i,1,r,o,s)},renderbufferStorageMultisample(e,t,n){const[i,r,o,s,a]=n;S(i,r,o,s,a)},texImage2D(e,t,n){if(o.isContextLost)return;const[i,r,s]=n;let a,l,c;if(6===n.length){const e=n[5];a=e.width,l=e.height,c=n[4]}else a=n[3],l=n[4],c=n[7];I(N(i),i,r,s,a,l,1,c)},texImage3D(e,t,n){if(o.isContextLost)return;const[i,r,s,a,l,c,,,u]=n;I(N(i),i,r,s,a,l,c,u)},texParameteri(e,t,n){if(o.isContextLost)return;const[i,r,s]=n,a=N(i);a.parameters=a.parameters||new Map,a.parameters.set(r,s)},texStorage2D(e,t,n){const[i,r,o,s,a]=n;R(i,r,o,s,a,1)},texStorage3D(e,t,n){const[i,r,o,s,a,l]=n;R(i,r,o,s,a,l)}},M={getExtension(e,t){if(o.isContextLost)return;const r=e[t];e[t]=function(...t){const o=t[0].toLowerCase(),a=s[o];if(a)return a.ctx;const l=r.call(e,...t);return l&&p(l,o,{...n,origGLErrorFn:i}),l}}};function C(e,t){const n=e[t],r=P[t]||v,o=D[t]||v;if(r===v&&D===v)return;e[t]=function(...i){r(e,t,i);const s=n.call(e,...i);return o(e,t,i,s),s};const s=M[t];s&&s(e,t,i)}for(const t in e)"function"==typeof e[t]&&(g[t]=e[t],C(e,t));s[t.toLowerCase()]={ctx:e,origFuncs:g}}function f(e){const t=e.prototype.getContext;e.prototype.getContext=function(e,...n){const i=t.call(this,e,...n);return i&&i.bindTexture&&(p(i,e,{}),i.getExtension("GMAN_webgl_memory")),i}}"undefined"!=typeof HTMLCanvasElement&&f(HTMLCanvasElement),"undefined"!=typeof OffscreenCanvas&&f(OffscreenCanvas)},"function"==typeof define&&define.amd?define(R):R();var L=s(97084),P=s(30786);class D{constructor(e,t,n){this.engine=e,this.renderer=t,this.onErrorCallback=n,this.start=()=>{this.renderer.setAnimationLoop(this.tick)},this.stop=()=>{this.renderer.setAnimationLoop(null)},this.tick=e=>{try{this.engine.tick()}catch(e){this.stop(),this.onErrorCallback(e)}}}}var M=s(93136),C=s(82748),x=s(27200),U=s(90082),F=s(25443),H=s(87965),G=s(26072),B=s(66726),V=s(3249),j=s(71687),W=s(88090),z=s(3073),$=s(32126),K=s(95386),Y=s(47840),q=s(99625);const Q=new i.Vy("showcase-prefetch");var X=s(94165),J=s(71224),Z=s(55057);new i.Vy("getSdkConfig");function ee(e=!1,t="26.1.3_webgl-190-ge117742b46"){const n={client:`https://static.matterport.com/showcase-sdk/client/${t}/sdk-client.js`,sandbox:`https://static.matterport.com/showcase-sdk/sandbox/${t}/sandbox.html`,interfaces:[`https://static.matterport.com/showcase-sdk/interface/${t}/sdk-interface.js`]};return e&&n.interfaces.push(`https://static.matterport.com/showcase-sdk/interface/${t}/edit-interface.js`),n}var te=s(47737),ne=s(65256),ie=s(21875),re=s(19702),oe=s(66846),se=s(2993),ae=s(99583),le=s(73566),ce=s(10711);const ue=new i.Vy("AB");class de{constructor(e){this.values={};for(const t in e){const n=e[t];if(n&&n.ab)try{this.values[t]=he(n.ab)}catch(e){ue.warn(`Skipping key ${t}, could not pick: ${e}`)}}}get(e){return this.values[e]}serialize(){return Object.keys(this.values).map((e=>`${e}:${this.values[e]}`))}}function he(e){if(0===e.length)throw Error("A/B cannot choose from an empty choice array");let t=0;for(const n of e){if(void 0===n.value||void 0===n.weight||n.weight<0)throw Error(`Malformed AB choice: ${n}`);t+=n.weight}const n=Math.random()*t;let i=0;for(const t of e)if(i+=t.weight,n<=i)return t.value}var pe=s(90572),fe=s(47299),me=s(75522),ge=s(28475),ve=s(13767),ye=s(85204),Ee=s(38039),Se=s(23500),be=s(57811),_e=s(60152),Oe=s(80303),Te=s(76894),Ae=s(90160),we=s(596);var Ne=s(8333),Ie=s(46793),Re=s(9997),ke=s(20563),Le=s(80519),Pe=s(9114),De=s(26482),Me=s(23338),Ce=s(23339),xe=s(57447),Ue=s(3645),Fe=s(31863);var He=s(60818);var Ge=s(35404);async function Be({urlValues:e,settingsData:t,flags:n,loggedIn:i,inWorkshop:r,hasPolicy:o,domainDenylist:s}){const a=null!=(0,Me.un)(),l=e[Ue.x$.enabled],c=n.has(Ue.jg)?"0"!==l:"1"===l,u=o(Ue.td)||"1"===e[Ue.x$.forcePolicy],d=!i,h=t.tryGetSetting(Ge.qu,!1),p=e[Ue.x$.forceReferrer]||document.referrer,f=await async function(e,t){if(!e)return!0;if(!window.crypto||!window.crypto.subtle)return!1;const n=new URL(e),i=(0,B.SE)(n.hostname),r=await(0,Fe.e8)(i);return!t.includes(r)}(p,s);He.r.debug("referrer eligible: ",f.toString());const m=!a&&!r,g=function(e){return e.getOverrideParam("lang",(0,x.Ul)())}(t).startsWith("en"),v=c&&!h&&m&&g&&d;return{popupAllowed:v&&u&&f,bannerAllowed:v}}var Ve=s(26059),je=s(87419),We=s(70046),ze=s(53282),$e=s(97171);var Ke=s(92089),Ye=s(85281),qe=s(42390),Qe=s(30278);function Xe(e){const t={width:"360",maxwidth:"360",maxheight:"640",url:e,native:"true",autoplay:"true"};if(e.includes("flickr")||e.includes("flic.kr")){const e=Math.max(window.screen.height,window.screen.width);t.maxwidth=t.maxheight=t.width=`${e}`}return{queryParams:new URLSearchParams(t),headers:{responseType:"json"}}}const Je=/^https:\/\/www.instagram.com/;const Ze=/^https:\/\/www.facebook.com/,et=/^https:\/\/www.facebook.com\/(.*\/)?(posts\/|activity\/|photo\.php|photos\/|permalink\.php|media\/set|questions\/|notes\/)/,tt=/^https:\/\/www.facebook.com\/(video\.php|.*\/videos\/)/;const nt=[{testUrl:function(e){return Je.test(e)},request:async function(e,t,n,i){const{queryParams:r,headers:o}=Xe(e);n&&i&&r.append("access_token",`${n}|${i}`);const s=new URL(`https://graph.facebook.com/v10.0/instagram_oembed?${r.toString()}`);try{return await t.get(s.toString(),o)}catch(e){const t=e;throw new Qe.$A(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:function(e){return Ze.test(e)},request:async function(e,t,n,i){const{queryParams:r,headers:o}=Xe(e);n&&i&&r.append("access_token",`${n}|${i}`);const s=function(e){return et.test(e)?"https://graph.facebook.com/v10.0/oembed_post":tt.test(e)?"https://graph.facebook.com/v10.0/oembed_video":"https://graph.facebook.com/v10.0/oembed_page"}(e),a=new URL(`${s}?${r.toString()}`);try{return await t.get(a.toString(),o)}catch(e){const t=e;throw new Qe.$A(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:()=>!0,request:async function(e,t,n){const{queryParams:i,headers:r}=Xe(e);n&&i.append("key",n);const o=new URL(`https://api.embed.ly/1/oembed?${i.toString()}`);try{return await t.get(o.toString(),r)}catch(e){const t=e;throw new Qe.$A(t.error_message,t.status_code,t.type)}},apiKeys:["embedlyKey"]}];var it=s(23716);const rt={[it.K.GoogleMaps]:function(e,t){return e.thumbnail_url&&(e.thumbnail_url=`${e.thumbnail_url}&key=${t.googleMapsApiKey}`),e}};async function ot(e,t,n){const i=n.embedlyKey;if(i){const n=function(e,t){if(e.includes("i.embed.ly")||e.startsWith("blob:"))return e;const n=Math.max(window.screen.height,window.screen.width),i=`&url=${encodeURIComponent(e)}&width=${n}&height=${n}`;return`https://i.embed.ly/1/display/resize?key=${t}${i}`}(e,i);return t.get(n,{responseType:"arraybuffer"}).then((e=>{return t=e,new Promise((e=>{t||Promise.resolve(null);const n=t=>{const n=t.target,i={width:n.naturalWidth,height:n.naturalHeight,url:s,type:qe.n.PHOTO,version:""};e(i)},i=new Uint8Array(t),r=new Blob([i]),o=new Image;o.addEventListener("load",(e=>n(e)));const s=URL.createObjectURL(r);o.src=s}));var t}))}return null}const st={[it.K.Behance]:!1,[it.K.FaceBook]:!1,[it.K.GoogleMaps]:"googleMapsApiKey",[it.K.Instagram]:["instagramAppId","instagramClientToken"],[it.K.LinkedIn]:!1,[it.K.MixCloud]:!1,[it.K.Pinterest]:!1,[it.K.Reddit]:!0,[it.K.TikTok]:!0,[it.K.Twitter]:!0,[it.K.Twitch]:!1};class at{constructor(e,t){this.cache={},this.queue=e,this.apiKeys=t}async getOEmbedData(e){const t=this.cache[e];if(t&&t.type!==qe.n.LINK)return Promise.resolve(t);let n,i;try{i=await function(e,t,n){for(const i of nt)if(i.testUrl(e)){const r=i.apiKeys.map((e=>n[e]));return i.request(e,t,...r)}throw new Qe.i1(e)}(e,this.queue,this.apiKeys)}catch(e){if(![401,404,501].includes(e.status))throw e;n=e}if(!i||i.type===qe.n.PHOTO){const t=(null==i?void 0:i.url)||e;try{const n=await ot(t,this.queue,this.apiKeys);if(n)return this.cache[e]=n,n}catch(e){if(!i)throw n||e}}if(!i)throw n||Qe.$A;return this.cache[e]=i,this.validate(i)}clearCache(){this.cache={}}validate(e){if(!((e,t)=>{const n=void 0===e.provider_name?void 0:st[e.provider_name.toLowerCase()];return"string"==typeof n?!!t[n]:Array.isArray(n)?n.every((e=>!!t[e])):!1!==n})(e,this.apiKeys))throw new Qe.aI(e.provider_name);if(e.type===qe.n.LINK)throw new Qe.Dm(e.provider_name);return function(e,t){if(void 0!==e.provider_name){const n=rt[e.provider_name.toLowerCase()];if(n)return n(e,t)}return e}(e,this.apiKeys)}}var lt=s(33156),ct=s(49953),ut=s(87766),dt=s(91779),ht=s(40186),pt=s(7584),ft=s(62876);const mt="spaces.aws.twinmaker.sdk.access",gt=new Map([["iot-twinmaker",mt]]);var vt=s(52030),yt=s(63282),Et=s.n(yt),St=s(68182),bt=s.n(St);const _t=(e=0)=>t=>`[${t+e}m`,Ot=(e=0)=>t=>`[${38+e};5;${t}m`,Tt=(e=0)=>(t,n,i)=>`[${38+e};2;${t};${n};${i}m`,At={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(At.modifier),Object.keys(At.color),Object.keys(At.bgColor);const wt=function(){const e=new Map;for(const[t,n]of Object.entries(At)){for(const[t,i]of Object.entries(n))At[t]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[t]=At[t],e.set(i[0],i[1]);Object.defineProperty(At,t,{value:n,enumerable:!1})}return Object.defineProperty(At,"codes",{value:e,enumerable:!1}),At.color.close="[39m",At.bgColor.close="[49m",At.color.ansi=_t(),At.color.ansi256=Ot(),At.color.ansi16m=Tt(),At.bgColor.ansi=_t(10),At.bgColor.ansi256=Ot(10),At.bgColor.ansi16m=Tt(10),Object.defineProperties(At,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},enumerable:!1},hexToAnsi256:{value:e=>At.rgbToAnsi256(...At.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,i;if(e>=232)t=(10*(e-232)+8)/255,n=t,i=t;else{const r=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(r/6)/5,i=r%6/5}const r=2*Math.max(t,n,i);if(0===r)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return 2===r&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>At.ansi256ToAnsi(At.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>At.ansi256ToAnsi(At.hexToAnsi256(e)),enumerable:!1}}),At}(),Nt=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const e=navigator.userAgentData.brands.find((({brand:e})=>"Chromium"===e));if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),It=0!==Nt&&{level:Nt,hasBasic:!0,has256:Nt>=2,has16m:Nt>=3},Rt={stdout:It,stderr:It};function kt(e,t,n){let i=e.indexOf(t);if(-1===i)return e;const r=t.length;let o=0,s="";do{s+=e.slice(o,i)+t+n,o=i+r,i=e.indexOf(t,o)}while(-1!==i);return s+=e.slice(o),s}const{stdout:Lt,stderr:Pt}=Rt,Dt=Symbol("GENERATOR"),Mt=Symbol("STYLER"),Ct=Symbol("IS_EMPTY"),xt=["ansi","ansi","ansi256","ansi16m"],Ut=Object.create(null);const Ft=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=Lt?Lt.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,Ht.prototype),t};function Ht(e){return Ft(e)}Object.setPrototypeOf(Ht.prototype,Function.prototype);for(const[e,t]of Object.entries(wt))Ut[e]={get(){const n=Wt(this,jt(t.open,t.close,this[Mt]),this[Ct]);return Object.defineProperty(this,e,{value:n}),n}};Ut.visible={get(){const e=Wt(this,this[Mt],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Gt=(e,t,n,...i)=>"rgb"===e?"ansi16m"===t?wt[n].ansi16m(...i):"ansi256"===t?wt[n].ansi256(wt.rgbToAnsi256(...i)):wt[n].ansi(wt.rgbToAnsi(...i)):"hex"===e?Gt("rgb",t,n,...wt.hexToRgb(...i)):wt[n][e](...i),Bt=["rgb","hex","ansi256"];for(const e of Bt){Ut[e]={get(){const{level:t}=this;return function(...n){const i=jt(Gt(e,xt[t],"color",...n),wt.color.close,this[Mt]);return Wt(this,i,this[Ct])}}};Ut["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const i=jt(Gt(e,xt[t],"bgColor",...n),wt.bgColor.close,this[Mt]);return Wt(this,i,this[Ct])}}}}const Vt=Object.defineProperties((()=>{}),{...Ut,level:{enumerable:!0,get(){return this[Dt].level},set(e){this[Dt].level=e}}}),jt=(e,t,n)=>{let i,r;return void 0===n?(i=e,r=t):(i=n.openAll+e,r=t+n.closeAll),{open:e,close:t,openAll:i,closeAll:r,parent:n}},Wt=(e,t,n)=>{const i=(...e)=>zt(i,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(i,Vt),i[Dt]=e,i[Mt]=t,i[Ct]=n,i},zt=(e,t)=>{if(e.level<=0||!t)return e[Ct]?"":t;let n=e[Mt];if(void 0===n)return t;const{openAll:i,closeAll:r}=n;if(t.includes(""))for(;void 0!==n;)t=kt(t,n.close,n.open),n=n.parent;const o=t.indexOf("\n");return-1!==o&&(t=function(e,t,n,i){let r=0,o="";do{const s="\r"===e[i-1];o+=e.slice(r,s?i-1:i)+t+(s?"\r\n":"\n")+n,r=i+1,i=e.indexOf("\n",r)}while(-1!==i);return o+=e.slice(r),o}(t,r,i,o)),i+t+r};Object.defineProperties(Ht.prototype,Ut);const $t=Ht(),Kt=(Ht({level:Pt?Pt.level:0}),$t),Yt="[",qt="]",Qt="",Xt=";",Jt={cursorTo:(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");return"number"!=typeof t?Yt+(e+1)+"G":Yt+(t+1)+";"+(e+1)+"H"},cursorMove:(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");let n="";return e<0?n+=Yt+-e+"D":e>0&&(n+=Yt+e+"C"),t<0?n+=Yt+-t+"A":t>0&&(n+=Yt+t+"B"),n},cursorUp:(e=1)=>Yt+e+"A",cursorDown:(e=1)=>Yt+e+"B",cursorForward:(e=1)=>Yt+e+"C",cursorBackward:(e=1)=>Yt+e+"D",cursorLeft:"[G",cursorSavePosition:"[s",cursorRestorePosition:"[u",cursorGetPosition:"[6n",cursorNextLine:"[E",cursorPrevLine:"[F",cursorHide:"[?25l",cursorShow:"[?25h",eraseLines:e=>{let t="";for(let n=0;n<e;n++)t+=Jt.eraseLine+(n<e-1?Jt.cursorUp():"");return e&&(t+=Jt.cursorLeft),t},eraseEndLine:"[K",eraseStartLine:"[1K",eraseLine:"[2K",eraseDown:"[J",eraseUp:"[1J",eraseScreen:"[2J",scrollUp:"[S",scrollDown:"[T",clearScreen:"c"};Jt.clearTerminal=`${Jt.eraseScreen}${Yt}3J${Yt}H`,Jt.beep=Qt,Jt.link=(e,t)=>[qt,"8",Xt,Xt,t,Qt,e,qt,"8",Xt,Xt,Qt].join(""),Jt.image=(e,t={})=>{let n=`${qt}1337;File=inline=1`;return t.width&&(n+=`;width=${t.width}`),t.height&&(n+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(n+=";preserveAspectRatio=0"),n+":"+e.toString("base64")+Qt},Jt.iTerm={setCwd:(e=process.cwd())=>`${qt}50;CurrentDir=${e}${Qt}`,annotation:(e,t={})=>{let n=`${qt}1337;`;const i=void 0!==t.x,r=void 0!==t.y;if((i||r)&&(!i||!r||void 0===t.length))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),n+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?n+=(i?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):n+=e,n+Qt}};const Zt=Jt;var en=s(98567);function tn(e,t,{target:n="stdout",...i}={}){return en[n]?Zt.link(e,t):!1===i.fallback?e:"function"==typeof i.fallback?i.fallback(e,t):`${e} (${t})`}tn.isSupported=en.stdout,tn.stderr=(e,t,n={})=>tn(e,t,{target:"stderr",...n}),tn.stderr.isSupported=en.stderr;const{dim:nn,red:rn,blue:on,green:sn,yellow:an,magenta:ln,white:cn}=Kt,un={title:rn.bold,pathDescription:on.italic,expr:cn.italic,type:on.bold,string:sn,number:ln,primitive:an,dimmed:nn,good:sn,operator:cn,link:on,regex:ln.italic},dn={};for(const e of Object.keys(un))dn[e]=t=>un[e](t);const hn={support:Boolean(Lt&&Lt.hasBasic),terminalLink:tn,style:dn};var pn=s(53359);const fn=(e=0)=>t=>`[${t+e}m`,mn=(e=0)=>t=>`[${38+e};5;${t}m`,gn=(e=0)=>(t,n,i)=>`[${38+e};2;${t};${n};${i}m`,vn={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(vn.modifier),Object.keys(vn.color),Object.keys(vn.bgColor);const yn=function(){const e=new Map;for(const[t,n]of Object.entries(vn)){for(const[t,i]of Object.entries(n))vn[t]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[t]=vn[t],e.set(i[0],i[1]);Object.defineProperty(vn,t,{value:n,enumerable:!1})}return Object.defineProperty(vn,"codes",{value:e,enumerable:!1}),vn.color.close="[39m",vn.bgColor.close="[49m",vn.color.ansi=fn(),vn.color.ansi256=mn(),vn.color.ansi16m=gn(),vn.bgColor.ansi=fn(10),vn.bgColor.ansi256=mn(10),vn.bgColor.ansi16m=gn(10),Object.defineProperties(vn,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},enumerable:!1},hexToAnsi256:{value:e=>vn.rgbToAnsi256(...vn.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,i;if(e>=232)t=(10*(e-232)+8)/255,n=t,i=t;else{const r=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(r/6)/5,i=r%6/5}const r=2*Math.max(t,n,i);if(0===r)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return 2===r&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>vn.ansi256ToAnsi(vn.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>vn.ansi256ToAnsi(vn.hexToAnsi256(e)),enumerable:!1}}),vn}(),En=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const e=navigator.userAgentData.brands.find((({brand:e})=>"Chromium"===e));if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),Sn=0!==En&&{level:En,hasBasic:!0,has256:En>=2,has16m:En>=3},bn={stdout:Sn,stderr:Sn};function _n(e,t,n){let i=e.indexOf(t);if(-1===i)return e;const r=t.length;let o=0,s="";do{s+=e.slice(o,i)+t+n,o=i+r,i=e.indexOf(t,o)}while(-1!==i);return s+=e.slice(o),s}const{stdout:On,stderr:Tn}=bn,An=Symbol("GENERATOR"),wn=Symbol("STYLER"),Nn=Symbol("IS_EMPTY"),In=["ansi","ansi","ansi256","ansi16m"],Rn=Object.create(null);class kn{constructor(e){return Ln(e)}}const Ln=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=On?On.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,Pn.prototype),t};function Pn(e){return Ln(e)}Object.setPrototypeOf(Pn.prototype,Function.prototype);for(const[e,t]of Object.entries(yn))Rn[e]={get(){const n=Un(this,xn(t.open,t.close,this[wn]),this[Nn]);return Object.defineProperty(this,e,{value:n}),n}};Rn.visible={get(){const e=Un(this,this[wn],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Dn=(e,t,n,...i)=>"rgb"===e?"ansi16m"===t?yn[n].ansi16m(...i):"ansi256"===t?yn[n].ansi256(yn.rgbToAnsi256(...i)):yn[n].ansi(yn.rgbToAnsi(...i)):"hex"===e?Dn("rgb",t,n,...yn.hexToRgb(...i)):yn[n][e](...i),Mn=["rgb","hex","ansi256"];for(const e of Mn){Rn[e]={get(){const{level:t}=this;return function(...n){const i=xn(Dn(e,In[t],"color",...n),yn.color.close,this[wn]);return Un(this,i,this[Nn])}}};Rn["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const i=xn(Dn(e,In[t],"bgColor",...n),yn.bgColor.close,this[wn]);return Un(this,i,this[Nn])}}}}const Cn=Object.defineProperties((()=>{}),{...Rn,level:{enumerable:!0,get(){return this[An].level},set(e){this[An].level=e}}}),xn=(e,t,n)=>{let i,r;return void 0===n?(i=e,r=t):(i=n.openAll+e,r=t+n.closeAll),{open:e,close:t,openAll:i,closeAll:r,parent:n}},Un=(e,t,n)=>{const i=(...e)=>Fn(i,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(i,Cn),i[An]=e,i[wn]=t,i[Nn]=n,i},Fn=(e,t)=>{if(e.level<=0||!t)return e[Nn]?"":t;let n=e[wn];if(void 0===n)return t;const{openAll:i,closeAll:r}=n;if(t.includes(""))for(;void 0!==n;)t=_n(t,n.close,n.open),n=n.parent;const o=t.indexOf("\n");return-1!==o&&(t=function(e,t,n,i){let r=0,o="";do{const s="\r"===e[i-1];o+=e.slice(r,s?i-1:i)+t+(s?"\r\n":"\n")+n,r=i+1,i=e.indexOf("\n",r)}while(-1!==i);return o+=e.slice(r),o}(t,r,i,o)),i+t+r};Object.defineProperties(Pn.prototype,Rn);Pn(),Pn({level:Tn?Tn.level:0});var Hn=s(61e3);const Gn=new Set(["as","async","from","get","of","set"]);const Bn=/\r\n|[\n\r\u2028\u2029]/,Vn=/^[()[\]{}]$/;let jn;const Wn=function(e){if("IdentifierName"===e.type){if((0,Hn.wb)(e.value)||(0,Hn.wh)(e.value,!0)||Gn.has(e.value))return"keyword";if(e.value[0]!==e.value[0].toLowerCase())return"capitalized"}if("Punctuator"===e.type&&Vn.test(e.value))return"uncolored";if("Invalid"===e.type&&("@"===e.value||"#"===e.value))return"punctuator";switch(e.type){case"NumericLiteral":return"number";case"StringLiteral":case"JSXString":case"NoSubstitutionTemplate":return"string";case"RegularExpressionLiteral":return"regex";case"Punctuator":case"JSXPunctuator":return"punctuator";case"MultiLineComment":case"SingleLineComment":return"comment";case"Invalid":case"JSXInvalid":return"invalid";case"JSXIdentifier":return"jsxIdentifier";default:return"uncolored"}};function zn(e){return!!On||!!e.forceColor}function $n(e){return e.forceColor?new kn({level:1}):new kn}function Kn(e,t={}){if(""!==e&&zn(t)){const n=function(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.gray,invalid:e.white.bgRed.bold}}($n(t));return function(e,t){let n="";for(const{type:i,value:r}of jn(t)){const t=e[i];n+=t?r.split(Bn).map((e=>t(e))).join("\n"):r}return n}(n,e)}return e}jn=function*(e){for(const t of pn(e,{jsx:!0}))switch(t.type){case"TemplateHead":yield{type:"string",value:t.value.slice(0,-2)},yield{type:"punctuator",value:"${"};break;case"TemplateMiddle":yield{type:"punctuator",value:"}"},yield{type:"string",value:t.value.slice(1,-2)},yield{type:"punctuator",value:"${"};break;case"TemplateTail":yield{type:"punctuator",value:"}"},yield{type:"string",value:t.value.slice(1)};break;default:yield{type:Wn(t),value:t.value}}};const Yn=/\r\n|[\n\r\u2028\u2029]/;function qn(e,t,n={}){const i=(n.highlightCode||n.forceColor)&&zn(n),r=$n(n),o=function(e){return{gutter:e.gray,marker:e.red.bold,message:e.red.bold}}(r),s=(e,t)=>i?e(t):t,a=e.split(Yn),{start:l,end:c,markerLines:u}=function(e,t,n){const i={column:0,line:-1,...e.start},r={...i,...e.end},{linesAbove:o=2,linesBelow:s=3}=n||{},a=i.line,l=i.column,c=r.line,u=r.column;let d=Math.max(a-(o+1),0),h=Math.min(t.length,c+s);-1===a&&(d=0),-1===c&&(h=t.length);const p=c-a,f={};if(p)for(let e=0;e<=p;e++){const n=e+a;if(l)if(0===e){const e=t[n-1].length;f[n]=[l,e-l+1]}else if(e===p)f[n]=[0,u];else{const i=t[n-e].length;f[n]=[0,i]}else f[n]=!0}else f[a]=l===u?!l||[l,0]:[l,u-l];return{start:d,end:h,markerLines:f}}(t,a,n),d=t.start&&"number"==typeof t.start.column,h=String(c).length;let p=(i?Kn(e,n):e).split(Yn,c).slice(l,c).map(((e,t)=>{const i=l+1+t,r=` ${` ${i}`.slice(-h)} |`,a=u[i],c=!u[i+1];if(a){let t="";if(Array.isArray(a)){const i=e.slice(0,Math.max(a[0]-1,0)).replace(/[^\t]/g," "),l=a[1]||1;t=["\n ",s(o.gutter,r.replace(/\d/g," "))," ",i,s(o.marker,"^").repeat(l)].join(""),c&&n.message&&(t+=" "+s(o.message,n.message))}return[s(o.marker,">"),s(o.gutter,r),e.length>0?` ${e}`:"",t].join("")}return` ${s(o.gutter,r)}${e.length>0?` ${e}`:""}`})).join("\n");return n.message&&!d&&(p=`${" ".repeat(h+1)}${n.message}\n${p}`),i?r.reset(p):p}function Qn(e){const t=e,n=e,i=e;if(t.path&&Array.isArray(t.path))return t.path;if("string"==typeof n.dotPath)return function(e){if(!e.startsWith(".")&&!e.startsWith("["))throw new SyntaxError(`parsePath(): Invalid dot-path, must begin with "." or "[": ${e}`);if("."===e)return[];const t=()=>{throw new Error(`parsePath(): Invalid dot-path: ${e}`)},n=[],i=(e,t)=>-1===e&&-1===t?-1:-1===e?t:-1===t||e<t?e:t;let r=0;for(;-1!==r&&r<e.length;)if("."===e.charAt(r))if("'"===e.charAt(r+1)){const i=e.indexOf("'",r+2);-1===i&&t(),n.push(e.slice(r+2,i)),r=i+1}else{const t=i(e.indexOf(".",r+1),e.indexOf("[",r+1));n.push(-1===t?e.slice(r+1):e.slice(r+1,t)),r=t}else if(e.charAt(r+1).match(/[0-9]/)){const i=e.indexOf("]",r+1);-1===i&&t(),n.push(e.slice(r+1,i)),r=i+1}else{"'"!==e.charAt(r+1)&&t();const i=e.indexOf("']",r+2);-1===i&&t(),n.push(e.slice(r+2,i)),r=i+2}return n}(n.dotPath);if("string"==typeof i.pointerPath)return function(e){if(!e.startsWith("/"))throw new SyntaxError(`parsePath(): Invalid pointer-path, must begin with "/": ${e}`);return"/"===e?[]:e.slice(1).split("/").map((e=>function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}(e)))}(i.pointerPath);throw new TypeError("parsePath(): Missing path argument")}function Xn(e,t){t=Math.min(Math.max(t,0),e.length);const{count:n,lastPos:i}=function(e,t,n){let i=0,r=0,o=0;for(;o<t;){const s=e.indexOf(n,o);if(-1===s||s>=t)break;o=s+1,o<t&&(++i,r=s)}return{count:i,lastPos:r}}(e,t+1,"\n");return{offset:t,line:n+1,column:Math.max(1,t-i+(0===n?1:0))}}function Jn(e,t){const{jsonDoc:n,jsonString:i}=e,{markIdentifier:r=!1}=t,o=Qn(t).map((e=>`${e}`));if(!n){if(0===o.length)return{start:{offset:0,line:1,column:1},end:{offset:9,line:1,column:10}};throw new Error("No such path in undefined")}const s=e=>`${(e=>"."+o.slice(0,e).join("."))(e)} [query: ${o.join(".")}]`,a=o.reduce(((e,t,n)=>"object"===(null==e?void 0:e.kind)?(()=>{const i=e.children.find((e=>e.keyToken.value===t));if(!i)throw new Error(`No such property ${t} in ${s(n)}`);return r&&n===o.length-1?i:i.valueNode})():"array"===(null==e?void 0:e.kind)?(()=>{const i=Number(t);if(isNaN(i))throw new Error(`Invalid non-numeric array index "${t}" in array at ${s(n)}`);if(i<0||i>=e.children.length)throw new RangeError(`Index ${i} out-of-bounds in array of size ${e.children.length} at ${s(n)}`);return e.children[Number(t)].valueNode})():(()=>{throw new Error(`No such property ${t} in ${s(n)}`)})()),n.root),l="object-property"===a.kind?{start:a.keyToken.offset,end:a.keyToken.offset+a.keyToken.raw.length}:a.range;return{start:Xn(i,l.start),end:Xn(i,l.end)}}var Zn=s(37172);function ei(e,t){const n=e[t];return"whitespace"===(null==n?void 0:n.type)?{inc:1,whitespaceToken:n}:{inc:0}}function ti(e,t){const n=ei(e,t),i=e[t+n.inc];return++n.inc,{whitespaceToken:n.whitespaceToken,consumedTokens:n.inc,token:i}}function ni(e,t){return e[t+ei(e,t).inc]}function ii(e){return{includeValueTokens:!1,...e}}function ri(e,t=e){return{start:e.offset,end:t.offset+t.raw.length}}function oi(e){return"string"===e.type?{kind:"string",token:e,range:ri(e)}:"number"===e.type?{kind:"number",token:e,range:ri(e)}:{kind:"literal",token:e,range:ri(e)}}function si(e,t,n,i){const r=e[t];if(!r)throw new Error(`Failed to parse JSON as token pos ${t}`);if(r.type!==n)throw new Error(`Failed to parse JSON at pos ${r.offset}, expected ${n} got ${r.type}`);if(i&&r.value!==i)throw new Error(`Failed to parse JSON at pos ${r.offset} of type ${n}, expected punctuation ${i} got ${r.value}`)}function ai(e,t){let n=t;const i=ei(e,n);n+=i.inc,si(e,n,"punctuator",":");const r=e[n++],o=ei(e,n);return n+=o.inc,{node:{kind:"object-property-colon",range:ri(e[t],e[n-1]),whitespaceBefore:i.whitespaceToken,punctuatorToken:r,whitespaceAfter:o.whitespaceToken},consumedTokens:n-t}}function li(e,t,n){const i=e[t];if("string"===(r=i).type||"number"===r.type||"literal"===r.type)return{consumedTokens:1,node:oi(i)};if("punctuator"===i.type&&"{"===i.value)return function(e,t,n){var i;const r=[];let o,s=t;for(;s<e.length;){const t=e[s],a=ni(e,s);if("punctuator"===a.type&&"}"===a.value){const t=ei(e,s);o=t.whitespaceToken,s+=t.inc+1;break}const l=ei(e,s);s+=l.inc,si(e,s,"string");const c=e[s++],u=ai(e,s);s+=u.consumedTokens;const d=li(e,s,n),h=n.options.includeValueTokens?e.slice(s,s+d.consumedTokens):[];s+=d.consumedTokens;const p=ni(e,s),f="punctuator"===p.type&&","===p.value?ti(e,s):{};s+=null!==(i=f.consumedTokens)&&void 0!==i?i:0,r.push({kind:"object-property",range:ri(t,e[s]),whitespaceBefore:l.whitespaceToken,keyToken:c,key:c.value,colon:u.node,valueTokens:h,whitespaceBeforeComma:f.whitespaceToken,comma:f.token,valueNode:d.node})}const a=s-t+1;return{node:{kind:"object",children:r,whitespaceAfterChildren:o,range:ri(e[t-1],e[s-1])},consumedTokens:a}}(e,t+1,n);if("punctuator"===i.type&&"["===i.value)return function(e,t,n){var i;const r=[];let o,s=t;for(;s<e.length;){const t=e[s],a=ni(e,s);if("punctuator"===a.type&&"]"===a.value){const t=ei(e,s);o=t.whitespaceToken,s+=t.inc+1;break}const l=ei(e,s);s+=l.inc;const c=li(e,s,n),u=n.options.includeValueTokens?e.slice(s,s+c.consumedTokens):[];s+=c.consumedTokens;const d=ni(e,s),h="punctuator"===d.type&&","===d.value?ti(e,s):{};s+=null!==(i=h.consumedTokens)&&void 0!==i?i:0,r.push({kind:"array-element",range:ri(t,e[s]),whitespaceBefore:l.whitespaceToken,valueTokens:u,whitespaceBeforeComma:h.whitespaceToken,comma:h.token,valueNode:c.node})}const a=s-t+1;return{node:{kind:"array",children:r,whitespaceAfterChildren:o,range:ri(e[t-1],e[s-1])},consumedTokens:a}}(e,t+1,n);var r;throw new Error(`Failed to parse JSON at pos ${i.offset}`)}function ci(e,t){const n=function(e,t){const n={options:ii(t)};if(0===e.trim().length)throw new Error("Invalid JSON: must not be an empty string");const i=function(e){let t=0;return e.map((e=>{const n=e;return n.offset=t,t+=e.raw.length,n}))}(Zn(e));let r=0;const o=ei(i,r);r+=o.inc;const{consumedTokens:s,node:a}=li(i,r,n),l=n.options.includeValueTokens?i.slice(r,r+s):[];r+=s;const c=ei(i,r);return r+=c.inc,{root:a,whitespaceBefore:o.whitespaceToken,valueTokens:l,whitespaceAfter:c.whitespaceToken}}(e);return{json:t||JSON.parse(e),jsonString:e,jsonDoc:n}}function ui(e){return null==e?[]:Array.isArray(e)?[...e]:[e]}function di(e){var t;if(!(null!==(t=e.dataPath)&&void 0!==t?t:e.instancePath))return{path:[],simplePath:[]};const n=e.instancePath?Qn({pointerPath:e.instancePath}):(e=>"."===e.charAt(0)||"["===e.charAt(0))(e.dataPath)?Qn({dotPath:e.dataPath}):Qn({pointerPath:e.dataPath}),i=n.map((e=>"number"==typeof e?{key:`${e}`,type:"number"}:{key:e,type:"string"})).filter((e=>""!==e.key)),r=i.map((({key:e})=>e));return{path:i,simplePath:r}}const hi={width:8,height:5,number:[["  ,--.  "," /    \\ ","|  ()  |"," \\    / ","  `--'  "],["   ,--. ","  /   | ","  `|  | ","   |  | ","   `--' "],["  ,---. "," '.-.  \\","  .-' .'"," /   '-."," '-----'"],[" ,----. "," '.-.  |","   .' < "," /'-'  |"," `----' "],["   ,---.","  /    |"," /  '  |"," '--|  |","    `--'"],[" ,-----."," |  .--'"," '--. `\\"," .--'  /"," `----' "],["   ,--. ","  /  .' "," |  .-. "," \\   o |","  `---' "],[" ,-----."," '--,  /","  .'  / "," /   /  "," `--'   "],["  ,---. "," |  o  |"," .'   '."," |  o  |","  `---' "],["  ,---. "," | o   \\"," `..'  |","  .'  / ","  `--'  "]]},pi=e=>(""+~~e).length,fi=" ".repeat(hi.width);function mi(e){const t=null==e?-1:"number"==typeof e.maxNumber?pi(e.maxNumber):e.maxWidth,n=t*hi.width,i=" ".repeat(n);function r(e,n=" "){const i=null==(e=null==e?void 0:~~e)?0===n?-1===t?void 0:Array(t).fill("0").join(""):`${e}`:0===n?Array(t-pi(e)).fill("0").join("")+e:`${e}`,r=-1===t?"":(e=>{if(e>t)throw new Error("Too wide text");return fi.repeat(t-e)})(null==i?0:i.length);if(null==i)return Array(hi.height).fill(r);const o=i.split("").map((e=>hi.number[Number(e)]));return Array.from({length:hi.height},((e,t)=>t)).map((e=>r+o.map((t=>t.filter(((t,n)=>n===e)))).join("")))}return{numberWidth:t,charWidth:n,emptyLine:i,print:r,printAsPrefix:function(e,t,n={}){const{fill:o,separator:s=""}=n,a=r(e,o),l=Math.max(a.length,t.length);return Array.from({length:l}).map(((e,n)=>{const r=a.length<=n?i:a[n],o=t.length<=n?"":t[n];return r+s+o}))}}}const gi=e=>null===e?"null":typeof e,vi=e=>null==e||"object"!=typeof e?{value:e,type:gi(e),isSimple:!0}:Array.isArray(e)?{value:"[...]",type:"array",isSimple:!1}:{value:"{...}",type:"object",isSimple:!1},yi=({type:e,value:t})=>e+"::"+t;function Ei({support:e,style:t,terminalLink:n}){const i=e=>e.path.map((({key:e,type:n})=>"number"===n?t.operator("[")+t.number(e)+t.operator("]"):t.operator(".")+t.string(e))).join(""),r=(e,{untyped:n=!1,includeType:i=!1}={})=>{const r=e.type,o=`${e.value}`,s="string"===r?n?t.pathDescription(o):t.string(`"${o}"`):"number"===r?t.number(o):t.primitive(o);return!i&&e.isSimple?s:s+t.title(" (as ")+t.pathDescription(r)+t.title(")")};return{support:e,style:t,link:(e,i)=>n(t.link(e),i),ensureColorUsage:t=>null==t?e:t,formatDataPath:i,pathDescription:(e,n)=>{const{dataPath:r}=e;if(0===r.path.length)return["",t.expr("root object"),""];return(e=>1===e.path.length?["",i(e),` ${n}`]:[`${n} at `,i(e),""])(r)},printEnum:(e,{indent:t=0,bullet:n=!0}={})=>{const i=0===t?"":" ".repeat(t),r=n?" ":"";return e.map((e=>`${i}    ${r}${e}`))},printError:e=>e.title+"\n\n"+e.codeFrame,formatTypedValue:r,formatValue:(e,t)=>r(vi(e),t)}}const Si={support:!1,terminalLink:(e,t)=>`${e} (${t})`,style:{title:e=>e,pathDescription:e=>e,expr:e=>e,type:e=>e,string:e=>e,number:e=>e,primitive:e=>e,dimmed:e=>e,good:e=>e,operator:e=>e,link:e=>e,regex:e=>e}};const bi=[],_i=[];function Oi(e,t){if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let i=e.length,r=t.length;for(;i>0&&e.charCodeAt(~-i)===t.charCodeAt(~-r);)i--,r--;let o,s,a,l,c=0;for(;c<i&&e.charCodeAt(c)===t.charCodeAt(c);)c++;if(i-=c,r-=c,0===i)return r;let u=0,d=0;for(;u<i;)_i[u]=e.charCodeAt(c+u),bi[u]=++u;for(;d<r;)for(o=t.charCodeAt(c+d),a=d++,s=d,u=0;u<i;u++)l=o===_i[u]?a:a+1,a=bi[u],s=bi[u]=a>s?l>s?s+1:l:l>a?a+1:l;return s}const Ti=e=>e<3?1:e<5?2:3;function Ai(e,t,n={}){if(!t)return;e=`${e}`;const{length:i}=e,{limit:r=Ti,referenceValue:o}=n,s="number"==typeof r?r:r(i),a=[],l=[];t.map((e=>vi(e))).map((t=>({...t,distance:t.isSimple?Oi(e,`${t.value}`):1/0}))).sort(((e,t)=>e.distance===t.distance?0:e.distance<t.distance?-1:1)).forEach((({distance:e,type:t,value:n,isSimple:i})=>{-1===s||e<=s?a.push({type:t,value:n,isSimple:i}):l.push({type:t,value:n,isSimple:i})})),l.sort(((e,t)=>`${e.value}`.localeCompare(`${t.value}`)));return{suggestions:a,rest:l,referenceValue:o,best:null==a?void 0:a[0]}}function wi(e,t,n={}){var i,r;if(!e)return"";const{styleManager:{style:o,formatTypedValue:s,printEnum:a}}=t,l=Array.isArray(null==e?void 0:e.rest)?e:void 0,c=null!==(i=null==l?void 0:l.rest)&&void 0!==i?i:[],u=null!==(r=null==l?void 0:l.suggestions)&&void 0!==r?r:e,{untyped:d,referenceValue:h=(null==l?void 0:l.referenceValue),isSuggestion:p,isConst:f=!1}=n,m=void 0===h?void 0:gi(h),g=e=>void 0!==h&&m!==e.type,v=e=>s(e,{untyped:null!=d&&d,includeType:g(e)}),y=function(e,t){const n=new Set;return e.filter((e=>{const i=t(e);return!n.has(i)&&(n.add(i),!0)}))}(u,yi),E=[...y,...c],S=1===E.length?v(E[0]):2===E.length?v(E[0])+o.title(" or ")+v(E[1]):o.title("any of:")+"\n"+a([...y.map((e=>v(e))),...0===c.length?[]:["other available values:",...a(c.map((e=>v(e))),{indent:2,bullet:!1})]]).join("\n"),b=1!==E.length&&!f;return(p?o.title(`, ${b?"did you mean":"it must be"} `):"")+S+(b&&p&&y.length<3?o.title("?"):"")}var Ni=s(56239);function Ii(e,t=e.dataPath.simplePath){return null===e.data||"object"!=typeof e.data?e.data:Ni.Jt(e.data,function(e){return"/"+e.map((e=>function(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}(e))).join("/")}(t))}function Ri(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{keyword:o,typeErrors:s=[]}}=e,[a,l,c]=n(e,"value"),u=Ii(e),d=s.map((e=>e.params.type)),h=function(e,t,n){return"string"==typeof e&&t.includes("number")?{type:"number",value:n.styleManager.formatTypedValue({value:e,type:"number",isSimple:!0})}:"number"==typeof e&&t.includes("string")?{type:"string",value:n.styleManager.formatTypedValue({value:`${e}`,type:"string",isSimple:!0})}:void 0}(u,d,e),p=0===s.length?"unknown":wi(d.map((e=>({value:e,type:"string",isSimple:!0}))),e,{untyped:!0});return{title:t.title(`The type of the ${a}`)+l+t.title(`${c} should `)+("not"===o?t.title("NOT be ")+t.pathDescription(vi(u).type):t.title("be ")+p),codeFrame:i("not"===o?"change this type":"change this value"+(h?" to "+h.value+" (as "+t.pathDescription(h.type)+") perhaps?":""),e.parsedJson,{path:r.simplePath,markIdentifier:!1})}}function ki(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{keyword:o,params:{limit:s}}}=e,[a,l,c]=n(e,"array"),u=Ii(e),d=(e,t=Math.abs(u.length-s))=>e+(t>1?"s":""),h=("maxItems"===o?t.expr("should NOT have more than "):t.expr("should have at least "))+t.number(`${s}`)+t.expr(d(" item",s));return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+h,codeFrame:i("maxItems"===o?t.title("Remove ")+t.number(""+(u.length-s))+t.title(d(" item")):t.title("Ensure the array has ")+t.number(""+(s-u.length))+t.title(d(" more item")),e.parsedJson,{path:r.simplePath,markIdentifier:!1})}}function Li(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{comparison:o,limit:s}}}=e,[a,l,c]=n(e,"value"),u=("<="===o?t.expr("less than or equal to"):"<"===o?t.expr("strictly less than"):">="===o?t.expr("greater than or equal to"):">"===o?t.expr("strictly greater than"):t.operator(`${o}`))+t.number(` ${s}`);return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+u,codeFrame:i("Ensure this is "+u,e.parsedJson,{path:r.simplePath,markIdentifier:!1})}}function Pi(e){const{styleManager:{style:t,pathDescription:n,formatValue:i,formatTypedValue:r},printCode:o,dataPath:s,error:{params:{allowedValue:a,allowedValues:l}}}=e,c=null!=l?l:[a],u=Ii(e),[d,h,p]=n(e,"value"),f=Ai(u,c,{referenceValue:u}),m=1===c.length&&(null===c[0]||"object"!=typeof c[0]),g=t.title(`The ${d}`)+h+t.title(`${p} cannot be `)+i(u)+wi(f,e,{isSuggestion:!0,isConst:m}),v=o("replace this with "+(m?r(vi(c[0])):"an allowed value"+(f.best?" e.g. "+function({best:e,referenceValue:t},n){if(!e)return;const i=void 0!==t&&gi(t)!==e.type;return n.styleManager.formatTypedValue(e,{untyped:!1,includeType:i})}(f,e):"")),e.parsedJson,{path:s.simplePath,markIdentifier:!1});return{title:g,codeFrame:v}}const Di="https://json-schema.org/understanding-json-schema/reference/string.html#format",Mi={dateTime:{title:"RFC3339 Section 5.6",url:"https://tools.ietf.org/html/rfc3339#section-5.6"},email:{title:"RFC5322 Section 3.4.1",url:"https://tools.ietf.org/html/rfc5322#section-3.4.1"},idnEmail:{title:"RFC6531",url:"https://tools.ietf.org/html/rfc6531"},hostname:{title:"RFC1034 Section 3.1",url:"https://tools.ietf.org/html/rfc1034#section-3.1"},idnHostname:{title:"RFC5890 Section 2.3.2.3",url:"https://tools.ietf.org/html/rfc5890#section-2.3.2.3"},ipv4:{title:"RFC2673 Section 3.2",url:"https://tools.ietf.org/html/rfc2673#section-3.2"},ipv6:{title:"RFC2373 Section 2.2",url:"https://tools.ietf.org/html/rfc2373#section-2.2"},uri:{title:"RFC3986",url:"https://tools.ietf.org/html/rfc3986"},uriReference:{title:"RFC3986 Section 4.1",url:"https://tools.ietf.org/html/rfc3986#section-4.1"},iri:{title:"RFC3987",url:"https://tools.ietf.org/html/rfc3987"},uriTemplate:{title:"RFC6570",url:"https://tools.ietf.org/html/rfc6570"},jsonPointer:{title:"RFC6901",url:"https://tools.ietf.org/html/rfc6901"},relativeJsonPointer:{title:"Relative JSON Pointers",url:"https://tools.ietf.org/html/draft-handrews-relative-json-pointer-01"},regex:{title:"ECMA 262",url:"https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf"}},Ci={"date-time":Mi.dateTime,time:Mi.dateTime,date:Mi.dateTime,email:Mi.email,"idn-email":Mi.idnEmail,hostname:Mi.hostname,"idn-hostname":Mi.idnHostname,ipv4:Mi.ipv4,ipv6:Mi.ipv6,uri:Mi.uri,"uri-reference":Mi.uriReference,iri:Mi.iri,"iri-reference":Mi.iri,"uri-template":Mi.uriTemplate,"json-pointer":Mi.jsonPointer,"relative-json-pointer":Mi.relativeJsonPointer,regex:Mi.regex};function xi(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{keyword:o,params:{limit:s}}}=e,[a,l,c]=n(e,"string"),u=`${"maxLength"===o?t.expr("at most"):"minLength"===o?t.expr("at least"):"{unknown}"} `+t.number(`${s}`)+t.expr(" characters long");return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+u,codeFrame:i("Ensure this is "+u,e.parsedJson,{path:r.simplePath,markIdentifier:!1})}}const Ui={unknownError:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{message:o,keyword:s}}=e,[a,l,c]=n(e,"property");return{title:t.expr(`[${s}] `)+t.title(`The ${a}`)+l+t.title(`${c} ${o}`),codeFrame:i(o,e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},additionalProperties:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{additionalProperty:o}}}=e,[s,a,l]=n(e,"object"),c=function(e,t){let n=e;for(const e of t.path){if(!n.properties||n.type&&"object"!==n.type)return;n="number"===e.type?n.items[Number(e.key)]:n.properties[e.key]}if(n&&"object"==typeof n.properties)return Object.keys(n.properties)}(e.schema,r);return{title:t.title(`The ${s}`)+a+t.title(`${l} should not have the property `)+t.pathDescription(o)+wi(Ai(o,c),e,{untyped:!0,isSuggestion:!0}),codeFrame:i("remove or rename "+t.pathDescription(`"${o}"`),e.parsedJson,{path:[...r.simplePath,o],markIdentifier:!0})}},anyOf:Ri,not:Ri,maxItems:ki,minItems:ki,maximum:Li,exclusiveMaximum:Li,minimum:Li,exclusiveMinimum:Li,const:Pi,enum:Pi,format:function(e){const{styleManager:{style:t,pathDescription:n,link:i},printCode:r,dataPath:o,error:{params:{format:s}}}=e,[a,l,c]=n(e,"value"),u=Ci[s],d=u?t.title(" according to ")+i(u.title,u.url)+" ":t.title(", check the ")+i("JSON Schema specification",Di);return{title:t.title(`The ${a}`)+l+t.title(`${c} is not valid `)+t.pathDescription(s)+d,codeFrame:r("ensure this is "+(u?"valid "+i(u.title,u.url):"a valid "+t.pathDescription(s)),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},if:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{failingKeyword:o}}}=e,[s,a,l]=n(e,"value");return{title:t.title("The conditional ")+t.expr(`if/${o}`)+t.title(` on ${s}`)+a+t.title(`${l} is not satisfied (showed in separate error)`)+"\n"+t.title("The ")+t.expr("if")+t.title(" clause references:"),codeFrame:i("Ensure the corresponding "+t.expr(o)+" clause is satisfied",e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},multipleOf:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{multipleOf:o}}}=e,[s,a,l]=n(e,"value"),c=t.title("multiple of ")+t.number(`${o}`);return{title:t.title(`The ${s}`)+a+t.title(`${l} should be a `)+c+" "+t.title("(e.g. ")+[0,1,2,3].map((e=>t.number(""+e*o))).concat([t.title("etc")]).join(t.operator(", "))+t.title(")"),codeFrame:i("Ensure this is a "+c,e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},pattern:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{pattern:o}}}=e,[s,a,l]=n(e,"string");return{title:t.title(`The ${s}`)+a+t.title(`${l} must match `)+t.regex(o),codeFrame:i("Ensure this matches the regex pattern",e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},required:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{missingProperty:o}}}=e,[s,a,l]=n(e,"value");return{title:t.title(`The ${s}`)+a+t.title(`${l} is missing required property `)+t.pathDescription(o),codeFrame:i("add missing property "+t.pathDescription(o),e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},maxLength:xi,minLength:xi,type:function(e){const{styleManager:{style:t,pathDescription:n,formatTypedValue:i},printCode:r,dataPath:o,error:{params:{type:s}}}=e,a=Ii(e),[l,c,u]=n(e,"value"),d=function(e,t){const{isSimple:n,type:i}=vi(e);if(!n)return;const r=(()=>{if("null"===i){if("string"===t)return"null";if("number"===t)return 0;if("boolean"===t)return!1}else if("boolean"===i){if("string"===t)return`${e}`;if("number"===t)return e?1:0;if("null"===t)return e?void 0:null}else if("number"===i){if("string"===t)return`${e}`;if("boolean"===t)return 0!==e&&(1===e||void 0);if("null"===t)return 0===e?null:void 0}else if("string"===i){if("number"===t)return isNaN(Number(e))?void 0:Number(e);if("boolean"===t)return"true"===e||"false"!==e&&void 0;if("null"===t)return"null"===e?null:void 0}})();return void 0!==r?vi(r):void 0}(a,s),h=void 0===d?"":i(d,{includeType:!0});return{title:t.title(`The type of the ${l}`)+c+t.title(`${u} should be `)+t.pathDescription(s)+(h?t.title(", e.g. ")+h:""),codeFrame:r("Replace this"+(h?" with e.g. "+h:""),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},uniqueItems:function(e){const{styleManager:{style:t,pathDescription:n,formatValue:i},printCode:r,dataPath:o,error:{params:{i:s,j:a}}}=e,[l,c]=[s,a].sort(),u=Ii(e,[...o.simplePath,`${l}`]),[d,h,p]=n(e,"array");return{title:t.title(`The ${d}`)+h+t.title(`${p} should have unique items, but element `)+t.number(`${l}`)+t.title(" and ")+t.number(`${c}`)+t.title(" are identical: ")+i(u),codeFrame:r("Remove element "+t.number(`${l}`)+" or "+t.number(`${c}`),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}}};function Fi(e){const t=function(e){var t,n;const i=null!==(t=e.location)&&void 0!==t?t:"node"===e.environment,r=i&&(null!==(n=e.bigNumbers)&&void 0!==n?n:"node"===e.environment),o=function(e,t,n){return(i,r,o)=>e?n(i,r,{colors:t,...o}):""}(i,e.styleManager.support,e.printCode);return{...e,location:i,bigNumbers:r,printCode:o}}(e),{styleManager:n,printCode:i,bigNumbers:r}=t,o=function(e){const t=new Set;return e.filter((e=>"anyOf"===e.keyword)).forEach((n=>{n.typeErrors=e.filter((e=>e.dataPath===n.dataPath&&"type"===e.keyword)),n.typeErrors.forEach((e=>{t.add(e)}))})),e.filter((e=>!t.has(e)))}(ui(t.errors));if(0===o.length)return n.style.good("No errors");const s=function(e,t=4){const n=ci(JSON.stringify(null!=e?e:null,null,t));return void 0===e&&(n.json=void 0,n.jsonString="undefined",n.jsonDoc=void 0),n}(t.data,2),a=mi({maxNumber:o.length+1});return o.map(((e,l)=>{const c=function(e){return e.styleManager.printError(function(e){const t=Ui[e.error.keyword];return t?t(e):Ui.unknownError(e)}(e))}({errors:t.errors,schema:t.schema,data:t.data,styleManager:n,printCode:i,error:e,dataPath:di(e),parsedJson:s}).split("\n");return r&&1!==o.length?a.printAsPrefix(l+1,c,{separator:"  "}).join("\n"):c.join("\n")})).join("\n\n")}const Hi=function(e,t,n){const i=Ei(e),r=Ei(Si),o=e=>i.ensureColorUsage(e)?i:r;return function(e,i){if("function"==typeof e){const r=o(null==i?void 0:i.colors);return Fi({errors:ui(e.errors),schema:e.schema,data:null==i?void 0:i.data,styleManager:r,printCode:t,location:null==i?void 0:i.location,bigNumbers:null==i?void 0:i.bigNumbers,environment:n})}{const i=o(null==e?void 0:e.colors);return Fi({location:void 0,bigNumbers:void 0,...e,styleManager:i,printCode:t,environment:n})}}}(hn,((e,t,{path:n,markIdentifier:i,linesAbove:r=5,linesBelow:o=3,colors:s})=>{const{start:a,end:l}=Jn(t,{path:n,markIdentifier:i});return a?qn(t.jsonString,{start:a,end:l},{highlightCode:s,message:e,linesAbove:r,linesBelow:o}):`{The path ${n} cannot be found in json}`}),"node");var Gi=s(65882);const Bi="features/photos_hlr_roomnames_disabled";var Vi=s(37518),ji=s(73094),Wi=s(97831);const zi=new i.Vy("showcase");class $i{constructor(e,t={},i=!1){var r;this.inWorkshop=e,this.editModePreferred=i,this.bindings=[],this.storeQueue=new L.L3,this.apiQueue=new L.L3,this.analyticsQueue=new L.L3({concurrency:1}),this.forceLogin=!1,this.openingTool=null,this.uiLoading=Promise.resolve(),this.prefetchCaches=[],this.sceneLoader=new Ke.LazyLoader,this.modulesLoadedPromise=new n.i,this.jsonSchemaValidator=function(){const e=new(Et())({strict:!1});return bt()(e),{addSchema(t){e.addSchema(t)},validate:(t,n)=>e.validate(t,n),getSchema:t=>e.getSchema(t),prettify:(e,t)=>Hi(e,t)}}(),this.stopTourHook=async e=>{const t=e.market.tryGetData(ie.R);if(t&&t.tourPlaying){const t=await e.getModuleBySymbol(j.Xf);await t.stopTour(),await(0,M.c)(10)}},this.settingOverrides=Object.assign({},t),this.assetBasePath=this.settingOverrides.assetBasePath=function(e){e=e.replace(/\/*$/,"/");const t=new URL(e,document.baseURI),n=[/^https:\/\/static\.matterport\.com(:[0-9]+)?\//,/^https:\/\/static\.matterportvr\.cn(:[0-9]+)?\//,/^https:\/\/[^\/]+\.awsstatic\.com\/([^?#]+\/)?matterport\/.*/,/^http:\/\/(localhost|127\.0\.0\.1)(:[0-9]+)?\/.*/].find((e=>t.href.match(e)))?t.origin:document.baseURI;return new URL(t.pathname,n).toString()}(null!==(r=this.settingOverrides.assetBasePath)&&void 0!==r?r:"./");const{container:o,overrideParams:s=(0,C.EN)()}=this.settingOverrides;this.overrideParams=s,this.quickstart="1"===s.qs||void 0!==s.note||void 0!==s.tag;const a=s.applicationKey||t.applicationKey;(0,Me.pN)(a||null),this.apiHost=((e,t)=>{const n=e.apiHost||t.apiHost;if(n){const e=(0,B.zh)(n);if(e)return e}return window.location.origin})(s,this.settingOverrides),this.oEmbedDeferred=new n.i,this.oEmbedConsumer=this.oEmbedDeferred.nativePromise(),this.apiHost!==window.location.origin&&(this.settingOverrides.apiHost=this.apiHost),this.container=o||document.body,this.modelUrls=(0,B.$j)(s.m||s.model,this.apiHost),this.initialModelSid=this.modelUrls.sid,this.mdsContext=new Pe._(this.initialModelSid),this.mdsContext.simulateApiOutage="1"===s.simulateApiOutage?q.u.TIMEOUT:q.u.NONE,this.mdsContext.anonymousHeaderEnabled=!e}getManifest(){return[{type:j.nu,promise:()=>Promise.resolve().then(s.bind(s,80142))},{type:W.XT,promise:()=>Promise.resolve().then(s.bind(s,47058))},{type:W.uH,promise:()=>Promise.resolve().then(s.bind(s,13231))},{type:j.Ll,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,15778))},{type:U.WJ,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,3801))},{type:U.ZF,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,92352))},{type:j.aF,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,33183))},{type:U.S1,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,11889))},{type:W.q0,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,958))},{type:j.Vc,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,47163))},{type:j.qL,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,60379))},{type:j.bj,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,49911))},{type:j.vj,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,29254))},{type:j.sA,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,53949))},{type:j.di,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,44406))},{type:j.Pn,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,82170))},{type:j.gS,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,21722))},{type:j.Wh,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,35872))},{type:j.$c,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,35751))},{type:j.M7,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,64355))},{type:j.CE,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,90457))},{type:j.mL,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,11964))},{type:W.bW,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,63332))},{type:W._r,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,15318))},{type:j.jh,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,40739))},{type:j.TV,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,63257))},{type:j.az,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,86515))},{type:j.Uu,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,87486))},{type:j.SH,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,21129))},{type:j.T9,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,41986))},{type:j.Z7,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,71927))},{type:j.UN,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,16821))},{type:j.fO,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,97939))},{type:j.vM,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,31841))},{type:j.lf,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,99460))},{type:j.N4,promise:()=>s.e(9504).then(s.bind(s,69504))},{type:j.JY,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,67314))},{type:j.Qm,promise:()=>Promise.all([s.e(7907),s.e(9694),s.e(8724),s.e(5660),s.e(3232),s.e(235),s.e(1419),s.e(9829),s.e(5209),s.e(206),s.e(5385)]).then(s.bind(s,1526))},{type:j.iV,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,98217))},{type:j.SD,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,6002))},{type:j.yT,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,30794))},{type:j.HX,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,43440))},{type:j.kM,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,53028))},{type:j.N7,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,18136))},{type:j.X7,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,79109))},{type:j.TY,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,40742))},{type:j.X$,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,93224))},{type:j.QW,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,59805))},{type:j.PD,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,69325))},{type:j.pR,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,38208))},{type:j.zj,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,89500))},{type:j.et,promise:()=>s.e(7813).then(s.bind(s,37813))},{type:W.ur,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,13070))},{type:W.T6,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,6025))},{type:W.K4,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,28731))},{type:j.Kv,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,12014))},{type:j.GR,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,82486))},{type:W.L8,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,29228))},{type:j.PM,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,35396))},{type:j.Ne,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,65051))},{type:j._q,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,69583))},{type:j.$q,promise:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(2026),s.e(5660),s.e(3232),s.e(6168),s.e(5209),s.e(4578),s.e(9114)]).then(s.bind(s,67113))},{type:j.qD,promise:()=>Promise.all([s.e(2026),s.e(1496)]).then(s.bind(s,91496))},{type:j.Et,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,92899))},{type:j.qy,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,96304))},{type:j.rA,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,12797))},{type:j.ep,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,13230))},{type:j.zX,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,33694))},{type:j._v,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,62592))},{type:j.Qj,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,49701))},{type:X.r,promise:()=>s.e(1884).then(s.bind(s,51884))},{type:j.yR,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,24679))},{type:j.Xx,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,11086))},{type:j.ZF,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,91994))},{type:j.N9,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,17160))},{type:j.kd,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,12251))},{type:j.TN,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,86198))},{type:j.gy,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,45099))},{type:j.cy,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,79747))},{type:j.Tx,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,41418))},{type:W.bw,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,10689))},{type:j.kG,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,43036))},{type:j.Yj,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,16713))},{type:j.PJ,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,78854))},{type:j.J$,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,31403))},{type:j.AO,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,89281))},{type:j.Np,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,67725))},{type:j.gk,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,70047))},{type:j.LG,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,64382))},{type:j.f0,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,89499))},{type:j.co,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,26519))},{type:j.wY,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,14288))},{type:j.lN,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,44447))},{type:j.eE,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,49216))},{type:j.Yr,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,83681))},{type:j.aU,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,34567))},{type:j.FI,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,27145))},{type:j.zy,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,33235))},{type:j.QS,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,31993))},{type:j.He,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,33062))},{type:j.se,promise:()=>Promise.all([s.e(7907),s.e(5484),s.e(1498),s.e(1856),s.e(1820),s.e(1419),s.e(4578),s.e(7475)]).then(s.bind(s,23461))},{type:j.Xf,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,79769))},{type:j.XQ,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,85092))},{type:j.tQ,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,76518))},{type:j.YC,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,48248))},{type:j.Vu,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,33930))},{type:j.rz,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,92904))},{type:j.A5,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,50469))},{type:j.JN,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,16115))},{type:j.uq,promise:()=>Promise.all([s.e(7907),s.e(6888),s.e(9694),s.e(2026),s.e(1856),s.e(5660),s.e(235),s.e(5130),s.e(206),s.e(777)]).then(s.bind(s,6297))},{type:j.Fn,promise:()=>Promise.all([s.e(2959),s.e(5976)]).then(s.bind(s,90446))},{type:j.xV,promise:()=>Promise.all([s.e(5484),s.e(5245),s.e(2026),s.e(1820),s.e(8044)]).then(s.bind(s,33548))},{type:j.sc,promise:()=>Promise.all([s.e(5484),s.e(5245),s.e(2026),s.e(1820),s.e(8044)]).then(s.bind(s,65963))},{type:j.KT,promise:()=>Promise.all([s.e(3276),s.e(7504),s.e(7177)]).then(s.bind(s,87177))},{type:j.Gw,promise:()=>Promise.all([s.e(235),s.e(7587)]).then(s.bind(s,80769))}]}getAppPhases(e){return{[_.Jj.UNINITIALIZED]:[],[_.Jj.WAITING]:[(async()=>{await e.getModuleBySymbol(W.XT)})(),(async()=>{0})()],[_.Jj.LOADING]:[(async()=>(await e.getModuleBySymbol(W.XT)).waitForPlaying)()],[_.Jj.STARTING]:[(async()=>(await e.getModuleBySymbol(W.T6)).waitForFirstRender)(),(async()=>(await e.getModuleBySymbol(j.fO)).waitForData)(),this.waitForSplatModuleIfNecessary()],[_.Jj.PLAYING]:[(async()=>(await e.getModuleBySymbol(W.T6)).waitForFlyin)()],[_.Jj.ERROR]:[(async()=>{const t=(await e.getModuleBySymbol(U.WJ)).data;await(0,P.UV)(t,(e=>null!==e.error))})()]}}stop(){this.engineTick&&this.engineTick.stop()}setError(e){this.stop(),this.engine.market.waitForData(_.zH).then((t=>{t.error=e,t.commit()}))}async load(e,t){e.diContainer.get(k.L0).resolve(),this.engine=e;const n=await this.loadAlwaysLoadModules(t);if(!t.coldStart)return void(this.uiLoading=this.loadUI(n,!0));const{editMode:i,ab:r}=await this.loadWaitingModules(n);try{await e.waitForLoadingModules(void 0,[j.Vu])}catch(t){this.setError(t),e.tick()}await this.loadPreplayModules(n,i),await(await e.getModuleBySymbol(W.XT)).waitForPlaying,await this.loadHighPriorityPlayModules(n,i),await this.engine.waitForLoadingModules(),await this.loadLowPriorityPlayModules(r),await this.engine.waitForLoadingModules(),this.modulesLoadedPromise.resolve()}async loadAlwaysLoadModules(e){this.engine.loadModuleBySymbol({type:U.WJ,config:{tasks:this.getAppPhases(this.engine)}});const t=await this.engine.loadModuleBySymbol({type:U.ZF,config:{useGUI:!0,queryScope:this.container.getRootNode(),overrideParams:this.overrideParams}});this.loadAnalytics();const n=(await this.engine.loadModuleBySymbol({type:j.qL,config:{baseUrl:this.modelUrls.urlBase,apiQueue:this.apiQueue,storeQueue:this.storeQueue,preloadConfig:"showcase",mdsContext:this.mdsContext}})).getApi(),i=await n.user,r=this.setInitialSettings(i,t,e);return this.engine.getModuleBySymbol(U.WJ).then((t=>{t.updateActiveApp(_.lg.SHOWCASE),e.coldStart||this.engine.broadcast(new u.Fj(_.lg.SHOWCASE))})),this.engine.market.waitForData(_.zH).then((e=>{const t=this.overrideParams.oops;t&&e.phase!==_.Jj.ERROR&&(e.phase=_.Jj.ERROR);const n=async()=>{if(e.phase===_.Jj.ERROR){const n=e.error,i=await this.engine.getModuleBySymbol(W.bW);throw t?i.showError(t):n instanceof ke.X5?i.showError(J.b.MODEL_ARCHIVED):n instanceof ke.Q8?i.showError(J.b.MODEL_COMPLIANCE):n instanceof ke.a_?i.showError(J.b.MODEL_DELETED):n instanceof ke.GI?i.showError(J.b.MODEL_FAILED):n instanceof ke.cC?i.showError(J.b.MODEL_PENDING):n instanceof ke.Wz?i.showError(J.b.MODEL_PROCESSING):n instanceof ce.s?i.showError(J.b.WEBGL_UNSUPPORTED):n instanceof ce.y?i.showError(J.b.WEBGL_GENERIC):i.showError(J.b.GENERIC),n}};e.onChanged(n),n()})),this.bindings.push((0,We.$2)({messageBus:this.engine.msgBus}),function(e){const t=[];return t.push(new We.GL({symbol:$e.D.ModelMesh,callback:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(1856),s.e(3232),s.e(6168),s.e(2240),s.e(2276)]).then(s.bind(s,86465)).then((t=>t.default(e.engine)))})),e.urlValues.debug&&t.push(new We.GL({symbol:$e.D.Navigation,callback:()=>Promise.all([s.e(2026),s.e(1856),s.e(5130),s.e(9829),s.e(2240),s.e(3745)]).then(s.bind(s,50857)).then((t=>t.default(e.engine)))}),new We.GL({symbol:$e.D.Octree,callback:()=>Promise.all([s.e(2026),s.e(1856),s.e(5130),s.e(9829),s.e(2240),s.e(3745)]).then(s.bind(s,46317)).then((t=>t.default(e.engine)))}),new We.GL({symbol:$e.D.PanoTiles,callback:()=>Promise.all([s.e(2026),s.e(1856),s.e(5130),s.e(9829),s.e(2240),s.e(3745)]).then(s.bind(s,2942)).then((t=>t.default(e.engine)))}),new We.GL({symbol:$e.D.Raycaster,callback:()=>Promise.all([s.e(2026),s.e(1856),s.e(5130),s.e(9829),s.e(2240),s.e(3745)]).then(s.bind(s,12655)).then((t=>t.default(e.engine)))}),new We.GL({symbol:$e.D.Snapping,callback:()=>Promise.all([s.e(2026),s.e(1856),s.e(5130),s.e(9829),s.e(2240),s.e(3745)]).then(s.bind(s,9831)).then((t=>t.default(e.engine)))}),new We.GL({symbol:$e.D.Tours,callback:()=>Promise.all([s.e(2026),s.e(1856),s.e(5130),s.e(9829),s.e(2240),s.e(3745)]).then(s.bind(s,34547)).then((t=>t.default(e.engine)))}),new We.GL({symbol:$e.D.WebGLRenderer,callback:()=>Promise.all([s.e(2026),s.e(1856),s.e(5130),s.e(9829),s.e(2240),s.e(3745)]).then(s.bind(s,33796)).then((t=>t.default(e.engine)))})),e.urlValues.tiledmesh&&t.push(new We.GL({symbol:$e.D.StreamingMesh,callback:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(1856),s.e(3232),s.e(6168),s.e(2240),s.e(2276)]).then(s.bind(s,31441)).then((t=>t.default(e.engine)))}),new We.GL({symbol:$e.D.StreamingTexture,callback:()=>Promise.all([s.e(8287),s.e(1916),s.e(265),s.e(1856),s.e(3232),s.e(6168),s.e(2240),s.e(2276)]).then(s.bind(s,12850)).then((t=>t.default(e.engine)))})),t.forEach((t=>e.messageBus.broadcast(t))),(0,ze.Sh)((()=>null),(()=>t.forEach((t=>e.messageBus.broadcast(new We.nt(t.payload))))))}({engine:this.engine,messageBus:this.engine.msgBus,urlValues:this.overrideParams})),r}async loadWaitingModules(e){var t,n;const[r,o]=await Promise.all([this.engine.getModuleBySymbol(U.ZF),this.engine.getModuleBySymbol(j.qL)]),a=o.getApi(),l=await a.user;zi.info("Showcase app version: 26.1.3_webgl-190-ge117742b46"),this.canvas=document.createElement("canvas"),this.canvas.className="webgl-canvas";const c=parseInt(this.overrideParams.log,10);this.overrideParams.hasOwnProperty("log")&&!isNaN(c)&&(i.Vy.level=c),this.quickstart&&zi.info("Quickstart engaged. Hold on to your knickers. "+performance.now()),this.engine.loadModuleBySymbol({type:j.Z7,config:{element:this.container}}),this.engine.loadModuleBySymbol({type:j.gS,config:{isLoggedIn:l.loggedIn,queue:this.apiQueue}}).then((e=>{e.loadMessages((async e=>await s(86970)(`./showcase_${e}.yaml`)))})),this.engine.loadModuleBySymbol({type:W.bW,config:{apiHost:this.apiHost,container:this.container}}),this.engine.loadModuleBySymbol({type:j.Ll,config:{container:this.container}}),this.apiConfig=await a.getConfigs("showcase");const u=this.overrideParams.apq;this.mdsContext.apqEnabled=!0===this.apiConfig.apollo_apq?"0"!==u:"1"===u;const d=await async function(e){var t,n,i,r,o,s;const a={initialViewId:e.initialModelSid,rootModelId:e.initialModelSid,caches:[]};let l=q.G.PRELOAD;const c=e.overrideParams.prefetch;c&&Object.values(q.G).includes(c)&&(l=c);const u=new Y.B({baseUrl:e.baseUrl,prefetchPolicy:l,initialData:K.P.getQuery("GetRootPrefetch"),query:z.GetRootPrefetch,variables:{modelId:e.initialModelSid,view:"root",sweepTags:e.inWorkshop?null:void 0},mdsContext:e.mdsContext,anonymous:!0}),d=new Y.B({baseUrl:e.baseUrl,prefetchPolicy:l,initialData:K.P.getQuery("GetModelPrefetch"),query:z.GetModelPrefetch,variables:{modelId:e.initialModelSid,view:"default",sweepTags:e.inWorkshop?null:void 0},mdsContext:e.mdsContext,anonymous:!0}),h=new Y.B({baseUrl:e.baseUrl,prefetchPolicy:l,initialData:K.P.getQuery("GetRoomClassifications"),query:$.GetRoomClassifications,variables:{},mdsContext:e.mdsContext,anonymous:!0});if(a.caches.push(u,d,h),l===q.G.NONE)return a;const p=await Promise.all([u.initialLoadPromise,d.initialLoadPromise,h.initialLoadPromise]);return a.rootModelId=(null===(i=null===(n=null===(t=p[0])||void 0===t?void 0:t.data)||void 0===n?void 0:n.model)||void 0===i?void 0:i.id)||a.rootModelId,a.initialViewId=(null===(s=null===(o=null===(r=p[1])||void 0===r?void 0:r.data)||void 0===o?void 0:o.model)||void 0===s?void 0:s.id)||a.initialViewId,Q.debug({result:a,data:p}),a}({anonymous:!0,baseUrl:this.apiHost,initialModelSid:this.initialModelSid,inWorkshop:this.inWorkshop,mdsContext:this.mdsContext,overrideParams:this.overrideParams});d.caches.forEach((e=>{this.prefetchCaches.push(e),this.mdsContext.sharedCaches.add(e)})),this.initialViewId=d.initialViewId,this.baseModelId=d.rootModelId;const h=this.overrideParams.applicationKey||this.settingOverrides.applicationKey;await this.startAuthAndPolicyModules(a,l.loggedIn,h),this.engine.loadModuleBySymbol({type:j.Qm});const p=!!(this.settingOverrides&&this.settingOverrides.hasOwnProperty("useEffectComposer")||"1"===this.overrideParams.useEffectComposer)&&!!this.settingOverrides.useEffectComposer,f=!!(this.settingOverrides&&this.settingOverrides.hasOwnProperty("logarithmicDepthBuffer")||"1"===this.overrideParams.logarithmicDepthBuffer)&&!!this.settingOverrides.logarithmicDepthBuffer;this.engine.loadModuleBySymbol({type:j.M7,config:{canvas:this.canvas,antialias:"1"===this.overrideParams.aa,logarithmicDepthBuffer:f,useEffectComposer:p}}),this.engine.loadModuleBySymbol({type:j.jh});const m=this.container.querySelector("#canvas-container");this.engine.loadModuleBySymbol({type:j.CE,config:{canvas:this.canvas,container:m}}),this.engine.loadModuleBySymbol({type:j.TV}),this.engine.loadModuleBySymbol({type:j.J$});const g=await this.engine.getModuleBySymbol(j.M7);this.engineTick=new D(this.engine,g.threeRenderer,(e=>{this.engine.getModuleBySymbol(W.bW).then((t=>{this.setError(e),t.showError(J.b.GENERIC)}))})),this.setupOEmbedConsumer(this.settingOverrides.embedlyKey),this.engine.loadModuleBySymbol({type:W._r,config:{notificationDelayFrames:60}});const{settingsData:v}=r;this.openingTool=(0,oe.X)(v),this.forceLogin=this.openingTool===le.S0.NOTES&&!l.loggedIn&&!(0,x.al)();let y=this.editModePreferred;y&&this.forceLogin&&(zi.warn("Cannot start in edit mode. Need to login to view note."),y=!1);const E={[Ne.Oe]:null,quickstart:this.quickstart,lang:this.overrideParams.lang,perf:this.overrideParams.perf,perfInterval:this.overrideParams.perfInterval,[Ge.k5]:(null===(t=this.apiConfig)||void 0===t?void 0:t.discover_space_url)||""};for(const e in E)r.updateSetting(e,E[e]);if(this.settingOverrides)for(const e in this.settingOverrides)r.updateSetting(e,this.settingOverrides[e]);const S=new de(this.apiConfig),b=null!==(n=null==S?void 0:S.serialize())&&void 0!==n?n:[];this.loadInitialAppModules(b,g);const _=await this.engine.market.waitForData(ct.L),{baseModelId:O,layersData:T}=await this.loadViewsAndStorage(this.initialViewId,{isLoggedIn:l.loggedIn});this.baseModelId=O,this.shouldShowCompare(e,T)&&(this.engine.loadModuleBySymbol({type:j.xV}),this.engine.loadModuleBySymbol({type:j.sc})),await this.engine.loadModuleBySymbol({type:j.SH,config:{baseUrl:this.modelUrls.urlBase,api:a,viewId:this.initialViewId,queue:this.apiQueue,mdsContext:this.mdsContext}}),this.forceLogin&&this.openingTool===le.S0.NOTES&&await this.loginToNote(this.initialViewId),r.hasSetting(me.vg)||r.updateSetting(me.vg,this.apiConfig.embedly_key),this.loadInitialDataModules(e,y),this.engine.commandBinder.hookCommand(Re.aj,!0,(()=>this.stopTourHook(this.engine))),this.engine.commandBinder.hookCommand(Ie.S2,!0,(()=>this.stopTourHook(this.engine)));const A=this.container.querySelector("main")||document.body;return this.loadPluginModules(v,_,A,y),{editMode:y,ab:S}}async loadPreplayModules(e,t){const[n,i,r]=await Promise.all([this.engine.market.waitForData(Z.q),this.engine.market.waitForData(De.G),this.engine.getModuleBySymbol(U.ZF)]);this.engine.loadModuleBySymbol({type:j.UN,config:{calculateTrimmedBounds:!0}});const{details:o}=n.model;this.container.getRootNode()instanceof ShadowRoot||(document.title=o.name),this.canvas.setAttribute("aria-label",o.name);const s=i.getStartingPose();!this.quickstart||s&&(0,se.vy)(s.mode)||(zi.warn("Disabling quickstart. No panorama start position."),this.quickstart=!1,r.updateSetting("quickstart",!1)),this.sceneLoader.setLoader((async()=>{var e;const t=await this.engine.loadModuleBySymbol({type:j.KT});return"1"===(null!==(e=this.overrideParams.loadExamples)&&void 0!==e?e:"1")&&await(0,dt.q)(),t.startLoading(),t})),await this.engine.loadModuleBySymbol({type:j.qD}),await this.engine.loadModuleBySymbol({type:j.iV}),this.quickstart&&(this.loadPanoControls(e,t),this.engineTick.start())}async loadHighPriorityPlayModules(e,t){this.canvas.setAttribute("tabIndex","0");const[n,i,r]=await Promise.all([this.engine.market.waitForData(De.G),this.engine.getModuleBySymbol(j.M7),this.engine.getModuleBySymbol(U.ZF)]),o=n.getStartingPose();this.engine.loadModuleBySymbol({type:j.X$,config:{container:this.container}});const s=function(e,{dracoDecoderPath:t,basisTranscoderPath:n}){let i="vendors/three/0.176.0/";return!/^https?:\/\//.test("vendors/three/0.176.0/")&&(i=`${e}vendors/three/0.176.0/`),{dracoDecoderPath:t||`${i}libs/draco/gltf/`,basisTranscoderPath:n||`${i}libs/basis/`}}(this.assetBasePath,{dracoDecoderPath:this.settingOverrides.dracoDecoderPath,basisTranscoderPath:this.settingOverrides.basisTranscoderPath});r.updateSetting("dracoDecoderPath",s.dracoDecoderPath),this.engine.loadModuleBySymbol({type:j.GR,config:{startingMode:this.quickstart?o.mode:null,textureLOD:pe.R.RAYCAST,colorizeRooms:"1"===this.overrideParams.colorizeRooms,colorizeChunks:"1"===this.overrideParams.colorizeChunks,wireframe:"1"===this.overrideParams.wireframe,gltfConfig:s}}),this.engine.loadModuleBySymbol({type:j.fO,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue}});const{maxMeshTextureQuality:a,textureLODThreshold:l}=(e=>{let t,n;return(0,x.Fr)()?(0,x.Fr)()&&e?(t=we.M.ULTRA,n=10):(t=we.M.MEDIUM,n=6):(t=we.M.ULTRA,n=20),{maxMeshTextureQuality:t,textureLODThreshold:n}})(i.isHighPerformanceMobileGPU());zi.info({maxMeshTextureQuality:a,textureLODThreshold:l,gpuInfo:i.gpuInfo}),this.engine.loadModuleBySymbol({type:W.L8,config:{maxQuality:a,textureLOD:pe.R.RAYCAST,textureLODThreshold:l}}),this.engine.loadModuleBySymbol({type:j.yT}),this.engine.loadModuleBySymbol({type:j.SD,config:{startingMode:this.quickstart?o.mode:null}}),this.engine.loadModuleBySymbol({type:j.PD,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:j.HX,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:j.QW,config:{startingFloorsVisibility:this.quickstart?o.floorVisibility:void 0,allowFloorChanges:e.Features[Oe.p]}}),this.engine.loadModuleBySymbol({type:j.kM});const c=this.container.querySelector("#app-container"),u=this.container.querySelector("main")||document.body,d=this.container.querySelector("#react-render-root")||document.body;this.engine.loadModuleBySymbol({type:j.nu,config:{workshopApp:this.inWorkshop,container:c,mainDiv:u,reactContainer:d,queue:this.apiQueue,apiHost:this.apiHost}});const h=await this.engine.getModuleBySymbol(j.az);this.engine.loadModuleBySymbol({type:j.N7,config:{registerConfirmViewChange:e=>h.registerConfirmViewChange(e)}}),this.engine.loadModuleBySymbol({type:W.uH}),this.engine.loadModuleBySymbol({type:j.pR}),this.engine.loadModuleBySymbol({type:j.zj}),this.engine.loadModuleBySymbol({type:j._q,config:{allowRotation:!1}}),this.engine.loadModuleBySymbol({type:j.et,config:{enabled:"1"!==this.overrideParams.nozoom}}),this.engine.loadModuleBySymbol({type:W.T6}),this.engine.loadModuleBySymbol({type:j.Kv,config:{raycastNeighbors:e.Features[Gi.R],enableWheel:"1"===this.overrideParams.nozoom,doubleClickToGoInside:!0}}),this.engine.loadModuleBySymbol({type:j.PM}),this.engine.loadModuleBySymbol({type:j.Xx}),this.engine.loadModuleBySymbol({type:j.Ne}),this.engine.loadModuleBySymbol({type:W.ur});await this.isExteriorSplatEnabled()&&this.engine.loadModuleBySymbol({type:j.Fn}),this.quickstart||(this.engineTick.start(),this.loadPanoControls(e,t))}async loadLowPriorityPlayModules(e){var t,n;const[i,r,o,s,a]=await Promise.all([this.engine.getModuleBySymbol(U.ZF),this.engine.market.waitForData(ct.L),this.engine.getModuleBySymbol(j.qL),this.engine.market.waitForData(lt.E),this.engine.market.waitForData(F.o)]);this.engine.loadModuleBySymbol({type:j.wY}),"0"!==this.overrideParams.portal&&(this.engine.loadModuleBySymbol({type:j.f0}),this.engine.loadModuleBySymbol({type:j.co})),this.engine.loadModuleBySymbol({type:j.gk,config:{showPinsInFloorplanDollhouse:"0"!==this.overrideParams.pin}}),this.engine.loadModuleBySymbol({type:j.LG}),this.engine.loadModuleBySymbol({type:j.se,config:{compare:!1,checkRenderModes:()=>{const e=this.engine.market.tryGetData(ie.R);if(e&&e.isTourActive())return!1;const t=this.engine.market.tryGetData(ae.X);return!!t&&t.isInside()}}}),this.engine.loadModuleBySymbol({type:j.Qj}),this.engine.loadModuleBySymbol({type:j.aU,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:j.FI});const l=i.getSetting(ve.Jr);this.engine.loadModuleBySymbol({type:j.kd,config:{tagIconsEnabled:l}}),this.engine.loadModuleBySymbol({type:j.Et}),this.engine.loadModuleBySymbol({type:j.qy,config:{oEmbedConsumer:this.oEmbedConsumer,baseUrl:this.modelUrls.urlBase}});const c=await o.getApi().user,u=c.getFlags("showcase/");!async function(e,t,n,i,r,o,s,a){const l=t.subscriber_prompt_denylist||Ue.Z1.domainDenylist,{popupAllowed:c,bannerAllowed:u}=await Be({urlValues:n,settingsData:e.settingsData,flags:i,loggedIn:r,inWorkshop:s,hasPolicy:o.hasPolicy.bind(o),domainDenylist:l});if(He.r.debug(`popupAllowed: ${c}, bannerAllowed: ${u}`),c||u){e.updateSetting(Ue.nt,!0);const i=c&&("1"===n[Ue.x$.forcePopup]||!!a.get("subscriber_prompt_a_popup")),r=u||"1"===n[Ue.x$.forceBanner],o=t.subscriber_prompt_a_delay_ms||Ue.Z1.popupDelay;He.r.debug(`popupEnabled: ${i}, bannerEnabled: ${r}`),e.registerSetting("Subscriber Prompt",Ue.An,{popupDelay:o,popupEnabled:i,bannerEnabled:r},!1,G.u.NONE)}}(i,this.apiConfig,this.overrideParams,u,c.loggedIn,r,this.inWorkshop,e);const d=this.overrideParams.stories,h="1"===d||"0"!==d&&r.hasPolicy(re.bp);i.updateSetting(re.AI,h),this.engine.getModuleBySymbol(j.aF).then((e=>{e.trackFeatures(`${re.nn}:${h}`),(0,ht.n3)(e,r)})),this.engine.loadModuleBySymbol({type:j.XQ,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,storyToursFeature:h,looping:"1"===this.overrideParams.lp,queue:this.storeQueue,baseModelId:this.initialViewId,defurnishToursFeature:"0"!==this.overrideParams.tour_defurnish}});const p=(0,ft.FZ)(c,s,r,a);this.engine.loadModuleBySymbol({type:j.lN,config:{objectTagsEnabled:p}}),this.engine.loadModuleBySymbol({type:j.cy,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase}}),this.loadUserDependentModules(c.loggedIn,a,r,u),this.engine.loadModuleBySymbol({type:j.yR,config:{debug:"1"===this.overrideParams.fcdbg}}),this.engine.loadModuleBySymbol({type:j.ZF}),this.engine.loadModuleBySymbol({type:j.N9,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,objectTagsEnabled:p,inferMeshIds:!0,parserOptions:{supportLinks:!this.overrideParams.mls||"0"===this.overrideParams.mls,keepLinkLabels:!0}}}),this.engine.loadModuleBySymbol({type:j.Np}),this.engine.loadModuleBySymbol({type:j.Xf}),this.engine.loadModuleBySymbol({type:j.Tx}),this.engine.loadModuleBySymbol({type:j.ep}),this.engine.loadModuleBySymbol({type:j.zX}),this.engine.loadModuleBySymbol({type:j._v}),this.engine.loadModuleBySymbol({type:j.He,config:{baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:X.r}),this.engine.loadModuleBySymbol({type:W.bw}),this.engine.loadModuleBySymbol({type:j.rA}),this.engine.loadModuleBySymbol({type:j.PJ}),this.engine.loadModuleBySymbol({type:j.tQ}),this.engine.loadModuleBySymbol({type:j.zy,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}});const f=i.getSetting(Bi);this.engine.loadModuleBySymbol({type:j.AO,config:{disableHlrRoomnames:f}}),this.engine.loadModuleBySymbol({type:j.Yr}),u.has(Vi.e)&&this.engine.loadModuleBySymbol({type:j.JN});const{q:m,qK:g,qF:v}=this.overrideParams;if(this.engine.loadModuleBySymbol({type:j.Yj,config:{urlQuery:m||((0,x.w2)()?"":m),urlQueryKeywords:g,urlQueryFilters:v,workshop:this.inWorkshop}}),p){const e=this.overrideParams.minConfidence?(0,V.qE)(parseFloat(this.overrideParams.minConfidence),.01,1):void 0;this.engine.loadModuleBySymbol({type:j.gy,config:{baseUrl:this.modelUrls.urlBase,minConfidence:e}})}const y=i.getSetting(Ve.F7);this.engine.loadModuleBySymbol({type:j.YC,config:{framebufferScaling:Math.min(this.overrideParams.xrframebuffer?parseFloat(this.overrideParams.xrframebuffer):0,1),webxr:null!==(t=this.overrideParams.webxr)&&void 0!==t?t:"mono",xrBrowsersUnlocked:y,xrHandTracking:"1"===this.overrideParams["xr.hands"],xrMesh:"1"===this.overrideParams["xr.mesh"],xrDebug:"1"===this.overrideParams["xr.debug"]}});if(i.getSetting(xe.n)){const e=i.getSetting(xe.s);this.engine.loadModuleBySymbol({type:j.QS,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue,promptEnabled:e,debug:"1"===this.overrideParams.modelRatingDebug}})}await this.isRoomBoundsEnabled()&&(this.engine.loadModuleBySymbol({type:j.A5}),this.engine.loadModuleBySymbol({type:j.rz})),this.engine.loadModuleBySymbol({type:j.eE}),this.engine.loadModuleBySymbol({type:j.kG}),this.engine.loadModuleBySymbol({type:j.uq,config:{debug:"1"===this.overrideParams.toolAnnouncementDebug}}),(0,ji.W)(r)&&this.engine.loadModuleBySymbol({type:j.Gw,config:{baseUrl:this.apiHost,importerVersion:null!==(n=this.apiConfig.autotours_importer_version)&&void 0!==n?n:"unknown_version"}})}async isRoomBoundsEnabled(){const[e,t]=await Promise.all([this.engine.market.waitForData(ct.L),this.engine.market.waitForData(F.o)]);return await this.engine.getModuleBySymbol(W.K4),(0,pt.m2)(e,t,this.inWorkshop)}async isExteriorSplatEnabled(){return(await this.engine.getModuleBySymbol(j.$q)).hasSplats()}async waitForSplatModuleIfNecessary(){await this.isExteriorSplatEnabled()&&await(await this.engine.getModuleBySymbol(j.Fn)).waitForLoad()}setInitialSettings(e,t,n){const i=e.getFlags("showcase/"),r=(0,Ae.A0)(parseFloat(this.overrideParams.wts)),{labels:o,mt:s,allowRating:a,tiledmesh:l,tagIcons:c}=this.overrideParams,u=i.has(Ee.Z),d=(0,Ce.B)(navigator.language),h=i.has(xe.n)?"0"!==a:"1"===a,p=this.inWorkshop&&e.loggedIn&&h,f=p&&i.has(xe.s)?"0"!==a:"1"===a,m=i.has(ve.Jr)?"0"!==c:"1"===c,g=i.has(fe.sz)?"0"!==l:"1"===l,v="0"===this.overrideParams.ad,y=i.has(Ve.F7)?"0"!==this.overrideParams[Ve.RN]:"1"===this.overrideParams[Ve.RN],E=null!=this.overrideParams.showCeilings?"1"===this.overrideParams.showCeilings:i.has(vt.VS),S=null!=this.overrideParams.raycastNeighbors?"1"===this.overrideParams.raycastNeighbors:i.has(Gi.R),b=i.has(vt.AU),_=i.has(Wi.G),O={Features:{[be.f]:!0,[Se.s]:!0,[fe.sz]:g,[je.cB]:!v,[ge.RP]:"0"!==o,[me.qE]:"0"!==s,[Oe.p]:"0"!==this.overrideParams.f,[_e._V]:r,[Ee.Z]:u,[Ye.e]:!1,[Ye.n]:!1,[xe.n]:p,[xe.s]:f,[Bi]:null!=this.overrideParams.snapshotRoomNames?"0"===this.overrideParams.snapshotRoomNames:i.has(Bi),[Ue.nt]:!1,[ve.Jr]:m,[ve.GK]:!0,[ve.AM]:!0,[vt.VS]:E,[vt.AU]:b,[Gi.R]:S,[Ve.F7]:y,[Te.$]:"0"!==this.overrideParams[Te.d],[Wi.G]:_},"User Preferences":{[H.Y.UnitType]:d,[H.Y.MeasurementSnapping]:!0,[H.Y.MeasurementContinuousLines]:!0,[H.Y.MeasurementUserNudgeSeen]:!1,[H.Y.DollhouseUserNudgeSeen]:!1,[H.Y.NotesModeNudgeSeen]:!1,[H.Y.LastRatingPromptTime]:null,[H.Y.SubscriberPromptDismissed]:!1,[H.Y.TourTextNudgeDismissed]:!1,[H.Y.TourMobileNavigationPromptSeen]:!1}};for(const e in O)for(const n in O[e]){if(void 0===O[e][n])continue;const i="User Preferences"===e?G.u.LOCAL_STORAGE:G.u.NONE;t.registerSetting(e,n,O[e][n],!0,i)}return t.updateSetting("assetBasePath",this.assetBasePath),O}setPluginPolicySettings(e,t){var n;const i={enabled:t.hasPolicy(ut.XX),canConfig:t.hasPolicy(ut.p_),canDebug:t.hasPolicy(ut._x),groups:(null===(n=t.getPolicy(ut.eV))||void 0===n?void 0:n.options)||[]};return e.setSetting(ut.p_,i.canConfig&&i.enabled),e.setSetting(ut.XX,i.enabled),i}loadUserDependentModules(e,t,n,i){this.engine.market.waitForData(lt.E).then((r=>{(0,ye.uV)(e,n,r,t,i)&&this.engine.loadModuleBySymbol({type:j.TN,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase,readonly:!1}})}))}async unload(e){var t;this.prefetchCaches.forEach((e=>this.mdsContext.sharedCaches.delete(e))),this.prefetchCaches.length=0;try{const t=await e.getModuleBySymbol(j.Xf);await t.stopTour()}catch(e){zi.debug("showcase unload called before tour controls registered, ignoring stopTour",e)}await this.uiLoading,await(null===(t=this.showcaseGui)||void 0===t?void 0:t.unloadUi().catch((e=>{zi.error(e)}))),e.commandBinder.resetHooks(),this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}async loginToModel(e,t){zi.info(`Loading model view: ${e}`);const n=this.forceLogin;await t.modelExists(e,{ignorePrefetch:n}).catch((async t=>{if(n&&(t instanceof ke._W||t instanceof ke.ZT))await this.showLoginScreen(e);else{if(!(t instanceof ke._W))throw t;await this.login()}}))}async loginToNote(e){this.forceLogin&&await this.showLoginScreen(e)}loadInitialAppModules(e,t){this.engine.loadModuleBySymbol({type:j.sA}),this.engine.loadModuleBySymbol({type:j.mL,config:{disableWheel:"0"===this.overrideParams.wh,pointerPreventDefault:!this.settingOverrides||!this.settingOverrides.hasOwnProperty("pointerPreventDefault")||!!this.settingOverrides.pointerPreventDefault,rootNode:this.container.getRootNode()}}),this.engine.getModuleBySymbol(j.aF).then((n=>{n.setOptions({gpu:t.gpuInfo}),n.trackFeatures(...e,`${ve.jh}:true`)}))}async loadViewsAndStorage(e,{isLoggedIn:t=!1}){await this.engine.loadModuleBySymbol({type:j.az,config:{viewId:e,baseUrl:this.apiHost,readonly:!0,inWorkshop:this.inWorkshop,modulesLoadedPromise:this.modulesLoadedPromise,mdsContext:this.mdsContext,isLoggedIn:t}});const n=await this.engine.market.waitForData(te.P),i=n.getBaseModelId();return this.engine.loadModuleBySymbol({type:j.T9,config:{baseUrl:this.apiHost,mdsContext:this.mdsContext}}),{baseModelId:i,layersData:n}}async loadAnalytics(){this.engine.loadModuleBySymbol({type:j.aF}),this.engine.loadModuleBySymbol({type:j.$c,config:{appName:this.settingOverrides&&this.settingOverrides.appName||"showcase",provider:this.overrideParams.analytics,apiQueue:this.apiQueue,analyticsQueue:this.analyticsQueue,overrideParams:this.overrideParams}})}loadInitialDataModules(e,t){this.engine.loadModuleBySymbol({type:W.K4,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:j.bj,config:{baseUrl:this.modelUrls.urlBase,readonly:!this.inWorkshop}}),this.engine.loadModuleBySymbol({type:j.vj,config:{enableCostarLogos:!0}});const n=this.settingOverrides.disableMobileRedirect,i=!!this.openingTool||void 0,r=!!this.openingTool||void 0,o=!!this.openingTool||void 0;this.engine.loadModuleBySymbol({type:W.XT,config:{disabled:this.forceLogin,openingTool:!!this.openingTool,viewId:this.initialViewId,baseUrl:this.modelUrls.urlBase,quickstart:this.quickstart,editMode:t,allowPlayInIframe:!!n||"1"===this.overrideParams.playsInline,allowAutoPlay:!!n,hideTitle:r,hideBranding:o,hidePoweredBy:i}}),this.engine.loadModuleBySymbol({type:j.Pn,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,initialViewId:this.initialViewId,readonly:!0}}),this.engine.loadModuleBySymbol({type:j.Wh,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:j.di,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:j.Vu,config:{baseUrl:this.modelUrls.urlBase,readonly:!this.inWorkshop,requestQueue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:j.$q,config:{splatsLocation:"published"}})}loadPanoControls(e,t){this.uiLoading=this.loadUI(e,!(t||this.forceLogin)),this.engine.loadModuleBySymbol({type:j.X7}),this.engine.loadModuleBySymbol({type:j.TY})}async loadSdkModule(e){const t=this.overrideParams.applicationKey||this.settingOverrides.applicationKey,n=this.engine,r=this.assetBasePath,o=(K.P.sdkMetadata,this.overrideParams.sdkVersion),a=this.inWorkshop;let l;!function(e){e.WEBGL="webgl",e.WEBGL_ALL="webgl-all"}(l||(l={}));const c=async function(){return o===l.WEBGL||o===l.WEBGL_ALL?ee(o===l.WEBGL_ALL):function(e,t){const n={client:`${e}sdk/sdk-client.js`,interfaces:[`${e}sdk/sdk-interface.js`],sandbox:`${e}sdk/sandbox.html`};return t&&n.interfaces.push(`${e}sdk/edit-interface.js`),n}(r,a)}(),u={scene:this.sceneLoader};n.loadModuleBySymbol({type:U.S1,config:{applicationKey:t||"NO_APPLICATION_KEY_SUPPLIED",validationUrl:this.apiHost+"/api/v1/user/",getSdkConfig:c,setupExternalSdk:async e=>{const r=await Promise.resolve().then(s.bind(s,92089));await r.loadInterface(e,n,await c,u,await this.oEmbedConsumer,i.Vy.level,t||"",this.apiHost,this.jsonSchemaValidator)},queue:this.apiQueue,validateProvider:e=>this.validateSdkProvider(e)}})}async loadUI(e,t){const n=(await this.engine.getModuleBySymbol(j.az)).layersData;let i=W.uH;return this.shouldShowCompare(e,n)&&(i=j.sc),Promise.all([this.engine.getModuleBySymbol(j.nu),this.engine.getModuleBySymbol(i)]).then((([e,n])=>{this.guiModule=e,this.showcaseGui=n,t&&e.loadUi(n.loadUi)}))}shouldShowCompare(e,t){return!!e.Features[Te.$]&&(null==t?void 0:t.getCurrentView().isCompareView())}async startAuthAndPolicyModules(e,t,n){this.loadSdkModule(e);const i=!!n,r=i?await this.doSdkAuth(n):{accepted:Promise.resolve()};if(r.token){Le.u.setToken(r.token);try{await e.modelExists(this.initialViewId,{ignorePrefetch:!0})}catch(e){throw zi.error(e),this.setError(e),e}}else try{await this.loginToModel(this.initialViewId,e)}catch(e){throw this.setError(e),e}if(await this.engine.loadModuleBySymbol({type:j.Uu,config:{baseUrl:this.modelUrls.urlBase,viewId:this.initialViewId,mdsContext:this.mdsContext,isLoggedIn:t}}),i)try{await r.accepted}catch(e){return void this.setError(Error("invalid provider specified"))}}async doSdkAuth(e){const t=this.engine,n=await t.getModuleBySymbol(j.Ll);n.show();const i=await t.getModuleBySymbol(U.S1),r=await i.getClientAuth(e);return n.hide(),r}async validateSdkProvider(e){const t=!!(await this.engine.market.waitForData(ct.L)).getPolicy(mt),n=gt.get(e)===mt;return!e||!n||t&&n}async showLoginScreen(e){var t,n;return(await this.engine.loadModuleBySymbol({type:j.Vc,config:{loginUrl:(null===(t=this.apiConfig)||void 0===t?void 0:t.authn_login_url)||"",registerUrl:(null===(n=this.apiConfig)||void 0===n?void 0:n.account_register_url)||"",modelId:e,baseUrl:this.modelUrls.urlBase,container:this.container}})).loadUi()}login(){return new Promise((async e=>{const t=await this.engine.loadModuleBySymbol({type:W.q0,config:{modelId:this.initialViewId,baseUrl:this.modelUrls.urlBase,container:this.container}});this.engine.subscribe(ne.l,(()=>{t.hidePasswordScreen(),e()})),t.showPasswordScreen()}))}setupOEmbedConsumer(e){const t={embedlyKey:e||this.apiConfig.embedly_key,instagramAppId:this.apiConfig.instagram_app_id,instagramClientToken:this.apiConfig.instagram_client_token,googleMapsApiKey:this.apiConfig.google_maps_key};this.oEmbedDeferred.resolve(new at(this.apiQueue,t))}async loadPluginModules(e,t,n,i){0}}var Ki=s(30877);window.addEventListener("app-start",(e=>{var t,i;const r=function(e){const t=new I;t.diContainer.bindConstant(k.L0,new n.i),t.diContainer.bindConstant(k.aX,new n.i);const i=new $i(!1,e);t.loadApplication(i,i.setError.bind(i));const r=function(e){class t{constructor(e){this.windowContext=e,this.connectedPromise=new Promise((e=>{this.connectedPromiseResolve=e}))}async connect(...[,t={}]){const n=await e.getModuleBySymbol(U.S1),i=Ki.p.connect(new Yi(n,t),new qi,this.windowContext);return i.then((e=>this.connectedPromiseResolve(e))),i}}let n=window;window!==window.top&&(n=window.parent);window.opener&&(n=window.opener);const i=new t(n);return window.MP_SDK=i,i}(t);return{engine:t,showcase:i,sdkBoostrap:r}}(e.detail.config||{});null===(i=(t=e.detail).onStart)||void 0===i||i.call(t,{dispose:()=>{r.engine.dispose(),r.showcase.stop(),r.showcase.unload(r.engine)}}),r.sdkBoostrap.connectedPromise.then((t=>{var n,i;null===(i=(n=e.detail).onSdkConnected)||void 0===i||i.call(n,{mpSdk:t})}))}),!0);class Yi{constructor(e,t){this.sdk=e,this.options=t}connect(){return this.sdk.connect(`${window.location.protocol}//${window.location.host}`,this.options)}cancelConnecting(){}}class qi{getFactory(e){return e.messengerFactory}}})()})();